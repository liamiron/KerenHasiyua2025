(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();function wV(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lm={exports:{}},dh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function xV(){if(rC)return dh;rC=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,n){var o=null;if(n!==void 0&&(o=""+n),s.key!==void 0&&(o=""+s.key),"key"in s){n={};for(var h in s)h!=="key"&&(n[h]=s[h])}else n=s;return s=n.ref,{$$typeof:r,type:i,key:o,ref:s!==void 0?s:null,props:n}}return dh.Fragment=e,dh.jsx=t,dh.jsxs=t,dh}var nC;function VV(){return nC||(nC=1,lm.exports=xV()),lm.exports}var an=VV(),um={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function SV(){if(aC)return At;aC=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),n=Symbol.for("react.consumer"),o=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(Q){return Q===null||typeof Q!="object"?null:(Q=y&&Q[y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,P={};function D(Q,ge,Ae){this.props=Q,this.context=ge,this.refs=P,this.updater=Ae||w}D.prototype.isReactComponent={},D.prototype.setState=function(Q,ge){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ge,"setState")},D.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function L(){}L.prototype=D.prototype;function W(Q,ge,Ae){this.props=Q,this.context=ge,this.refs=P,this.updater=Ae||w}var H=W.prototype=new L;H.constructor=W,T(H,D.prototype),H.isPureReactComponent=!0;var ee=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function K(Q,ge,Ae,Pe,qe,it){return Ae=it.ref,{$$typeof:r,type:Q,key:ge,ref:Ae!==void 0?Ae:null,props:it}}function pe(Q,ge){return K(Q.type,ge,void 0,void 0,void 0,Q.props)}function Ce(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===r}function we(Q){var ge={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Ae){return ge[Ae]})}var xe=/\/+/g;function Re(Q,ge){return typeof Q=="object"&&Q!==null&&Q.key!=null?we(""+Q.key):ge.toString(36)}function ce(){}function ke(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(ce,ce):(Q.status="pending",Q.then(function(ge){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ge)},function(ge){Q.status==="pending"&&(Q.status="rejected",Q.reason=ge)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function Ne(Q,ge,Ae,Pe,qe){var it=typeof Q;(it==="undefined"||it==="boolean")&&(Q=null);var Fe=!1;if(Q===null)Fe=!0;else switch(it){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(Q.$$typeof){case r:case e:Fe=!0;break;case p:return Fe=Q._init,Ne(Fe(Q._payload),ge,Ae,Pe,qe)}}if(Fe)return qe=qe(Q),Fe=Pe===""?"."+Re(Q,0):Pe,ee(qe)?(Ae="",Fe!=null&&(Ae=Fe.replace(xe,"$&/")+"/"),Ne(qe,ge,Ae,"",function(ui){return ui})):qe!=null&&(Ce(qe)&&(qe=pe(qe,Ae+(qe.key==null||Q&&Q.key===qe.key?"":(""+qe.key).replace(xe,"$&/")+"/")+Fe)),ge.push(qe)),1;Fe=0;var Vt=Pe===""?".":Pe+":";if(ee(Q))for(var Be=0;Be<Q.length;Be++)Pe=Q[Be],it=Vt+Re(Pe,Be),Fe+=Ne(Pe,ge,Ae,it,qe);else if(Be=b(Q),typeof Be=="function")for(Q=Be.call(Q),Be=0;!(Pe=Q.next()).done;)Pe=Pe.value,it=Vt+Re(Pe,Be++),Fe+=Ne(Pe,ge,Ae,it,qe);else if(it==="object"){if(typeof Q.then=="function")return Ne(ke(Q),ge,Ae,Pe,qe);throw ge=String(Q),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function _(Q,ge,Ae){if(Q==null)return Q;var Pe=[],qe=0;return Ne(Q,Pe,"","",function(it){return ge.call(Ae,it,qe++)}),Pe}function ae(Q){if(Q._status===-1){var ge=Q._result;ge=ge(),ge.then(function(Ae){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Ae)},function(Ae){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Ae)}),Q._status===-1&&(Q._status=0,Q._result=ge)}if(Q._status===1)return Q._result.default;throw Q._result}var Me=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function Ke(){}return At.Children={map:_,forEach:function(Q,ge,Ae){_(Q,function(){ge.apply(this,arguments)},Ae)},count:function(Q){var ge=0;return _(Q,function(){ge++}),ge},toArray:function(Q){return _(Q,function(ge){return ge})||[]},only:function(Q){if(!Ce(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},At.Component=D,At.Fragment=t,At.Profiler=s,At.PureComponent=W,At.StrictMode=i,At.Suspense=d,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,At.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return Y.H.useMemoCache(Q)}},At.cache=function(Q){return function(){return Q.apply(null,arguments)}},At.cloneElement=function(Q,ge,Ae){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var Pe=T({},Q.props),qe=Q.key,it=void 0;if(ge!=null)for(Fe in ge.ref!==void 0&&(it=void 0),ge.key!==void 0&&(qe=""+ge.key),ge)!Z.call(ge,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&ge.ref===void 0||(Pe[Fe]=ge[Fe]);var Fe=arguments.length-2;if(Fe===1)Pe.children=Ae;else if(1<Fe){for(var Vt=Array(Fe),Be=0;Be<Fe;Be++)Vt[Be]=arguments[Be+2];Pe.children=Vt}return K(Q.type,qe,void 0,void 0,it,Pe)},At.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:n,_context:Q},Q},At.createElement=function(Q,ge,Ae){var Pe,qe={},it=null;if(ge!=null)for(Pe in ge.key!==void 0&&(it=""+ge.key),ge)Z.call(ge,Pe)&&Pe!=="key"&&Pe!=="__self"&&Pe!=="__source"&&(qe[Pe]=ge[Pe]);var Fe=arguments.length-2;if(Fe===1)qe.children=Ae;else if(1<Fe){for(var Vt=Array(Fe),Be=0;Be<Fe;Be++)Vt[Be]=arguments[Be+2];qe.children=Vt}if(Q&&Q.defaultProps)for(Pe in Fe=Q.defaultProps,Fe)qe[Pe]===void 0&&(qe[Pe]=Fe[Pe]);return K(Q,it,void 0,void 0,null,qe)},At.createRef=function(){return{current:null}},At.forwardRef=function(Q){return{$$typeof:h,render:Q}},At.isValidElement=Ce,At.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:ae}},At.memo=function(Q,ge){return{$$typeof:f,type:Q,compare:ge===void 0?null:ge}},At.startTransition=function(Q){var ge=Y.T,Ae={};Y.T=Ae;try{var Pe=Q(),qe=Y.S;qe!==null&&qe(Ae,Pe),typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function"&&Pe.then(Ke,Me)}catch(it){Me(it)}finally{Y.T=ge}},At.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},At.use=function(Q){return Y.H.use(Q)},At.useActionState=function(Q,ge,Ae){return Y.H.useActionState(Q,ge,Ae)},At.useCallback=function(Q,ge){return Y.H.useCallback(Q,ge)},At.useContext=function(Q){return Y.H.useContext(Q)},At.useDebugValue=function(){},At.useDeferredValue=function(Q,ge){return Y.H.useDeferredValue(Q,ge)},At.useEffect=function(Q,ge,Ae){var Pe=Y.H;if(typeof Ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Pe.useEffect(Q,ge)},At.useId=function(){return Y.H.useId()},At.useImperativeHandle=function(Q,ge,Ae){return Y.H.useImperativeHandle(Q,ge,Ae)},At.useInsertionEffect=function(Q,ge){return Y.H.useInsertionEffect(Q,ge)},At.useLayoutEffect=function(Q,ge){return Y.H.useLayoutEffect(Q,ge)},At.useMemo=function(Q,ge){return Y.H.useMemo(Q,ge)},At.useOptimistic=function(Q,ge){return Y.H.useOptimistic(Q,ge)},At.useReducer=function(Q,ge,Ae){return Y.H.useReducer(Q,ge,Ae)},At.useRef=function(Q){return Y.H.useRef(Q)},At.useState=function(Q){return Y.H.useState(Q)},At.useSyncExternalStore=function(Q,ge,Ae){return Y.H.useSyncExternalStore(Q,ge,Ae)},At.useTransition=function(){return Y.H.useTransition()},At.version="19.1.0",At}var oC;function rv(){return oC||(oC=1,um.exports=SV()),um.exports}var v=rv(),hm={exports:{}},ch={},dm={exports:{}},cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function EV(){return lC||(lC=1,function(r){function e(_,ae){var Me=_.length;_.push(ae);e:for(;0<Me;){var Ke=Me-1>>>1,Q=_[Ke];if(0<s(Q,ae))_[Ke]=ae,_[Me]=Q,Me=Ke;else break e}}function t(_){return _.length===0?null:_[0]}function i(_){if(_.length===0)return null;var ae=_[0],Me=_.pop();if(Me!==ae){_[0]=Me;e:for(var Ke=0,Q=_.length,ge=Q>>>1;Ke<ge;){var Ae=2*(Ke+1)-1,Pe=_[Ae],qe=Ae+1,it=_[qe];if(0>s(Pe,Me))qe<Q&&0>s(it,Pe)?(_[Ke]=it,_[qe]=Me,Ke=qe):(_[Ke]=Pe,_[Ae]=Me,Ke=Ae);else if(qe<Q&&0>s(it,Me))_[Ke]=it,_[qe]=Me,Ke=qe;else break e}}return ae}function s(_,ae){var Me=_.sortIndex-ae.sortIndex;return Me!==0?Me:_.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var n=performance;r.unstable_now=function(){return n.now()}}else{var o=Date,h=o.now();r.unstable_now=function(){return o.now()-h}}var d=[],f=[],p=1,y=null,b=3,w=!1,T=!1,P=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ee(_){for(var ae=t(f);ae!==null;){if(ae.callback===null)i(f);else if(ae.startTime<=_)i(f),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=t(f)}}function Y(_){if(P=!1,ee(_),!T)if(t(d)!==null)T=!0,Z||(Z=!0,Re());else{var ae=t(f);ae!==null&&Ne(Y,ae.startTime-_)}}var Z=!1,K=-1,pe=5,Ce=-1;function we(){return D?!0:!(r.unstable_now()-Ce<pe)}function xe(){if(D=!1,Z){var _=r.unstable_now();Ce=_;var ae=!0;try{e:{T=!1,P&&(P=!1,W(K),K=-1),w=!0;var Me=b;try{t:{for(ee(_),y=t(d);y!==null&&!(y.expirationTime>_&&we());){var Ke=y.callback;if(typeof Ke=="function"){y.callback=null,b=y.priorityLevel;var Q=Ke(y.expirationTime<=_);if(_=r.unstable_now(),typeof Q=="function"){y.callback=Q,ee(_),ae=!0;break t}y===t(d)&&i(d),ee(_)}else i(d);y=t(d)}if(y!==null)ae=!0;else{var ge=t(f);ge!==null&&Ne(Y,ge.startTime-_),ae=!1}}break e}finally{y=null,b=Me,w=!1}ae=void 0}}finally{ae?Re():Z=!1}}}var Re;if(typeof H=="function")Re=function(){H(xe)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ke=ce.port2;ce.port1.onmessage=xe,Re=function(){ke.postMessage(null)}}else Re=function(){L(xe,0)};function Ne(_,ae){K=L(function(){_(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(_){_.callback=null},r.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<_?Math.floor(1e3/_):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(_){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var Me=b;b=ae;try{return _()}finally{b=Me}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(_,ae){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var Me=b;b=_;try{return ae()}finally{b=Me}},r.unstable_scheduleCallback=function(_,ae,Me){var Ke=r.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?Ke+Me:Ke):Me=Ke,_){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Me+Q,_={id:p++,callback:ae,priorityLevel:_,startTime:Me,expirationTime:Q,sortIndex:-1},Me>Ke?(_.sortIndex=Me,e(f,_),t(d)===null&&_===t(f)&&(P?(W(K),K=-1):P=!0,Ne(Y,Me-Ke))):(_.sortIndex=Q,e(d,_),T||w||(T=!0,Z||(Z=!0,Re()))),_},r.unstable_shouldYield=we,r.unstable_wrapCallback=function(_){var ae=b;return function(){var Me=b;b=ae;try{return _.apply(this,arguments)}finally{b=Me}}}}(cm)),cm}var uC;function TV(){return uC||(uC=1,dm.exports=EV()),dm.exports}var fm={exports:{}},Ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function RV(){if(hC)return Ds;hC=1;var r=rv();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function n(d,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:f,implementation:p}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ds.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return n(d,f,null,p)},Ds.flushSync=function(d){var f=o.T,p=i.p;try{if(o.T=null,i.p=2,d)return d()}finally{o.T=f,i.p=p,i.d.f()}},Ds.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Ds.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ds.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,y=h(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):p==="script"&&i.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ds.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=h(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Ds.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=h(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ds.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=h(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Ds.requestFormReset=function(d){i.d.r(d)},Ds.unstable_batchedUpdates=function(d,f){return d(f)},Ds.useFormState=function(d,f,p){return o.H.useFormState(d,f,p)},Ds.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ds.version="19.1.0",Ds}var dC;function Pb(){if(dC)return fm.exports;dC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=RV(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function PV(){if(cC)return ch;cC=1;var r=TV(),e=rv(),t=Pb();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function n(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function h(a){if(n(a)!==a)throw Error(i(188))}function d(a){var l=a.alternate;if(!l){if(l=n(a),l===null)throw Error(i(188));return l!==a?null:a}for(var u=a,c=l;;){var g=u.return;if(g===null)break;var m=g.alternate;if(m===null){if(c=g.return,c!==null){u=c;continue}break}if(g.child===m.child){for(m=g.child;m;){if(m===u)return h(g),a;if(m===c)return h(g),l;m=m.sibling}throw Error(i(188))}if(u.return!==c.return)u=g,c=m;else{for(var S=!1,I=g.child;I;){if(I===u){S=!0,u=g,c=m;break}if(I===c){S=!0,c=g,u=m;break}I=I.sibling}if(!S){for(I=m.child;I;){if(I===u){S=!0,u=m,c=g;break}if(I===c){S=!0,c=m,u=g;break}I=I.sibling}if(!S)throw Error(i(189))}}if(u.alternate!==c)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),Ce=Symbol.for("react.activity"),we=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function Re(a){return a===null||typeof a!="object"?null:(a=xe&&a[xe]||a["@@iterator"],typeof a=="function"?a:null)}var ce=Symbol.for("react.client.reference");function ke(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ce?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case D:return"Profiler";case P:return"StrictMode";case Y:return"Suspense";case Z:return"SuspenseList";case Ce:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case H:return(a.displayName||"Context")+".Provider";case W:return(a._context.displayName||"Context")+".Consumer";case ee:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case K:return l=a.displayName||null,l!==null?l:ke(a.type)||"Memo";case pe:l=a._payload,a=a._init;try{return ke(a(l))}catch{}}return null}var Ne=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},Ke=[],Q=-1;function ge(a){return{current:a}}function Ae(a){0>Q||(a.current=Ke[Q],Ke[Q]=null,Q--)}function Pe(a,l){Q++,Ke[Q]=a.current,a.current=l}var qe=ge(null),it=ge(null),Fe=ge(null),Vt=ge(null);function Be(a,l){switch(Pe(Fe,l),Pe(it,a),Pe(qe,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?L1(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=L1(l),a=O1(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ae(qe),Pe(qe,a)}function ui(){Ae(qe),Ae(it),Ae(Fe)}function Fi(a){a.memoizedState!==null&&Pe(Vt,a);var l=qe.current,u=O1(l,a.type);l!==u&&(Pe(it,a),Pe(qe,u))}function $i(a){it.current===a&&(Ae(qe),Ae(it)),Vt.current===a&&(Ae(Vt),ah._currentValue=Me)}var jt=Object.prototype.hasOwnProperty,Wi=r.unstable_scheduleCallback,js=r.unstable_cancelCallback,Rs=r.unstable_shouldYield,vs=r.unstable_requestPaint,Ft=r.unstable_now,It=r.unstable_getCurrentPriorityLevel,ys=r.unstable_ImmediatePriority,Mr=r.unstable_UserBlockingPriority,Os=r.unstable_NormalPriority,Ps=r.unstable_LowPriority,Nr=r.unstable_IdlePriority,dr=r.log,Ms=r.unstable_setDisableYieldValue,Hs=null,Ai=null;function bi(a){if(typeof dr=="function"&&Ms(a),Ai&&typeof Ai.setStrictMode=="function")try{Ai.setStrictMode(Hs,a)}catch{}}var xi=Math.clz32?Math.clz32:Ve,Yr=Math.log,M=Math.LN2;function Ve(a){return a>>>=0,a===0?32:31-(Yr(a)/M|0)|0}var De=256,_e=4194304;function G(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function me(a,l,u){var c=a.pendingLanes;if(c===0)return 0;var g=0,m=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var I=c&134217727;return I!==0?(c=I&~m,c!==0?g=G(c):(S&=I,S!==0?g=G(S):u||(u=I&~a,u!==0&&(g=G(u))))):(I=c&~m,I!==0?g=G(I):S!==0?g=G(S):u||(u=c&~a,u!==0&&(g=G(u)))),g===0?0:l!==0&&l!==g&&(l&m)===0&&(m=g&-g,u=l&-l,m>=u||m===32&&(u&4194048)!==0)?l:g}function R(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Se(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var a=De;return De<<=1,(De&4194048)===0&&(De=256),a}function C(){var a=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),a}function he(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function de(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function A(a,l,u,c,g,m){var S=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var I=a.entanglements,B=a.expirationTimes,se=a.hiddenUpdates;for(u=S&~u;0<u;){var ve=31-xi(u),be=1<<ve;I[ve]=0,B[ve]=-1;var oe=se[ve];if(oe!==null)for(se[ve]=null,ve=0;ve<oe.length;ve++){var ue=oe[ve];ue!==null&&(ue.lane&=-536870913)}u&=~be}c!==0&&U(a,c,0),m!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=m&~(S&~l))}function U(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var c=31-xi(l);a.entangledLanes|=l,a.entanglements[c]=a.entanglements[c]|1073741824|u&4194090}function ne(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var c=31-xi(u),g=1<<c;g&l|a[c]&l&&(a[c]|=l),u&=~g}}function Xe(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ze(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function je(){var a=ae.p;return a!==0?a:(a=window.event,a===void 0?32:J1(a.type))}function Ot(a,l){var u=ae.p;try{return ae.p=a,l()}finally{ae.p=u}}var ji=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ji,lt="__reactProps$"+ji,hi="__reactContainer$"+ji,Mi="__reactEvents$"+ji,os="__reactListeners$"+ji,Kn="__reactHandles$"+ji,pn="__reactResources$"+ji,gi="__reactMarker$"+ji;function ls(a){delete a[Pt],delete a[lt],delete a[Mi],delete a[os],delete a[Kn]}function Vi(a){var l=a[Pt];if(l)return l;for(var u=a.parentNode;u;){if(l=u[hi]||u[Pt]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=q1(a);a!==null;){if(u=a[Pt])return u;a=q1(a)}return l}a=u,u=a.parentNode}return null}function us(a){if(a=a[Pt]||a[hi]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function hs(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function kr(a){var l=a[pn];return l||(l=a[pn]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Gi(a){a[gi]=!0}var od=new Set,ld={};function mn(a,l){Xn(a,l),Xn(a+"Capture",l)}function Xn(a,l){for(ld[a]=l,a=0;a<l.length;a++)od.add(l[a])}var ud=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},Yl={};function fg(a){return jt.call(Yl,a)?!0:jt.call(hd,a)?!1:ud.test(a)?Yl[a]=!0:(hd[a]=!0,!1)}function Lo(a,l,u){if(fg(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var c=l.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function Oo(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function qr(a,l,u,c){if(c===null)a.removeAttribute(u);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+c)}}var Jl,dd;function Yn(a){if(Jl===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Jl=l&&l[1]||"",dd=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jl+a+dd}var $l=!1;function Wa(a,l){if(!a||$l)return"";$l=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(l){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(ue){var oe=ue}Reflect.construct(a,[],be)}else{try{be.call()}catch(ue){oe=ue}a.call(be.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(be=a())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),S=m[0],I=m[1];if(S&&I){var B=S.split(`
`),se=I.split(`
`);for(g=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;g<se.length&&!se[g].includes("DetermineComponentFrameRoot");)g++;if(c===B.length||g===se.length)for(c=B.length-1,g=se.length-1;1<=c&&0<=g&&B[c]!==se[g];)g--;for(;1<=c&&0<=g;c--,g--)if(B[c]!==se[g]){if(c!==1||g!==1)do if(c--,g--,0>g||B[c]!==se[g]){var ve=`
`+B[c].replace(" at new "," at ");return a.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",a.displayName)),ve}while(1<=c&&0<=g);break}}}finally{$l=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Yn(u):""}function cd(a){switch(a.tag){case 26:case 27:case 5:return Yn(a.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Wa(a.type,!1);case 11:return Wa(a.type.render,!1);case 1:return Wa(a.type,!0);case 31:return Yn("Activity");default:return""}}function fd(a){try{var l="";do l+=cd(a),a=a.return;while(a);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ns(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function eu(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function gg(a){var l=eu(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),c=""+a[l];if(!a.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,m=u.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return g.call(this)},set:function(S){c=""+S,m.call(this,S)}}),Object.defineProperty(a,l,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function ja(a){a._valueTracker||(a._valueTracker=gg(a))}function tu(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),c="";return a&&(c=eu(a)?a.checked?"true":"false":a.value),a=c,a!==u?(l.setValue(a),!0):!1}function Ga(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var gd=/[\n"\\]/g;function ks(a){return a.replace(gd,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function iu(a,l,u,c,g,m,S,I){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),l!=null?S==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Ns(l)):a.value!==""+Ns(l)&&(a.value=""+Ns(l)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),l!=null?su(a,S,Ns(l)):u!=null?su(a,S,Ns(u)):c!=null&&a.removeAttribute("value"),g==null&&m!=null&&(a.defaultChecked=!!m),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+Ns(I):a.removeAttribute("name")}function pd(a,l,u,c,g,m,S,I){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(a.type=m),l!=null||u!=null){if(!(m!=="submit"&&m!=="reset"||l!=null))return;u=u!=null?""+Ns(u):"",l=l!=null?""+Ns(l):u,I||l===a.value||(a.value=l),a.defaultValue=l}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,a.checked=I?a.checked:!!c,a.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S)}function su(a,l,u){l==="number"&&Ga(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Jn(a,l,u,c){if(a=a.options,l){l={};for(var g=0;g<u.length;g++)l["$"+u[g]]=!0;for(u=0;u<a.length;u++)g=l.hasOwnProperty("$"+a[u].value),a[u].selected!==g&&(a[u].selected=g),g&&c&&(a[u].defaultSelected=!0)}else{for(u=""+Ns(u),l=null,g=0;g<a.length;g++){if(a[g].value===u){a[g].selected=!0,c&&(a[g].defaultSelected=!0);return}l!==null||a[g].disabled||(l=a[g])}l!==null&&(l.selected=!0)}}function md(a,l,u){if(l!=null&&(l=""+Ns(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+Ns(u):""}function ru(a,l,u,c){if(l==null){if(c!=null){if(u!=null)throw Error(i(92));if(Ne(c)){if(1<c.length)throw Error(i(93));c=c[0]}u=c}u==null&&(u=""),l=u}u=Ns(l),a.defaultValue=u,c=a.textContent,c===u&&c!==""&&c!==null&&(a.value=c)}function vn(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var pg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vd(a,l,u){var c=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?c?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":c?a.setProperty(l,u):typeof u!="number"||u===0||pg.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function yd(a,l,u){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,u!=null){for(var c in u)!u.hasOwnProperty(c)||l!=null&&l.hasOwnProperty(c)||(c.indexOf("--")===0?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="");for(var g in l)c=l[g],l.hasOwnProperty(g)&&u[g]!==c&&vd(a,g,c)}else for(var m in l)l.hasOwnProperty(m)&&vd(a,m,l[m])}function nu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(a){return vg.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var No=null;function au(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var $n=null,ea=null;function Cd(a){var l=us(a);if(l&&(a=l.stateNode)){var u=a[lt]||null;e:switch(a=l.stateNode,l.type){case"input":if(iu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ks(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var c=u[l];if(c!==a&&c.form===a.form){var g=c[lt]||null;if(!g)throw Error(i(90));iu(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<u.length;l++)c=u[l],c.form===a.form&&tu(c)}break e;case"textarea":md(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Jn(a,!!u.multiple,l,!1)}}}var ou=!1;function bd(a,l,u){if(ou)return a(l,u);ou=!0;try{var c=a(l);return c}finally{if(ou=!1,($n!==null||ea!==null)&&(pc(),$n&&(l=$n,a=ea,ea=$n=null,Cd(l),a)))for(l=0;l<a.length;l++)Cd(a[l])}}function Za(a,l){var u=a.stateNode;if(u===null)return null;var c=u[lt]||null;if(c===null)return null;u=c[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,l,typeof u));return u}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lu=!1;if(Fr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){lu=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{lu=!1}var Jr=null,uu=null,Xa=null;function hu(){if(Xa)return Xa;var a,l=uu,u=l.length,c,g="value"in Jr?Jr.value:Jr.textContent,m=g.length;for(a=0;a<u&&l[a]===g[a];a++);var S=u-a;for(c=1;c<=S&&l[u-c]===g[m-c];c++);return Xa=g.slice(a,1<c?1-c:void 0)}function ko(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function qo(){return!0}function du(){return!1}function Is(a){function l(u,c,g,m,S){this._reactName=u,this._targetInst=g,this.type=c,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(u=a[I],this[I]=u?u(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?qo:du,this.isPropagationStopped=du,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),l}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=Is(yn),Ya=p({},yn,{view:0,detail:0}),cu=Is(Ya),fu,gu,ta,Ja=p({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ta&&(ta&&a.type==="mousemove"?(fu=a.screenX-ta.screenX,gu=a.screenY-ta.screenY):gu=fu=0,ta=a),fu)},movementY:function(a){return"movementY"in a?a.movementY:gu}}),pu=Is(Ja),wd=p({},Ja,{dataTransfer:0}),xd=Is(wd),Vd=p({},Ya,{relatedTarget:0}),mu=Is(Vd),Sd=p({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ed=Is(Sd),V=p({},yn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),et=Is(V),Bo=p({},yn,{data:0}),Gs=Is(Bo),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},He={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ze={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Ze[a])?!!l[a]:!1}function ia(){return zo}var nt=p({},Ya,{key:function(a){if(a.key){var l=vu[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ko(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?He[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(a){return a.type==="keypress"?ko(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ko(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Cn=Is(nt),yg=p({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=Is(yg),Rd=p({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),Pd=Is(Rd),Ue=p({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cg=Is(Ue),bn=p({},Ja,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Id=Is(bn),yu=p({},yn,{newState:0,oldState:0}),Ad=Is(yu),Cu=[9,13,27,32],Ho=Fr&&"CompositionEvent"in window,wn=null;Fr&&"documentMode"in document&&(wn=document.documentMode);var Dd=Fr&&"TextEvent"in window&&!wn,Qo=Fr&&(!Ho||wn&&8<wn&&11>=wn),bu=" ",Uo=!1;function wu(a,l){switch(a){case"keyup":return Cu.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xn=!1;function xu(a,l){switch(a){case"compositionend":return _o(l);case"keypress":return l.which!==32?null:(Uo=!0,bu);case"textInput":return a=l.data,a===bu&&Uo?null:a;default:return null}}function bg(a,l){if(xn)return a==="compositionend"||!Ho&&wu(a,l)?(a=hu(),Xa=uu=Jr=null,xn=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Qo&&l.locale!=="ko"?null:l.data;default:return null}}var wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!wg[a.type]:l==="textarea"}function Vu(a,l,u,c){$n?ea?ea.push(c):ea=[c]:$n=c,l=wc(l,"onChange"),0<l.length&&(u=new Fo("onChange","change",null,u,c),a.push({event:u,listeners:l}))}var $a=null,eo=null;function Od(a){R1(a,0)}function Wo(a){var l=hs(a);if(tu(l))return a}function Md(a,l){if(a==="change")return l}var Nd=!1;if(Fr){var Su;if(Fr){var jo="oninput"in document;if(!jo){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),jo=typeof Eu.oninput=="function"}Su=jo}else Su=!1;Nd=Su&&(!document.documentMode||9<document.documentMode)}function Tu(){$a&&($a.detachEvent("onpropertychange",Ru),eo=$a=null)}function Ru(a){if(a.propertyName==="value"&&Wo(eo)){var l=[];Vu(l,eo,a,au(a)),bd(Od,l)}}function sa(a,l,u){a==="focusin"?(Tu(),$a=l,eo=u,$a.attachEvent("onpropertychange",Ru)):a==="focusout"&&Tu()}function xg(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wo(eo)}function to(a,l){if(a==="click")return Wo(l)}function St(a,l){if(a==="input"||a==="change")return Wo(l)}function kd(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var qs=typeof Object.is=="function"?Object.is:kd;function x(a,l){if(qs(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),c=Object.keys(l);if(u.length!==c.length)return!1;for(c=0;c<u.length;c++){var g=u[c];if(!jt.call(l,g)||!qs(a[g],l[g]))return!1}return!0}function E(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $(a,l){var u=E(a);a=0;for(var c;u;){if(u.nodeType===3){if(c=a+u.textContent.length,a<=l&&c>=l)return{node:u,offset:l-a};a=c}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=E(u)}}function k(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?k(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function re(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Ga(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=Ga(a.document)}return l}function Te(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Qe=Fr&&"documentMode"in document&&11>=document.documentMode,We=null,Ut=null,Bt=null,io=!1;function sy(a,l,u){var c=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;io||We==null||We!==Ga(c)||(c=We,"selectionStart"in c&&Te(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bt&&x(Bt,c)||(Bt=c,c=wc(Ut,"onSelect"),0<c.length&&(l=new Fo("onSelect","select",null,l,u),a.push({event:l,listeners:c}),l.target=We)))}function so(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var Go={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionrun:so("Transition","TransitionRun"),transitionstart:so("Transition","TransitionStart"),transitioncancel:so("Transition","TransitionCancel"),transitionend:so("Transition","TransitionEnd")},Vg={},ry={};Fr&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function ro(a){if(Vg[a])return Vg[a];if(!Go[a])return a;var l=Go[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in ry)return Vg[a]=l[u];return a}var ny=ro("animationend"),ay=ro("animationiteration"),oy=ro("animationstart"),sx=ro("transitionrun"),rx=ro("transitionstart"),nx=ro("transitioncancel"),ly=ro("transitionend"),uy=new Map,Sg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sg.push("scrollEnd");function Br(a,l){uy.set(a,l),mn(l,[a])}var hy=new WeakMap;function cr(a,l){if(typeof a=="object"&&a!==null){var u=hy.get(a);return u!==void 0?u:(l={value:a,source:l,stack:fd(l)},hy.set(a,l),l)}return{value:a,source:l,stack:fd(l)}}var fr=[],Zo=0,Eg=0;function qd(){for(var a=Zo,l=Eg=Zo=0;l<a;){var u=fr[l];fr[l++]=null;var c=fr[l];fr[l++]=null;var g=fr[l];fr[l++]=null;var m=fr[l];if(fr[l++]=null,c!==null&&g!==null){var S=c.pending;S===null?g.next=g:(g.next=S.next,S.next=g),c.pending=g}m!==0&&dy(u,g,m)}}function Fd(a,l,u,c){fr[Zo++]=a,fr[Zo++]=l,fr[Zo++]=u,fr[Zo++]=c,Eg|=c,a.lanes|=c,a=a.alternate,a!==null&&(a.lanes|=c)}function Tg(a,l,u,c){return Fd(a,l,u,c),Bd(a)}function Ko(a,l){return Fd(a,null,null,l),Bd(a)}function dy(a,l,u){a.lanes|=u;var c=a.alternate;c!==null&&(c.lanes|=u);for(var g=!1,m=a.return;m!==null;)m.childLanes|=u,c=m.alternate,c!==null&&(c.childLanes|=u),m.tag===22&&(a=m.stateNode,a===null||a._visibility&1||(g=!0)),a=m,m=m.return;return a.tag===3?(m=a.stateNode,g&&l!==null&&(g=31-xi(u),a=m.hiddenUpdates,c=a[g],c===null?a[g]=[l]:c.push(l),l.lane=u|536870912),m):null}function Bd(a){if(50<Ju)throw Ju=0,Lp=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Xo={};function ax(a,l,u,c){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(a,l,u,c){return new ax(a,l,u,c)}function Rg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Vn(a,l){var u=a.alternate;return u===null?(u=Zs(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function cy(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function zd(a,l,u,c,g,m){var S=0;if(c=a,typeof a=="function")Rg(a)&&(S=1);else if(typeof a=="string")S=lV(a,u,qe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Ce:return a=Zs(31,u,l,g),a.elementType=Ce,a.lanes=m,a;case T:return no(u.children,g,m,l);case P:S=8,g|=24;break;case D:return a=Zs(12,u,l,g|2),a.elementType=D,a.lanes=m,a;case Y:return a=Zs(13,u,l,g),a.elementType=Y,a.lanes=m,a;case Z:return a=Zs(19,u,l,g),a.elementType=Z,a.lanes=m,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:case H:S=10;break e;case W:S=9;break e;case ee:S=11;break e;case K:S=14;break e;case pe:S=16,c=null;break e}S=29,u=Error(i(130,a===null?"null":typeof a,"")),c=null}return l=Zs(S,u,l,g),l.elementType=a,l.type=c,l.lanes=m,l}function no(a,l,u,c){return a=Zs(7,a,c,l),a.lanes=u,a}function Pg(a,l,u){return a=Zs(6,a,null,l),a.lanes=u,a}function Ig(a,l,u){return l=Zs(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Yo=[],Jo=0,Hd=null,Qd=0,gr=[],pr=0,ao=null,Sn=1,En="";function oo(a,l){Yo[Jo++]=Qd,Yo[Jo++]=Hd,Hd=a,Qd=l}function fy(a,l,u){gr[pr++]=Sn,gr[pr++]=En,gr[pr++]=ao,ao=a;var c=Sn;a=En;var g=32-xi(c)-1;c&=~(1<<g),u+=1;var m=32-xi(l)+g;if(30<m){var S=g-g%5;m=(c&(1<<S)-1).toString(32),c>>=S,g-=S,Sn=1<<32-xi(l)+g|u<<g|c,En=m+a}else Sn=1<<m|u<<g|c,En=a}function Ag(a){a.return!==null&&(oo(a,1),fy(a,1,0))}function Dg(a){for(;a===Hd;)Hd=Yo[--Jo],Yo[Jo]=null,Qd=Yo[--Jo],Yo[Jo]=null;for(;a===ao;)ao=gr[--pr],gr[pr]=null,En=gr[--pr],gr[pr]=null,Sn=gr[--pr],gr[pr]=null}var Fs=null,Bi=null,ei=!1,lo=null,$r=!1,Lg=Error(i(519));function uo(a){var l=Error(i(418,""));throw Au(cr(l,a)),Lg}function gy(a){var l=a.stateNode,u=a.type,c=a.memoizedProps;switch(l[Pt]=a,l[lt]=c,u){case"dialog":kt("cancel",l),kt("close",l);break;case"iframe":case"object":case"embed":kt("load",l);break;case"video":case"audio":for(u=0;u<eh.length;u++)kt(eh[u],l);break;case"source":kt("error",l);break;case"img":case"image":case"link":kt("error",l),kt("load",l);break;case"details":kt("toggle",l);break;case"input":kt("invalid",l),pd(l,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ja(l);break;case"select":kt("invalid",l);break;case"textarea":kt("invalid",l),ru(l,c.value,c.defaultValue,c.children),ja(l)}u=c.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||c.suppressHydrationWarning===!0||D1(l.textContent,u)?(c.popover!=null&&(kt("beforetoggle",l),kt("toggle",l)),c.onScroll!=null&&kt("scroll",l),c.onScrollEnd!=null&&kt("scrollend",l),c.onClick!=null&&(l.onclick=xc),l=!0):l=!1,l||uo(a)}function py(a){for(Fs=a.return;Fs;)switch(Fs.tag){case 5:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:Fs=Fs.return}}function Pu(a){if(a!==Fs)return!1;if(!ei)return py(a),ei=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Zp(a.type,a.memoizedProps)),u=!u),u&&Bi&&uo(a),py(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(l===0){Bi=Hr(a.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;a=a.nextSibling}Bi=null}}else l===27?(l=Bi,Ca(a.type)?(a=Jp,Jp=null,Bi=a):Bi=l):Bi=Fs?Hr(a.stateNode.nextSibling):null;return!0}function Iu(){Bi=Fs=null,ei=!1}function my(){var a=lo;return a!==null&&(_s===null?_s=a:_s.push.apply(_s,a),lo=null),a}function Au(a){lo===null?lo=[a]:lo.push(a)}var Og=ge(null),ho=null,Tn=null;function ra(a,l,u){Pe(Og,l._currentValue),l._currentValue=u}function Rn(a){a._currentValue=Og.current,Ae(Og)}function Mg(a,l,u){for(;a!==null;){var c=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,c!==null&&(c.childLanes|=l)):c!==null&&(c.childLanes&l)!==l&&(c.childLanes|=l),a===u)break;a=a.return}}function Ng(a,l,u,c){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var m=g.dependencies;if(m!==null){var S=g.child;m=m.firstContext;e:for(;m!==null;){var I=m;m=g;for(var B=0;B<l.length;B++)if(I.context===l[B]){m.lanes|=u,I=m.alternate,I!==null&&(I.lanes|=u),Mg(m.return,u,a),c||(S=null);break e}m=I.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=u,m=S.alternate,m!==null&&(m.lanes|=u),Mg(S,u,a),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===a){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Du(a,l,u,c){a=null;for(var g=l,m=!1;g!==null;){if(!m){if((g.flags&524288)!==0)m=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var I=g.type;qs(g.pendingProps.value,S.value)||(a!==null?a.push(I):a=[I])}}else if(g===Vt.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(ah):a=[ah])}g=g.return}a!==null&&Ng(l,a,u,c),l.flags|=262144}function Ud(a){for(a=a.firstContext;a!==null;){if(!qs(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function co(a){ho=a,Tn=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function As(a){return vy(ho,a)}function _d(a,l){return ho===null&&co(a),vy(a,l)}function vy(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Tn===null){if(a===null)throw Error(i(308));Tn=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Tn=Tn.next=l;return u}var ox=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,c){a.push(c)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},lx=r.unstable_scheduleCallback,ux=r.unstable_NormalPriority,es={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kg(){return{controller:new ox,data:new Map,refCount:0}}function Lu(a){a.refCount--,a.refCount===0&&lx(ux,function(){a.controller.abort()})}var Ou=null,qg=0,$o=0,el=null;function hx(a,l){if(Ou===null){var u=Ou=[];qg=0,$o=Bp(),el={status:"pending",value:void 0,then:function(c){u.push(c)}}}return qg++,l.then(yy,yy),l}function yy(){if(--qg===0&&Ou!==null){el!==null&&(el.status="fulfilled");var a=Ou;Ou=null,$o=0,el=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function dx(a,l){var u=[],c={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return a.then(function(){c.status="fulfilled",c.value=l;for(var g=0;g<u.length;g++)(0,u[g])(l)},function(g){for(c.status="rejected",c.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),c}var Cy=_.S;_.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&hx(a,l),Cy!==null&&Cy(a,l)};var fo=ge(null);function Fg(){var a=fo.current;return a!==null?a:Si.pooledCache}function Wd(a,l){l===null?Pe(fo,fo.current):Pe(fo,l.pool)}function by(){var a=Fg();return a===null?null:{parent:es._currentValue,pool:a}}var Mu=Error(i(460)),wy=Error(i(474)),jd=Error(i(542)),Bg={then:function(){}};function xy(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Gd(){}function Vy(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(Gd,Gd),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Ey(a),a;default:if(typeof l.status=="string")l.then(Gd,Gd);else{if(a=Si,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(c){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=c}},function(c){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=c}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Ey(a),a}throw Nu=l,Mu}}var Nu=null;function Sy(){if(Nu===null)throw Error(i(459));var a=Nu;return Nu=null,a}function Ey(a){if(a===Mu||a===jd)throw Error(i(483))}var na=!1;function zg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hg(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function aa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function oa(a,l,u){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,(di&2)!==0){var g=c.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),c.pending=l,l=Bd(a),dy(a,null,u),l}return Fd(a,c,l,u),Bd(a)}function ku(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var c=l.lanes;c&=a.pendingLanes,u|=c,l.lanes=u,ne(a,u)}}function Qg(a,l){var u=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,u===c)){var g=null,m=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};m===null?g=m=S:m=m.next=S,u=u.next}while(u!==null);m===null?g=m=l:m=m.next=l}else g=m=l;u={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var Ug=!1;function qu(){if(Ug){var a=el;if(a!==null)throw a}}function Fu(a,l,u,c){Ug=!1;var g=a.updateQueue;na=!1;var m=g.firstBaseUpdate,S=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var B=I,se=B.next;B.next=null,S===null?m=se:S.next=se,S=B;var ve=a.alternate;ve!==null&&(ve=ve.updateQueue,I=ve.lastBaseUpdate,I!==S&&(I===null?ve.firstBaseUpdate=se:I.next=se,ve.lastBaseUpdate=B))}if(m!==null){var be=g.baseState;S=0,ve=se=B=null,I=m;do{var oe=I.lane&-536870913,ue=oe!==I.lane;if(ue?(Gt&oe)===oe:(c&oe)===oe){oe!==0&&oe===$o&&(Ug=!0),ve!==null&&(ve=ve.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var pt=a,ut=I;oe=l;var vi=u;switch(ut.tag){case 1:if(pt=ut.payload,typeof pt=="function"){be=pt.call(vi,be,oe);break e}be=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ut.payload,oe=typeof pt=="function"?pt.call(vi,be,oe):pt,oe==null)break e;be=p({},be,oe);break e;case 2:na=!0}}oe=I.callback,oe!==null&&(a.flags|=64,ue&&(a.flags|=8192),ue=g.callbacks,ue===null?g.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ve===null?(se=ve=ue,B=be):ve=ve.next=ue,S|=oe;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;ue=I,I=ue.next,ue.next=null,g.lastBaseUpdate=ue,g.shared.pending=null}}while(!0);ve===null&&(B=be),g.baseState=B,g.firstBaseUpdate=se,g.lastBaseUpdate=ve,m===null&&(g.shared.lanes=0),pa|=S,a.lanes=S,a.memoizedState=be}}function Ty(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Ry(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Ty(u[a],l)}var tl=ge(null),Zd=ge(0);function Py(a,l){a=Mn,Pe(Zd,a),Pe(tl,l),Mn=a|l.baseLanes}function _g(){Pe(Zd,Mn),Pe(tl,tl.current)}function Wg(){Mn=Zd.current,Ae(tl),Ae(Zd)}var la=0,Lt=null,pi=null,Zi=null,Kd=!1,il=!1,go=!1,Xd=0,Bu=0,sl=null,cx=0;function Qi(){throw Error(i(321))}function jg(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!qs(a[u],l[u]))return!1;return!0}function Gg(a,l,u,c,g,m){return la=m,Lt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_.H=a===null||a.memoizedState===null?d0:c0,go=!1,m=u(c,g),go=!1,il&&(m=Ay(l,u,c,g)),Iy(a),m}function Iy(a){_.H=ic;var l=pi!==null&&pi.next!==null;if(la=0,Zi=pi=Lt=null,Kd=!1,Bu=0,sl=null,l)throw Error(i(300));a===null||ds||(a=a.dependencies,a!==null&&Ud(a)&&(ds=!0))}function Ay(a,l,u,c){Lt=a;var g=0;do{if(il&&(sl=null),Bu=0,il=!1,25<=g)throw Error(i(301));if(g+=1,Zi=pi=null,a.updateQueue!=null){var m=a.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}_.H=Cx,m=l(u,c)}while(il);return m}function fx(){var a=_.H,l=a.useState()[0];return l=typeof l.then=="function"?zu(l):l,a=a.useState()[0],(pi!==null?pi.memoizedState:null)!==a&&(Lt.flags|=1024),l}function Zg(){var a=Xd!==0;return Xd=0,a}function Kg(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function Xg(a){if(Kd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Kd=!1}la=0,Zi=pi=Lt=null,il=!1,Bu=Xd=0,sl=null}function Qs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?Lt.memoizedState=Zi=a:Zi=Zi.next=a,Zi}function Ki(){if(pi===null){var a=Lt.alternate;a=a!==null?a.memoizedState:null}else a=pi.next;var l=Zi===null?Lt.memoizedState:Zi.next;if(l!==null)Zi=l,pi=a;else{if(a===null)throw Lt.alternate===null?Error(i(467)):Error(i(310));pi=a,a={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},Zi===null?Lt.memoizedState=Zi=a:Zi=Zi.next=a}return Zi}function Yg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(a){var l=Bu;return Bu+=1,sl===null&&(sl=[]),a=Vy(sl,a,l),l=Lt,(Zi===null?l.memoizedState:Zi.next)===null&&(l=l.alternate,_.H=l===null||l.memoizedState===null?d0:c0),a}function Yd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return zu(a);if(a.$$typeof===H)return As(a)}throw Error(i(438,String(a)))}function Jg(a){var l=null,u=Lt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var c=Lt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(l={data:c.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Yg(),Lt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),c=0;c<a;c++)u[c]=we;return l.index++,u}function Pn(a,l){return typeof l=="function"?l(a):l}function Jd(a){var l=Ki();return $g(l,pi,a)}function $g(a,l,u){var c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=u;var g=a.baseQueue,m=c.pending;if(m!==null){if(g!==null){var S=g.next;g.next=m.next,m.next=S}l.baseQueue=g=m,c.pending=null}if(m=a.baseState,g===null)a.memoizedState=m;else{l=g.next;var I=S=null,B=null,se=l,ve=!1;do{var be=se.lane&-536870913;if(be!==se.lane?(Gt&be)===be:(la&be)===be){var oe=se.revertLane;if(oe===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),be===$o&&(ve=!0);else if((la&oe)===oe){se=se.next,oe===$o&&(ve=!0);continue}else be={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},B===null?(I=B=be,S=m):B=B.next=be,Lt.lanes|=oe,pa|=oe;be=se.action,go&&u(m,be),m=se.hasEagerState?se.eagerState:u(m,be)}else oe={lane:be,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},B===null?(I=B=oe,S=m):B=B.next=oe,Lt.lanes|=be,pa|=be;se=se.next}while(se!==null&&se!==l);if(B===null?S=m:B.next=I,!qs(m,a.memoizedState)&&(ds=!0,ve&&(u=el,u!==null)))throw u;a.memoizedState=m,a.baseState=S,a.baseQueue=B,c.lastRenderedState=m}return g===null&&(c.lanes=0),[a.memoizedState,c.dispatch]}function ep(a){var l=Ki(),u=l.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var c=u.dispatch,g=u.pending,m=l.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do m=a(m,S.action),S=S.next;while(S!==g);qs(m,l.memoizedState)||(ds=!0),l.memoizedState=m,l.baseQueue===null&&(l.baseState=m),u.lastRenderedState=m}return[m,c]}function Dy(a,l,u){var c=Lt,g=Ki(),m=ei;if(m){if(u===void 0)throw Error(i(407));u=u()}else u=l();var S=!qs((pi||g).memoizedState,u);S&&(g.memoizedState=u,ds=!0),g=g.queue;var I=My.bind(null,c,g,a);if(Hu(2048,8,I,[a]),g.getSnapshot!==l||S||Zi!==null&&Zi.memoizedState.tag&1){if(c.flags|=2048,rl(9,$d(),Oy.bind(null,c,g,u,l),null),Si===null)throw Error(i(349));m||(la&124)!==0||Ly(c,l,u)}return u}function Ly(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=Lt.updateQueue,l===null?(l=Yg(),Lt.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function Oy(a,l,u,c){l.value=u,l.getSnapshot=c,Ny(l)&&ky(a)}function My(a,l,u){return u(function(){Ny(l)&&ky(a)})}function Ny(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!qs(a,u)}catch{return!0}}function ky(a){var l=Ko(a,2);l!==null&&$s(l,a,2)}function tp(a){var l=Qs();if(typeof a=="function"){var u=a;if(a=u(),go){bi(!0);try{u()}finally{bi(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:a},l}function qy(a,l,u,c){return a.baseState=u,$g(a,pi,typeof c=="function"?c:Pn)}function gx(a,l,u,c,g){if(tc(a))throw Error(i(485));if(a=l.action,a!==null){var m={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};_.T!==null?u(!0):m.isTransition=!1,c(m),u=l.pending,u===null?(m.next=l.pending=m,Fy(l,m)):(m.next=u.next,l.pending=u.next=m)}}function Fy(a,l){var u=l.action,c=l.payload,g=a.state;if(l.isTransition){var m=_.T,S={};_.T=S;try{var I=u(g,c),B=_.S;B!==null&&B(S,I),By(a,l,I)}catch(se){ip(a,l,se)}finally{_.T=m}}else try{m=u(g,c),By(a,l,m)}catch(se){ip(a,l,se)}}function By(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(c){zy(a,l,c)},function(c){return ip(a,l,c)}):zy(a,l,u)}function zy(a,l,u){l.status="fulfilled",l.value=u,Hy(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,Fy(a,u)))}function ip(a,l,u){var c=a.pending;if(a.pending=null,c!==null){c=c.next;do l.status="rejected",l.reason=u,Hy(l),l=l.next;while(l!==c)}a.action=null}function Hy(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Qy(a,l){return l}function Uy(a,l){if(ei){var u=Si.formState;if(u!==null){e:{var c=Lt;if(ei){if(Bi){t:{for(var g=Bi,m=$r;g.nodeType!==8;){if(!m){g=null;break t}if(g=Hr(g.nextSibling),g===null){g=null;break t}}m=g.data,g=m==="F!"||m==="F"?g:null}if(g){Bi=Hr(g.nextSibling),c=g.data==="F!";break e}}uo(c)}c=!1}c&&(l=u[0])}}return u=Qs(),u.memoizedState=u.baseState=l,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:l},u.queue=c,u=l0.bind(null,Lt,c),c.dispatch=u,c=tp(!1),m=op.bind(null,Lt,!1,c.queue),c=Qs(),g={state:l,dispatch:null,action:a,pending:null},c.queue=g,u=gx.bind(null,Lt,g,m,u),g.dispatch=u,c.memoizedState=a,[l,u,!1]}function _y(a){var l=Ki();return Wy(l,pi,a)}function Wy(a,l,u){if(l=$g(a,l,Qy)[0],a=Jd(Pn)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var c=zu(l)}catch(S){throw S===Mu?jd:S}else c=l;l=Ki();var g=l.queue,m=g.dispatch;return u!==l.memoizedState&&(Lt.flags|=2048,rl(9,$d(),px.bind(null,g,u),null)),[c,m,a]}function px(a,l){a.action=l}function jy(a){var l=Ki(),u=pi;if(u!==null)return Wy(l,u,a);Ki(),l=l.memoizedState,u=Ki();var c=u.queue.dispatch;return u.memoizedState=a,[l,c,!1]}function rl(a,l,u,c){return a={tag:a,create:u,deps:c,inst:l,next:null},l=Lt.updateQueue,l===null&&(l=Yg(),Lt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(c=u.next,u.next=a,a.next=c,l.lastEffect=a),a}function $d(){return{destroy:void 0,resource:void 0}}function Gy(){return Ki().memoizedState}function ec(a,l,u,c){var g=Qs();c=c===void 0?null:c,Lt.flags|=a,g.memoizedState=rl(1|l,$d(),u,c)}function Hu(a,l,u,c){var g=Ki();c=c===void 0?null:c;var m=g.memoizedState.inst;pi!==null&&c!==null&&jg(c,pi.memoizedState.deps)?g.memoizedState=rl(l,m,u,c):(Lt.flags|=a,g.memoizedState=rl(1|l,m,u,c))}function Zy(a,l){ec(8390656,8,a,l)}function Ky(a,l){Hu(2048,8,a,l)}function Xy(a,l){return Hu(4,2,a,l)}function Yy(a,l){return Hu(4,4,a,l)}function Jy(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function $y(a,l,u){u=u!=null?u.concat([a]):null,Hu(4,4,Jy.bind(null,l,a),u)}function sp(){}function e0(a,l){var u=Ki();l=l===void 0?null:l;var c=u.memoizedState;return l!==null&&jg(l,c[1])?c[0]:(u.memoizedState=[a,l],a)}function t0(a,l){var u=Ki();l=l===void 0?null:l;var c=u.memoizedState;if(l!==null&&jg(l,c[1]))return c[0];if(c=a(),go){bi(!0);try{a()}finally{bi(!1)}}return u.memoizedState=[c,l],c}function rp(a,l,u){return u===void 0||(la&1073741824)!==0?a.memoizedState=l:(a.memoizedState=u,a=r1(),Lt.lanes|=a,pa|=a,u)}function i0(a,l,u,c){return qs(u,l)?u:tl.current!==null?(a=rp(a,u,c),qs(a,l)||(ds=!0),a):(la&42)===0?(ds=!0,a.memoizedState=u):(a=r1(),Lt.lanes|=a,pa|=a,l)}function s0(a,l,u,c,g){var m=ae.p;ae.p=m!==0&&8>m?m:8;var S=_.T,I={};_.T=I,op(a,!1,l,u);try{var B=g(),se=_.S;if(se!==null&&se(I,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ve=dx(B,c);Qu(a,l,ve,Js(a))}else Qu(a,l,c,Js(a))}catch(be){Qu(a,l,{then:function(){},status:"rejected",reason:be},Js())}finally{ae.p=m,_.T=S}}function mx(){}function np(a,l,u,c){if(a.tag!==5)throw Error(i(476));var g=r0(a).queue;s0(a,g,l,Me,u===null?mx:function(){return n0(a),u(c)})}function r0(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:Me},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function n0(a){var l=r0(a).next.queue;Qu(a,l,{},Js())}function ap(){return As(ah)}function a0(){return Ki().memoizedState}function o0(){return Ki().memoizedState}function vx(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=Js();a=aa(u);var c=oa(l,a,u);c!==null&&($s(c,l,u),ku(c,l,u)),l={cache:kg()},a.payload=l;return}l=l.return}}function yx(a,l,u){var c=Js();u={lane:c,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},tc(a)?u0(l,u):(u=Tg(a,l,u,c),u!==null&&($s(u,a,c),h0(u,l,c)))}function l0(a,l,u){var c=Js();Qu(a,l,u,c)}function Qu(a,l,u,c){var g={lane:c,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(tc(a))u0(l,g);else{var m=a.alternate;if(a.lanes===0&&(m===null||m.lanes===0)&&(m=l.lastRenderedReducer,m!==null))try{var S=l.lastRenderedState,I=m(S,u);if(g.hasEagerState=!0,g.eagerState=I,qs(I,S))return Fd(a,l,g,0),Si===null&&qd(),!1}catch{}finally{}if(u=Tg(a,l,g,c),u!==null)return $s(u,a,c),h0(u,l,c),!0}return!1}function op(a,l,u,c){if(c={lane:2,revertLane:Bp(),action:c,hasEagerState:!1,eagerState:null,next:null},tc(a)){if(l)throw Error(i(479))}else l=Tg(a,u,c,2),l!==null&&$s(l,a,2)}function tc(a){var l=a.alternate;return a===Lt||l!==null&&l===Lt}function u0(a,l){il=Kd=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function h0(a,l,u){if((u&4194048)!==0){var c=l.lanes;c&=a.pendingLanes,u|=c,l.lanes=u,ne(a,u)}}var ic={readContext:As,use:Yd,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useLayoutEffect:Qi,useInsertionEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useDeferredValue:Qi,useTransition:Qi,useSyncExternalStore:Qi,useId:Qi,useHostTransitionStatus:Qi,useFormState:Qi,useActionState:Qi,useOptimistic:Qi,useMemoCache:Qi,useCacheRefresh:Qi},d0={readContext:As,use:Yd,useCallback:function(a,l){return Qs().memoizedState=[a,l===void 0?null:l],a},useContext:As,useEffect:Zy,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,ec(4194308,4,Jy.bind(null,l,a),u)},useLayoutEffect:function(a,l){return ec(4194308,4,a,l)},useInsertionEffect:function(a,l){ec(4,2,a,l)},useMemo:function(a,l){var u=Qs();l=l===void 0?null:l;var c=a();if(go){bi(!0);try{a()}finally{bi(!1)}}return u.memoizedState=[c,l],c},useReducer:function(a,l,u){var c=Qs();if(u!==void 0){var g=u(l);if(go){bi(!0);try{u(l)}finally{bi(!1)}}}else g=l;return c.memoizedState=c.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},c.queue=a,a=a.dispatch=yx.bind(null,Lt,a),[c.memoizedState,a]},useRef:function(a){var l=Qs();return a={current:a},l.memoizedState=a},useState:function(a){a=tp(a);var l=a.queue,u=l0.bind(null,Lt,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:sp,useDeferredValue:function(a,l){var u=Qs();return rp(u,a,l)},useTransition:function(){var a=tp(!1);return a=s0.bind(null,Lt,a.queue,!0,!1),Qs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var c=Lt,g=Qs();if(ei){if(u===void 0)throw Error(i(407));u=u()}else{if(u=l(),Si===null)throw Error(i(349));(Gt&124)!==0||Ly(c,l,u)}g.memoizedState=u;var m={value:u,getSnapshot:l};return g.queue=m,Zy(My.bind(null,c,m,a),[a]),c.flags|=2048,rl(9,$d(),Oy.bind(null,c,m,u,l),null),u},useId:function(){var a=Qs(),l=Si.identifierPrefix;if(ei){var u=En,c=Sn;u=(c&~(1<<32-xi(c)-1)).toString(32)+u,l="«"+l+"R"+u,u=Xd++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=cx++,l="«"+l+"r"+u.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:ap,useFormState:Uy,useActionState:Uy,useOptimistic:function(a){var l=Qs();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=op.bind(null,Lt,!0,u),u.dispatch=l,[a,l]},useMemoCache:Jg,useCacheRefresh:function(){return Qs().memoizedState=vx.bind(null,Lt)}},c0={readContext:As,use:Yd,useCallback:e0,useContext:As,useEffect:Ky,useImperativeHandle:$y,useInsertionEffect:Xy,useLayoutEffect:Yy,useMemo:t0,useReducer:Jd,useRef:Gy,useState:function(){return Jd(Pn)},useDebugValue:sp,useDeferredValue:function(a,l){var u=Ki();return i0(u,pi.memoizedState,a,l)},useTransition:function(){var a=Jd(Pn)[0],l=Ki().memoizedState;return[typeof a=="boolean"?a:zu(a),l]},useSyncExternalStore:Dy,useId:a0,useHostTransitionStatus:ap,useFormState:_y,useActionState:_y,useOptimistic:function(a,l){var u=Ki();return qy(u,pi,a,l)},useMemoCache:Jg,useCacheRefresh:o0},Cx={readContext:As,use:Yd,useCallback:e0,useContext:As,useEffect:Ky,useImperativeHandle:$y,useInsertionEffect:Xy,useLayoutEffect:Yy,useMemo:t0,useReducer:ep,useRef:Gy,useState:function(){return ep(Pn)},useDebugValue:sp,useDeferredValue:function(a,l){var u=Ki();return pi===null?rp(u,a,l):i0(u,pi.memoizedState,a,l)},useTransition:function(){var a=ep(Pn)[0],l=Ki().memoizedState;return[typeof a=="boolean"?a:zu(a),l]},useSyncExternalStore:Dy,useId:a0,useHostTransitionStatus:ap,useFormState:jy,useActionState:jy,useOptimistic:function(a,l){var u=Ki();return pi!==null?qy(u,pi,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Jg,useCacheRefresh:o0},nl=null,Uu=0;function sc(a){var l=Uu;return Uu+=1,nl===null&&(nl=[]),Vy(nl,a,l)}function _u(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function rc(a,l){throw l.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function f0(a){var l=a._init;return l(a._payload)}function g0(a){function l(J,j){if(a){var ie=J.deletions;ie===null?(J.deletions=[j],J.flags|=16):ie.push(j)}}function u(J,j){if(!a)return null;for(;j!==null;)l(J,j),j=j.sibling;return null}function c(J){for(var j=new Map;J!==null;)J.key!==null?j.set(J.key,J):j.set(J.index,J),J=J.sibling;return j}function g(J,j){return J=Vn(J,j),J.index=0,J.sibling=null,J}function m(J,j,ie){return J.index=ie,a?(ie=J.alternate,ie!==null?(ie=ie.index,ie<j?(J.flags|=67108866,j):ie):(J.flags|=67108866,j)):(J.flags|=1048576,j)}function S(J){return a&&J.alternate===null&&(J.flags|=67108866),J}function I(J,j,ie,ye){return j===null||j.tag!==6?(j=Pg(ie,J.mode,ye),j.return=J,j):(j=g(j,ie),j.return=J,j)}function B(J,j,ie,ye){var Ye=ie.type;return Ye===T?ve(J,j,ie.props.children,ye,ie.key):j!==null&&(j.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===pe&&f0(Ye)===j.type)?(j=g(j,ie.props),_u(j,ie),j.return=J,j):(j=zd(ie.type,ie.key,ie.props,null,J.mode,ye),_u(j,ie),j.return=J,j)}function se(J,j,ie,ye){return j===null||j.tag!==4||j.stateNode.containerInfo!==ie.containerInfo||j.stateNode.implementation!==ie.implementation?(j=Ig(ie,J.mode,ye),j.return=J,j):(j=g(j,ie.children||[]),j.return=J,j)}function ve(J,j,ie,ye,Ye){return j===null||j.tag!==7?(j=no(ie,J.mode,ye,Ye),j.return=J,j):(j=g(j,ie),j.return=J,j)}function be(J,j,ie){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Pg(""+j,J.mode,ie),j.return=J,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return ie=zd(j.type,j.key,j.props,null,J.mode,ie),_u(ie,j),ie.return=J,ie;case w:return j=Ig(j,J.mode,ie),j.return=J,j;case pe:var ye=j._init;return j=ye(j._payload),be(J,j,ie)}if(Ne(j)||Re(j))return j=no(j,J.mode,ie,null),j.return=J,j;if(typeof j.then=="function")return be(J,sc(j),ie);if(j.$$typeof===H)return be(J,_d(J,j),ie);rc(J,j)}return null}function oe(J,j,ie,ye){var Ye=j!==null?j.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ye!==null?null:I(J,j,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return ie.key===Ye?B(J,j,ie,ye):null;case w:return ie.key===Ye?se(J,j,ie,ye):null;case pe:return Ye=ie._init,ie=Ye(ie._payload),oe(J,j,ie,ye)}if(Ne(ie)||Re(ie))return Ye!==null?null:ve(J,j,ie,ye,null);if(typeof ie.then=="function")return oe(J,j,sc(ie),ye);if(ie.$$typeof===H)return oe(J,j,_d(J,ie),ye);rc(J,ie)}return null}function ue(J,j,ie,ye,Ye){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return J=J.get(ie)||null,I(j,J,""+ye,Ye);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return J=J.get(ye.key===null?ie:ye.key)||null,B(j,J,ye,Ye);case w:return J=J.get(ye.key===null?ie:ye.key)||null,se(j,J,ye,Ye);case pe:var Mt=ye._init;return ye=Mt(ye._payload),ue(J,j,ie,ye,Ye)}if(Ne(ye)||Re(ye))return J=J.get(ie)||null,ve(j,J,ye,Ye,null);if(typeof ye.then=="function")return ue(J,j,ie,sc(ye),Ye);if(ye.$$typeof===H)return ue(J,j,ie,_d(j,ye),Ye);rc(j,ye)}return null}function pt(J,j,ie,ye){for(var Ye=null,Mt=null,at=j,dt=j=0,fs=null;at!==null&&dt<ie.length;dt++){at.index>dt?(fs=at,at=null):fs=at.sibling;var Jt=oe(J,at,ie[dt],ye);if(Jt===null){at===null&&(at=fs);break}a&&at&&Jt.alternate===null&&l(J,at),j=m(Jt,j,dt),Mt===null?Ye=Jt:Mt.sibling=Jt,Mt=Jt,at=fs}if(dt===ie.length)return u(J,at),ei&&oo(J,dt),Ye;if(at===null){for(;dt<ie.length;dt++)at=be(J,ie[dt],ye),at!==null&&(j=m(at,j,dt),Mt===null?Ye=at:Mt.sibling=at,Mt=at);return ei&&oo(J,dt),Ye}for(at=c(at);dt<ie.length;dt++)fs=ue(at,J,dt,ie[dt],ye),fs!==null&&(a&&fs.alternate!==null&&at.delete(fs.key===null?dt:fs.key),j=m(fs,j,dt),Mt===null?Ye=fs:Mt.sibling=fs,Mt=fs);return a&&at.forEach(function(Sa){return l(J,Sa)}),ei&&oo(J,dt),Ye}function ut(J,j,ie,ye){if(ie==null)throw Error(i(151));for(var Ye=null,Mt=null,at=j,dt=j=0,fs=null,Jt=ie.next();at!==null&&!Jt.done;dt++,Jt=ie.next()){at.index>dt?(fs=at,at=null):fs=at.sibling;var Sa=oe(J,at,Jt.value,ye);if(Sa===null){at===null&&(at=fs);break}a&&at&&Sa.alternate===null&&l(J,at),j=m(Sa,j,dt),Mt===null?Ye=Sa:Mt.sibling=Sa,Mt=Sa,at=fs}if(Jt.done)return u(J,at),ei&&oo(J,dt),Ye;if(at===null){for(;!Jt.done;dt++,Jt=ie.next())Jt=be(J,Jt.value,ye),Jt!==null&&(j=m(Jt,j,dt),Mt===null?Ye=Jt:Mt.sibling=Jt,Mt=Jt);return ei&&oo(J,dt),Ye}for(at=c(at);!Jt.done;dt++,Jt=ie.next())Jt=ue(at,J,dt,Jt.value,ye),Jt!==null&&(a&&Jt.alternate!==null&&at.delete(Jt.key===null?dt:Jt.key),j=m(Jt,j,dt),Mt===null?Ye=Jt:Mt.sibling=Jt,Mt=Jt);return a&&at.forEach(function(bV){return l(J,bV)}),ei&&oo(J,dt),Ye}function vi(J,j,ie,ye){if(typeof ie=="object"&&ie!==null&&ie.type===T&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:e:{for(var Ye=ie.key;j!==null;){if(j.key===Ye){if(Ye=ie.type,Ye===T){if(j.tag===7){u(J,j.sibling),ye=g(j,ie.props.children),ye.return=J,J=ye;break e}}else if(j.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===pe&&f0(Ye)===j.type){u(J,j.sibling),ye=g(j,ie.props),_u(ye,ie),ye.return=J,J=ye;break e}u(J,j);break}else l(J,j);j=j.sibling}ie.type===T?(ye=no(ie.props.children,J.mode,ye,ie.key),ye.return=J,J=ye):(ye=zd(ie.type,ie.key,ie.props,null,J.mode,ye),_u(ye,ie),ye.return=J,J=ye)}return S(J);case w:e:{for(Ye=ie.key;j!==null;){if(j.key===Ye)if(j.tag===4&&j.stateNode.containerInfo===ie.containerInfo&&j.stateNode.implementation===ie.implementation){u(J,j.sibling),ye=g(j,ie.children||[]),ye.return=J,J=ye;break e}else{u(J,j);break}else l(J,j);j=j.sibling}ye=Ig(ie,J.mode,ye),ye.return=J,J=ye}return S(J);case pe:return Ye=ie._init,ie=Ye(ie._payload),vi(J,j,ie,ye)}if(Ne(ie))return pt(J,j,ie,ye);if(Re(ie)){if(Ye=Re(ie),typeof Ye!="function")throw Error(i(150));return ie=Ye.call(ie),ut(J,j,ie,ye)}if(typeof ie.then=="function")return vi(J,j,sc(ie),ye);if(ie.$$typeof===H)return vi(J,j,_d(J,ie),ye);rc(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,j!==null&&j.tag===6?(u(J,j.sibling),ye=g(j,ie),ye.return=J,J=ye):(u(J,j),ye=Pg(ie,J.mode,ye),ye.return=J,J=ye),S(J)):u(J,j)}return function(J,j,ie,ye){try{Uu=0;var Ye=vi(J,j,ie,ye);return nl=null,Ye}catch(at){if(at===Mu||at===jd)throw at;var Mt=Zs(29,at,null,J.mode);return Mt.lanes=ye,Mt.return=J,Mt}finally{}}}var al=g0(!0),p0=g0(!1),mr=ge(null),en=null;function ua(a){var l=a.alternate;Pe(ts,ts.current&1),Pe(mr,a),en===null&&(l===null||tl.current!==null||l.memoizedState!==null)&&(en=a)}function m0(a){if(a.tag===22){if(Pe(ts,ts.current),Pe(mr,a),en===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(en=a)}}else ha()}function ha(){Pe(ts,ts.current),Pe(mr,mr.current)}function In(a){Ae(mr),en===a&&(en=null),Ae(ts)}var ts=ge(0);function nc(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Yp(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function lp(a,l,u,c){l=a.memoizedState,u=u(c,l),u=u==null?l:p({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var up={enqueueSetState:function(a,l,u){a=a._reactInternals;var c=Js(),g=aa(c);g.payload=l,u!=null&&(g.callback=u),l=oa(a,g,c),l!==null&&($s(l,a,c),ku(l,a,c))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var c=Js(),g=aa(c);g.tag=1,g.payload=l,u!=null&&(g.callback=u),l=oa(a,g,c),l!==null&&($s(l,a,c),ku(l,a,c))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=Js(),c=aa(u);c.tag=2,l!=null&&(c.callback=l),l=oa(a,c,u),l!==null&&($s(l,a,u),ku(l,a,u))}};function v0(a,l,u,c,g,m,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,m,S):l.prototype&&l.prototype.isPureReactComponent?!x(u,c)||!x(g,m):!0}function y0(a,l,u,c){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,c),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,c),l.state!==a&&up.enqueueReplaceState(l,l.state,null)}function po(a,l){var u=l;if("ref"in l){u={};for(var c in l)c!=="ref"&&(u[c]=l[c])}if(a=a.defaultProps){u===l&&(u=p({},u));for(var g in a)u[g]===void 0&&(u[g]=a[g])}return u}var ac=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function C0(a){ac(a)}function b0(a){console.error(a)}function w0(a){ac(a)}function oc(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(c){setTimeout(function(){throw c})}}function x0(a,l,u){try{var c=a.onCaughtError;c(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function hp(a,l,u){return u=aa(u),u.tag=3,u.payload={element:null},u.callback=function(){oc(a,l)},u}function V0(a){return a=aa(a),a.tag=3,a}function S0(a,l,u,c){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var m=c.value;a.payload=function(){return g(m)},a.callback=function(){x0(l,u,c)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){x0(l,u,c),typeof g!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function bx(a,l,u,c,g){if(u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(l=u.alternate,l!==null&&Du(l,u,g,!0),u=mr.current,u!==null){switch(u.tag){case 13:return en===null?Mp():u.alternate===null&&zi===0&&(zi=3),u.flags&=-257,u.flags|=65536,u.lanes=g,c===Bg?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([c]):l.add(c),kp(a,c,g)),!1;case 22:return u.flags|=65536,c===Bg?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([c])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([c]):u.add(c)),kp(a,c,g)),!1}throw Error(i(435,u.tag))}return kp(a,c,g),Mp(),!1}if(ei)return l=mr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,c!==Lg&&(a=Error(i(422),{cause:c}),Au(cr(a,u)))):(c!==Lg&&(l=Error(i(423),{cause:c}),Au(cr(l,u))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,c=cr(c,u),g=hp(a.stateNode,c,g),Qg(a,g),zi!==4&&(zi=2)),!1;var m=Error(i(520),{cause:c});if(m=cr(m,u),Yu===null?Yu=[m]:Yu.push(m),zi!==4&&(zi=2),l===null)return!0;c=cr(c,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=g&-g,u.lanes|=a,a=hp(u.stateNode,c,a),Qg(u,a),!1;case 1:if(l=u.type,m=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ma===null||!ma.has(m))))return u.flags|=65536,g&=-g,u.lanes|=g,g=V0(g),S0(g,a,u,c),Qg(u,g),!1}u=u.return}while(u!==null);return!1}var E0=Error(i(461)),ds=!1;function Cs(a,l,u,c){l.child=a===null?p0(l,null,u,c):al(l,a.child,u,c)}function T0(a,l,u,c,g){u=u.render;var m=l.ref;if("ref"in c){var S={};for(var I in c)I!=="ref"&&(S[I]=c[I])}else S=c;return co(l),c=Gg(a,l,u,S,m,g),I=Zg(),a!==null&&!ds?(Kg(a,l,g),An(a,l,g)):(ei&&I&&Ag(l),l.flags|=1,Cs(a,l,c,g),l.child)}function R0(a,l,u,c,g){if(a===null){var m=u.type;return typeof m=="function"&&!Rg(m)&&m.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=m,P0(a,l,m,c,g)):(a=zd(u.type,null,c,l,l.mode,g),a.ref=l.ref,a.return=l,l.child=a)}if(m=a.child,!yp(a,g)){var S=m.memoizedProps;if(u=u.compare,u=u!==null?u:x,u(S,c)&&a.ref===l.ref)return An(a,l,g)}return l.flags|=1,a=Vn(m,c),a.ref=l.ref,a.return=l,l.child=a}function P0(a,l,u,c,g){if(a!==null){var m=a.memoizedProps;if(x(m,c)&&a.ref===l.ref)if(ds=!1,l.pendingProps=c=m,yp(a,g))(a.flags&131072)!==0&&(ds=!0);else return l.lanes=a.lanes,An(a,l,g)}return dp(a,l,u,c,g)}function I0(a,l,u){var c=l.pendingProps,g=c.children,m=a!==null?a.memoizedState:null;if(c.mode==="hidden"){if((l.flags&128)!==0){if(c=m!==null?m.baseLanes|u:u,a!==null){for(g=l.child=a.child,m=0;g!==null;)m=m|g.lanes|g.childLanes,g=g.sibling;l.childLanes=m&~c}else l.childLanes=0,l.child=null;return A0(a,l,c,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Wd(l,m!==null?m.cachePool:null),m!==null?Py(l,m):_g(),m0(l);else return l.lanes=l.childLanes=536870912,A0(a,l,m!==null?m.baseLanes|u:u,u)}else m!==null?(Wd(l,m.cachePool),Py(l,m),ha(),l.memoizedState=null):(a!==null&&Wd(l,null),_g(),ha());return Cs(a,l,g,u),l.child}function A0(a,l,u,c){var g=Fg();return g=g===null?null:{parent:es._currentValue,pool:g},l.memoizedState={baseLanes:u,cachePool:g},a!==null&&Wd(l,null),_g(),m0(l),a!==null&&Du(a,l,c,!0),null}function lc(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function dp(a,l,u,c,g){return co(l),u=Gg(a,l,u,c,void 0,g),c=Zg(),a!==null&&!ds?(Kg(a,l,g),An(a,l,g)):(ei&&c&&Ag(l),l.flags|=1,Cs(a,l,u,g),l.child)}function D0(a,l,u,c,g,m){return co(l),l.updateQueue=null,u=Ay(l,c,u,g),Iy(a),c=Zg(),a!==null&&!ds?(Kg(a,l,m),An(a,l,m)):(ei&&c&&Ag(l),l.flags|=1,Cs(a,l,u,m),l.child)}function L0(a,l,u,c,g){if(co(l),l.stateNode===null){var m=Xo,S=u.contextType;typeof S=="object"&&S!==null&&(m=As(S)),m=new u(c,m),l.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=up,l.stateNode=m,m._reactInternals=l,m=l.stateNode,m.props=c,m.state=l.memoizedState,m.refs={},zg(l),S=u.contextType,m.context=typeof S=="object"&&S!==null?As(S):Xo,m.state=l.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(lp(l,u,S,c),m.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&up.enqueueReplaceState(m,m.state,null),Fu(l,c,m,g),qu(),m.state=l.memoizedState),typeof m.componentDidMount=="function"&&(l.flags|=4194308),c=!0}else if(a===null){m=l.stateNode;var I=l.memoizedProps,B=po(u,I);m.props=B;var se=m.context,ve=u.contextType;S=Xo,typeof ve=="object"&&ve!==null&&(S=As(ve));var be=u.getDerivedStateFromProps;ve=typeof be=="function"||typeof m.getSnapshotBeforeUpdate=="function",I=l.pendingProps!==I,ve||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(I||se!==S)&&y0(l,m,c,S),na=!1;var oe=l.memoizedState;m.state=oe,Fu(l,c,m,g),qu(),se=l.memoizedState,I||oe!==se||na?(typeof be=="function"&&(lp(l,u,be,c),se=l.memoizedState),(B=na||v0(l,u,B,c,oe,se,S))?(ve||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(l.flags|=4194308)):(typeof m.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=c,l.memoizedState=se),m.props=c,m.state=se,m.context=S,c=B):(typeof m.componentDidMount=="function"&&(l.flags|=4194308),c=!1)}else{m=l.stateNode,Hg(a,l),S=l.memoizedProps,ve=po(u,S),m.props=ve,be=l.pendingProps,oe=m.context,se=u.contextType,B=Xo,typeof se=="object"&&se!==null&&(B=As(se)),I=u.getDerivedStateFromProps,(se=typeof I=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==be||oe!==B)&&y0(l,m,c,B),na=!1,oe=l.memoizedState,m.state=oe,Fu(l,c,m,g),qu();var ue=l.memoizedState;S!==be||oe!==ue||na||a!==null&&a.dependencies!==null&&Ud(a.dependencies)?(typeof I=="function"&&(lp(l,u,I,c),ue=l.memoizedState),(ve=na||v0(l,u,ve,c,oe,ue,B)||a!==null&&a.dependencies!==null&&Ud(a.dependencies))?(se||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,ue,B),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,ue,B)),typeof m.componentDidUpdate=="function"&&(l.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===a.memoizedProps&&oe===a.memoizedState||(l.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&oe===a.memoizedState||(l.flags|=1024),l.memoizedProps=c,l.memoizedState=ue),m.props=c,m.state=ue,m.context=B,c=ve):(typeof m.componentDidUpdate!="function"||S===a.memoizedProps&&oe===a.memoizedState||(l.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&oe===a.memoizedState||(l.flags|=1024),c=!1)}return m=c,lc(a,l),c=(l.flags&128)!==0,m||c?(m=l.stateNode,u=c&&typeof u.getDerivedStateFromError!="function"?null:m.render(),l.flags|=1,a!==null&&c?(l.child=al(l,a.child,null,g),l.child=al(l,null,u,g)):Cs(a,l,u,g),l.memoizedState=m.state,a=l.child):a=An(a,l,g),a}function O0(a,l,u,c){return Iu(),l.flags|=256,Cs(a,l,u,c),l.child}var cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fp(a){return{baseLanes:a,cachePool:by()}}function gp(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=vr),a}function M0(a,l,u){var c=l.pendingProps,g=!1,m=(l.flags&128)!==0,S;if((S=m)||(S=a!==null&&a.memoizedState===null?!1:(ts.current&2)!==0),S&&(g=!0,l.flags&=-129),S=(l.flags&32)!==0,l.flags&=-33,a===null){if(ei){if(g?ua(l):ha(),ei){var I=Bi,B;if(B=I){e:{for(B=I,I=$r;B.nodeType!==8;){if(!I){I=null;break e}if(B=Hr(B.nextSibling),B===null){I=null;break e}}I=B}I!==null?(l.memoizedState={dehydrated:I,treeContext:ao!==null?{id:Sn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},B=Zs(18,null,null,0),B.stateNode=I,B.return=l,l.child=B,Fs=l,Bi=null,B=!0):B=!1}B||uo(l)}if(I=l.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Yp(I)?l.lanes=32:l.lanes=536870912,null;In(l)}return I=c.children,c=c.fallback,g?(ha(),g=l.mode,I=uc({mode:"hidden",children:I},g),c=no(c,g,u,null),I.return=l,c.return=l,I.sibling=c,l.child=I,g=l.child,g.memoizedState=fp(u),g.childLanes=gp(a,S,u),l.memoizedState=cp,c):(ua(l),pp(l,I))}if(B=a.memoizedState,B!==null&&(I=B.dehydrated,I!==null)){if(m)l.flags&256?(ua(l),l.flags&=-257,l=mp(a,l,u)):l.memoizedState!==null?(ha(),l.child=a.child,l.flags|=128,l=null):(ha(),g=c.fallback,I=l.mode,c=uc({mode:"visible",children:c.children},I),g=no(g,I,u,null),g.flags|=2,c.return=l,g.return=l,c.sibling=g,l.child=c,al(l,a.child,null,u),c=l.child,c.memoizedState=fp(u),c.childLanes=gp(a,S,u),l.memoizedState=cp,l=g);else if(ua(l),Yp(I)){if(S=I.nextSibling&&I.nextSibling.dataset,S)var se=S.dgst;S=se,c=Error(i(419)),c.stack="",c.digest=S,Au({value:c,source:null,stack:null}),l=mp(a,l,u)}else if(ds||Du(a,l,u,!1),S=(u&a.childLanes)!==0,ds||S){if(S=Si,S!==null&&(c=u&-u,c=(c&42)!==0?1:Xe(c),c=(c&(S.suspendedLanes|u))!==0?0:c,c!==0&&c!==B.retryLane))throw B.retryLane=c,Ko(a,c),$s(S,a,c),E0;I.data==="$?"||Mp(),l=mp(a,l,u)}else I.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=B.treeContext,Bi=Hr(I.nextSibling),Fs=l,ei=!0,lo=null,$r=!1,a!==null&&(gr[pr++]=Sn,gr[pr++]=En,gr[pr++]=ao,Sn=a.id,En=a.overflow,ao=l),l=pp(l,c.children),l.flags|=4096);return l}return g?(ha(),g=c.fallback,I=l.mode,B=a.child,se=B.sibling,c=Vn(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,se!==null?g=Vn(se,g):(g=no(g,I,u,null),g.flags|=2),g.return=l,c.return=l,c.sibling=g,l.child=c,c=g,g=l.child,I=a.child.memoizedState,I===null?I=fp(u):(B=I.cachePool,B!==null?(se=es._currentValue,B=B.parent!==se?{parent:se,pool:se}:B):B=by(),I={baseLanes:I.baseLanes|u,cachePool:B}),g.memoizedState=I,g.childLanes=gp(a,S,u),l.memoizedState=cp,c):(ua(l),u=a.child,a=u.sibling,u=Vn(u,{mode:"visible",children:c.children}),u.return=l,u.sibling=null,a!==null&&(S=l.deletions,S===null?(l.deletions=[a],l.flags|=16):S.push(a)),l.child=u,l.memoizedState=null,u)}function pp(a,l){return l=uc({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function uc(a,l){return a=Zs(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function mp(a,l,u){return al(l,a.child,null,u),a=pp(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function N0(a,l,u){a.lanes|=l;var c=a.alternate;c!==null&&(c.lanes|=l),Mg(a.return,l,u)}function vp(a,l,u,c,g){var m=a.memoizedState;m===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:c,tail:u,tailMode:g}:(m.isBackwards=l,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=u,m.tailMode=g)}function k0(a,l,u){var c=l.pendingProps,g=c.revealOrder,m=c.tail;if(Cs(a,l,c.children,u),c=ts.current,(c&2)!==0)c=c&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&N0(a,u,l);else if(a.tag===19)N0(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}switch(Pe(ts,c),g){case"forwards":for(u=l.child,g=null;u!==null;)a=u.alternate,a!==null&&nc(a)===null&&(g=u),u=u.sibling;u=g,u===null?(g=l.child,l.child=null):(g=u.sibling,u.sibling=null),vp(l,!1,g,u,m);break;case"backwards":for(u=null,g=l.child,l.child=null;g!==null;){if(a=g.alternate,a!==null&&nc(a)===null){l.child=g;break}a=g.sibling,g.sibling=u,u=g,g=a}vp(l,!0,u,null,m);break;case"together":vp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function An(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),pa|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(Du(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,u=Vn(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=Vn(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function yp(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Ud(a)))}function wx(a,l,u){switch(l.tag){case 3:Be(l,l.stateNode.containerInfo),ra(l,es,a.memoizedState.cache),Iu();break;case 27:case 5:Fi(l);break;case 4:Be(l,l.stateNode.containerInfo);break;case 10:ra(l,l.type,l.memoizedProps.value);break;case 13:var c=l.memoizedState;if(c!==null)return c.dehydrated!==null?(ua(l),l.flags|=128,null):(u&l.child.childLanes)!==0?M0(a,l,u):(ua(l),a=An(a,l,u),a!==null?a.sibling:null);ua(l);break;case 19:var g=(a.flags&128)!==0;if(c=(u&l.childLanes)!==0,c||(Du(a,l,u,!1),c=(u&l.childLanes)!==0),g){if(c)return k0(a,l,u);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Pe(ts,ts.current),c)break;return null;case 22:case 23:return l.lanes=0,I0(a,l,u);case 24:ra(l,es,a.memoizedState.cache)}return An(a,l,u)}function q0(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)ds=!0;else{if(!yp(a,u)&&(l.flags&128)===0)return ds=!1,wx(a,l,u);ds=(a.flags&131072)!==0}else ds=!1,ei&&(l.flags&1048576)!==0&&fy(l,Qd,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var c=l.elementType,g=c._init;if(c=g(c._payload),l.type=c,typeof c=="function")Rg(c)?(a=po(c,a),l.tag=1,l=L0(null,l,c,a,u)):(l.tag=0,l=dp(null,l,c,a,u));else{if(c!=null){if(g=c.$$typeof,g===ee){l.tag=11,l=T0(null,l,c,a,u);break e}else if(g===K){l.tag=14,l=R0(null,l,c,a,u);break e}}throw l=ke(c)||c,Error(i(306,l,""))}}return l;case 0:return dp(a,l,l.type,l.pendingProps,u);case 1:return c=l.type,g=po(c,l.pendingProps),L0(a,l,c,g,u);case 3:e:{if(Be(l,l.stateNode.containerInfo),a===null)throw Error(i(387));c=l.pendingProps;var m=l.memoizedState;g=m.element,Hg(a,l),Fu(l,c,null,u);var S=l.memoizedState;if(c=S.cache,ra(l,es,c),c!==m.cache&&Ng(l,[es],u,!0),qu(),c=S.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:S.cache},l.updateQueue.baseState=m,l.memoizedState=m,l.flags&256){l=O0(a,l,c,u);break e}else if(c!==g){g=cr(Error(i(424)),l),Au(g),l=O0(a,l,c,u);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Bi=Hr(a.firstChild),Fs=l,ei=!0,lo=null,$r=!0,u=p0(l,null,c,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Iu(),c===g){l=An(a,l,u);break e}Cs(a,l,c,u)}l=l.child}return l;case 26:return lc(a,l),a===null?(u=H1(l.type,null,l.pendingProps,null))?l.memoizedState=u:ei||(u=l.type,a=l.pendingProps,c=Vc(Fe.current).createElement(u),c[Pt]=l,c[lt]=a,ws(c,u,a),Gi(c),l.stateNode=c):l.memoizedState=H1(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Fi(l),a===null&&ei&&(c=l.stateNode=F1(l.type,l.pendingProps,Fe.current),Fs=l,$r=!0,g=Bi,Ca(l.type)?(Jp=g,Bi=Hr(c.firstChild)):Bi=g),Cs(a,l,l.pendingProps.children,u),lc(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&ei&&((g=c=Bi)&&(c=Kx(c,l.type,l.pendingProps,$r),c!==null?(l.stateNode=c,Fs=l,Bi=Hr(c.firstChild),$r=!1,g=!0):g=!1),g||uo(l)),Fi(l),g=l.type,m=l.pendingProps,S=a!==null?a.memoizedProps:null,c=m.children,Zp(g,m)?c=null:S!==null&&Zp(g,S)&&(l.flags|=32),l.memoizedState!==null&&(g=Gg(a,l,fx,null,null,u),ah._currentValue=g),lc(a,l),Cs(a,l,c,u),l.child;case 6:return a===null&&ei&&((a=u=Bi)&&(u=Xx(u,l.pendingProps,$r),u!==null?(l.stateNode=u,Fs=l,Bi=null,a=!0):a=!1),a||uo(l)),null;case 13:return M0(a,l,u);case 4:return Be(l,l.stateNode.containerInfo),c=l.pendingProps,a===null?l.child=al(l,null,c,u):Cs(a,l,c,u),l.child;case 11:return T0(a,l,l.type,l.pendingProps,u);case 7:return Cs(a,l,l.pendingProps,u),l.child;case 8:return Cs(a,l,l.pendingProps.children,u),l.child;case 12:return Cs(a,l,l.pendingProps.children,u),l.child;case 10:return c=l.pendingProps,ra(l,l.type,c.value),Cs(a,l,c.children,u),l.child;case 9:return g=l.type._context,c=l.pendingProps.children,co(l),g=As(g),c=c(g),l.flags|=1,Cs(a,l,c,u),l.child;case 14:return R0(a,l,l.type,l.pendingProps,u);case 15:return P0(a,l,l.type,l.pendingProps,u);case 19:return k0(a,l,u);case 31:return c=l.pendingProps,u=l.mode,c={mode:c.mode,children:c.children},a===null?(u=uc(c,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Vn(a.child,c),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return I0(a,l,u);case 24:return co(l),c=As(es),a===null?(g=Fg(),g===null&&(g=Si,m=kg(),g.pooledCache=m,m.refCount++,m!==null&&(g.pooledCacheLanes|=u),g=m),l.memoizedState={parent:c,cache:g},zg(l),ra(l,es,g)):((a.lanes&u)!==0&&(Hg(a,l),Fu(l,null,null,u),qu()),g=a.memoizedState,m=l.memoizedState,g.parent!==c?(g={parent:c,cache:c},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),ra(l,es,c)):(c=m.cache,ra(l,es,c),c!==g.cache&&Ng(l,[es],u,!0))),Cs(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Dn(a){a.flags|=4}function F0(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!j1(l)){if(l=mr.current,l!==null&&((Gt&4194048)===Gt?en!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||l!==en))throw Nu=Bg,wy;a.flags|=8192}}function hc(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?C():536870912,a.lanes|=l,hl|=l)}function Wu(a,l){if(!ei)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var c=null;u!==null;)u.alternate!==null&&(c=u),u=u.sibling;c===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function Ni(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,c=0;if(l)for(var g=a.child;g!==null;)u|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)u|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=c,a.childLanes=u,l}function xx(a,l,u){var c=l.pendingProps;switch(Dg(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ni(l),null;case 1:return Ni(l),null;case 3:return u=l.stateNode,c=null,a!==null&&(c=a.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Rn(es),ui(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Pu(l)?Dn(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,my())),Ni(l),null;case 26:return u=l.memoizedState,a===null?(Dn(l),u!==null?(Ni(l),F0(l,u)):(Ni(l),l.flags&=-16777217)):u?u!==a.memoizedState?(Dn(l),Ni(l),F0(l,u)):(Ni(l),l.flags&=-16777217):(a.memoizedProps!==c&&Dn(l),Ni(l),l.flags&=-16777217),null;case 27:$i(l),u=Fe.current;var g=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==c&&Dn(l);else{if(!c){if(l.stateNode===null)throw Error(i(166));return Ni(l),null}a=qe.current,Pu(l)?gy(l):(a=F1(g,c,u),l.stateNode=a,Dn(l))}return Ni(l),null;case 5:if($i(l),u=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==c&&Dn(l);else{if(!c){if(l.stateNode===null)throw Error(i(166));return Ni(l),null}if(a=qe.current,Pu(l))gy(l);else{switch(g=Vc(Fe.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?a.multiple=!0:c.size&&(a.size=c.size);break;default:a=typeof c.is=="string"?g.createElement(u,{is:c.is}):g.createElement(u)}}a[Pt]=l,a[lt]=c;e:for(g=l.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break e;for(;g.sibling===null;){if(g.return===null||g.return===l)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}l.stateNode=a;e:switch(ws(a,u,c),u){case"button":case"input":case"select":case"textarea":a=!!c.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Dn(l)}}return Ni(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==c&&Dn(l);else{if(typeof c!="string"&&l.stateNode===null)throw Error(i(166));if(a=Fe.current,Pu(l)){if(a=l.stateNode,u=l.memoizedProps,c=null,g=Fs,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}a[Pt]=l,a=!!(a.nodeValue===u||c!==null&&c.suppressHydrationWarning===!0||D1(a.nodeValue,u)),a||uo(l)}else a=Vc(a).createTextNode(c),a[Pt]=l,l.stateNode=a}return Ni(l),null;case 13:if(c=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Pu(l),c!==null&&c.dehydrated!==null){if(a===null){if(!g)throw Error(i(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Pt]=l}else Iu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ni(l),g=!1}else g=my(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(In(l),l):(In(l),null)}if(In(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=c!==null,a=a!==null&&a.memoizedState!==null,u){c=l.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==g&&(c.flags|=2048)}return u!==a&&u&&(l.child.flags|=8192),hc(l,l.updateQueue),Ni(l),null;case 4:return ui(),a===null&&Up(l.stateNode.containerInfo),Ni(l),null;case 10:return Rn(l.type),Ni(l),null;case 19:if(Ae(ts),g=l.memoizedState,g===null)return Ni(l),null;if(c=(l.flags&128)!==0,m=g.rendering,m===null)if(c)Wu(g,!1);else{if(zi!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(m=nc(a),m!==null){for(l.flags|=128,Wu(g,!1),a=m.updateQueue,l.updateQueue=a,hc(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)cy(u,a),u=u.sibling;return Pe(ts,ts.current&1|2),l.child}a=a.sibling}g.tail!==null&&Ft()>fc&&(l.flags|=128,c=!0,Wu(g,!1),l.lanes=4194304)}else{if(!c)if(a=nc(m),a!==null){if(l.flags|=128,c=!0,a=a.updateQueue,l.updateQueue=a,hc(l,a),Wu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!m.alternate&&!ei)return Ni(l),null}else 2*Ft()-g.renderingStartTime>fc&&u!==536870912&&(l.flags|=128,c=!0,Wu(g,!1),l.lanes=4194304);g.isBackwards?(m.sibling=l.child,l.child=m):(a=g.last,a!==null?a.sibling=m:l.child=m,g.last=m)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=Ft(),l.sibling=null,a=ts.current,Pe(ts,c?a&1|2:a&1),l):(Ni(l),null);case 22:case 23:return In(l),Wg(),c=l.memoizedState!==null,a!==null?a.memoizedState!==null!==c&&(l.flags|=8192):c&&(l.flags|=8192),c?(u&536870912)!==0&&(l.flags&128)===0&&(Ni(l),l.subtreeFlags&6&&(l.flags|=8192)):Ni(l),u=l.updateQueue,u!==null&&hc(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==u&&(l.flags|=2048),a!==null&&Ae(fo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Rn(es),Ni(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function Vx(a,l){switch(Dg(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Rn(es),ui(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return $i(l),null;case 13:if(In(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Iu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Ae(ts),null;case 4:return ui(),null;case 10:return Rn(l.type),null;case 22:case 23:return In(l),Wg(),a!==null&&Ae(fo),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Rn(es),null;case 25:return null;default:return null}}function B0(a,l){switch(Dg(l),l.tag){case 3:Rn(es),ui();break;case 26:case 27:case 5:$i(l);break;case 4:ui();break;case 13:In(l);break;case 19:Ae(ts);break;case 10:Rn(l.type);break;case 22:case 23:In(l),Wg(),a!==null&&Ae(fo);break;case 24:Rn(es)}}function ju(a,l){try{var u=l.updateQueue,c=u!==null?u.lastEffect:null;if(c!==null){var g=c.next;u=g;do{if((u.tag&a)===a){c=void 0;var m=u.create,S=u.inst;c=m(),S.destroy=c}u=u.next}while(u!==g)}}catch(I){wi(l,l.return,I)}}function da(a,l,u){try{var c=l.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var m=g.next;c=m;do{if((c.tag&a)===a){var S=c.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,g=l;var B=u,se=I;try{se()}catch(ve){wi(g,B,ve)}}}c=c.next}while(c!==m)}}catch(ve){wi(l,l.return,ve)}}function z0(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{Ry(l,u)}catch(c){wi(a,a.return,c)}}}function H0(a,l,u){u.props=po(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(c){wi(a,l,c)}}function Gu(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var c=a.stateNode;break;case 30:c=a.stateNode;break;default:c=a.stateNode}typeof u=="function"?a.refCleanup=u(c):u.current=c}}catch(g){wi(a,l,g)}}function tn(a,l){var u=a.ref,c=a.refCleanup;if(u!==null)if(typeof c=="function")try{c()}catch(g){wi(a,l,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){wi(a,l,g)}else u.current=null}function Q0(a){var l=a.type,u=a.memoizedProps,c=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&c.focus();break e;case"img":u.src?c.src=u.src:u.srcSet&&(c.srcset=u.srcSet)}}catch(g){wi(a,a.return,g)}}function Cp(a,l,u){try{var c=a.stateNode;_x(c,a.type,u,l),c[lt]=l}catch(g){wi(a,a.return,g)}}function U0(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ca(a.type)||a.tag===4}function bp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||U0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ca(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function wp(a,l,u){var c=a.tag;if(c===5||c===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=xc));else if(c!==4&&(c===27&&Ca(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(wp(a,l,u),a=a.sibling;a!==null;)wp(a,l,u),a=a.sibling}function dc(a,l,u){var c=a.tag;if(c===5||c===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(c!==4&&(c===27&&Ca(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(dc(a,l,u),a=a.sibling;a!==null;)dc(a,l,u),a=a.sibling}function _0(a){var l=a.stateNode,u=a.memoizedProps;try{for(var c=a.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);ws(l,c,u),l[Pt]=a,l[lt]=u}catch(m){wi(a,a.return,m)}}var Ln=!1,Ui=!1,xp=!1,W0=typeof WeakSet=="function"?WeakSet:Set,cs=null;function Sx(a,l){if(a=a.containerInfo,jp=Ic,a=re(a),Te(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&c.rangeCount!==0){u=c.anchorNode;var g=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{u.nodeType,m.nodeType}catch{u=null;break e}var S=0,I=-1,B=-1,se=0,ve=0,be=a,oe=null;t:for(;;){for(var ue;be!==u||g!==0&&be.nodeType!==3||(I=S+g),be!==m||c!==0&&be.nodeType!==3||(B=S+c),be.nodeType===3&&(S+=be.nodeValue.length),(ue=be.firstChild)!==null;)oe=be,be=ue;for(;;){if(be===a)break t;if(oe===u&&++se===g&&(I=S),oe===m&&++ve===c&&(B=S),(ue=be.nextSibling)!==null)break;be=oe,oe=be.parentNode}be=ue}u=I===-1||B===-1?null:{start:I,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(Gp={focusedElem:a,selectionRange:u},Ic=!1,cs=l;cs!==null;)if(l=cs,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,cs=a;else for(;cs!==null;){switch(l=cs,m=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&m!==null){a=void 0,u=l,g=m.memoizedProps,m=m.memoizedState,c=u.stateNode;try{var pt=po(u.type,g,u.elementType===u.type);a=c.getSnapshotBeforeUpdate(pt,m),c.__reactInternalSnapshotBeforeUpdate=a}catch(ut){wi(u,u.return,ut)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)Xp(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Xp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,cs=a;break}cs=l.return}}function j0(a,l,u){var c=u.flags;switch(u.tag){case 0:case 11:case 15:ca(a,u),c&4&&ju(5,u);break;case 1:if(ca(a,u),c&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(S){wi(u,u.return,S)}else{var g=po(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(g,l,a.__reactInternalSnapshotBeforeUpdate)}catch(S){wi(u,u.return,S)}}c&64&&z0(u),c&512&&Gu(u,u.return);break;case 3:if(ca(a,u),c&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Ry(a,l)}catch(S){wi(u,u.return,S)}}break;case 27:l===null&&c&4&&_0(u);case 26:case 5:ca(a,u),l===null&&c&4&&Q0(u),c&512&&Gu(u,u.return);break;case 12:ca(a,u);break;case 13:ca(a,u),c&4&&K0(a,u),c&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=Ox.bind(null,u),Yx(a,u))));break;case 22:if(c=u.memoizedState!==null||Ln,!c){l=l!==null&&l.memoizedState!==null||Ui,g=Ln;var m=Ui;Ln=c,(Ui=l)&&!m?fa(a,u,(u.subtreeFlags&8772)!==0):ca(a,u),Ln=g,Ui=m}break;case 30:break;default:ca(a,u)}}function G0(a){var l=a.alternate;l!==null&&(a.alternate=null,G0(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ls(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Di=null,Us=!1;function On(a,l,u){for(u=u.child;u!==null;)Z0(a,l,u),u=u.sibling}function Z0(a,l,u){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Hs,u)}catch{}switch(u.tag){case 26:Ui||tn(u,l),On(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ui||tn(u,l);var c=Di,g=Us;Ca(u.type)&&(Di=u.stateNode,Us=!1),On(a,l,u),ih(u.stateNode),Di=c,Us=g;break;case 5:Ui||tn(u,l);case 6:if(c=Di,g=Us,Di=null,On(a,l,u),Di=c,Us=g,Di!==null)if(Us)try{(Di.nodeType===9?Di.body:Di.nodeName==="HTML"?Di.ownerDocument.body:Di).removeChild(u.stateNode)}catch(m){wi(u,l,m)}else try{Di.removeChild(u.stateNode)}catch(m){wi(u,l,m)}break;case 18:Di!==null&&(Us?(a=Di,k1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),hh(a)):k1(Di,u.stateNode));break;case 4:c=Di,g=Us,Di=u.stateNode.containerInfo,Us=!0,On(a,l,u),Di=c,Us=g;break;case 0:case 11:case 14:case 15:Ui||da(2,u,l),Ui||da(4,u,l),On(a,l,u);break;case 1:Ui||(tn(u,l),c=u.stateNode,typeof c.componentWillUnmount=="function"&&H0(u,l,c)),On(a,l,u);break;case 21:On(a,l,u);break;case 22:Ui=(c=Ui)||u.memoizedState!==null,On(a,l,u),Ui=c;break;default:On(a,l,u)}}function K0(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{hh(a)}catch(u){wi(l,l.return,u)}}function Ex(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new W0),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new W0),l;default:throw Error(i(435,a.tag))}}function Vp(a,l){var u=Ex(a);l.forEach(function(c){var g=Mx.bind(null,a,c);u.has(c)||(u.add(c),c.then(g,g))})}function Ks(a,l){var u=l.deletions;if(u!==null)for(var c=0;c<u.length;c++){var g=u[c],m=a,S=l,I=S;e:for(;I!==null;){switch(I.tag){case 27:if(Ca(I.type)){Di=I.stateNode,Us=!1;break e}break;case 5:Di=I.stateNode,Us=!1;break e;case 3:case 4:Di=I.stateNode.containerInfo,Us=!0;break e}I=I.return}if(Di===null)throw Error(i(160));Z0(m,S,g),Di=null,Us=!1,m=g.alternate,m!==null&&(m.return=null),g.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)X0(l,a),l=l.sibling}var zr=null;function X0(a,l){var u=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ks(l,a),Xs(a),c&4&&(da(3,a,a.return),ju(3,a),da(5,a,a.return));break;case 1:Ks(l,a),Xs(a),c&512&&(Ui||u===null||tn(u,u.return)),c&64&&Ln&&(a=a.updateQueue,a!==null&&(c=a.callbacks,c!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?c:u.concat(c))));break;case 26:var g=zr;if(Ks(l,a),Xs(a),c&512&&(Ui||u===null||tn(u,u.return)),c&4){var m=u!==null?u.memoizedState:null;if(c=a.memoizedState,u===null)if(c===null)if(a.stateNode===null){e:{c=a.type,u=a.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":m=g.getElementsByTagName("title")[0],(!m||m[gi]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=g.createElement(c),g.head.insertBefore(m,g.querySelector("head > title"))),ws(m,c,u),m[Pt]=a,Gi(m),c=m;break e;case"link":var S=_1("link","href",g).get(c+(u.href||""));if(S){for(var I=0;I<S.length;I++)if(m=S[I],m.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&m.getAttribute("rel")===(u.rel==null?null:u.rel)&&m.getAttribute("title")===(u.title==null?null:u.title)&&m.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(I,1);break t}}m=g.createElement(c),ws(m,c,u),g.head.appendChild(m);break;case"meta":if(S=_1("meta","content",g).get(c+(u.content||""))){for(I=0;I<S.length;I++)if(m=S[I],m.getAttribute("content")===(u.content==null?null:""+u.content)&&m.getAttribute("name")===(u.name==null?null:u.name)&&m.getAttribute("property")===(u.property==null?null:u.property)&&m.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&m.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(I,1);break t}}m=g.createElement(c),ws(m,c,u),g.head.appendChild(m);break;default:throw Error(i(468,c))}m[Pt]=a,Gi(m),c=m}a.stateNode=c}else W1(g,a.type,a.stateNode);else a.stateNode=U1(g,c,a.memoizedProps);else m!==c?(m===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):m.count--,c===null?W1(g,a.type,a.stateNode):U1(g,c,a.memoizedProps)):c===null&&a.stateNode!==null&&Cp(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ks(l,a),Xs(a),c&512&&(Ui||u===null||tn(u,u.return)),u!==null&&c&4&&Cp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ks(l,a),Xs(a),c&512&&(Ui||u===null||tn(u,u.return)),a.flags&32){g=a.stateNode;try{vn(g,"")}catch(ue){wi(a,a.return,ue)}}c&4&&a.stateNode!=null&&(g=a.memoizedProps,Cp(a,g,u!==null?u.memoizedProps:g)),c&1024&&(xp=!0);break;case 6:if(Ks(l,a),Xs(a),c&4){if(a.stateNode===null)throw Error(i(162));c=a.memoizedProps,u=a.stateNode;try{u.nodeValue=c}catch(ue){wi(a,a.return,ue)}}break;case 3:if(Tc=null,g=zr,zr=Sc(l.containerInfo),Ks(l,a),zr=g,Xs(a),c&4&&u!==null&&u.memoizedState.isDehydrated)try{hh(l.containerInfo)}catch(ue){wi(a,a.return,ue)}xp&&(xp=!1,Y0(a));break;case 4:c=zr,zr=Sc(a.stateNode.containerInfo),Ks(l,a),Xs(a),zr=c;break;case 12:Ks(l,a),Xs(a);break;case 13:Ks(l,a),Xs(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ip=Ft()),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,Vp(a,c)));break;case 22:g=a.memoizedState!==null;var B=u!==null&&u.memoizedState!==null,se=Ln,ve=Ui;if(Ln=se||g,Ui=ve||B,Ks(l,a),Ui=ve,Ln=se,Xs(a),c&8192)e:for(l=a.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(u===null||B||Ln||Ui||mo(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){B=u=l;try{if(m=B.stateNode,g)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{I=B.stateNode;var be=B.memoizedProps.style,oe=be!=null&&be.hasOwnProperty("display")?be.display:null;I.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ue){wi(B,B.return,ue)}}}else if(l.tag===6){if(u===null){B=l;try{B.stateNode.nodeValue=g?"":B.memoizedProps}catch(ue){wi(B,B.return,ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}c&4&&(c=a.updateQueue,c!==null&&(u=c.retryQueue,u!==null&&(c.retryQueue=null,Vp(a,u))));break;case 19:Ks(l,a),Xs(a),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,Vp(a,c)));break;case 30:break;case 21:break;default:Ks(l,a),Xs(a)}}function Xs(a){var l=a.flags;if(l&2){try{for(var u,c=a.return;c!==null;){if(U0(c)){u=c;break}c=c.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,m=bp(a);dc(a,m,g);break;case 5:var S=u.stateNode;u.flags&32&&(vn(S,""),u.flags&=-33);var I=bp(a);dc(a,I,S);break;case 3:case 4:var B=u.stateNode.containerInfo,se=bp(a);wp(a,se,B);break;default:throw Error(i(161))}}catch(ve){wi(a,a.return,ve)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Y0(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Y0(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ca(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)j0(a,l.alternate,l),l=l.sibling}function mo(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:da(4,l,l.return),mo(l);break;case 1:tn(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&H0(l,l.return,u),mo(l);break;case 27:ih(l.stateNode);case 26:case 5:tn(l,l.return),mo(l);break;case 22:l.memoizedState===null&&mo(l);break;case 30:mo(l);break;default:mo(l)}a=a.sibling}}function fa(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var c=l.alternate,g=a,m=l,S=m.flags;switch(m.tag){case 0:case 11:case 15:fa(g,m,u),ju(4,m);break;case 1:if(fa(g,m,u),c=m,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(se){wi(c,c.return,se)}if(c=m,g=c.updateQueue,g!==null){var I=c.stateNode;try{var B=g.shared.hiddenCallbacks;if(B!==null)for(g.shared.hiddenCallbacks=null,g=0;g<B.length;g++)Ty(B[g],I)}catch(se){wi(c,c.return,se)}}u&&S&64&&z0(m),Gu(m,m.return);break;case 27:_0(m);case 26:case 5:fa(g,m,u),u&&c===null&&S&4&&Q0(m),Gu(m,m.return);break;case 12:fa(g,m,u);break;case 13:fa(g,m,u),u&&S&4&&K0(g,m);break;case 22:m.memoizedState===null&&fa(g,m,u),Gu(m,m.return);break;case 30:break;default:fa(g,m,u)}l=l.sibling}}function Sp(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Lu(u))}function Ep(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Lu(a))}function sn(a,l,u,c){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)J0(a,l,u,c),l=l.sibling}function J0(a,l,u,c){var g=l.flags;switch(l.tag){case 0:case 11:case 15:sn(a,l,u,c),g&2048&&ju(9,l);break;case 1:sn(a,l,u,c);break;case 3:sn(a,l,u,c),g&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Lu(a)));break;case 12:if(g&2048){sn(a,l,u,c),a=l.stateNode;try{var m=l.memoizedProps,S=m.id,I=m.onPostCommit;typeof I=="function"&&I(S,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){wi(l,l.return,B)}}else sn(a,l,u,c);break;case 13:sn(a,l,u,c);break;case 23:break;case 22:m=l.stateNode,S=l.alternate,l.memoizedState!==null?m._visibility&2?sn(a,l,u,c):Zu(a,l):m._visibility&2?sn(a,l,u,c):(m._visibility|=2,ol(a,l,u,c,(l.subtreeFlags&10256)!==0)),g&2048&&Sp(S,l);break;case 24:sn(a,l,u,c),g&2048&&Ep(l.alternate,l);break;default:sn(a,l,u,c)}}function ol(a,l,u,c,g){for(g=g&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var m=a,S=l,I=u,B=c,se=S.flags;switch(S.tag){case 0:case 11:case 15:ol(m,S,I,B,g),ju(8,S);break;case 23:break;case 22:var ve=S.stateNode;S.memoizedState!==null?ve._visibility&2?ol(m,S,I,B,g):Zu(m,S):(ve._visibility|=2,ol(m,S,I,B,g)),g&&se&2048&&Sp(S.alternate,S);break;case 24:ol(m,S,I,B,g),g&&se&2048&&Ep(S.alternate,S);break;default:ol(m,S,I,B,g)}l=l.sibling}}function Zu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,c=l,g=c.flags;switch(c.tag){case 22:Zu(u,c),g&2048&&Sp(c.alternate,c);break;case 24:Zu(u,c),g&2048&&Ep(c.alternate,c);break;default:Zu(u,c)}l=l.sibling}}var Ku=8192;function ll(a){if(a.subtreeFlags&Ku)for(a=a.child;a!==null;)$0(a),a=a.sibling}function $0(a){switch(a.tag){case 26:ll(a),a.flags&Ku&&a.memoizedState!==null&&hV(zr,a.memoizedState,a.memoizedProps);break;case 5:ll(a);break;case 3:case 4:var l=zr;zr=Sc(a.stateNode.containerInfo),ll(a),zr=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Ku,Ku=16777216,ll(a),Ku=l):ll(a));break;default:ll(a)}}function e1(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Xu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var c=l[u];cs=c,i1(c,a)}e1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)t1(a),a=a.sibling}function t1(a){switch(a.tag){case 0:case 11:case 15:Xu(a),a.flags&2048&&da(9,a,a.return);break;case 3:Xu(a);break;case 12:Xu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,cc(a)):Xu(a);break;default:Xu(a)}}function cc(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var c=l[u];cs=c,i1(c,a)}e1(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:da(8,l,l.return),cc(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,cc(l));break;default:cc(l)}a=a.sibling}}function i1(a,l){for(;cs!==null;){var u=cs;switch(u.tag){case 0:case 11:case 15:da(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var c=u.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Lu(u.memoizedState.cache)}if(c=u.child,c!==null)c.return=u,cs=c;else e:for(u=a;cs!==null;){c=cs;var g=c.sibling,m=c.return;if(G0(c),c===u){cs=null;break e}if(g!==null){g.return=m,cs=g;break e}cs=m}}}var Tx={getCacheForType:function(a){var l=As(es),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u}},Rx=typeof WeakMap=="function"?WeakMap:Map,di=0,Si=null,Nt=null,Gt=0,ci=0,Ys=null,ga=!1,ul=!1,Tp=!1,Mn=0,zi=0,pa=0,vo=0,Rp=0,vr=0,hl=0,Yu=null,_s=null,Pp=!1,Ip=0,fc=1/0,gc=null,ma=null,bs=0,va=null,dl=null,cl=0,Ap=0,Dp=null,s1=null,Ju=0,Lp=null;function Js(){if((di&2)!==0&&Gt!==0)return Gt&-Gt;if(_.T!==null){var a=$o;return a!==0?a:Bp()}return je()}function r1(){vr===0&&(vr=(Gt&536870912)===0||ei?ot():536870912);var a=mr.current;return a!==null&&(a.flags|=32),vr}function $s(a,l,u){(a===Si&&(ci===2||ci===9)||a.cancelPendingCommit!==null)&&(fl(a,0),ya(a,Gt,vr,!1)),de(a,u),((di&2)===0||a!==Si)&&(a===Si&&((di&2)===0&&(vo|=u),zi===4&&ya(a,Gt,vr,!1)),rn(a))}function n1(a,l,u){if((di&6)!==0)throw Error(i(327));var c=!u&&(l&124)===0&&(l&a.expiredLanes)===0||R(a,l),g=c?Ax(a,l):Np(a,l,!0),m=c;do{if(g===0){ul&&!c&&ya(a,l,0,!1);break}else{if(u=a.current.alternate,m&&!Px(u)){g=Np(a,l,!1),m=!1;continue}if(g===2){if(m=l,a.errorRecoveryDisabledLanes&m)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){l=S;e:{var I=a;g=Yu;var B=I.current.memoizedState.isDehydrated;if(B&&(fl(I,S).flags|=256),S=Np(I,S,!1),S!==2){if(Tp&&!B){I.errorRecoveryDisabledLanes|=m,vo|=m,g=4;break e}m=_s,_s=g,m!==null&&(_s===null?_s=m:_s.push.apply(_s,m))}g=S}if(m=!1,g!==2)continue}}if(g===1){fl(a,0),ya(a,l,0,!0);break}e:{switch(c=a,m=g,m){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:ya(c,l,vr,!ga);break e;case 2:_s=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(g=Ip+300-Ft(),10<g)){if(ya(c,l,vr,!ga),me(c,0,!0)!==0)break e;c.timeoutHandle=M1(a1.bind(null,c,u,_s,gc,Pp,l,vr,vo,hl,ga,m,2,-0,0),g);break e}a1(c,u,_s,gc,Pp,l,vr,vo,hl,ga,m,0,-0,0)}}break}while(!0);rn(a)}function a1(a,l,u,c,g,m,S,I,B,se,ve,be,oe,ue){if(a.timeoutHandle=-1,be=l.subtreeFlags,(be&8192||(be&16785408)===16785408)&&(nh={stylesheets:null,count:0,unsuspend:uV},$0(l),be=dV(),be!==null)){a.cancelPendingCommit=be(f1.bind(null,a,l,m,u,c,g,S,I,B,ve,1,oe,ue)),ya(a,m,S,!se);return}f1(a,l,m,u,c,g,S,I,B)}function Px(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var c=0;c<u.length;c++){var g=u[c],m=g.getSnapshot;g=g.value;try{if(!qs(m(),g))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ya(a,l,u,c){l&=~Rp,l&=~vo,a.suspendedLanes|=l,a.pingedLanes&=~l,c&&(a.warmLanes|=l),c=a.expirationTimes;for(var g=l;0<g;){var m=31-xi(g),S=1<<m;c[m]=-1,g&=~S}u!==0&&U(a,u,l)}function pc(){return(di&6)===0?($u(0),!1):!0}function Op(){if(Nt!==null){if(ci===0)var a=Nt.return;else a=Nt,Tn=ho=null,Xg(a),nl=null,Uu=0,a=Nt;for(;a!==null;)B0(a.alternate,a),a=a.return;Nt=null}}function fl(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,jx(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Op(),Si=a,Nt=u=Vn(a.current,null),Gt=l,ci=0,Ys=null,ga=!1,ul=R(a,l),Tp=!1,hl=vr=Rp=vo=pa=zi=0,_s=Yu=null,Pp=!1,(l&8)!==0&&(l|=l&32);var c=a.entangledLanes;if(c!==0)for(a=a.entanglements,c&=l;0<c;){var g=31-xi(c),m=1<<g;l|=a[g],c&=~m}return Mn=l,qd(),u}function o1(a,l){Lt=null,_.H=ic,l===Mu||l===jd?(l=Sy(),ci=3):l===wy?(l=Sy(),ci=4):ci=l===E0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ys=l,Nt===null&&(zi=1,oc(a,cr(l,a.current)))}function l1(){var a=_.H;return _.H=ic,a===null?ic:a}function u1(){var a=_.A;return _.A=Tx,a}function Mp(){zi=4,ga||(Gt&4194048)!==Gt&&mr.current!==null||(ul=!0),(pa&134217727)===0&&(vo&134217727)===0||Si===null||ya(Si,Gt,vr,!1)}function Np(a,l,u){var c=di;di|=2;var g=l1(),m=u1();(Si!==a||Gt!==l)&&(gc=null,fl(a,l)),l=!1;var S=zi;e:do try{if(ci!==0&&Nt!==null){var I=Nt,B=Ys;switch(ci){case 8:Op(),S=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(l=!0);var se=ci;if(ci=0,Ys=null,gl(a,I,B,se),u&&ul){S=0;break e}break;default:se=ci,ci=0,Ys=null,gl(a,I,B,se)}}Ix(),S=zi;break}catch(ve){o1(a,ve)}while(!0);return l&&a.shellSuspendCounter++,Tn=ho=null,di=c,_.H=g,_.A=m,Nt===null&&(Si=null,Gt=0,qd()),S}function Ix(){for(;Nt!==null;)h1(Nt)}function Ax(a,l){var u=di;di|=2;var c=l1(),g=u1();Si!==a||Gt!==l?(gc=null,fc=Ft()+500,fl(a,l)):ul=R(a,l);e:do try{if(ci!==0&&Nt!==null){l=Nt;var m=Ys;t:switch(ci){case 1:ci=0,Ys=null,gl(a,l,m,1);break;case 2:case 9:if(xy(m)){ci=0,Ys=null,d1(l);break}l=function(){ci!==2&&ci!==9||Si!==a||(ci=7),rn(a)},m.then(l,l);break e;case 3:ci=7;break e;case 4:ci=5;break e;case 7:xy(m)?(ci=0,Ys=null,d1(l)):(ci=0,Ys=null,gl(a,l,m,7));break;case 5:var S=null;switch(Nt.tag){case 26:S=Nt.memoizedState;case 5:case 27:var I=Nt;if(!S||j1(S)){ci=0,Ys=null;var B=I.sibling;if(B!==null)Nt=B;else{var se=I.return;se!==null?(Nt=se,mc(se)):Nt=null}break t}}ci=0,Ys=null,gl(a,l,m,5);break;case 6:ci=0,Ys=null,gl(a,l,m,6);break;case 8:Op(),zi=6;break e;default:throw Error(i(462))}}Dx();break}catch(ve){o1(a,ve)}while(!0);return Tn=ho=null,_.H=c,_.A=g,di=u,Nt!==null?0:(Si=null,Gt=0,qd(),zi)}function Dx(){for(;Nt!==null&&!Rs();)h1(Nt)}function h1(a){var l=q0(a.alternate,a,Mn);a.memoizedProps=a.pendingProps,l===null?mc(a):Nt=l}function d1(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=D0(u,l,l.pendingProps,l.type,void 0,Gt);break;case 11:l=D0(u,l,l.pendingProps,l.type.render,l.ref,Gt);break;case 5:Xg(l);default:B0(u,l),l=Nt=cy(l,Mn),l=q0(u,l,Mn)}a.memoizedProps=a.pendingProps,l===null?mc(a):Nt=l}function gl(a,l,u,c){Tn=ho=null,Xg(l),nl=null,Uu=0;var g=l.return;try{if(bx(a,g,l,u,Gt)){zi=1,oc(a,cr(u,a.current)),Nt=null;return}}catch(m){if(g!==null)throw Nt=g,m;zi=1,oc(a,cr(u,a.current)),Nt=null;return}l.flags&32768?(ei||c===1?a=!0:ul||(Gt&536870912)!==0?a=!1:(ga=a=!0,(c===2||c===9||c===3||c===6)&&(c=mr.current,c!==null&&c.tag===13&&(c.flags|=16384))),c1(l,a)):mc(l)}function mc(a){var l=a;do{if((l.flags&32768)!==0){c1(l,ga);return}a=l.return;var u=xx(l.alternate,l,Mn);if(u!==null){Nt=u;return}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=a}while(l!==null);zi===0&&(zi=5)}function c1(a,l){do{var u=Vx(a.alternate,a);if(u!==null){u.flags&=32767,Nt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){Nt=a;return}Nt=a=u}while(a!==null);zi=6,Nt=null}function f1(a,l,u,c,g,m,S,I,B){a.cancelPendingCommit=null;do vc();while(bs!==0);if((di&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(m=l.lanes|l.childLanes,m|=Eg,A(a,u,m,S,I,B),a===Si&&(Nt=Si=null,Gt=0),dl=l,va=a,cl=u,Ap=m,Dp=g,s1=c,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Nx(Os,function(){return y1(),null})):(a.callbackNode=null,a.callbackPriority=0),c=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||c){c=_.T,_.T=null,g=ae.p,ae.p=2,S=di,di|=4;try{Sx(a,l,u)}finally{di=S,ae.p=g,_.T=c}}bs=1,g1(),p1(),m1()}}function g1(){if(bs===1){bs=0;var a=va,l=dl,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=_.T,_.T=null;var c=ae.p;ae.p=2;var g=di;di|=4;try{X0(l,a);var m=Gp,S=re(a.containerInfo),I=m.focusedElem,B=m.selectionRange;if(S!==I&&I&&I.ownerDocument&&k(I.ownerDocument.documentElement,I)){if(B!==null&&Te(I)){var se=B.start,ve=B.end;if(ve===void 0&&(ve=se),"selectionStart"in I)I.selectionStart=se,I.selectionEnd=Math.min(ve,I.value.length);else{var be=I.ownerDocument||document,oe=be&&be.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),pt=I.textContent.length,ut=Math.min(B.start,pt),vi=B.end===void 0?ut:Math.min(B.end,pt);!ue.extend&&ut>vi&&(S=vi,vi=ut,ut=S);var J=$(I,ut),j=$(I,vi);if(J&&j&&(ue.rangeCount!==1||ue.anchorNode!==J.node||ue.anchorOffset!==J.offset||ue.focusNode!==j.node||ue.focusOffset!==j.offset)){var ie=be.createRange();ie.setStart(J.node,J.offset),ue.removeAllRanges(),ut>vi?(ue.addRange(ie),ue.extend(j.node,j.offset)):(ie.setEnd(j.node,j.offset),ue.addRange(ie))}}}}for(be=[],ue=I;ue=ue.parentNode;)ue.nodeType===1&&be.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<be.length;I++){var ye=be[I];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Ic=!!jp,Gp=jp=null}finally{di=g,ae.p=c,_.T=u}}a.current=l,bs=2}}function p1(){if(bs===2){bs=0;var a=va,l=dl,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=_.T,_.T=null;var c=ae.p;ae.p=2;var g=di;di|=4;try{j0(a,l.alternate,l)}finally{di=g,ae.p=c,_.T=u}}bs=3}}function m1(){if(bs===4||bs===3){bs=0,vs();var a=va,l=dl,u=cl,c=s1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?bs=5:(bs=0,dl=va=null,v1(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(ma=null),ze(u),l=l.stateNode,Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Hs,l,void 0,(l.current.flags&128)===128)}catch{}if(c!==null){l=_.T,g=ae.p,ae.p=2,_.T=null;try{for(var m=a.onRecoverableError,S=0;S<c.length;S++){var I=c[S];m(I.value,{componentStack:I.stack})}}finally{_.T=l,ae.p=g}}(cl&3)!==0&&vc(),rn(a),g=a.pendingLanes,(u&4194090)!==0&&(g&42)!==0?a===Lp?Ju++:(Ju=0,Lp=a):Ju=0,$u(0)}}function v1(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Lu(l)))}function vc(a){return g1(),p1(),m1(),y1()}function y1(){if(bs!==5)return!1;var a=va,l=Ap;Ap=0;var u=ze(cl),c=_.T,g=ae.p;try{ae.p=32>u?32:u,_.T=null,u=Dp,Dp=null;var m=va,S=cl;if(bs=0,dl=va=null,cl=0,(di&6)!==0)throw Error(i(331));var I=di;if(di|=4,t1(m.current),J0(m,m.current,S,u),di=I,$u(0,!1),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Hs,m)}catch{}return!0}finally{ae.p=g,_.T=c,v1(a,l)}}function C1(a,l,u){l=cr(u,l),l=hp(a.stateNode,l,2),a=oa(a,l,2),a!==null&&(de(a,2),rn(a))}function wi(a,l,u){if(a.tag===3)C1(a,a,u);else for(;l!==null;){if(l.tag===3){C1(l,a,u);break}else if(l.tag===1){var c=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ma===null||!ma.has(c))){a=cr(u,a),u=V0(2),c=oa(l,u,2),c!==null&&(S0(u,c,l,a),de(c,2),rn(c));break}}l=l.return}}function kp(a,l,u){var c=a.pingCache;if(c===null){c=a.pingCache=new Rx;var g=new Set;c.set(l,g)}else g=c.get(l),g===void 0&&(g=new Set,c.set(l,g));g.has(u)||(Tp=!0,g.add(u),a=Lx.bind(null,a,l,u),l.then(a,a))}function Lx(a,l,u){var c=a.pingCache;c!==null&&c.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Si===a&&(Gt&u)===u&&(zi===4||zi===3&&(Gt&62914560)===Gt&&300>Ft()-Ip?(di&2)===0&&fl(a,0):Rp|=u,hl===Gt&&(hl=0)),rn(a)}function b1(a,l){l===0&&(l=C()),a=Ko(a,l),a!==null&&(de(a,l),rn(a))}function Ox(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),b1(a,u)}function Mx(a,l){var u=0;switch(a.tag){case 13:var c=a.stateNode,g=a.memoizedState;g!==null&&(u=g.retryLane);break;case 19:c=a.stateNode;break;case 22:c=a.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(l),b1(a,u)}function Nx(a,l){return Wi(a,l)}var yc=null,pl=null,qp=!1,Cc=!1,Fp=!1,yo=0;function rn(a){a!==pl&&a.next===null&&(pl===null?yc=pl=a:pl=pl.next=a),Cc=!0,qp||(qp=!0,qx())}function $u(a,l){if(!Fp&&Cc){Fp=!0;do for(var u=!1,c=yc;c!==null;){if(a!==0){var g=c.pendingLanes;if(g===0)var m=0;else{var S=c.suspendedLanes,I=c.pingedLanes;m=(1<<31-xi(42|a)+1)-1,m&=g&~(S&~I),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(u=!0,S1(c,m))}else m=Gt,m=me(c,c===Si?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||R(c,m)||(u=!0,S1(c,m));c=c.next}while(u);Fp=!1}}function kx(){w1()}function w1(){Cc=qp=!1;var a=0;yo!==0&&(Wx()&&(a=yo),yo=0);for(var l=Ft(),u=null,c=yc;c!==null;){var g=c.next,m=x1(c,l);m===0?(c.next=null,u===null?yc=g:u.next=g,g===null&&(pl=u)):(u=c,(a!==0||(m&3)!==0)&&(Cc=!0)),c=g}$u(a)}function x1(a,l){for(var u=a.suspendedLanes,c=a.pingedLanes,g=a.expirationTimes,m=a.pendingLanes&-62914561;0<m;){var S=31-xi(m),I=1<<S,B=g[S];B===-1?((I&u)===0||(I&c)!==0)&&(g[S]=Se(I,l)):B<=l&&(a.expiredLanes|=I),m&=~I}if(l=Si,u=Gt,u=me(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c=a.callbackNode,u===0||a===l&&(ci===2||ci===9)||a.cancelPendingCommit!==null)return c!==null&&c!==null&&js(c),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||R(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(c!==null&&js(c),ze(u)){case 2:case 8:u=Mr;break;case 32:u=Os;break;case 268435456:u=Nr;break;default:u=Os}return c=V1.bind(null,a),u=Wi(u,c),a.callbackPriority=l,a.callbackNode=u,l}return c!==null&&c!==null&&js(c),a.callbackPriority=2,a.callbackNode=null,2}function V1(a,l){if(bs!==0&&bs!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(vc()&&a.callbackNode!==u)return null;var c=Gt;return c=me(a,a===Si?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c===0?null:(n1(a,c,l),x1(a,Ft()),a.callbackNode!=null&&a.callbackNode===u?V1.bind(null,a):null)}function S1(a,l){if(vc())return null;n1(a,l,!0)}function qx(){Gx(function(){(di&6)!==0?Wi(ys,kx):w1()})}function Bp(){return yo===0&&(yo=ot()),yo}function E1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Mo(""+a)}function T1(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function Fx(a,l,u,c,g){if(l==="submit"&&u&&u.stateNode===g){var m=E1((g[lt]||null).action),S=c.submitter;S&&(l=(l=S[lt]||null)?E1(l.formAction):S.getAttribute("formAction"),l!==null&&(m=l,S=null));var I=new Fo("action","action",null,c,g);a.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(yo!==0){var B=S?T1(g,S):new FormData(g);np(u,{pending:!0,data:B,method:g.method,action:m},null,B)}}else typeof m=="function"&&(I.preventDefault(),B=S?T1(g,S):new FormData(g),np(u,{pending:!0,data:B,method:g.method,action:m},m,B))},currentTarget:g}]})}}for(var zp=0;zp<Sg.length;zp++){var Hp=Sg[zp],Bx=Hp.toLowerCase(),zx=Hp[0].toUpperCase()+Hp.slice(1);Br(Bx,"on"+zx)}Br(ny,"onAnimationEnd"),Br(ay,"onAnimationIteration"),Br(oy,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(sx,"onTransitionRun"),Br(rx,"onTransitionStart"),Br(nx,"onTransitionCancel"),Br(ly,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function R1(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var c=a[u],g=c.event;c=c.listeners;e:{var m=void 0;if(l)for(var S=c.length-1;0<=S;S--){var I=c[S],B=I.instance,se=I.currentTarget;if(I=I.listener,B!==m&&g.isPropagationStopped())break e;m=I,g.currentTarget=se;try{m(g)}catch(ve){ac(ve)}g.currentTarget=null,m=B}else for(S=0;S<c.length;S++){if(I=c[S],B=I.instance,se=I.currentTarget,I=I.listener,B!==m&&g.isPropagationStopped())break e;m=I,g.currentTarget=se;try{m(g)}catch(ve){ac(ve)}g.currentTarget=null,m=B}}}}function kt(a,l){var u=l[Mi];u===void 0&&(u=l[Mi]=new Set);var c=a+"__bubble";u.has(c)||(P1(l,a,2,!1),u.add(c))}function Qp(a,l,u){var c=0;l&&(c|=4),P1(u,a,c,l)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Up(a){if(!a[bc]){a[bc]=!0,od.forEach(function(u){u!=="selectionchange"&&(Hx.has(u)||Qp(u,!1,a),Qp(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[bc]||(l[bc]=!0,Qp("selectionchange",!1,l))}}function P1(a,l,u,c){switch(J1(l)){case 2:var g=gV;break;case 8:g=pV;break;default:g=sm}u=g.bind(null,l,u,a),g=void 0,!lu||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),c?g!==void 0?a.addEventListener(l,u,{capture:!0,passive:g}):a.addEventListener(l,u,!0):g!==void 0?a.addEventListener(l,u,{passive:g}):a.addEventListener(l,u,!1)}function _p(a,l,u,c,g){var m=c;if((l&1)===0&&(l&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var I=c.stateNode.containerInfo;if(I===g)break;if(S===4)for(S=c.return;S!==null;){var B=S.tag;if((B===3||B===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;I!==null;){if(S=Vi(I),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){c=m=S;continue e}I=I.parentNode}}c=c.return}bd(function(){var se=m,ve=au(u),be=[];e:{var oe=uy.get(a);if(oe!==void 0){var ue=Fo,pt=a;switch(a){case"keypress":if(ko(u)===0)break e;case"keydown":case"keyup":ue=Cn;break;case"focusin":pt="focus",ue=mu;break;case"focusout":pt="blur",ue=mu;break;case"beforeblur":case"afterblur":ue=mu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=xd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Pd;break;case ny:case ay:case oy:ue=Ed;break;case ly:ue=Cg;break;case"scroll":case"scrollend":ue=cu;break;case"wheel":ue=Id;break;case"copy":case"cut":case"paste":ue=et;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Td;break;case"toggle":case"beforetoggle":ue=Ad}var ut=(l&4)!==0,vi=!ut&&(a==="scroll"||a==="scrollend"),J=ut?oe!==null?oe+"Capture":null:oe;ut=[];for(var j=se,ie;j!==null;){var ye=j;if(ie=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ie===null||J===null||(ye=Za(j,J),ye!=null&&ut.push(th(j,ye,ie))),vi)break;j=j.return}0<ut.length&&(oe=new ue(oe,pt,null,u,ve),be.push({event:oe,listeners:ut}))}}if((l&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",ue=a==="mouseout"||a==="pointerout",oe&&u!==No&&(pt=u.relatedTarget||u.fromElement)&&(Vi(pt)||pt[hi]))break e;if((ue||oe)&&(oe=ve.window===ve?ve:(oe=ve.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(pt=u.relatedTarget||u.toElement,ue=se,pt=pt?Vi(pt):null,pt!==null&&(vi=n(pt),ut=pt.tag,pt!==vi||ut!==5&&ut!==27&&ut!==6)&&(pt=null)):(ue=null,pt=se),ue!==pt)){if(ut=pu,ye="onMouseLeave",J="onMouseEnter",j="mouse",(a==="pointerout"||a==="pointerover")&&(ut=Td,ye="onPointerLeave",J="onPointerEnter",j="pointer"),vi=ue==null?oe:hs(ue),ie=pt==null?oe:hs(pt),oe=new ut(ye,j+"leave",ue,u,ve),oe.target=vi,oe.relatedTarget=ie,ye=null,Vi(ve)===se&&(ut=new ut(J,j+"enter",pt,u,ve),ut.target=ie,ut.relatedTarget=vi,ye=ut),vi=ye,ue&&pt)t:{for(ut=ue,J=pt,j=0,ie=ut;ie;ie=ml(ie))j++;for(ie=0,ye=J;ye;ye=ml(ye))ie++;for(;0<j-ie;)ut=ml(ut),j--;for(;0<ie-j;)J=ml(J),ie--;for(;j--;){if(ut===J||J!==null&&ut===J.alternate)break t;ut=ml(ut),J=ml(J)}ut=null}else ut=null;ue!==null&&I1(be,oe,ue,ut,!1),pt!==null&&vi!==null&&I1(be,vi,pt,ut,!0)}}e:{if(oe=se?hs(se):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var Ye=Md;else if(Ld(oe))if(Nd)Ye=St;else{Ye=xg;var Mt=sa}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&nu(se.elementType)&&(Ye=Md):Ye=to;if(Ye&&(Ye=Ye(a,se))){Vu(be,Ye,u,ve);break e}Mt&&Mt(a,oe,se),a==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&su(oe,"number",oe.value)}switch(Mt=se?hs(se):window,a){case"focusin":(Ld(Mt)||Mt.contentEditable==="true")&&(We=Mt,Ut=se,Bt=null);break;case"focusout":Bt=Ut=We=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,sy(be,u,ve);break;case"selectionchange":if(Qe)break;case"keydown":case"keyup":sy(be,u,ve)}var at;if(Ho)e:{switch(a){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else xn?wu(a,u)&&(dt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(dt="onCompositionStart");dt&&(Qo&&u.locale!=="ko"&&(xn||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&xn&&(at=hu()):(Jr=ve,uu="value"in Jr?Jr.value:Jr.textContent,xn=!0)),Mt=wc(se,dt),0<Mt.length&&(dt=new Gs(dt,a,null,u,ve),be.push({event:dt,listeners:Mt}),at?dt.data=at:(at=_o(u),at!==null&&(dt.data=at)))),(at=Dd?xu(a,u):bg(a,u))&&(dt=wc(se,"onBeforeInput"),0<dt.length&&(Mt=new Gs("onBeforeInput","beforeinput",null,u,ve),be.push({event:Mt,listeners:dt}),Mt.data=at)),Fx(be,a,se,u,ve)}R1(be,l)})}function th(a,l,u){return{instance:a,listener:l,currentTarget:u}}function wc(a,l){for(var u=l+"Capture",c=[];a!==null;){var g=a,m=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||m===null||(g=Za(a,u),g!=null&&c.unshift(th(a,g,m)),g=Za(a,l),g!=null&&c.push(th(a,g,m))),a.tag===3)return c;a=a.return}return[]}function ml(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function I1(a,l,u,c,g){for(var m=l._reactName,S=[];u!==null&&u!==c;){var I=u,B=I.alternate,se=I.stateNode;if(I=I.tag,B!==null&&B===c)break;I!==5&&I!==26&&I!==27||se===null||(B=se,g?(se=Za(u,m),se!=null&&S.unshift(th(u,se,B))):g||(se=Za(u,m),se!=null&&S.push(th(u,se,B)))),u=u.return}S.length!==0&&a.push({event:l,listeners:S})}var Qx=/\r\n?/g,Ux=/\u0000|\uFFFD/g;function A1(a){return(typeof a=="string"?a:""+a).replace(Qx,`
`).replace(Ux,"")}function D1(a,l){return l=A1(l),A1(a)===l}function xc(){}function mi(a,l,u,c,g,m){switch(u){case"children":typeof c=="string"?l==="body"||l==="textarea"&&c===""||vn(a,c):(typeof c=="number"||typeof c=="bigint")&&l!=="body"&&vn(a,""+c);break;case"className":Oo(a,"class",c);break;case"tabIndex":Oo(a,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Oo(a,u,c);break;case"style":yd(a,c,m);break;case"data":if(l!=="object"){Oo(a,"data",c);break}case"src":case"href":if(c===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(u);break}c=Mo(""+c),a.setAttribute(u,c);break;case"action":case"formAction":if(typeof c=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(u==="formAction"?(l!=="input"&&mi(a,l,"name",g.name,g,null),mi(a,l,"formEncType",g.formEncType,g,null),mi(a,l,"formMethod",g.formMethod,g,null),mi(a,l,"formTarget",g.formTarget,g,null)):(mi(a,l,"encType",g.encType,g,null),mi(a,l,"method",g.method,g,null),mi(a,l,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(u);break}c=Mo(""+c),a.setAttribute(u,c);break;case"onClick":c!=null&&(a.onclick=xc);break;case"onScroll":c!=null&&kt("scroll",a);break;case"onScrollEnd":c!=null&&kt("scrollend",a);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(u=c.__html,u!=null){if(g.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":a.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){a.removeAttribute("xlink:href");break}u=Mo(""+c),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(u,""+c):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":c===!0?a.setAttribute(u,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(u,c):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?a.setAttribute(u,c):a.removeAttribute(u);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?a.removeAttribute(u):a.setAttribute(u,c);break;case"popover":kt("beforetoggle",a),kt("toggle",a),Lo(a,"popover",c);break;case"xlinkActuate":qr(a,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qr(a,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qr(a,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qr(a,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qr(a,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qr(a,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qr(a,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Lo(a,"is",c);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=mg.get(u)||u,Lo(a,u,c))}}function Wp(a,l,u,c,g,m){switch(u){case"style":yd(a,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(u=c.__html,u!=null){if(g.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof c=="string"?vn(a,c):(typeof c=="number"||typeof c=="bigint")&&vn(a,""+c);break;case"onScroll":c!=null&&kt("scroll",a);break;case"onScrollEnd":c!=null&&kt("scrollend",a);break;case"onClick":c!=null&&(a.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ld.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),l=u.slice(2,g?u.length-7:void 0),m=a[lt]||null,m=m!=null?m[u]:null,typeof m=="function"&&a.removeEventListener(l,m,g),typeof c=="function")){typeof m!="function"&&m!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,c,g);break e}u in a?a[u]=c:c===!0?a.setAttribute(u,""):Lo(a,u,c)}}}function ws(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",a),kt("load",a);var c=!1,g=!1,m;for(m in u)if(u.hasOwnProperty(m)){var S=u[m];if(S!=null)switch(m){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:mi(a,l,m,S,u,null)}}g&&mi(a,l,"srcSet",u.srcSet,u,null),c&&mi(a,l,"src",u.src,u,null);return;case"input":kt("invalid",a);var I=m=S=g=null,B=null,se=null;for(c in u)if(u.hasOwnProperty(c)){var ve=u[c];if(ve!=null)switch(c){case"name":g=ve;break;case"type":S=ve;break;case"checked":B=ve;break;case"defaultChecked":se=ve;break;case"value":m=ve;break;case"defaultValue":I=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,l));break;default:mi(a,l,c,ve,u,null)}}pd(a,m,I,B,se,S,g,!1),ja(a);return;case"select":kt("invalid",a),c=S=m=null;for(g in u)if(u.hasOwnProperty(g)&&(I=u[g],I!=null))switch(g){case"value":m=I;break;case"defaultValue":S=I;break;case"multiple":c=I;default:mi(a,l,g,I,u,null)}l=m,u=S,a.multiple=!!c,l!=null?Jn(a,!!c,l,!1):u!=null&&Jn(a,!!c,u,!0);return;case"textarea":kt("invalid",a),m=g=c=null;for(S in u)if(u.hasOwnProperty(S)&&(I=u[S],I!=null))switch(S){case"value":c=I;break;case"defaultValue":g=I;break;case"children":m=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:mi(a,l,S,I,u,null)}ru(a,c,g,m),ja(a);return;case"option":for(B in u)if(u.hasOwnProperty(B)&&(c=u[B],c!=null))switch(B){case"selected":a.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:mi(a,l,B,c,u,null)}return;case"dialog":kt("beforetoggle",a),kt("toggle",a),kt("cancel",a),kt("close",a);break;case"iframe":case"object":kt("load",a);break;case"video":case"audio":for(c=0;c<eh.length;c++)kt(eh[c],a);break;case"image":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"embed":case"source":case"link":kt("error",a),kt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in u)if(u.hasOwnProperty(se)&&(c=u[se],c!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:mi(a,l,se,c,u,null)}return;default:if(nu(l)){for(ve in u)u.hasOwnProperty(ve)&&(c=u[ve],c!==void 0&&Wp(a,l,ve,c,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(c=u[I],c!=null&&mi(a,l,I,c,u,null))}function _x(a,l,u,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,m=null,S=null,I=null,B=null,se=null,ve=null;for(ue in u){var be=u[ue];if(u.hasOwnProperty(ue)&&be!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":B=be;default:c.hasOwnProperty(ue)||mi(a,l,ue,null,c,be)}}for(var oe in c){var ue=c[oe];if(be=u[oe],c.hasOwnProperty(oe)&&(ue!=null||be!=null))switch(oe){case"type":m=ue;break;case"name":g=ue;break;case"checked":se=ue;break;case"defaultChecked":ve=ue;break;case"value":S=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,l));break;default:ue!==be&&mi(a,l,oe,ue,c,be)}}iu(a,S,I,B,se,ve,m,g);return;case"select":ue=S=I=oe=null;for(m in u)if(B=u[m],u.hasOwnProperty(m)&&B!=null)switch(m){case"value":break;case"multiple":ue=B;default:c.hasOwnProperty(m)||mi(a,l,m,null,c,B)}for(g in c)if(m=c[g],B=u[g],c.hasOwnProperty(g)&&(m!=null||B!=null))switch(g){case"value":oe=m;break;case"defaultValue":I=m;break;case"multiple":S=m;default:m!==B&&mi(a,l,g,m,c,B)}l=I,u=S,c=ue,oe!=null?Jn(a,!!u,oe,!1):!!c!=!!u&&(l!=null?Jn(a,!!u,l,!0):Jn(a,!!u,u?[]:"",!1));return;case"textarea":ue=oe=null;for(I in u)if(g=u[I],u.hasOwnProperty(I)&&g!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:mi(a,l,I,null,c,g)}for(S in c)if(g=c[S],m=u[S],c.hasOwnProperty(S)&&(g!=null||m!=null))switch(S){case"value":oe=g;break;case"defaultValue":ue=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==m&&mi(a,l,S,g,c,m)}md(a,oe,ue);return;case"option":for(var pt in u)if(oe=u[pt],u.hasOwnProperty(pt)&&oe!=null&&!c.hasOwnProperty(pt))switch(pt){case"selected":a.selected=!1;break;default:mi(a,l,pt,null,c,oe)}for(B in c)if(oe=c[B],ue=u[B],c.hasOwnProperty(B)&&oe!==ue&&(oe!=null||ue!=null))switch(B){case"selected":a.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:mi(a,l,B,oe,c,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in u)oe=u[ut],u.hasOwnProperty(ut)&&oe!=null&&!c.hasOwnProperty(ut)&&mi(a,l,ut,null,c,oe);for(se in c)if(oe=c[se],ue=u[se],c.hasOwnProperty(se)&&oe!==ue&&(oe!=null||ue!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,l));break;default:mi(a,l,se,oe,c,ue)}return;default:if(nu(l)){for(var vi in u)oe=u[vi],u.hasOwnProperty(vi)&&oe!==void 0&&!c.hasOwnProperty(vi)&&Wp(a,l,vi,void 0,c,oe);for(ve in c)oe=c[ve],ue=u[ve],!c.hasOwnProperty(ve)||oe===ue||oe===void 0&&ue===void 0||Wp(a,l,ve,oe,c,ue);return}}for(var J in u)oe=u[J],u.hasOwnProperty(J)&&oe!=null&&!c.hasOwnProperty(J)&&mi(a,l,J,null,c,oe);for(be in c)oe=c[be],ue=u[be],!c.hasOwnProperty(be)||oe===ue||oe==null&&ue==null||mi(a,l,be,oe,c,ue)}var jp=null,Gp=null;function Vc(a){return a.nodeType===9?a:a.ownerDocument}function L1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O1(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Zp(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Kp=null;function Wx(){var a=window.event;return a&&a.type==="popstate"?a===Kp?!1:(Kp=a,!0):(Kp=null,!1)}var M1=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof N1<"u"?function(a){return N1.resolve(null).then(a).catch(Zx)}:M1;function Zx(a){setTimeout(function(){throw a})}function Ca(a){return a==="head"}function k1(a,l){var u=l,c=0,g=0;do{var m=u.nextSibling;if(a.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(0<c&&8>c){u=c;var S=a.ownerDocument;if(u&1&&ih(S.documentElement),u&2&&ih(S.body),u&4)for(u=S.head,ih(u),S=u.firstChild;S;){var I=S.nextSibling,B=S.nodeName;S[gi]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=I}}if(g===0){a.removeChild(m),hh(l);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:c=u.charCodeAt(0)-48;else c=0;u=m}while(u);hh(l)}function Xp(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Xp(u),ls(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function Kx(a,l,u,c){for(;a.nodeType===1;){var g=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!c&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(c){if(!a[gi])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(m=a.getAttribute("rel"),m==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(m!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(m=a.getAttribute("src"),(m!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&m&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var m=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===m)return a}else return a;if(a=Hr(a.nextSibling),a===null)break}return null}function Xx(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Hr(a.nextSibling),a===null))return null;return a}function Yp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function Yx(a,l){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")l();else{var c=function(){l(),u.removeEventListener("DOMContentLoaded",c)};u.addEventListener("DOMContentLoaded",c),a._reactRetry=c}}function Hr(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var Jp=null;function q1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return a;l--}else u==="/$"&&l++}a=a.previousSibling}return null}function F1(a,l,u){switch(l=Vc(u),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function ih(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);ls(a)}var yr=new Map,B1=new Set;function Sc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Nn=ae.d;ae.d={f:Jx,r:$x,D:eV,C:tV,L:iV,m:sV,X:nV,S:rV,M:aV};function Jx(){var a=Nn.f(),l=pc();return a||l}function $x(a){var l=us(a);l!==null&&l.tag===5&&l.type==="form"?n0(l):Nn.r(a)}var vl=typeof document>"u"?null:document;function z1(a,l,u){var c=vl;if(c&&typeof l=="string"&&l){var g=ks(l);g='link[rel="'+a+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),B1.has(g)||(B1.add(g),a={rel:a,crossOrigin:u,href:l},c.querySelector(g)===null&&(l=c.createElement("link"),ws(l,"link",a),Gi(l),c.head.appendChild(l)))}}function eV(a){Nn.D(a),z1("dns-prefetch",a,null)}function tV(a,l){Nn.C(a,l),z1("preconnect",a,l)}function iV(a,l,u){Nn.L(a,l,u);var c=vl;if(c&&a&&l){var g='link[rel="preload"][as="'+ks(l)+'"]';l==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+ks(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+ks(u.imageSizes)+'"]')):g+='[href="'+ks(a)+'"]';var m=g;switch(l){case"style":m=yl(a);break;case"script":m=Cl(a)}yr.has(m)||(a=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),yr.set(m,a),c.querySelector(g)!==null||l==="style"&&c.querySelector(sh(m))||l==="script"&&c.querySelector(rh(m))||(l=c.createElement("link"),ws(l,"link",a),Gi(l),c.head.appendChild(l)))}}function sV(a,l){Nn.m(a,l);var u=vl;if(u&&a){var c=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+ks(c)+'"][href="'+ks(a)+'"]',m=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Cl(a)}if(!yr.has(m)&&(a=p({rel:"modulepreload",href:a},l),yr.set(m,a),u.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(rh(m)))return}c=u.createElement("link"),ws(c,"link",a),Gi(c),u.head.appendChild(c)}}}function rV(a,l,u){Nn.S(a,l,u);var c=vl;if(c&&a){var g=kr(c).hoistableStyles,m=yl(a);l=l||"default";var S=g.get(m);if(!S){var I={loading:0,preload:null};if(S=c.querySelector(sh(m)))I.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},u),(u=yr.get(m))&&$p(a,u);var B=S=c.createElement("link");Gi(B),ws(B,"link",a),B._p=new Promise(function(se,ve){B.onload=se,B.onerror=ve}),B.addEventListener("load",function(){I.loading|=1}),B.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Ec(S,l,c)}S={type:"stylesheet",instance:S,count:1,state:I},g.set(m,S)}}}function nV(a,l){Nn.X(a,l);var u=vl;if(u&&a){var c=kr(u).hoistableScripts,g=Cl(a),m=c.get(g);m||(m=u.querySelector(rh(g)),m||(a=p({src:a,async:!0},l),(l=yr.get(g))&&em(a,l),m=u.createElement("script"),Gi(m),ws(m,"link",a),u.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(g,m))}}function aV(a,l){Nn.M(a,l);var u=vl;if(u&&a){var c=kr(u).hoistableScripts,g=Cl(a),m=c.get(g);m||(m=u.querySelector(rh(g)),m||(a=p({src:a,async:!0,type:"module"},l),(l=yr.get(g))&&em(a,l),m=u.createElement("script"),Gi(m),ws(m,"link",a),u.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(g,m))}}function H1(a,l,u,c){var g=(g=Fe.current)?Sc(g):null;if(!g)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=yl(u.href),u=kr(g).hoistableStyles,c=u.get(l),c||(c={type:"style",instance:null,count:0,state:null},u.set(l,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=yl(u.href);var m=kr(g).hoistableStyles,S=m.get(a);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(a,S),(m=g.querySelector(sh(a)))&&!m._p&&(S.instance=m,S.state.loading=5),yr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},yr.set(a,u),m||oV(g,a,u,S.state))),l&&c===null)throw Error(i(528,""));return S}if(l&&c!==null)throw Error(i(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Cl(u),u=kr(g).hoistableScripts,c=u.get(l),c||(c={type:"script",instance:null,count:0,state:null},u.set(l,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function yl(a){return'href="'+ks(a)+'"'}function sh(a){return'link[rel="stylesheet"]['+a+"]"}function Q1(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function oV(a,l,u,c){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?c.loading=1:(l=a.createElement("link"),c.preload=l,l.addEventListener("load",function(){return c.loading|=1}),l.addEventListener("error",function(){return c.loading|=2}),ws(l,"link",u),Gi(l),a.head.appendChild(l))}function Cl(a){return'[src="'+ks(a)+'"]'}function rh(a){return"script[async]"+a}function U1(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var c=a.querySelector('style[data-href~="'+ks(u.href)+'"]');if(c)return l.instance=c,Gi(c),c;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return c=(a.ownerDocument||a).createElement("style"),Gi(c),ws(c,"style",g),Ec(c,u.precedence,a),l.instance=c;case"stylesheet":g=yl(u.href);var m=a.querySelector(sh(g));if(m)return l.state.loading|=4,l.instance=m,Gi(m),m;c=Q1(u),(g=yr.get(g))&&$p(c,g),m=(a.ownerDocument||a).createElement("link"),Gi(m);var S=m;return S._p=new Promise(function(I,B){S.onload=I,S.onerror=B}),ws(m,"link",c),l.state.loading|=4,Ec(m,u.precedence,a),l.instance=m;case"script":return m=Cl(u.src),(g=a.querySelector(rh(m)))?(l.instance=g,Gi(g),g):(c=u,(g=yr.get(m))&&(c=p({},u),em(c,g)),a=a.ownerDocument||a,g=a.createElement("script"),Gi(g),ws(g,"link",c),a.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(c=l.instance,l.state.loading|=4,Ec(c,u.precedence,a));return l.instance}function Ec(a,l,u){for(var c=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,m=g,S=0;S<c.length;S++){var I=c[S];if(I.dataset.precedence===l)m=I;else if(m!==g)break}m?m.parentNode.insertBefore(a,m.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function $p(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function em(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Tc=null;function _1(a,l,u){if(Tc===null){var c=new Map,g=Tc=new Map;g.set(u,c)}else g=Tc,c=g.get(u),c||(c=new Map,g.set(u,c));if(c.has(a))return c;for(c.set(a,null),u=u.getElementsByTagName(a),g=0;g<u.length;g++){var m=u[g];if(!(m[gi]||m[Pt]||a==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(l)||"";S=a+S;var I=c.get(S);I?I.push(m):c.set(S,[m])}}return c}function W1(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function lV(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function j1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var nh=null;function uV(){}function hV(a,l,u){if(nh===null)throw Error(i(475));var c=nh;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=yl(u.href),m=a.querySelector(sh(g));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(c.count++,c=Rc.bind(c),a.then(c,c)),l.state.loading|=4,l.instance=m,Gi(m);return}m=a.ownerDocument||a,u=Q1(u),(g=yr.get(g))&&$p(u,g),m=m.createElement("link"),Gi(m);var S=m;S._p=new Promise(function(I,B){S.onload=I,S.onerror=B}),ws(m,"link",u),l.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(c.count++,l=Rc.bind(c),a.addEventListener("load",l),a.addEventListener("error",l))}}function dV(){if(nh===null)throw Error(i(475));var a=nh;return a.stylesheets&&a.count===0&&tm(a,a.stylesheets),0<a.count?function(l){var u=setTimeout(function(){if(a.stylesheets&&tm(a,a.stylesheets),a.unsuspend){var c=a.unsuspend;a.unsuspend=null,c()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)tm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Pc=null;function tm(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Pc=new Map,l.forEach(cV,a),Pc=null,Rc.call(a))}function cV(a,l){if(!(l.state.loading&4)){var u=Pc.get(a);if(u)var c=u.get(null);else{u=new Map,Pc.set(a,u);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<g.length;m++){var S=g[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),c=S)}c&&u.set(null,c)}g=l.instance,S=g.getAttribute("data-precedence"),m=u.get(S)||c,m===c&&u.set(null,g),u.set(S,g),this.count++,c=Rc.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),m?m.parentNode.insertBefore(g,m.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),l.state.loading|=4}}var ah={$$typeof:H,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function fV(a,l,u,c,g,m,S,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=he(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=he(0),this.hiddenUpdates=he(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function G1(a,l,u,c,g,m,S,I,B,se,ve,be){return a=new fV(a,l,u,S,I,B,se,be),l=1,m===!0&&(l|=24),m=Zs(3,null,null,l),a.current=m,m.stateNode=a,l=kg(),l.refCount++,a.pooledCache=l,l.refCount++,m.memoizedState={element:c,isDehydrated:u,cache:l},zg(m),a}function Z1(a){return a?(a=Xo,a):Xo}function K1(a,l,u,c,g,m){g=Z1(g),c.context===null?c.context=g:c.pendingContext=g,c=aa(l),c.payload={element:u},m=m===void 0?null:m,m!==null&&(c.callback=m),u=oa(a,c,l),u!==null&&($s(u,a,l),ku(u,a,l))}function X1(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function im(a,l){X1(a,l),(a=a.alternate)&&X1(a,l)}function Y1(a){if(a.tag===13){var l=Ko(a,67108864);l!==null&&$s(l,a,67108864),im(a,67108864)}}var Ic=!0;function gV(a,l,u,c){var g=_.T;_.T=null;var m=ae.p;try{ae.p=2,sm(a,l,u,c)}finally{ae.p=m,_.T=g}}function pV(a,l,u,c){var g=_.T;_.T=null;var m=ae.p;try{ae.p=8,sm(a,l,u,c)}finally{ae.p=m,_.T=g}}function sm(a,l,u,c){if(Ic){var g=rm(c);if(g===null)_p(a,l,c,Ac,u),$1(a,c);else if(vV(g,a,l,u,c))c.stopPropagation();else if($1(a,c),l&4&&-1<mV.indexOf(a)){for(;g!==null;){var m=us(g);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=G(m.pendingLanes);if(S!==0){var I=m;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var B=1<<31-xi(S);I.entanglements[1]|=B,S&=~B}rn(m),(di&6)===0&&(fc=Ft()+500,$u(0))}}break;case 13:I=Ko(m,2),I!==null&&$s(I,m,2),pc(),im(m,2)}if(m=rm(c),m===null&&_p(a,l,c,Ac,u),m===g)break;g=m}g!==null&&c.stopPropagation()}else _p(a,l,c,null,u)}}function rm(a){return a=au(a),nm(a)}var Ac=null;function nm(a){if(Ac=null,a=Vi(a),a!==null){var l=n(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=o(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Ac=a,null}function J1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case ys:return 2;case Mr:return 8;case Os:case Ps:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var am=!1,ba=null,wa=null,xa=null,oh=new Map,lh=new Map,Va=[],mV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $1(a,l){switch(a){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":oh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(l.pointerId)}}function uh(a,l,u,c,g,m){return a===null||a.nativeEvent!==m?(a={blockedOn:l,domEventName:u,eventSystemFlags:c,nativeEvent:m,targetContainers:[g]},l!==null&&(l=us(l),l!==null&&Y1(l)),a):(a.eventSystemFlags|=c,l=a.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),a)}function vV(a,l,u,c,g){switch(l){case"focusin":return ba=uh(ba,a,l,u,c,g),!0;case"dragenter":return wa=uh(wa,a,l,u,c,g),!0;case"mouseover":return xa=uh(xa,a,l,u,c,g),!0;case"pointerover":var m=g.pointerId;return oh.set(m,uh(oh.get(m)||null,a,l,u,c,g)),!0;case"gotpointercapture":return m=g.pointerId,lh.set(m,uh(lh.get(m)||null,a,l,u,c,g)),!0}return!1}function eC(a){var l=Vi(a.target);if(l!==null){var u=n(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){a.blockedOn=l,Ot(a.priority,function(){if(u.tag===13){var c=Js();c=Xe(c);var g=Ko(u,c);g!==null&&$s(g,u,c),im(u,c)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Dc(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=rm(a.nativeEvent);if(u===null){u=a.nativeEvent;var c=new u.constructor(u.type,u);No=c,u.target.dispatchEvent(c),No=null}else return l=us(u),l!==null&&Y1(l),a.blockedOn=u,!1;l.shift()}return!0}function tC(a,l,u){Dc(a)&&u.delete(l)}function yV(){am=!1,ba!==null&&Dc(ba)&&(ba=null),wa!==null&&Dc(wa)&&(wa=null),xa!==null&&Dc(xa)&&(xa=null),oh.forEach(tC),lh.forEach(tC)}function Lc(a,l){a.blockedOn===l&&(a.blockedOn=null,am||(am=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yV)))}var Oc=null;function iC(a){Oc!==a&&(Oc=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===a&&(Oc=null);for(var l=0;l<a.length;l+=3){var u=a[l],c=a[l+1],g=a[l+2];if(typeof c!="function"){if(nm(c||u)===null)continue;break}var m=us(u);m!==null&&(a.splice(l,3),l-=3,np(m,{pending:!0,data:g,method:u.method,action:c},c,g))}}))}function hh(a){function l(B){return Lc(B,a)}ba!==null&&Lc(ba,a),wa!==null&&Lc(wa,a),xa!==null&&Lc(xa,a),oh.forEach(l),lh.forEach(l);for(var u=0;u<Va.length;u++){var c=Va[u];c.blockedOn===a&&(c.blockedOn=null)}for(;0<Va.length&&(u=Va[0],u.blockedOn===null);)eC(u),u.blockedOn===null&&Va.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(c=0;c<u.length;c+=3){var g=u[c],m=u[c+1],S=g[lt]||null;if(typeof m=="function")S||iC(u);else if(S){var I=null;if(m&&m.hasAttribute("formAction")){if(g=m,S=m[lt]||null)I=S.formAction;else if(nm(g)!==null)continue}else I=S.action;typeof I=="function"?u[c+1]=I:(u.splice(c,3),c-=3),iC(u)}}}function om(a){this._internalRoot=a}Mc.prototype.render=om.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var u=l.current,c=Js();K1(u,c,a,l,null,null)},Mc.prototype.unmount=om.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;K1(a.current,2,null,a,null,null),pc(),l[hi]=null}};function Mc(a){this._internalRoot=a}Mc.prototype.unstable_scheduleHydration=function(a){if(a){var l=je();a={blockedOn:null,target:a,priority:l};for(var u=0;u<Va.length&&l!==0&&l<Va[u].priority;u++);Va.splice(u,0,a),u===0&&eC(a)}};var sC=e.version;if(sC!=="19.1.0")throw Error(i(527,sC,"19.1.0"));ae.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var CV={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Hs=Nc.inject(CV),Ai=Nc}catch{}}return ch.createRoot=function(a,l){if(!s(a))throw Error(i(299));var u=!1,c="",g=C0,m=b0,S=w0,I=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(m=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(I=l.unstable_transitionCallbacks)),l=G1(a,1,!1,null,null,u,c,g,m,S,I,null),a[hi]=l.current,Up(a),new om(l)},ch.hydrateRoot=function(a,l,u){if(!s(a))throw Error(i(299));var c=!1,g="",m=C0,S=b0,I=w0,B=null,se=null;return u!=null&&(u.unstable_strictMode===!0&&(c=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(m=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(B=u.unstable_transitionCallbacks),u.formState!==void 0&&(se=u.formState)),l=G1(a,1,!0,l,u??null,c,g,m,S,I,B,se),l.context=Z1(null),u=l.current,c=Js(),c=Xe(c),g=aa(c),g.callback=null,oa(u,g,c),u=c,l.current.lanes=u,de(l,u),rn(l),a[hi]=l.current,Up(a),new Mc(l)},ch.version="19.1.0",ch}var fC;function IV(){if(fC)return hm.exports;fC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=PV(),hm.exports}var AV=IV();/*!
 * surveyjs - Survey JavaScript library v2.2.2
 * Copyright (c) 2015-2025 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */class $e{static isAvailable(){return typeof window<"u"}static isFileReaderAvailable(){return $e.isAvailable()?!!window.FileReader:!1}static getLocation(){if($e.isAvailable())return window.location}static getVisualViewport(){return $e.isAvailable()?window.visualViewport:null}static getInnerWidth(){if($e.isAvailable())return window.innerWidth}static getInnerHeight(){return $e.isAvailable()?window.innerHeight:null}static getDevicePixelRatio(){return $e.isAvailable()?window.devicePixelRatio:null}static getWindow(){if($e.isAvailable())return window}static hasOwn(e){if($e.isAvailable())return e in window}static getSelection(){if($e.isAvailable()&&window.getSelection)return window.getSelection()}static requestAnimationFrame(e){if($e.isAvailable())return window.requestAnimationFrame(e)}static addEventListener(e,t){$e.isAvailable()&&window.addEventListener(e,t)}static removeEventListener(e,t){$e.isAvailable()&&window.removeEventListener(e,t)}static matchMedia(e){return!$e.isAvailable()||typeof window.matchMedia>"u"?null:window.matchMedia(e)}}class Ge{static isAvailable(){return typeof document<"u"}static getBody(){if(Ge.isAvailable())return document.body}static getDocumentElement(){if(Ge.isAvailable())return document.documentElement}static getDocument(){if(Ge.isAvailable())return document}static getCookie(){if(Ge.isAvailable())return document.cookie}static setCookie(e){Ge.isAvailable()&&(document.cookie=e)}static activeElementBlur(){if(!Ge.isAvailable())return;const e=document.activeElement;e&&e.blur&&e.blur()}static createElement(e){if(Ge.isAvailable())return document.createElement(e)}static getComputedStyle(e){return Ge.isAvailable()?document.defaultView.getComputedStyle(e):new CSSStyleDeclaration}static addEventListener(e,t){Ge.isAvailable()&&document.addEventListener(e,t)}static removeEventListener(e,t){Ge.isAvailable()&&document.removeEventListener(e,t)}}function ps(r,e){if(!e)return new Date;!X.storeUtcDates&&typeof e=="string"&&DV(e)&&(e+="T00:00:00");const t=new Date(e);return X.onDateCreated(t,r,e)}function DV(r){return r.indexOf("T")>0||!/\d{4}-\d{2}-\d{2}/.test(r)?!1:!isNaN(new Date(r).getTime())}class z{static isValueEmpty(e){if(Array.isArray(e)&&e.length===0)return!0;if(e&&z.isValueObject(e)&&e.constructor===Object){for(var t in e)if(!z.isValueEmpty(e[t]))return!1;return!0}return!e&&e!==0&&e!==!1}static isValueUndefined(e){return e==null||typeof e=="number"&&isNaN(e)}static isArrayContainsEqual(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var i=0;i<e.length;i++){for(var s=0;s<t.length&&!z.isTwoValueEquals(e[i],t[s]);s++);if(s===t.length)return!1}return!0}static checkIfArraysEqual(e,t,i){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;if(i.ignoreOrder!==void 0?i.ignoreOrder:!1){for(var n=[],o=[],h=0;h<e.length;h++)n.push(e[h]),o.push(t[h]);n.sort(),o.sort(),e=n,t=o}for(var h=0;h<e.length;h++)if(!z.checkIfValuesEqual(e[h],t[h],i))return!1;return!0}static isArraysEqual(e,t,i=!1,s,n){return z.checkIfArraysEqual(e,t,{ignoreOrder:i,caseSensitive:s,trimStrings:n})}static compareStrings(e,t){const i=X.comparator.normalizeTextCallback;if(e&&(e=i(e,"compare").trim()),t&&(t=i(t,"compare").trim()),!e&&!t)return 0;if(!e)return-1;if(!t)return 1;if(e===t)return 0;let s=-1;for(let n=0;n<e.length&&n<t.length;n++){if(this.isCharDigit(e[n])&&this.isCharDigit(t[n])){s=n;break}if(e[n]!==t[n])break}if(s>-1){let n=this.getNumberFromStr(e,s),o=this.getNumberFromStr(t,s);if(!Number.isNaN(n)&&!Number.isNaN(o)&&n!==o)return n>o?1:-1}return e>t?1:-1}static checkIfValuesEqual(e,t,i){if(e===t||Array.isArray(e)&&e.length===0&&typeof t>"u"||Array.isArray(t)&&t.length===0&&typeof e>"u"||e==null&&t===""||t==null&&e==="")return!0;const s=i.caseSensitive!==void 0?i.caseSensitive:X.comparator.caseSensitive,n=i.trimStrings!==void 0?i.trimStrings:X.comparator.trimStrings;if(typeof e=="string"&&typeof t=="string"){const p=X.comparator.normalizeTextCallback;return e=p(e,"compare"),t=p(t,"compare"),n&&(e=e.trim(),t=t.trim()),s||(e=e.toLowerCase(),t=t.toLowerCase()),e===t}if(e instanceof Date&&t instanceof Date)return e.getTime()==t.getTime();const o=!i.doNotConvertNumbers;if(o&&z.isConvertibleToNumber(e)&&z.isConvertibleToNumber(t)&&parseInt(e)===parseInt(t)&&parseFloat(e)===parseFloat(t))return!0;if(!z.isValueEmpty(e)&&z.isValueEmpty(t)||z.isValueEmpty(e)&&!z.isValueEmpty(t))return!1;if((e===!0||e===!1)&&typeof t=="string")return e.toString()===t.toLocaleLowerCase();if((t===!0||t===!1)&&typeof e=="string")return t.toString()===e.toLocaleLowerCase();const h=z.isValueObject(e),d=z.isValueObject(t);if(!h&&!d&&(o||typeof e!="number"&&typeof t!="number"))return e==t;if(!h||!d)return!1;if(e.equals&&t.equals)return e.equals(t);if(Array.isArray(e)&&Array.isArray(t))return z.checkIfArraysEqual(e,t,i);for(var f in e)if(e.hasOwnProperty(f)&&(!t.hasOwnProperty(f)||!this.checkIfValuesEqual(e[f],t[f],i)))return!1;for(f in t)if(t.hasOwnProperty(f)&&!e.hasOwnProperty(f))return!1;return!0}static isTwoValueEquals(e,t,i=!1,s,n){return this.checkIfValuesEqual(e,t,{ignoreOrder:i,caseSensitive:s,trimStrings:n})}static randomizeArray(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[i],e[i]=s}return e}static getUnbindValue(e){if(Array.isArray(e)){const t=[];for(let i=0;i<e.length;i++)t.push(z.getUnbindValue(e[i]));return t}return e&&z.isValueObject(e)&&!(e instanceof Date)?JSON.parse(JSON.stringify(e)):e}static createCopy(e){return this.createCopyWithPrefix(e,void 0)}static createCopyWithPrefix(e,t){var i={};if(!e)return i;for(var s in e){const n=t?t+s:s;i[n]=e[s]}return i}static isConvertibleToNumber(e){return e!=null&&!Array.isArray(e)&&!isNaN(e)}static isValueObject(e,t){return e instanceof Object&&(!t||!Array.isArray(e))}static isNumber(e){return!isNaN(this.getNumber(e))}static getNumber(e){const t=z.getNumberCore(e);return X.parseNumber(e,t)}static getNumberCore(e){if(typeof e=="string"){if(e=e.trim(),!e)return NaN;if(e.indexOf("0x")==0)return e.length>32?NaN:parseInt(e);if(e.length>15&&z.isDigitsOnly(e))return NaN;if(z.isStringHasOperator(e))return NaN}e=this.prepareStringToNumber(e);const t=parseFloat(e);return isNaN(t)||!isFinite(e)?NaN:t}static isStringHasOperator(e){if(e.lastIndexOf("-")>0||e.lastIndexOf("+")>0)return!1;const t="*^/%";for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return!0;return!1}static prepareStringToNumber(e){if(typeof e!="string"||!e)return e;let t=e.indexOf(",");return t>-1&&e.indexOf(",",t+1)<0?e.replace(",","."):e}static getMaxLength(e,t){return e<0&&(e=t),e>0?e:null}static getRemainingCharacterCounterText(e,t){return!t||t<=0||!X.showMaxLengthIndicator?"":[e?e.length:"0",t].join("/")}static getNumberByIndex(e,t,i){if(e<0)return"";var s=1,n="",o=".",h=!0,d="A",f="";const p=P=>{if(!P)return!1;for(var D=0;D<P.length;D++)if(z.isCharDigit(P[D]))return!0;return!1};if(t){f=t;for(var y=f.length-1,b=p(f),w=function(){return b&&!z.isCharDigit(f[y])||z.isCharNotLetterAndDigit(f[y])};y>=0&&w();)y--;var T="";for(y<f.length-1&&(T=f.substring(y+1),f=f.substring(0,y+1)),y=f.length-1;y>=0&&!(w()||(y--,!b)););d=f.substring(y+1),n=f.substring(0,y+1),parseInt(d)?s=parseInt(d):d.length==1&&(h=!1),(T||n)&&(o=T)}if(i>-1&&p(n)&&(n=this.getNumberByIndex(i,n)),h){let P=(e+s).toString();for(;P.length<d.length;)P="0"+P;return n+P+o}return n+String.fromCharCode(d.charCodeAt(0)+e)+o}static isCharNotLetterAndDigit(e){return e.toUpperCase()==e.toLowerCase()&&!z.isCharDigit(e)}static isCharDigit(e){return e>="0"&&e<="9"}static isDigitsOnly(e){if(!e)return!1;for(let t=0;t<e.length;t++)if(!z.isCharDigit(e[t]))return!1;return!0}static getNumberFromStr(e,t){if(!this.isCharDigit(e[t]))return NaN;let i="";for(;t<e.length&&this.isCharDigit(e[t]);)i+=e[t],t++;return i?this.getNumber(i):NaN}static countDecimals(e){if(z.isNumber(e)&&Math.floor(e)!==e){const t=e.toString().split(".");return t.length>1&&t[1].length||0}return 0}static correctAfterPlusMinis(e,t,i){const s=z.countDecimals(e),n=z.countDecimals(t);if(s>0||n>0){const o=Math.max(s,n);i=parseFloat(i.toFixed(o))}return i}static sumAnyValues(e,t){if(!z.isNumber(e)||!z.isNumber(t)){if(Array.isArray(e)&&Array.isArray(t))return[].concat(e).concat(t);if(Array.isArray(e)||Array.isArray(t)){const s=Array.isArray(e)?e:t,n=s===e?t:e;if(typeof n=="string"){const o=s.join(", ");return s===e?o+n:n+o}if(typeof n=="number"){let o=0;for(var i=0;i<s.length;i++)typeof s[i]=="number"&&(o=z.correctAfterPlusMinis(o,s[i],o+s[i]));return z.correctAfterPlusMinis(o,n,o+n)}}return e+t}return typeof e=="string"||typeof t=="string"?e+t:z.correctAfterPlusMinis(e,t,e+t)}static correctAfterMultiple(e,t,i){const s=z.countDecimals(e)+z.countDecimals(t);return s>0&&(i=parseFloat(i.toFixed(s))),i}static convertArrayValueToObject(e,t,i=void 0){const s=new Array;if(!e||!Array.isArray(e))return s;for(var n=0;n<e.length;n++){let o;Array.isArray(i)&&(o=z.findObjByPropValue(i,t,e[n])),o||(o={},o[t]=e[n]),s.push(o)}return s}static findObjByPropValue(e,t,i){for(var s=0;s<e.length;s++)if(z.isTwoValueEquals(e[s][t],i))return e[s]}static convertArrayObjectToValue(e,t){const i=new Array;if(!e||!Array.isArray(e))return i;for(var s=0;s<e.length;s++){const n=e[s]?e[s][t]:void 0;z.isValueEmpty(n)||i.push(n)}return i}static convertDateToString(e){const t=i=>i<10?"0"+i.toString():i.toString();return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())}static convertDateTimeToString(e){const t=i=>i<10?"0"+i.toString():i.toString();return this.convertDateToString(e)+" "+t(e.getHours())+":"+t(e.getMinutes())}static convertValToQuestionVal(e,t){return e instanceof Date?t==="datetime-local"?z.convertDateTimeToString(e):z.convertDateToString(e):this.getUnbindValue(e)}static compareVerions(e,t){if(!e&&!t)return 0;const i=e.split("."),s=t.split("."),n=i.length,o=s.length;for(let h=0;h<n&&h<o;h++){const d=i[h],f=s[h];if(d.length===f.length){if(d!==f)return d<f?-1:1}else return d.length<f.length?-1:1}return n===o?0:n<o?-1:1}static isUrlYoutubeVideo(e){if(!e)return!1;const t=["www.youtube.com","m.youtube.com","youtube.com","youtu.be"];e=e.toLowerCase(),e=e.replace(/^https?:\/\//,"");for(let i=0;i<t.length;i++)if(e.indexOf(t[i]+"/")===0)return!0;return!1}}String.prototype.format||(String.prototype.format=function(){var r=arguments;return this.replace(/{(\d+)}/g,function(e,t){return typeof r[t]<"u"?r[t]:e})});var LV={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",commentText:"Please leave a comment",otherItemText:"Other (describe)",noneItemText:"None",refuseItemText:"Refuse to answer",dontKnowItemText:"Don't know",selectAllItemText:"Select All",deselectAllItemText:"Deselect all",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain any visible elements.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"You have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",buttongroupOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",eachRowUniqueError:"Each row must have a unique value.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textNoDigitsAllow:"Numbers are not allowed.",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} option(s).",maxSelectError:"Please select no more than {0} option(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",noUploadFilesHandler:"Files cannot be uploaded. Please add a handler for the 'onUploadFiles' event.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file selected",filePlaceholder:"Drag and drop a file here or click the button below to select a file to upload.",confirmDelete:"Are you sure you want to delete this record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",noRowsText:"There are no rows.",rowIndexTemplateTitle:"Row {rowIndex}",rowNameTemplateTitle:"{rowTitle}",addPanel:"Add new",removePanel:"Remove",showDetails:"Show Details",hideDetails:"Hide Details",choices_Item:"item",choices_Choice:"Choice option",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",savingExceedSize:"Your response exceeds 64KB. Please reduce the size of your file(s) and try again or contact the survey owner.",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",selectCaption:"Select",signaturePlaceHolder:"Sign here",signaturePlaceHolderReadOnly:"No signature",chooseFileCaption:"Select File",takePhotoCaption:"Take Photo",photoPlaceholder:"Click the button below to take a photo using the camera.",fileOrPhotoPlaceholder:"Drag and drop or select a file to upload or take a photo using the camera.",replaceFileCaption:"Replace file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",loadingPage:"Loading...",loadingData:"Loading...",noEntriesText:`No entries yet.
Click the button below to add a new entry.`,noEntriesReadonlyText:"No entries",tabTitlePlaceholder:"New Panel",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are selected for ranking",selectToRankEmptyUnrankedAreaText:"Drag choices here to rank them",ok:"OK",cancel:"Cancel",createCustomItem:'Create "{0}" item...',toc:"Table of contents",progressbar:"Progress bar"},er={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},localeNamesInEnglish:{},localeDirections:{},supportedLocales:[],useEnglishNames:!1,get showNamesInEnglish(){return this.useEnglishNames},set showNamesInEnglish(r){this.useEnglishNames=r},setupLocale(r){const e=r.localeCode;this.locales[e]=r.strings,this.localeNames[e]=r.nativeName,this.localeNamesInEnglish[e]=r.englishName,r.rtl!==void 0&&(this.localeDirections[e]=r.rtl?"rtl":"ltr")},get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(r){this.currentLocaleValue=this.getCorrectLocaleName(r)},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(r){this.defaultLocaleValue=this.getCorrectLocaleName(r)},getCorrectLocaleName(r){return r==="cz"&&(r="cs"),r==="ua"&&(r="uk"),r==="rs"&&(r="sr"),r},getLocaleStrings(r){return this.locales[r]},getString:function(r,e=null){const t=new Array,i=n=>{const o=this.locales[n];o&&t.push(o)},s=n=>{if(!n)return;i(n);const o=n.indexOf("-");o<1||(n=n.substring(0,o),i(n))};s(e),s(this.currentLocale),s(this.defaultLocale),this.defaultLocale!=="en"&&i("en");for(let n=0;n<t.length;n++){const o=t[n][r];if(o!==void 0)return o}return this.onGetExternalString(r,e)},getLocaleName(r,e){if(!r)return"";e===void 0&&(e=this.showNamesInEnglish);const t=e?this.localeNamesInEnglish:this.localeNames,i=e?this.localeNames:this.localeNamesInEnglish;return t[r]||i[r]||r},getLocales:function(r=!1){var e=[];e.push("");var t=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){t={};for(var i=0;i<this.supportedLocales.length;i++)t[this.supportedLocales[i]]=!0}for(var s in t)r&&s==this.defaultLocale||e.push(s);var n=o=>this.getLocaleName(o).toLowerCase();return e.sort((o,h)=>{var d=n(o),f=n(h);return d===f?0:d<f?-1:1}),e},onGetExternalString:function(r,e){}};function _i(r,e=null){return er.getString(r,e)}er.locales.en=LV;er.localeNames.en="english";function Mm(r,e,t){let i=r.getLocalizableString(t);if(!i){let s;typeof e.localizable=="object"&&e.localizable.defaultStr&&(s=e.localizable.defaultStr),i=r.createLocalizableString(t,r,!0,s),typeof e.localizable=="object"&&typeof e.localizable.onGetTextCallback=="function"&&(i.onGetTextCallback=e.localizable.onGetTextCallback)}}function OV(r,e,t){Mm(r,e,t);let i=r.getLocalizableStringText(t);if(i)return i;if(typeof e.localizable=="object"&&e.localizable.defaultStr){const s=r.getLocale?r.getLocale():"";return _i(e.localizable.defaultStr,s)}return""}function N(r={}){return function(e,t){let i=(s,n)=>{if(n&&typeof n=="object"&&n.type===$t.ComputedUpdaterType){tt.startCollectDependencies(()=>s[t]=n.updater(),s,t);const o=n.updater(),h=tt.finishCollectDependencies();return n.setDependencies(h),s.dependencies[t]&&s.dependencies[t].dispose(),s.dependencies[t]=n,o}return n};!r||!r.localizable?Object.defineProperty(e,t,{get:function(){let s=null;return r&&(typeof r.getDefaultValue=="function"&&(s=r.getDefaultValue(this)),r.defaultValue!==void 0&&(s=r.defaultValue)),this.getPropertyValue(t,s)},set:function(s){const n=i(this,s),o=this.getPropertyValue(t);n!==o&&(this.setPropertyValue(t,n),r&&r.onSet&&r.onSet(n,this,o))}}):(Object.defineProperty(e,t,{get:function(){return OV(this,r,t)},set:function(s){Mm(this,r,t);const n=i(this,s);this.setLocalizableStringText(t,n),r&&r.onSet&&r.onSet(n,this)}}),Object.defineProperty(e,typeof r.localizable=="object"&&r.localizable.name?r.localizable.name:"loc"+t.charAt(0).toUpperCase()+t.slice(1),{get:function(){return Mm(this,r,t),this.getLocalizableString(t)}}))}}function gC(r,e,t){r.ensureArray(t,(i,s)=>{const n=e?e.onPush:null;n&&n(i,s,r)},(i,s)=>{const n=e?e.onRemove:null;n&&n(i,s,r)})}function Es(r){return function(e,t){Object.defineProperty(e,t,{get:function(){return gC(this,r,t),this.getPropertyValue(t)},set:function(i){gC(this,r,t);const s=this.getPropertyValue(t);i!==s&&(s?s.splice(0,s.length,...i||[]):this.setPropertyValue(t,i),r&&r.onSet&&r.onSet(i,this))}})}}class hn{constructor(e,t,i=!1){this.name=t,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=e,this.isRequiredValue=i,this.idValue=hn.Index++}get id(){return this.idValue}get classInfo(){return this.classInfoValue}get type(){return this.typeValue?this.typeValue:"string"}set type(e){e==="itemvalues"&&(e="itemvalue[]"),e==="textitems"&&(e="textitem[]"),this.typeValue=e,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))}get locationInTable(){return this.locationInTableValue||"column"}set locationInTable(e){this.locationInTableValue=e}get showMode(){const e=this.locationInTableValue;return e==="detail"?"form":e==="column"?"list":""}set showMode(e){this.locationInTable=e==="form"?"detail":e==="list"?"column":void 0}get isRequired(){return this.isRequiredValue}set isRequired(e){e!==this.isRequired&&(this.isRequiredValue=e,this.classInfo&&this.classInfo.resetAllProperties())}get isUnique(){return this.isUniqueValue}set isUnique(e){this.isUniqueValue=e}get uniquePropertyName(){return this.uniquePropertyValue}set uniquePropertyName(e){this.uniquePropertyValue=e}isPropertySerializable(e){return this.isSerializableFunc?this.isSerializableFunc(e):this.isSerializable}getDefaultValue(e){let t=this.defaultValueFunc?this.defaultValueFunc(e):this.defaultValueValue;return hn.getItemValuesDefaultValue&&le.isDescendantOf(this.className,"itemvalue")&&(t=hn.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),t}get defaultValue(){return this.getDefaultValue(void 0)}set defaultValue(e){this.defaultValueValue=e,e!==void 0&&(this.defaultValueFunc=void 0)}isDefaultValue(e){return this.isDefaultValueByObj(void 0,e)}isDefaultValueByObj(e,t){if(this.isLocalizable)return t==null;const i=this.getDefaultValue(e);return i!==void 0?typeof i!="object"?i===t:z.isTwoValueEquals(t,i,!1,!0,!1):t===!1&&(this.type=="boolean"||this.type=="switch")&&!this.defaultValueFunc||t===""||z.isValueEmpty(t)}getSerializableValue(e,t){if(this.onSerializeValue)return this.onSerializeValue(e);const i=this.getValue(e);if(i!=null&&!(!t&&this.isDefaultValueByObj(e,i)))return i}getValue(e){return this.onGetValue?(e=this.getOriginalObj(e),this.onGetValue(e)):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].getJson():e[this.name]}getPropertyValue(e){return this.isLocalizable?e[this.serializationProperty]?e[this.serializationProperty].text:null:this.getValue(e)}get hasToUseSetValue(){return this.onSetValue||this.serializationProperty}settingValue(e,t){return!this.onSettingValue||e.isLoadingFromJson?t:this.onSettingValue(e,t)}setValue(e,t,i){this.onSetValue?(e=this.getOriginalObj(e),this.onSetValue(e,t,i)):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].setJson(t,!0):(t&&typeof t=="string"&&(this.type=="number"&&(t=parseInt(t)),(this.type=="boolean"||this.type=="switch")&&(t=t.toLowerCase()==="true")),e[this.name]=t)}validateValue(e){const t=this.choices;return!Array.isArray(t)||t.length===0?!0:t.indexOf(e)>-1}getObjType(e){return this.classNamePart?e.replace(this.classNamePart,""):e}get choices(){return this.getChoices(null)}get hasChoices(){return!!this.choicesValue||!!this.choicesfunc}getChoices(e,t=null){return this.choicesValue!=null?this.choicesValue:this.choicesfunc!=null?this.choicesfunc(e,t):null}setChoices(e,t=null){this.choicesValue=e,this.choicesfunc=t}getBaseValue(){return this.baseValue?typeof this.baseValue=="function"?this.baseValue():this.baseValue:""}setBaseValue(e){this.baseValue=e}get readOnly(){return this.readOnlyValue!=null?this.readOnlyValue:!1}set readOnly(e){this.readOnlyValue=e}isEnable(e){return this.readOnly?!1:!e||!this.enableIf?!0:this.enableIf(this.getOriginalObj(e))}isVisible(e,t=null){let i=!this.layout||!e||this.layout===e;return!this.visible||!i?!1:this.visibleIf&&t?this.visibleIf(this.getOriginalObj(t)):!0}getOriginalObj(e){if(e&&e.getOriginalObj){const t=e.getOriginalObj();if(t&&le.findProperty(t.getType(),this.name))return t}return e}get visible(){return this.visibleValue!=null?this.visibleValue:!0}set visible(e){this.visibleValue=e}isAvailableInVersion(e){return this.alternativeName||this.oldName?!0:this.isAvailableInVersionCore(e)}getSerializedName(e){return this.alternativeName?this.isAvailableInVersionCore(e)?this.name:this.alternativeName||this.oldName:this.name}getSerializedProperty(e,t){return!this.oldName||this.isAvailableInVersionCore(t)?this:!e||!e.getType?null:le.findProperty(e.getType(),this.oldName)}isAvailableInVersionCore(e){return!e||!this.version?!0:z.compareVerions(this.version,e)<=0}get isLocalizable(){return this.isLocalizableValue!=null?this.isLocalizableValue:!1}set isLocalizable(e){this.isLocalizableValue=e}get dataList(){return Array.isArray(this.dataListValue)?this.dataListValue:[]}set dataList(e){this.dataListValue=e}mergeWith(e){for(var t=hn.mergableValues,i=0;i<t.length;i++)this.mergeValue(e,t[i])}addDependedProperty(e){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(e)<0&&this.dependedProperties.push(e)}getDependedProperties(){return this.dependedProperties?this.dependedProperties:[]}schemaType(){if(this.className!=="choicesByUrl")return this.className==="string"?this.className:this.className||this.baseClassName?"array":this.type=="switch"?"boolean":this.type=="boolean"||this.type=="number"?this.type:"string"}schemaRef(){if(this.className)return this.className}mergeValue(e,t){this[t]==null&&e[t]!=null&&(this[t]=e[t])}}hn.Index=1;hn.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","oldName","layout","version","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","locationInTable","dependedProperties","visibleIf","enableIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"];class Ei{static addProperty(e,t){e=e.toLowerCase();var i=Ei.properties;i[e]||(i[e]=[]),i[e].push(t)}static removeProperty(e,t){e=e.toLowerCase();var i=Ei.properties;if(i[e]){for(var s=i[e],n=0;n<s.length;n++)if(s[n].name==t){i[e].splice(n,1);break}}}static removeAllProperties(e){e=e.toLowerCase(),delete Ei.properties[e]}static addClass(e,t){e=e.toLowerCase(),t&&(t=t.toLowerCase()),Ei.parentClasses[e]=t}static getProperties(e){e=e.toLowerCase();for(var t=[],i=Ei.properties;e;){var s=i[e];if(s)for(var n=0;n<s.length;n++)t.push(s[n]);e=Ei.parentClasses[e]}return t}static createProperties(e){!e||!e.getType||Ei.createPropertiesCore(e,e.getType())}static createPropertiesCore(e,t){var i=Ei.properties;i[t]&&Ei.createPropertiesInObj(e,i[t]);var s=Ei.parentClasses[t];s&&Ei.createPropertiesCore(e,s)}static createPropertiesInObj(e,t){for(var i=0;i<t.length;i++)Ei.createPropertyInObj(e,t[i])}static createPropertyInObj(e,t){if(!Ei.checkIsPropertyExists(e,t.name)&&!(t.serializationProperty&&Ei.checkIsPropertyExists(e,t.serializationProperty))){if(t.isLocalizable&&t.serializationProperty&&e.createCustomLocalizableObj){const o=e.createCustomLocalizableObj(t.name);o.defaultValue=t.getDefaultValue(e);var i={get:function(){return e.getLocalizableString(t.name)}};Object.defineProperty(e,t.serializationProperty,i);var s={get:function(){return e.getLocalizableStringText(t.name)},set:function(h){e.setLocalizableStringText(t.name,h)}};Object.defineProperty(e,t.name,s)}else{var n=t.isArray||t.type==="multiplevalues";if(typeof e.createNewArray=="function"&&(le.isDescendantOf(t.className,"itemvalue")?(e.createNewArray(t.name,function(o){o.locOwner=e,o.ownerPropertyName=t.name}),n=!0):n&&e.createNewArray(t.name),n)){const o=t.getDefaultValue(e);Array.isArray(o)&&e.setPropertyValue(t.name,o)}if(e.getPropertyValue&&e.setPropertyValue){var s={get:()=>t.onGetValue?t.onGetValue(e):e.getPropertyValue(t.name,void 0),set:function(h){t.onSetValue?t.onSetValue(e,h,null):e.setPropertyValue(t.name,h)}};Object.defineProperty(e,t.name,s)}}(t.type==="condition"||t.type==="expression")&&t.onExecuteExpression&&e.addExpressionProperty(t.name,t.onExecuteExpression)}}static checkIsPropertyExists(e,t){return e.hasOwnProperty(t)||e[t]}}Ei.properties={};Ei.parentClasses={};class Ol{constructor(e,t,i=null,s=null){this.name=e,this.creator=i,this.parentName=s,e=e.toLowerCase(),this.isCustomValue=!i&&e!=="survey",this.parentName&&(this.parentName=this.parentName.toLowerCase(),Ei.addClass(e,this.parentName),i&&this.makeParentRegularClass()),this.properties=new Array;for(var n=0;n<t.length;n++)this.createProperty(t[n],this.isCustom)}find(e){for(var t=0;t<this.properties.length;t++)if(this.properties[t].name==e)return this.properties[t];return null}findProperty(e){return this.fillAllProperties(),this.hashProperties[e]}getAllProperties(){return this.fillAllProperties(),this.allProperties}getRequiredProperties(){if(this.requiredProperties)return this.requiredProperties;this.requiredProperties=[];const e=this.getAllProperties();for(let t=0;t<e.length;t++)e[t].isRequired&&this.requiredProperties.push(e[t]);return this.requiredProperties}resetAllProperties(){this.allProperties=void 0,this.requiredProperties=void 0,this.hashProperties=void 0;for(var e=le.getChildrenClasses(this.name),t=0;t<e.length;t++)e[t].resetAllProperties()}get isCustom(){return this.isCustomValue}fillAllProperties(){if(this.allProperties)return;this.allProperties=[],this.hashProperties={};const e={};this.properties.forEach(i=>e[i.name]=i);const t=this.parentName?le.findClass(this.parentName):null;t&&t.getAllProperties().forEach(s=>{const n=e[s.name];n?(n.mergeWith(s),this.addPropCore(n)):this.addPropCore(s)}),this.properties.forEach(i=>{this.hashProperties[i.name]||this.addPropCore(i)})}addPropCore(e){this.allProperties.push(e),this.hashProperties[e.name]=e,e.alternativeName&&(this.hashProperties[e.alternativeName]=e)}isOverridedProp(e){return!!this.parentName&&!!le.findProperty(this.parentName,e)}hasRegularChildClass(){if(this.isCustom){this.isCustomValue=!1;for(var e=0;e<this.properties.length;e++)this.properties[e].isCustom=!1;Ei.removeAllProperties(this.name),this.makeParentRegularClass()}}makeParentRegularClass(){if(!this.parentName)return;const e=le.findClass(this.parentName);e&&e.hasRegularChildClass()}createProperty(e,t=!1){var i=typeof e=="string"?e:e.name;if(i){var s=null,n=i.indexOf(Ol.typeSymbol);n>-1&&(s=i.substring(n+1),i=i.substring(0,n));var o=this.getIsPropertyNameRequired(i)||!!e.isRequired;i=this.getPropertyName(i);var h=new hn(this,i,o);if(s&&(h.type=s),typeof e=="object"){if(e.type&&(h.type=e.type),e.default!==void 0&&(h.defaultValue=e.default),e.defaultFunc!==void 0&&(h.defaultValueFunc=e.defaultFunc),z.isValueEmpty(e.isSerializable)||(h.isSerializable=e.isSerializable),z.isValueEmpty(e.isSerializableFunc)||(h.isSerializableFunc=e.isSerializableFunc),z.isValueEmpty(e.isLightSerializable)||(h.isLightSerializable=e.isLightSerializable),z.isValueEmpty(e.maxLength)||(h.maxLength=e.maxLength),e.displayName!==void 0&&(h.displayName=e.displayName),z.isValueEmpty(e.category)||(h.category=e.category),z.isValueEmpty(e.categoryIndex)||(h.categoryIndex=e.categoryIndex),z.isValueEmpty(e.nextToProperty)||(h.nextToProperty=e.nextToProperty),z.isValueEmpty(e.overridingProperty)||(h.overridingProperty=e.overridingProperty),z.isValueEmpty(e.visibleIndex)||(h.visibleIndex=e.visibleIndex),z.isValueEmpty(e.showMode)||(h.showMode=e.showMode),z.isValueEmpty(e.locationInTable)||(h.locationInTable=e.locationInTable),z.isValueEmpty(e.maxValue)||(h.maxValue=e.maxValue),z.isValueEmpty(e.minValue)||(h.minValue=e.minValue),z.isValueEmpty(e.dataList)||(h.dataList=e.dataList),z.isValueEmpty(e.isDynamicChoices)||(h.isDynamicChoices=e.isDynamicChoices),z.isValueEmpty(e.isBindable)||(h.isBindable=e.isBindable),z.isValueEmpty(e.isUnique)||(h.isUnique=e.isUnique),z.isValueEmpty(e.uniqueProperty)||(h.uniquePropertyName=e.uniqueProperty),z.isValueEmpty(e.isArray)||(h.isArray=e.isArray),(e.visible===!0||e.visible===!1)&&(h.visible=e.visible),e.visibleIf&&(h.visibleIf=e.visibleIf),e.enableIf&&(h.enableIf=e.enableIf),e.onExecuteExpression&&(h.onExecuteExpression=e.onExecuteExpression),e.onPropertyEditorUpdate&&(h.onPropertyEditorUpdate=e.onPropertyEditorUpdate),e.readOnly===!0&&(h.readOnly=!0),e.availableInMatrixColumn===!0&&(h.availableInMatrixColumn=!0),e.choices){var d=typeof e.choices=="function"?e.choices:null,f=typeof e.choices!="function"?e.choices:null;h.setChoices(f,d)}e.baseValue&&h.setBaseValue(e.baseValue),e.onSerializeValue&&(h.onSerializeValue=e.onSerializeValue),e.onGetValue&&(h.onGetValue=e.onGetValue),e.onSetValue&&(h.onSetValue=e.onSetValue),e.onSettingValue&&(h.onSettingValue=e.onSettingValue),e.isLocalizable&&(e.serializationProperty="loc"+h.name),e.serializationProperty&&(h.serializationProperty=e.serializationProperty,h.serializationProperty&&h.serializationProperty.indexOf("loc")==0&&(h.isLocalizable=!0)),e.isLocalizable&&(h.isLocalizable=e.isLocalizable),e.className&&(h.className=e.className),e.baseClassName&&(h.baseClassName=e.baseClassName,h.isArray=!0),h.isArray===!0&&(h.isArray=!0),e.classNamePart&&(h.classNamePart=e.classNamePart),e.alternativeName&&(h.alternativeName=e.alternativeName),e.oldName&&(h.oldName=e.oldName),e.layout&&(h.layout=e.layout),e.version&&(h.version=e.version),e.dependsOn&&this.addDependsOnProperties(h,e.dependsOn)}return this.properties.push(h),t&&!this.isOverridedProp(h.name)&&(h.isCustom=!0,Ei.addProperty(this.name,h)),h}}addDependsOnProperties(e,t){const i=Array.isArray(t)?t:[t];e.dependsOn=i;for(var s=0;s<i.length;s++)this.addDependsOnProperty(e,i[s])}addDependsOnProperty(e,t){var i=this.find(t);i||(i=le.findProperty(this.parentName,t)),i&&i.addDependedProperty(e.name)}getIsPropertyNameRequired(e){return e.length>0&&e[0]==Ol.requiredSymbol}getPropertyName(e){return this.getIsPropertyNameRequired(e)&&(e=e.slice(1)),e}}Ol.requiredSymbol="!";Ol.typeSymbol=":";class MV{constructor(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.dynamicPropsCache={}}getObjPropertyValue(e,t){if(this.isObjWrapper(e)&&this.isNeedUseObjWrapper(e,t)){const s=e.getOriginalObj(),n=le.findProperty(s.getType(),t);if(n)return this.getObjPropertyValueCore(s,n)}const i=le.findProperty(e.getType(),t);return i?this.getObjPropertyValueCore(e,i):e[t]}setObjPropertyValue(e,t,i){if(e[t]!==i)if(e[t]&&e[t].setJson)e[t].setJson(i,!0);else{if(Array.isArray(i)){const n=[];for(var s=0;s<i.length;s++)n.push(i[s]);i=n}e[t]=i}}getObjPropertyValueCore(e,t){if(!t.isPropertySerializable(e))return e[t.name];if(t.isLocalizable){if(t.isArray)return e[t.name];const i=e.getLocalizableString(t.name);if(i)return i.isDefautlLocale?i.text:i.getValue(i.locale);if(t.serializationProperty)return e[t.serializationProperty].text}return e.getPropertyValue(t.name)}isObjWrapper(e){return!!e.getOriginalObj&&!!e.getOriginalObj()}isNeedUseObjWrapper(e,t){if(!e.getDynamicProperties)return!0;const i=e.getDynamicProperties();if(!Array.isArray(i))return!1;for(let s=0;s<i.length;s++)if(i[s].name===t)return!0;return!1}addClass(e,t,i=null,s=null){e=e.toLowerCase();var n=new Ol(e,t,i,s);if(this.classes[e]=n,s){s=s.toLowerCase();var o=this.childrenClasses[s];o||(this.childrenClasses[s]=[]),this.childrenClasses[s].push(n)}return n}removeClass(e){var t=this.findClass(e);if(t&&(delete this.classes[t.name],t.parentName)){var i=this.childrenClasses[t.parentName].indexOf(t);i>-1&&this.childrenClasses[t.parentName].splice(i,1)}}overrideClassCreatore(e,t){this.overrideClassCreator(e,t)}overrideClassCreator(e,t){e=e.toLowerCase();var i=this.findClass(e);i&&(i.creator=t)}getProperties(e){var t=this.findClass(e);return t?t.getAllProperties():[]}getPropertiesByObj(e){const t=e&&e.getType?e.getType():void 0;if(!t)return[];const i=this.getProperties(t),s=this.getDynamicPropertiesByObj(e);for(let n=s.length-1;n>=0;n--)this.findProperty(t,s[n].name)&&s.splice(n,1);return s.length===0?i:[].concat(i).concat(s)}addDynamicPropertiesIntoObj(e,t,i){i.forEach(s=>{this.addDynamicPropertyIntoObj(e,t,s.name,!1),s.serializationProperty&&this.addDynamicPropertyIntoObj(e,t,s.serializationProperty,!0),s.alternativeName&&this.addDynamicPropertyIntoObj(e,t,s.alternativeName,!1)})}addDynamicPropertyIntoObj(e,t,i,s){var n={configurable:!0,get:function(){return t[i]}};s||(n.set=function(o){t[i]=o}),Object.defineProperty(e,i,n)}getDynamicPropertiesByObj(e,t=null){if(!e||!e.getType)return[];if(e.getDynamicProperties)return e.getDynamicProperties();if(!e.getDynamicType&&!t)return[];const i=t||e.getDynamicType();return this.getDynamicPropertiesByTypes(e.getType(),i)}getDynamicPropertiesByTypes(e,t,i){if(!t)return[];const s=t+"-"+e;if(this.dynamicPropsCache[s])return this.dynamicPropsCache[s];var n=this.getProperties(t);if(!n||n.length==0)return[];const o={},h=this.getProperties(e);for(var d=0;d<h.length;d++)o[h[d].name]=h[d];const f=[];i||(i=[]);for(let p=0;p<n.length;p++){const y=n[p];this.canAddDybamicProp(y,o[y.name])&&(i.indexOf(y.name)>-1&&(y.visible=!1,y.isSerializable=!1),f.push(y))}return this.dynamicPropsCache[s]=f,f}canAddDybamicProp(e,t){if(!t)return!0;if(e===t)return!1;let i=e.classInfo;for(;i&&i.parentName;){if(e=this.findProperty(i.parentName,e.name),e&&e===t)return!0;i=e?e.classInfo:void 0}return!1}hasOriginalProperty(e,t){return!!this.getOriginalProperty(e,t)}getOriginalProperty(e,t){var i=this.findProperty(e.getType(),t);return i||(this.isObjWrapper(e)?this.findProperty(e.getOriginalObj().getType(),t):null)}getProperty(e,t){const i=this.findProperty(e,t);if(!i)return i;const s=this.findClass(e);if(i.classInfo===s)return i;const n=new hn(s,i.name,i.isRequired);return n.mergeWith(i),n.isArray=i.isArray,s.properties.push(n),s.resetAllProperties(),n}findProperty(e,t){const i=this.findClass(e);return i?i.findProperty(t):null}findProperties(e,t){var i=new Array;const s=this.findClass(e);if(!s)return i;for(var n=0;n<t.length;n++){var o=s.findProperty(t[n]);o&&i.push(o)}return i}getAllPropertiesByName(e){for(var t=new Array,i=this.getAllClasses(),s=0;s<i.length;s++)for(var n=this.findClass(i[s]),o=0;o<n.properties.length;o++)if(n.properties[o].name==e){t.push(n.properties[o]);break}return t}getAllClasses(){var e=new Array;for(var t in this.classes)e.push(t);return e}createClass(e,t=void 0){e=e.toLowerCase();var i=this.findClass(e);if(!i)return null;if(i.creator)return i.creator(t);for(var s=i.parentName;s;){if(i=this.findClass(s),!i)return null;if(s=i.parentName,i.creator)return this.createCustomType(e,i.creator,t)}return null}createCustomType(e,t,i=void 0){e=e.toLowerCase();var s=t(i),n=e,o=s.getTemplate?s.getTemplate():s.getType();return s.getType=function(){return n},s.getTemplate=function(){return o},Ei.createProperties(s),s}getChildrenClasses(e,t=!1){e=e.toLowerCase();var i=[];return this.fillChildrenClasses(e,t,i),i}getRequiredProperties(e){const t=this.findClass(e);if(!t)return[];const i=t.getRequiredProperties();for(var s=[],n=0;n<i.length;n++)s.push(i[n].name);return s}addProperties(e,t){e=e.toLowerCase();for(var i=this.findClass(e),s=0;s<t.length;s++)this.addCustomPropertyCore(i,t[s])}addProperty(e,t){return this.addCustomPropertyCore(this.findClass(e),t)}addCustomPropertyCore(e,t){if(!e)return null;var i=e.createProperty(t,!0);return i&&(this.clearDynamicPropsCache(e),e.resetAllProperties()),i}removeProperty(e,t){var i=this.findClass(e);if(!i)return!1;var s=i.find(t);s&&(this.clearDynamicPropsCache(i),this.removePropertyFromClass(i,s),i.resetAllProperties(),Ei.removeProperty(i.name,t))}clearDynamicPropsCache(e){this.dynamicPropsCache={}}removePropertyFromClass(e,t){var i=e.properties.indexOf(t);i<0||e.properties.splice(i,1)}fillChildrenClasses(e,t,i){var s=this.childrenClasses[e];if(s)for(var n=0;n<s.length;n++)(!t||s[n].creator)&&i.push(s[n]),this.fillChildrenClasses(s[n].name,t,i)}findClass(e){e=e.toLowerCase();var t=this.classes[e];if(!t){var i=this.alternativeNames[e];if(i&&i!=e)return this.findClass(i)}return t}isDescendantOf(e,t){if(!e||!t)return!1;e=e.toLowerCase(),t=t.toLowerCase();var i=this.findClass(e);if(!i)return!1;var s=i;do{if(s.name===t)return!0;s=this.classes[s.parentName]}while(s);return!1}addAlterNativeClassName(e,t){this.alternativeNames[t.toLowerCase()]=e.toLowerCase()}generateSchema(e=void 0){e||(e="survey");var t=this.findClass(e);if(!t)return null;var i={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(t,i,i.definitions,!0),i}generateLocStrClass(){const e={},t=le.findProperty("survey","locale");if(t){const i=t.getChoices(null);Array.isArray(i)&&(i.indexOf("en")<0&&i.splice(0,0,"en"),i.splice(0,0,"default"),i.forEach(s=>{s&&(e[s]={type:"string"})}))}return{$id:"locstring",type:"object",properties:e}}generateSchemaProperties(e,t,i,s){if(!e)return;const n=t.properties,o=[];e.name==="question"&&(n.type={type:"string"},o.push("type"));for(let h=0;h<e.properties.length;h++){const d=e.properties[h];d.isSerializable!==!1&&(e.parentName&&le.findProperty(e.parentName,d.name)||(n[d.name]=this.generateSchemaProperty(d,i,s),d.isRequired&&o.push(d.name)))}o.length>0&&(t.required=o)}generateSchemaProperty(e,t,i){if(e.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",i)}]};const s=e.schemaType(),n=e.schemaRef();var o={};if(s&&(o.type=s),e.hasChoices){const p=e.getChoices(null);Array.isArray(p)&&p.length>0&&(o.enum=this.getChoicesValues(p))}if(n&&(s==="array"?e.className==="string"?o.items={type:e.className}:o.items={$ref:this.getChemeRefName(e.className,i)}:o.$ref=this.getChemeRefName(n,i),this.generateChemaClass(e.className,t,!1)),e.baseClassName){var h=this.getChildrenClasses(e.baseClassName,!0);e.baseClassName=="question"&&h.push(this.findClass("panel")),o.items={anyOf:[]};for(var d=0;d<h.length;d++){var f=h[d].name;o.items.anyOf.push({$ref:this.getChemeRefName(f,i)}),this.generateChemaClass(f,t,!1)}}return o}getChemeRefName(e,t){return t?"#/definitions/"+e:e}generateChemaClass(e,t,i){if(t[e])return;var s=this.findClass(e);if(!s)return;var n=!!s.parentName&&s.parentName!="base";n&&this.generateChemaClass(s.parentName,t,i);const o={type:"object",$id:e};t[e]=o;const h={properties:{}};this.generateSchemaProperties(s,h,t,i),n?o.allOf=[{$ref:this.getChemeRefName(s.parentName,i)},{properties:h.properties}]:o.properties=h.properties,Array.isArray(h.required)&&(o.required=h.required)}getChoicesValues(e){const t=new Array;return e.forEach(i=>{typeof i=="object"&&i.value!==void 0?t.push(i.value):t.push(i)}),t}}class _h{constructor(e,t){this.type=e,this.message=t,this.description="",this.at=-1,this.end=-1}getFullDescription(){return this.message+(this.description?`
`+this.description:"")}}class NV extends _h{constructor(e,t){super("unknownproperty","Unknown property in class '"+t+"': '"+e+"'."),this.propertyName=e,this.className=t}}class Ib extends _h{constructor(e,t,i){super(t,i),this.baseClassName=e,this.type=t,this.message=i}}class kV extends Ib{constructor(e,t){super(t,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+e+"'."),this.propertyName=e,this.baseClassName=t}}class qV extends Ib{constructor(e,t){super(t,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+e+"'."),this.propertyName=e,this.baseClassName=t}}class FV extends _h{constructor(e,t){super("requiredproperty","The property '"+e+"' is required in class '"+t+"'."),this.propertyName=e,this.className=t}}class BV extends _h{constructor(e,t){super("arrayproperty","The property '"+e+"' should be an array in '"+t+"'."),this.propertyName=e,this.className=t}}class zV extends _h{constructor(e,t){super("incorrectvalue","The property value: '"+t+"' is incorrect for property '"+e.name+"'."),this.property=e,this.value=t}}class Ri{constructor(){this.errors=new Array,this.lightSerializing=!1}static get metaData(){return Ri.metaDataValue}toJsonObject(e,t){return this.toJsonObjectCore(e,null,t)}toObject(e,t,i){this.toObjectCore(e,t,i);var s=this.getRequiredError(t,e);s&&this.addNewError(s,e,t)}toObjectCore(e,t,i){if(!e)return;var s=null,n=void 0,o=!0;if(t.getType&&(n=t.getType(),s=le.getProperties(n),o=!!n&&!le.isDescendantOf(n,"itemvalue")),!s)return;t.startLoadingFromJson&&t.startLoadingFromJson(e),s=this.addDynamicProperties(t,e,s),this.options=i;const h={};h[Ri.typePropertyName]=!0;const d={};for(var f in e)this.setPropertyValueToObj(e,t,f,s,h,d,n,o,i);this.options=void 0,t.endLoadingFromJson&&t.endLoadingFromJson()}setPropertyValueToObj(e,t,i,s,n,o,h,d,f){if(n[i])return;if(i===Ri.positionPropertyName){t[i]=e[i];return}const p=this.findProperty(s,i);if(!p&&d&&this.addNewError(new NV(i.toString(),h),e,t),p){const y=p.dependsOn;Array.isArray(y)&&(o[i]=!0,y.forEach(b=>{o[b]||this.setPropertyValueToObj(e,t,b,s,n,o,h,!1,f)})),this.valueToObj(e[i],t,p,e,f),n[i]=!0}}toJsonObjectCore(e,t,i){if(!e||!e.getType)return e;if(!e.isSurvey&&typeof e.getData=="function")return e.getData();var s={};t!=null&&!t.className&&(s[Ri.typePropertyName]=t.getObjType(e.getType()));const n=i===!0;return(!i||i===!0)&&(i={}),n&&(i.storeDefaults=n),this.propertiesToJson(e,le.getProperties(e.getType()),s,i),this.propertiesToJson(e,this.getDynamicProperties(e),s,i),s}getDynamicProperties(e){return le.getDynamicPropertiesByObj(e)}addDynamicProperties(e,t,i){if(!e.getDynamicPropertyName&&!e.getDynamicProperties)return i;if(e.getDynamicPropertyName){const n=e.getDynamicPropertyName();if(!n)return i;n&&t[n]&&(e[n]=t[n])}const s=this.getDynamicProperties(e);return s.length===0?i:[].concat(i).concat(s)}propertiesToJson(e,t,i,s){for(var n=0;n<t.length;n++)this.valueToJson(e,i,t[n],s)}valueToJson(e,t,i,s){s||(s={}),!(!i.isPropertySerializable(e)||i.isLightSerializable===!1&&this.lightSerializing)&&(s.version&&!i.isAvailableInVersion(s.version)||this.valueToJsonCore(e,t,i,s))}valueToJsonCore(e,t,i,s){const n=i.getSerializedProperty(e,s.version);if(n&&n!==i){this.valueToJsonCore(e,t,n,s);return}var o=i.getSerializableValue(e,s.storeDefaults);if(o===void 0)return;if(this.isValueArray(o)){for(var h=[],d=0;d<o.length;d++)h.push(this.toJsonObjectCore(o[d],i,s));o=h.length>0?h:null}else o=this.toJsonObjectCore(o,i,s);if(o==null)return;const f=i.getSerializedName(s.version);var p=typeof e.getPropertyValue=="function"&&e.getPropertyValue(f,null)!==null;(s.storeDefaults&&p||!i.isDefaultValueByObj(e,o))&&(!le.onSerializingProperty||!le.onSerializingProperty(e,i,o,t))&&(t[f]=this.removePosOnValueToJson(i,o))}valueToObj(e,t,i,s,n){if(e!=null){if(this.removePos(i,e),i!=null&&i.hasToUseSetValue){i.setValue(t,e,this);return}if(i.isArray&&!Array.isArray(e)&&e){e=[e];const h=s&&i.alternativeName&&s[i.alternativeName]?i.alternativeName:i.name;this.addNewError(new BV(h,t.getType()),s||e,t)}if(this.isValueArray(e)){this.valueToArray(e,t,i.name,i,n);return}var o=this.createNewObj(e,i);o.newObj&&(this.toObjectCore(e,o.newObj,n),e=o.newObj),o.error||(i!=null?(i.setValue(t,e,this),n&&n.validatePropertyValues&&(i.validateValue(e)||this.addNewError(new zV(i,e),s,t))):t[i.name]=e)}}removePosOnValueToJson(e,t){return!e.isCustom||!t||this.removePosFromObj(t),t}removePos(e,t){!e||!e.type||e.type.indexOf("value")<0||this.removePosFromObj(t)}removePosFromObj(e){if(!(!e||typeof e.getType=="function")){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.removePosFromObj(e[t]);if(typeof e=="object"){e[Ri.positionPropertyName]&&delete e[Ri.positionPropertyName];for(let i in e)this.removePosFromObj(e[i])}}}isValueArray(e){return e&&Array.isArray(e)}createNewObj(e,t){var i={newObj:null,error:null};const s=this.getClassNameForNewObj(e,t);return i.newObj=s?le.createClass(s,e):null,i.error=this.checkNewObjectOnErrors(i.newObj,e,t,s),i}getClassNameForNewObj(e,t){var i=t!=null&&t.className?t.className:void 0;if(i||(i=e[Ri.typePropertyName]),!i)return i;i=i.toLowerCase();const s=t.classNamePart;return s&&i.indexOf(s)<0&&(i+=s),i}checkNewObjectOnErrors(e,t,i,s){var n=null;return e?n=this.getRequiredError(e,t):i.baseClassName&&(s?n=new qV(i.name,i.baseClassName):n=new kV(i.name,i.baseClassName)),n&&this.addNewError(n,t,e),n}getRequiredError(e,t){if(!e.getType||typeof e.getData=="function")return null;const i=le.findClass(e.getType());if(!i)return null;const s=i.getRequiredProperties();if(!Array.isArray(s))return null;for(var n=0;n<s.length;n++){const o=s[n];if(z.isValueEmpty(o.defaultValue)&&!t[o.name])return new FV(o.name,e.getType())}return null}addNewError(e,t,i){if(e.jsonObj=t,e.element=i,this.errors.push(e),!t)return;const s=t[Ri.positionPropertyName];s&&(e.at=s.start,e.end=s.end)}valueToArray(e,t,i,s,n){if(!(t[i]&&!this.isValueArray(t[i]))){t[i]&&e.length>0&&t[i].splice(0,t[i].length);var o=t[i]?t[i]:[];this.addValuesIntoArray(e,o,s,n),t[i]||(t[i]=o)}}addValuesIntoArray(e,t,i,s){for(var n=0;n<e.length;n++){var o=this.createNewObj(e[n],i);o.newObj?(e[n].name&&(o.newObj.name=e[n].name),e[n].valueName&&(o.newObj.valueName=e[n].valueName.toString()),t.push(o.newObj),this.toObjectCore(e[n],o.newObj,s)):o.error||t.push(e[n])}}findProperty(e,t){if(!e)return null;for(var i=0;i<e.length;i++){var s=e[i];if(s.name==t||s.alternativeName==t)return s}return null}}Ri.typePropertyName="type";Ri.positionPropertyName="pos";Ri.metaDataValue=new MV;var le=Ri.metaData;const pC="@survey";class xr{constructor(){this.values=null,this.properties=null,this.asyncValues={}}getFirstName(e,t=null){if(!e)return e;var i="";if(t&&(i=this.getFirstPropertyName(e,t),i))return i;for(var s=0;s<e.length;s++){var n=e[s];if(n=="."||n=="[")break;i+=n}return i}hasValue(e,t=null){t||(t=this.values);var i=this.getValueCore(e,t);return i.hasValue}getValue(e,t=null){t||(t=this.values);var i=this.getValueCore(e,t);return i.onProcessValue?i.onProcessValue(i.value):i.value}setValue(e,t,i){if(t){var s=this.getNonNestedObject(e,t,!0);s&&(e=s.value,t=s.text,e&&t&&(e[t]=i))}}getValueInfo(e){if(e.path){e.value=this.getValueFromPath(e.path,this.values),e.hasValue=e.value!==null&&!z.isValueEmpty(e.value),!e.hasValue&&e.path.length>1&&e.path[e.path.length-1]=="length"&&(e.hasValue=!0,e.value=0);return}var t=this.getValueCore(e.name,this.values);e.value=t.value,e.hasValue=t.hasValue,e.path=t.hasValue?t.path:null,e.onProcessValue=t.onProcessValue,e.sctrictCompare=t.sctrictCompare}isAnyKeyChanged(e,t){for(var i=0;i<t.length;i++){const f=t[i];if(!f)continue;const p=f.toLowerCase();if(e.hasOwnProperty(f)||f!==p&&e.hasOwnProperty(p))return!0;var s=this.getFirstName(f);if(e.hasOwnProperty(s)){if(f===s)return!0;var n=e[s];if(n!=null){if(!n.hasOwnProperty("oldValue")||!n.hasOwnProperty("newValue"))return!0;var o={};o[s]=n.oldValue;var h=this.getValue(f,o);o[s]=n.newValue;var d=this.getValue(f,o);if(!z.isTwoValueEquals(h,d,!1,!1,!1))return!0}}}return!1}getValueFromPath(e,t){if(e.length===2&&e[0]===pC)return this.getValueFromSurvey(e[1]);for(var i=0;t&&i<e.length;){var s=e[i];if(z.isNumber(s)&&Array.isArray(t)&&s>=t.length)return null;t=t[s],i++}return t}getValueCore(e,t){const i=this.getQuestionDirectly(e);if(i)return{hasValue:!0,value:i.value,onProcessValue:n=>i.getExpressionValue(n),path:[e],sctrictCompare:i.requireStrictCompare};const s=this.getValueFromValues(e,t);if(e&&!s.hasValue){const n=this.getValueFromSurvey(e);n!==void 0&&(s.hasValue=!0,s.value=n,s.path=[pC,e])}return s}getQuestionDirectly(e){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(e)}getValueFromSurvey(e){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(e.toLocaleLowerCase())}getValueFromValues(e,t){var i={hasValue:!1,value:null,path:null},s=t;if(!s&&s!==0&&s!==!1)return i;e&&e.lastIndexOf(".length")>-1&&e.lastIndexOf(".length")===e.length-7&&(i.value=0,i.hasValue=!0);var n=this.getNonNestedObject(s,e,!1);return n&&(i.path=n.path,i.value=n.text?this.getObjectValue(n.value,n.text):n.value,i.hasValue=!z.isValueEmpty(i.value)),i}getNonNestedObject(e,t,i){let s=this.getFirstPropertyName(t,e,i),n=e;const o=s?[s]:null;let h=t;for(;h!=s&&n;){var d=h[0]=="[";if(d){var f=this.getObjInArray(n,h);if(!f)return null;n=f.value,h=f.text,o.push(f.index)}else{if(!s&&h===this.getFirstName(h))return{value:e,text:t,path:o};if(n=this.getObjectValue(n,s),z.isValueEmpty(n)&&!i)return null;h=h.substring(s.length)}h&&h[0]=="."&&(h=h.substring(1)),s=this.getFirstPropertyName(h,n,i),s&&o.push(s)}return{value:n,text:h,path:o}}getObjInArray(e,t){if(!Array.isArray(e))return null;for(var i=1,s="";i<t.length&&t[i]!="]";)s+=t[i],i++;return t=i<t.length?t.substring(i+1):"",i=this.getIntValue(s),i<0||i>=e.length?null:{value:e[i],text:t,index:i}}getFirstPropertyName(e,t,i=!1){if(!e)return"";if(t||(t={}),t.hasOwnProperty(e))return e;let s=e.toLowerCase();const n=s[0],o=n.toUpperCase();let h="";for(var d in t){var f=d[0];if(f===o||f===n){var p=d.toLowerCase();if(p==s)return d;if(s.length<=p.length)continue;var y=s[p.length];if(y!="."&&y!="[")continue;p==s.substring(0,p.length)&&h.length<d.length&&(h=d)}}if(h)return h;if(i&&e[0]!=="["){const b=e.indexOf(".");return b>-1&&(e=e.substring(0,b),t[e]={}),e}return""}getObjectValue(e,t){return t?e[t]:null}getIntValue(e){return e=="0"||(e|0)>0&&e%1==0?Number(e):-1}}class Ir{static disposedObjectChangedProperty(e,t){Ir.warn('An attempt to set a property "'+e+'" of a disposed object "'+t+'"')}static inCorrectQuestionValue(e,t){const i=JSON.stringify(t,null,3);Ir.warn("An attempt to assign an incorrect value"+i+' to the following question: "'+e+'"')}static warn(e){console.warn(e)}static error(e){console.error(e)}}class qt{constructor(){this.functionHash={},this.isAsyncHash={}}register(e,t,i=!1){this.functionHash[e]=t,i&&(this.isAsyncHash[e]=!0)}unregister(e){delete this.functionHash[e],delete this.isAsyncHash[e]}hasFunction(e){return!!this.functionHash[e]}isAsyncFunction(e){return!!this.isAsyncHash[e]}clear(){this.functionHash={}}getAll(){var e=[];for(var t in this.functionHash)e.push(t);return e.sort()}run(e,t,i=null,s){const n=this.functionHash[e];if(!n)return Ir.warn(this.getUnknownFunctionErrorText(e,i)),null;let o={func:n};if(i)for(var h in i)o[h]=i[h];return o.func(t,s)}getUnknownFunctionErrorText(e,t){return"Unknown function name: '"+e+"'."+Ml.getQuestionErrorText(t)}}qt.Instance=new qt;qt.Instance.register;function To(r,e){if(r!=null)if(Array.isArray(r))for(var t=0;t<r.length;t++)To(r[t],e);else z.isNumber(r)&&(r=z.getNumber(r)),e.push(r)}function Ab(r){var e=[];To(r,e);for(var t=0,i=0;i<e.length;i++)t=z.correctAfterPlusMinis(t,e[i],t+e[i]);return t}qt.Instance.register("sum",Ab);function Db(r,e){var t=[];To(r,t);for(var i=void 0,s=0;s<t.length;s++)i===void 0&&(i=t[s]),e?i>t[s]&&(i=t[s]):i<t[s]&&(i=t[s]);return i}function HV(r){return Db(r,!0)}qt.Instance.register("min",HV);function QV(r){return Db(r,!1)}qt.Instance.register("max",QV);function UV(r){var e=[];return To(r,e),e.length}qt.Instance.register("count",UV);function _V(r){var e=[];To(r,e);const t=Ab(r);return e.length>0?t/e.length:0}qt.Instance.register("avg",_V);function WV(r){var e=[];if(To(r,e),e.length>0){const t=e[0],i=e[1]||0;if(z.isNumber(t)&&z.isNumber(i)){const s=Math.pow(10,i),n=t*s*(1+Number.EPSILON);return Math.round(n)/s}}return NaN}qt.Instance.register("round",WV);function jV(r){var e=[];if(To(r,e),e.length>0){const t=e[0],i=e[1]||-1;if(z.isNumber(t)&&z.isNumber(i)){const s=new RegExp("^-?\\d+(?:.\\d{0,"+i+"})?");return Number(t.toString().match(s)[0])}}return NaN}qt.Instance.register("trunc",jV);function GV(r,e){if(r.length<2||r.length>3)return null;const t=r[0];if(!t||!Array.isArray(t)&&!Array.isArray(Object.keys(t)))return null;const i=r[1];if(typeof i!="string"&&!(i instanceof String))return null;let s=r.length>2?r[2]:void 0;if(typeof s!="string"&&!(s instanceof String)&&(s=void 0),!s){const n=Array.isArray(e)&&e.length>2?e[2]:void 0;n&&n.toString()&&(s=n.toString())}return{data:t,name:i,expression:s}}function ZV(r){return typeof r=="string"?z.isNumber(r)?z.getNumber(r):void 0:r}function mC(r,e,t,i,s,n){if(!r||z.isValueEmpty(r[e])||n&&!n.run(r))return t;const o=s?ZV(r[e]):1;return i(t,o)}function If(r,e,t,i=!0){var s=GV(r,e);if(!s)return;let n=s.expression?new ar(s.expression):void 0;n&&n.isAsync&&(n=void 0);var o=void 0;if(Array.isArray(s.data))for(var h=0;h<s.data.length;h++)o=mC(s.data[h],s.name,o,t,i,n);else for(var d in s.data)o=mC(s.data[d],s.name,o,t,i,n);return o}function Lb(r,e){var t=If(r,e,function(i,s){return i==null&&(i=0),s==null||s==null?i:z.correctAfterPlusMinis(i,s,i+s)});return t!==void 0?t:0}qt.Instance.register("sumInArray",Lb);function KV(r,e){return If(r,e,function(t,i){return t==null?i:i==null||i==null||t<i?t:i})}qt.Instance.register("minInArray",KV);function XV(r,e){return If(r,e,function(t,i){return t==null?i:i==null||i==null||t>i?t:i})}qt.Instance.register("maxInArray",XV);function Ob(r,e){var t=If(r,e,function(i,s){return i==null&&(i=0),s==null||s==null?i:i+1},!1);return t!==void 0?t:0}qt.Instance.register("countInArray",Ob);function YV(r,e){var t=Ob(r,e);return t==0?0:Lb(r,e)/t}qt.Instance.register("avgInArray",YV);function JV(r){if(!Array.isArray(r)||r.length<2)return null;const e=r.length>2?r[2]:void 0;return r[0]?r[1]:e}qt.Instance.register("iif",JV);function $V(r){return!Array.isArray(r)||r.length<1||!r[0]?null:ps("function-getDate",r[0])}qt.Instance.register("getDate",$V);function Mb(r,e,t){if(t==="days")return kb([r,e]);const i=ps("function-dateDiffMonths",r),s=ps("function-dateDiffMonths",e),n=s.getFullYear()-i.getFullYear();t=t||"years";let o=n*12+s.getMonth()-i.getMonth();return s.getDate()<i.getDate()&&(o-=1),t==="months"?o:~~(o/12)}function eS(r){return!Array.isArray(r)||r.length<1||!r[0]?null:Mb(r[0],void 0,(r.length>1?r[1]:"")||"years")}qt.Instance.register("age",eS);function tS(r){if(!Array.isArray(r)||r.length<2||!r[0]||!r[1])return null;const e=(r.length>2?r[2]:"")||"days",t=e==="hours"||e==="minutes",i=t?"days":e;let s=Mb(r[0],r[1],i);if(t){const n=ps("function-dateDiffMonths",r[0]),o=ps("function-dateDiffMonths",r[1]);o.getHours()>n.getHours()&&(s-=1);let h=s*24+o.getHours()-n.getHours();return e==="hours"?h:(o.getMinutes()<n.getMinutes()&&(h-=1),h*60+o.getMinutes()-n.getMinutes())}return s}qt.Instance.register("dateDiff",tS);function iS(r){if(!Array.isArray(r)||r.length<2||!r[0]||!r[1])return null;const e=ps("function-dateAdd",r[0]),t=r[1],i=r[2]||"days";return i==="days"&&e.setDate(e.getDate()+t),i==="months"&&e.setMonth(e.getMonth()+t),i==="years"&&e.setFullYear(e.getFullYear()+t),e}qt.Instance.register("dateAdd",iS);function vC(r){if(!r)return!1;for(var e=r.questions,t=0;t<e.length;t++)if(!e[t].validate(!1))return!1;return!0}function sS(r){if(!r&&r.length<1||!r[0]||!this.survey)return!1;const e=r[0];let t=this.survey.getPageByName(e);if(t||(t=this.survey.getPanelByName(e)),!t){const i=this.survey.getQuestionByName(e);if(!i||!Array.isArray(i.panels))return!1;if(r.length>1)r[1]<i.panels.length&&(t=i.panels[r[1]]);else{for(let s=0;s<i.panels.length;s++)if(!vC(i.panels[s]))return!1;return!0}}return vC(t)}qt.Instance.register("isContainerReady",sS);function rS(){return this.survey&&this.survey.isDisplayMode}qt.Instance.register("isDisplayMode",rS);function nS(){return ps("function-currentDate")}qt.Instance.register("currentDate",nS);function Nb(r){var e=ps("function-today");return X.localization.useLocalTimeZone?e.setHours(0,0,0,0):e.setUTCHours(0,0,0,0),Array.isArray(r)&&r.length==1&&e.setDate(e.getDate()+r[0]),e}qt.Instance.register("today",Nb);function aS(r){if(!(r.length!==1||!r[0]))return ps("function-getYear",r[0]).getFullYear()}qt.Instance.register("getYear",aS);function oS(){return ps("function-currentYear").getFullYear()}qt.Instance.register("currentYear",oS);function kb(r){if(!Array.isArray(r)||r.length!==2||!r[0]||!r[1])return 0;const e=ps("function-diffDays",r[0]),t=ps("function-diffDays",r[1]),i=Math.abs(t-e);return Math.ceil(i/(1e3*60*60*24))}qt.Instance.register("diffDays",kb);function Af(r,e){let t=Nb(void 0);return e&&e[0]&&(t=ps("function-"+r,e[0])),t}function lS(r){return Af("year",r).getFullYear()}qt.Instance.register("year",lS);function uS(r){return Af("month",r).getMonth()+1}qt.Instance.register("month",uS);function hS(r){return Af("day",r).getDate()}qt.Instance.register("day",hS);function dS(r){return Af("weekday",r).getDay()}qt.Instance.register("weekday",dS);function qb(r,e){if(!r||!e)return;let t=r.question;for(;t&&t.parent;){const s=t.parent.getQuestionByName(e);if(s)return s;t=t.parentQuestion}const i=["row","panel","survey"];for(let s=0;s<i.length;s++){const n=r[i[s]];if(n&&n.getQuestionByName){const o=n.getQuestionByName(e);if(o)return o}}return null}function yC(r,e){return e.length>1&&!z.isValueEmpty(e[1])?r.getDisplayValue(!0,e[1]):r.displayValue}function cS(r){const e=qb(this,r[0]);if(!e)return"";if(e.isReady)this.returnResult(yC(e,r));else{const t=(i,s)=>{i.isReady&&(i.onReadyChanged.remove(t),this.returnResult(yC(i,r)))};e.onReadyChanged.add(t)}}qt.Instance.register("displayValue",cS,!0);function fS(r){if(r.length!==2||!r[0]||!r[1])return;const e=qb(this,r[0]);return e?e[r[1]]:void 0}qt.Instance.register("propertyValue",fS);function gS(r){if(r.length<2)return"";const e=r[0];if(!e||typeof e!="string")return"";const t=r[1];if(!z.isNumber(t))return"";const i=r.length>2?r[2]:void 0;return z.isNumber(i)?e.substring(t,i):e.substring(t)}qt.Instance.register("substring",gS);class Fa{constructor(){this._id=Fa.counter++}get id(){return this._id}toString(e=void 0){return""}hasFunction(){return!1}hasAsyncFunction(){return!1}addToAsyncList(e){}addOperandsToList(e){e.push(this),this.addChildrenToList(e)}isEqual(e){return!!e&&e.getType()===this.getType()&&this.isContentEqual(e)}areOperatorsEquals(e,t){return!e&&!t||!!e&&e.isEqual(t)}addChildrenToList(e){}}Fa.counter=1;class pS extends Fa{constructor(e,t=null,i=null,s=!1){super(),this.operatorName=e,this.left=t,this.right=i,this.isArithmeticValue=s,s?this.consumer=Dt.binaryFunctions.arithmeticOp(e):this.consumer=Dt.binaryFunctions[e],this.consumer==null&&Dt.throwInvalidOperatorError(e)}get requireStrictCompare(){return this.getIsOperandRequireStrict(this.left)||this.getIsOperandRequireStrict(this.right)}getIsOperandRequireStrict(e){return!!e&&e.requireStrictCompare}getType(){return"binary"}get isArithmetic(){return this.isArithmeticValue}get isConjunction(){return this.operatorName=="or"||this.operatorName=="and"}get conjunction(){return this.isConjunction?this.operatorName:""}get operator(){return this.operatorName}get leftOperand(){return this.left}get rightOperand(){return this.right}isContentEqual(e){const t=e;return t.operator===this.operator&&this.areOperatorsEquals(this.left,t.left)&&this.areOperatorsEquals(this.right,t.right)}evaluateParam(e,t){return e==null?null:e.evaluate(t)}evaluate(e){return this.consumer.call(this,this.evaluateParam(this.left,e),this.evaluateParam(this.right,e),this.requireStrictCompare)}toString(e=void 0){if(e){var t=e(this);if(t)return t}return"("+Dt.safeToString(this.left,e)+" "+Dt.operatorToString(this.operatorName)+" "+Dt.safeToString(this.right,e)+")"}setVariables(e){this.left!=null&&this.left.setVariables(e),this.right!=null&&this.right.setVariables(e)}hasFunction(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()}addChildrenToList(e){this.left&&this.left.addOperandsToList(e),this.right&&this.right.addOperandsToList(e)}hasAsyncFunction(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()}addToAsyncList(e){this.left&&this.left.addToAsyncList(e),this.right&&this.right.addToAsyncList(e)}}class CC extends Fa{constructor(e,t){super(),this.expressionValue=e,this.operatorName=t,this.consumer=Dt.unaryFunctions[t],this.consumer==null&&Dt.throwInvalidOperatorError(t)}get operator(){return this.operatorName}get expression(){return this.expressionValue}getType(){return"unary"}toString(e=void 0){if(e){var t=e(this);if(t)return t}const i=Dt.operatorToString(this.operator),s=this.expression.toString(e);return this.isRigtOperator?s+" "+i:i+" "+s}get isRigtOperator(){const e=this.operatorName.toLowerCase();return e==="notempty"||e==="empty"}isContentEqual(e){const t=e;return t.operator==this.operator&&this.areOperatorsEquals(this.expression,t.expression)}hasFunction(){return this.expression.hasFunction()}addChildrenToList(e){this.expression.addOperandsToList(e)}hasAsyncFunction(){return this.expression.hasAsyncFunction()}addToAsyncList(e){this.expression.addToAsyncList(e)}evaluate(e){let t=this.expression.evaluate(e);return this.consumer.call(this,t)}setVariables(e){this.expression.setVariables(e)}}class Nm extends Fa{constructor(e){super(),this.values=e}getType(){return"array"}toString(e=void 0){if(e){var t=e(this);if(t)return t}return"["+this.values.map(function(i){return i.toString(e)}).join(", ")+"]"}evaluate(e){return this.values.map(function(t){return t.evaluate(e)})}setVariables(e){this.values.forEach(t=>{t.setVariables(e)})}hasFunction(){return this.values.some(e=>e.hasFunction())}addChildrenToList(e){this.values.forEach(t=>{t.addOperandsToList(e)})}hasAsyncFunction(){return this.values.some(e=>e.hasAsyncFunction())}addToAsyncList(e){this.values.forEach(t=>t.addToAsyncList(e))}isContentEqual(e){const t=e;if(t.values.length!==this.values.length)return!1;for(var i=0;i<this.values.length;i++)if(!t.values[i].isEqual(this.values[i]))return!1;return!0}}class Fb extends Fa{constructor(e){super(),this.value=e}getType(){return"const"}toString(e=void 0){if(e){var t=e(this);if(t)return t}return this.value.toString()}get correctValue(){return this.getCorrectValue(this.value)}get requireStrictCompare(){return!1}evaluate(){return this.getCorrectValue(this.value)}setVariables(e){}getCorrectValue(e){if(!e||typeof e!="string")return e;if(Dt.isBooleanValue(e))return e.toLowerCase()==="true";if(e.length>1&&this.isQuote(e[0])&&this.isQuote(e[e.length-1]))return e.substring(1,e.length-1);if(z.isNumber(e)){if(e[0]==="0"&&e.indexOf("0x")!=0){const t=e.length,i=t>1&&(e[1]==="."||e[1]===",");if(!i&&t>1||i&&t<2)return e}return z.getNumber(e)}return e}isContentEqual(e){return e.value==this.value}isQuote(e){return e=="'"||e=='"'}}class af extends Fb{static get DisableConversionChar(){return X.expressionDisableConversionChar}static set DisableConversionChar(e){X.expressionDisableConversionChar=e}constructor(e){super(e),this.variableName=e,this.valueInfo={},this.useValueAsItIs=!1,this.variableName&&this.variableName.length>1&&this.variableName[0]===af.DisableConversionChar&&(this.variableName=this.variableName.substring(1),this.useValueAsItIs=!0)}get requireStrictCompare(){return this.valueInfo.sctrictCompare===!0}getType(){return"variable"}toString(e=void 0){if(e){var t=e(this);if(t)return t}var i=this.useValueAsItIs?af.DisableConversionChar:"";return"{"+i+this.variableName+"}"}get variable(){return this.variableName}evaluate(e){if(this.valueInfo.name=this.variableName,e.getValueInfo(this.valueInfo),!this.valueInfo.hasValue)return null;let t=this.valueInfo.value;return this.valueInfo.onProcessValue&&(t=this.valueInfo.onProcessValue(t)),this.getCorrectValue(t)}setVariables(e){e.push(this.variableName)}getCorrectValue(e){return this.useValueAsItIs?e:super.getCorrectValue(e)}isContentEqual(e){return e.variable==this.variable}}class mS extends Fa{constructor(e,t){super(),this.originalValue=e,this.parameters=t,Array.isArray(t)&&t.length===0&&(this.parameters=new Nm([]))}getType(){return"function"}evaluate(e){const t=this.getAsynValue(e);return t?t.value:this.evaluateCore(e)}evaluateCore(e){let t=e.properties;if(this.isAsyncFunction){t=z.createCopy(e.properties);const i=this.id,s=e.asyncValues,n=e.onCompleteAsyncFunc,o=this;t.returnResult=h=>{s[i]={value:h},n(o)}}return qt.Instance.run(this.originalValue,this.parameters.evaluate(e),t,this.parameters.values)}toString(e=void 0){if(e){var t=e(this);if(t)return t}return this.originalValue+"("+this.parameters.toString(e)+")"}setVariables(e){this.parameters.setVariables(e)}isReady(e){return!!this.getAsynValue(e)}addChildrenToList(e){this.parameters.addOperandsToList(e)}getAsynValue(e){return e.asyncValues[this.id]}hasFunction(){return!0}hasAsyncFunction(){return this.isAsyncFunction()||this.parameters.hasAsyncFunction()}isAsyncFunction(){return qt.Instance.isAsyncFunction(this.originalValue)}addToAsyncList(e){let t;if(this.isAsyncFunction()&&(t={operand:this}),this.parameters.hasAsyncFunction()){const i=new Array;this.parameters.addToAsyncList(i),i.forEach(s=>s.parent=t),t||(t={}),t.children=i}t&&e.push(t)}isContentEqual(e){const t=e;return t.originalValue==this.originalValue&&this.areOperatorsEquals(t.parameters,this.parameters)}}class Dt{static throwInvalidOperatorError(e){throw new Error("Invalid operator: '"+e+"'")}static safeToString(e,t){return e==null?"":e.toString(t)}static toOperandString(e){return e&&!z.isNumber(e)&&!Dt.isBooleanValue(e)&&(e="'"+e+"'"),e}static isBooleanValue(e){return!!e&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")}static countDecimals(e){if(z.isNumber(e)&&Math.floor(e)!==e){const t=e.toString().split(".");return t.length>1&&t[1].length||0}return 0}static plusMinus(e,t,i){const s=Dt.countDecimals(e),n=Dt.countDecimals(t);if(s>0||n>0){const o=Math.max(s,n);i=parseFloat(i.toFixed(o))}return i}static isTwoValueEquals(e,t,i=!0){return e==="undefined"&&(e=void 0),t==="undefined"&&(t=void 0),z.isTwoValueEquals(e,t,i)}static operatorToString(e){let t=Dt.signs[e];return t??e}static convertValForDateCompare(e,t){if(t instanceof Date&&typeof e=="string"){let i=ps("expression-operand",e);return i.setHours(0,0,0),i}return e}}Dt.unaryFunctions={empty:function(r){return z.isValueEmpty(r)},notempty:function(r){return!Dt.unaryFunctions.empty(r)},negate:function(r){return!r}};Dt.binaryFunctions={arithmeticOp(r){const e=(t,i)=>z.isValueEmpty(t)?typeof i=="number"?0:typeof t=="string"?t:typeof i=="string"?"":Array.isArray(i)?[]:0:t;return function(t,i){t=e(t,i),i=e(i,t);let s=Dt.binaryFunctions[r];return s==null?null:s.call(this,t,i)}},and:function(r,e){return r&&e},or:function(r,e){return r||e},plus:function(r,e){return z.sumAnyValues(r,e)},minus:function(r,e){return z.correctAfterPlusMinis(r,e,r-e)},mul:function(r,e){return z.correctAfterMultiple(r,e,r*e)},div:function(r,e){return e?r/e:null},mod:function(r,e){return e?r%e:null},power:function(r,e){return Math.pow(r,e)},greater:function(r,e){return r==null||e==null?!1:(r=Dt.convertValForDateCompare(r,e),e=Dt.convertValForDateCompare(e,r),r>e)},less:function(r,e){return r==null||e==null?!1:(r=Dt.convertValForDateCompare(r,e),e=Dt.convertValForDateCompare(e,r),r<e)},greaterorequal:function(r,e){return Dt.binaryFunctions.equal(r,e)?!0:Dt.binaryFunctions.greater(r,e)},lessorequal:function(r,e){return Dt.binaryFunctions.equal(r,e)?!0:Dt.binaryFunctions.less(r,e)},equal:function(r,e,t){return r=Dt.convertValForDateCompare(r,e),e=Dt.convertValForDateCompare(e,r),Dt.isTwoValueEquals(r,e,t!==!0)},notequal:function(r,e,t){return!Dt.binaryFunctions.equal(r,e,t)},contains:function(r,e){return Dt.binaryFunctions.containsCore(r,e,!0)},notcontains:function(r,e){return!r&&!z.isValueEmpty(e)?!0:Dt.binaryFunctions.containsCore(r,e,!1)},anyof:function(r,e){if(z.isValueEmpty(r)&&z.isValueEmpty(e))return!0;if(z.isValueEmpty(r)||!Array.isArray(r)&&r.length===0)return!1;if(z.isValueEmpty(e))return!0;if(!Array.isArray(r))return Dt.binaryFunctions.contains(e,r);if(!Array.isArray(e))return Dt.binaryFunctions.contains(r,e);for(var t=0;t<e.length;t++)if(Dt.binaryFunctions.contains(r,e[t]))return!0;return!1},allof:function(r,e){if(!r&&!z.isValueEmpty(e))return!1;if(!Array.isArray(e))return Dt.binaryFunctions.contains(r,e);for(var t=0;t<e.length;t++)if(!Dt.binaryFunctions.contains(r,e[t]))return!1;return!0},containsCore:function(r,e,t){if(!r&&r!==0&&r!==!1)return!1;if(r.length||(r=r.toString(),(typeof e=="string"||e instanceof String)&&(r=r.toUpperCase(),e=e.toUpperCase())),typeof r=="string"||r instanceof String){if(!e)return!1;e=e.toString();var i=r.indexOf(e)>-1;return t?i:!i}for(var s=Array.isArray(e)?e:[e],n=0;n<s.length;n++){var o=0;for(e=s[n];o<r.length&&!Dt.isTwoValueEquals(r[o],e);o++);if(o==r.length)return!t}return t}};Dt.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"};class Oh extends Error{static buildMessage(e,t){function i(f){return f.charCodeAt(0).toString(16).toUpperCase()}function s(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,p=>"\\x0"+i(p)).replace(/[\x10-\x1F\x7F-\x9F]/g,p=>"\\x"+i(p))}function n(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,p=>"\\x0"+i(p)).replace(/[\x10-\x1F\x7F-\x9F]/g,p=>"\\x"+i(p))}function o(f){switch(f.type){case"literal":return'"'+s(f.text)+'"';case"class":const p=f.parts.map(y=>Array.isArray(y)?n(y[0])+"-"+n(y[1]):n(y));return"["+(f.inverted?"^":"")+p+"]";case"any":return"any character";case"end":return"end of input";case"other":return f.description}}function h(f){const p=f.map(o);let y,b;if(p.sort(),p.length>0){for(y=1,b=1;y<p.length;y++)p[y-1]!==p[y]&&(p[b]=p[y],b++);p.length=b}switch(p.length){case 1:return p[0];case 2:return p[0]+" or "+p[1];default:return p.slice(0,-1).join(", ")+", or "+p[p.length-1]}}function d(f){return f?'"'+s(f)+'"':"end of input"}return"Expected "+h(e)+" but "+d(t)+" found."}constructor(e,t,i,s){super(),this.message=e,this.expected=t,this.found=i,this.location=s,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Oh)}}function vS(r,e){e=e!==void 0?e:{};const t={},i={Expression:bn};let s=bn;const n=function(x,E){return kd(x,E,!0)},o="||",h=nt("||",!1),d="or",f=nt("or",!0),p=function(){return"or"},y="&&",b=nt("&&",!1),w="and",T=nt("and",!0),P=function(){return"and"},D=function(x,E){return kd(x,E)},L="<=",W=nt("<=",!1),H="lessorequal",ee=nt("lessorequal",!0),Y=function(){return"lessorequal"},Z=">=",K=nt(">=",!1),pe="greaterorequal",Ce=nt("greaterorequal",!0),we=function(){return"greaterorequal"},xe="==",Re=nt("==",!1),ce="equal",ke=nt("equal",!0),Ne=function(){return"equal"},_="=",ae=nt("=",!1),Me="!=",Ke=nt("!=",!1),Q="notequal",ge=nt("notequal",!0),Ae=function(){return"notequal"},Pe="<",qe=nt("<",!1),it="less",Fe=nt("less",!0),Vt=function(){return"less"},Be=">",ui=nt(">",!1),Fi="greater",$i=nt("greater",!0),jt=function(){return"greater"},Wi="+",js=nt("+",!1),Rs=function(){return"plus"},vs="-",Ft=nt("-",!1),It=function(){return"minus"},ys="*",Mr=nt("*",!1),Os=function(){return"mul"},Ps="/",Nr=nt("/",!1),dr=function(){return"div"},Ms="%",Hs=nt("%",!1),Ai=function(){return"mod"},bi="^",xi=nt("^",!1),Yr="power",M=nt("power",!0),Ve=function(){return"power"},De="*=",_e=nt("*=",!1),G="contains",me=nt("contains",!0),R="contain",Se=nt("contain",!0),ot=function(){return"contains"},C="notcontains",he=nt("notcontains",!0),de="notcontain",A=nt("notcontain",!0),U=function(){return"notcontains"},ne="anyof",Xe=nt("anyof",!0),ze=function(){return"anyof"},je="allof",Ot=nt("allof",!0),ji=function(){return"allof"},Pt="(",lt=nt("(",!1),hi=")",Mi=nt(")",!1),os=function(x){return x},Kn=function(x,E){return new mS(x,E)},pn="!",gi=nt("!",!1),ls="negate",Vi=nt("negate",!0),us=function(x){return new CC(x,"negate")},hs=function(x,E){return new CC(x,E)},kr="empty",Gi=nt("empty",!0),od=function(){return"empty"},ld="notempty",mn=nt("notempty",!0),Xn=function(){return"notempty"},ud="undefined",hd=nt("undefined",!1),Yl="null",fg=nt("null",!1),Lo=function(){return null},Oo=function(x){return new Fb(x)},qr="{",Jl=nt("{",!1),dd="}",Yn=nt("}",!1),$l=function(x){return new af(x)},Wa=function(x){return x},cd="''",fd=nt("''",!1),Ns=function(){return""},eu='""',gg=nt('""',!1),ja="'",tu=nt("'",!1),Ga=function(x){return"'"+x+"'"},gd='"',ks=nt('"',!1),iu="[",pd=nt("[",!1),su="]",Jn=nt("]",!1),md=function(x){return x},ru=",",vn=nt(",",!1),pg=function(x,E){if(x==null)return new Nm([]);var $=[x];if(Array.isArray(E))for(var k=qs(E),re=3;re<k.length;re+=4)$.push(k[re]);return new Nm($)},vd="true",yd=nt("true",!0),nu=function(){return!0},mg="false",vg=nt("false",!0),Mo=function(){return!1},No="0x",au=nt("0x",!1),$n=function(){return parseInt(ia(),16)},ea=/^[\-]/,Cd=Cn(["-"],!1,!1),ou=function(x,E){return x==null?E:-E},bd=".",Za=nt(".",!1),Fr=function(){return parseFloat(ia())},lu=function(){return parseInt(ia(),10)},Ka="0",Jr=nt("0",!1),uu=function(){return 0},Xa=function(x){return x.join("")},hu="\\'",ko=nt("\\'",!1),qo=function(){return"'"},du='\\"',Is=nt('\\"',!1),yn=function(){return'"'},Fo=/^[^"']/,Ya=Cn(['"',"'"],!0,!1),cu=function(){return ia()},fu=/^[^{}]/,gu=Cn(["{","}"],!0,!1),ta=/^[0-9]/,Ja=Cn([["0","9"]],!1,!1),pu=/^[1-9]/,wd=Cn([["1","9"]],!1,!1),xd=/^[a-zA-Z_]/,Vd=Cn([["a","z"],["A","Z"],"_"],!1,!1),mu=Td("whitespace"),Sd=/^[ \t\n\r]/,Ed=Cn([" ","	",`
`,"\r"],!1,!1);let V=0,et=0;const Bo=[{line:1,column:1}];let Gs=0,vu=[],He=0;const Ze={};let zo;if(e.startRule!==void 0){if(!(e.startRule in i))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');s=i[e.startRule]}function ia(){return r.substring(et,V)}function nt(x,E){return{type:"literal",text:x,ignoreCase:E}}function Cn(x,E,$){return{type:"class",parts:x,inverted:E,ignoreCase:$}}function yg(){return{type:"end"}}function Td(x){return{type:"other",description:x}}function Rd(x){let E=Bo[x],$;if(E)return E;for($=x-1;!Bo[$];)$--;for(E=Bo[$],E={line:E.line,column:E.column};$<x;)r.charCodeAt($)===10?(E.line++,E.column=1):E.column++,$++;return Bo[x]=E,E}function Pd(x,E){const $=Rd(x),k=Rd(E);return{start:{offset:x,line:$.line,column:$.column},end:{offset:E,line:k.line,column:k.column}}}function Ue(x){V<Gs||(V>Gs&&(Gs=V,vu=[]),vu.push(x))}function Cg(x,E,$){return new Oh(Oh.buildMessage(x,E),x,E,$)}function bn(){let x,E,$,k,re,Te,Qe,We,Ut;const Bt=V*34+0,io=Ze[Bt];if(io)return V=io.nextPos,io.result;if(x=V,E=St(),E!==t)if($=yu(),$!==t){for(k=[],re=V,Te=St(),Te!==t?(Qe=Id(),Qe!==t?(We=St(),We!==t?(Ut=yu(),Ut!==t?(Te=[Te,Qe,We,Ut],re=Te):(V=re,re=t)):(V=re,re=t)):(V=re,re=t)):(V=re,re=t);re!==t;)k.push(re),re=V,Te=St(),Te!==t?(Qe=Id(),Qe!==t?(We=St(),We!==t?(Ut=yu(),Ut!==t?(Te=[Te,Qe,We,Ut],re=Te):(V=re,re=t)):(V=re,re=t)):(V=re,re=t)):(V=re,re=t);k!==t?(re=St(),re!==t?(et=x,E=n($,k),x=E):(V=x,x=t)):(V=x,x=t)}else V=x,x=t;else V=x,x=t;return Ze[Bt]={nextPos:V,result:x},x}function Id(){let x,E;const $=V*34+1,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.substr(V,2)===o?(E=o,V+=2):(E=t,He===0&&Ue(h)),E===t&&(r.substr(V,2).toLowerCase()===d?(E=r.substr(V,2),V+=2):(E=t,He===0&&Ue(f))),E!==t&&(et=x,E=p()),x=E,Ze[$]={nextPos:V,result:x},x)}function yu(){let x,E,$,k,re,Te,Qe,We;const Ut=V*34+2,Bt=Ze[Ut];if(Bt)return V=Bt.nextPos,Bt.result;if(x=V,E=Cu(),E!==t){for($=[],k=V,re=St(),re!==t?(Te=Ad(),Te!==t?(Qe=St(),Qe!==t?(We=Cu(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);k!==t;)$.push(k),k=V,re=St(),re!==t?(Te=Ad(),Te!==t?(Qe=St(),Qe!==t?(We=Cu(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);$!==t?(et=x,E=n(E,$),x=E):(V=x,x=t)}else V=x,x=t;return Ze[Ut]={nextPos:V,result:x},x}function Ad(){let x,E;const $=V*34+3,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.substr(V,2)===y?(E=y,V+=2):(E=t,He===0&&Ue(b)),E===t&&(r.substr(V,3).toLowerCase()===w?(E=r.substr(V,3),V+=3):(E=t,He===0&&Ue(T))),E!==t&&(et=x,E=P()),x=E,Ze[$]={nextPos:V,result:x},x)}function Cu(){let x,E,$,k,re,Te,Qe,We;const Ut=V*34+4,Bt=Ze[Ut];if(Bt)return V=Bt.nextPos,Bt.result;if(x=V,E=wn(),E!==t){for($=[],k=V,re=St(),re!==t?(Te=Ho(),Te!==t?(Qe=St(),Qe!==t?(We=wn(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);k!==t;)$.push(k),k=V,re=St(),re!==t?(Te=Ho(),Te!==t?(Qe=St(),Qe!==t?(We=wn(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);$!==t?(et=x,E=D(E,$),x=E):(V=x,x=t)}else V=x,x=t;return Ze[Ut]={nextPos:V,result:x},x}function Ho(){let x,E;const $=V*34+5,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.substr(V,2)===L?(E=L,V+=2):(E=t,He===0&&Ue(W)),E===t&&(r.substr(V,11).toLowerCase()===H?(E=r.substr(V,11),V+=11):(E=t,He===0&&Ue(ee))),E!==t&&(et=x,E=Y()),x=E,x===t&&(x=V,r.substr(V,2)===Z?(E=Z,V+=2):(E=t,He===0&&Ue(K)),E===t&&(r.substr(V,14).toLowerCase()===pe?(E=r.substr(V,14),V+=14):(E=t,He===0&&Ue(Ce))),E!==t&&(et=x,E=we()),x=E,x===t&&(x=V,r.substr(V,2)===xe?(E=xe,V+=2):(E=t,He===0&&Ue(Re)),E===t&&(r.substr(V,5).toLowerCase()===ce?(E=r.substr(V,5),V+=5):(E=t,He===0&&Ue(ke))),E!==t&&(et=x,E=Ne()),x=E,x===t&&(x=V,r.charCodeAt(V)===61?(E=_,V++):(E=t,He===0&&Ue(ae)),E===t&&(r.substr(V,5).toLowerCase()===ce?(E=r.substr(V,5),V+=5):(E=t,He===0&&Ue(ke))),E!==t&&(et=x,E=Ne()),x=E,x===t&&(x=V,r.substr(V,2)===Me?(E=Me,V+=2):(E=t,He===0&&Ue(Ke)),E===t&&(r.substr(V,8).toLowerCase()===Q?(E=r.substr(V,8),V+=8):(E=t,He===0&&Ue(ge))),E!==t&&(et=x,E=Ae()),x=E,x===t&&(x=V,r.charCodeAt(V)===60?(E=Pe,V++):(E=t,He===0&&Ue(qe)),E===t&&(r.substr(V,4).toLowerCase()===it?(E=r.substr(V,4),V+=4):(E=t,He===0&&Ue(Fe))),E!==t&&(et=x,E=Vt()),x=E,x===t&&(x=V,r.charCodeAt(V)===62?(E=Be,V++):(E=t,He===0&&Ue(ui)),E===t&&(r.substr(V,7).toLowerCase()===Fi?(E=r.substr(V,7),V+=7):(E=t,He===0&&Ue($i))),E!==t&&(et=x,E=jt()),x=E)))))),Ze[$]={nextPos:V,result:x},x)}function wn(){let x,E,$,k,re,Te,Qe,We;const Ut=V*34+6,Bt=Ze[Ut];if(Bt)return V=Bt.nextPos,Bt.result;if(x=V,E=Qo(),E!==t){for($=[],k=V,re=St(),re!==t?(Te=Dd(),Te!==t?(Qe=St(),Qe!==t?(We=Qo(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);k!==t;)$.push(k),k=V,re=St(),re!==t?(Te=Dd(),Te!==t?(Qe=St(),Qe!==t?(We=Qo(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);$!==t?(et=x,E=n(E,$),x=E):(V=x,x=t)}else V=x,x=t;return Ze[Ut]={nextPos:V,result:x},x}function Dd(){let x,E;const $=V*34+7,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.charCodeAt(V)===43?(E=Wi,V++):(E=t,He===0&&Ue(js)),E!==t&&(et=x,E=Rs()),x=E,x===t&&(x=V,r.charCodeAt(V)===45?(E=vs,V++):(E=t,He===0&&Ue(Ft)),E!==t&&(et=x,E=It()),x=E),Ze[$]={nextPos:V,result:x},x)}function Qo(){let x,E,$,k,re,Te,Qe,We;const Ut=V*34+8,Bt=Ze[Ut];if(Bt)return V=Bt.nextPos,Bt.result;if(x=V,E=Uo(),E!==t){for($=[],k=V,re=St(),re!==t?(Te=bu(),Te!==t?(Qe=St(),Qe!==t?(We=Uo(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);k!==t;)$.push(k),k=V,re=St(),re!==t?(Te=bu(),Te!==t?(Qe=St(),Qe!==t?(We=Uo(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);$!==t?(et=x,E=n(E,$),x=E):(V=x,x=t)}else V=x,x=t;return Ze[Ut]={nextPos:V,result:x},x}function bu(){let x,E;const $=V*34+9,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.charCodeAt(V)===42?(E=ys,V++):(E=t,He===0&&Ue(Mr)),E!==t&&(et=x,E=Os()),x=E,x===t&&(x=V,r.charCodeAt(V)===47?(E=Ps,V++):(E=t,He===0&&Ue(Nr)),E!==t&&(et=x,E=dr()),x=E,x===t&&(x=V,r.charCodeAt(V)===37?(E=Ms,V++):(E=t,He===0&&Ue(Hs)),E!==t&&(et=x,E=Ai()),x=E)),Ze[$]={nextPos:V,result:x},x)}function Uo(){let x,E,$,k,re,Te,Qe,We;const Ut=V*34+10,Bt=Ze[Ut];if(Bt)return V=Bt.nextPos,Bt.result;if(x=V,E=_o(),E!==t){for($=[],k=V,re=St(),re!==t?(Te=wu(),Te!==t?(Qe=St(),Qe!==t?(We=_o(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);k!==t;)$.push(k),k=V,re=St(),re!==t?(Te=wu(),Te!==t?(Qe=St(),Qe!==t?(We=_o(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);$!==t?(et=x,E=n(E,$),x=E):(V=x,x=t)}else V=x,x=t;return Ze[Ut]={nextPos:V,result:x},x}function wu(){let x,E;const $=V*34+11,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.charCodeAt(V)===94?(E=bi,V++):(E=t,He===0&&Ue(xi)),E===t&&(r.substr(V,5).toLowerCase()===Yr?(E=r.substr(V,5),V+=5):(E=t,He===0&&Ue(M))),E!==t&&(et=x,E=Ve()),x=E,Ze[$]={nextPos:V,result:x},x)}function _o(){let x,E,$,k,re,Te,Qe,We;const Ut=V*34+12,Bt=Ze[Ut];if(Bt)return V=Bt.nextPos,Bt.result;if(x=V,E=xu(),E!==t){for($=[],k=V,re=St(),re!==t?(Te=xn(),Te!==t?(Qe=St(),Qe!==t?(We=xu(),We===t&&(We=null),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);k!==t;)$.push(k),k=V,re=St(),re!==t?(Te=xn(),Te!==t?(Qe=St(),Qe!==t?(We=xu(),We===t&&(We=null),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);$!==t?(et=x,E=D(E,$),x=E):(V=x,x=t)}else V=x,x=t;return Ze[Ut]={nextPos:V,result:x},x}function xn(){let x,E;const $=V*34+13,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.substr(V,2)===De?(E=De,V+=2):(E=t,He===0&&Ue(_e)),E===t&&(r.substr(V,8).toLowerCase()===G?(E=r.substr(V,8),V+=8):(E=t,He===0&&Ue(me)),E===t&&(r.substr(V,7).toLowerCase()===R?(E=r.substr(V,7),V+=7):(E=t,He===0&&Ue(Se)))),E!==t&&(et=x,E=ot()),x=E,x===t&&(x=V,r.substr(V,11).toLowerCase()===C?(E=r.substr(V,11),V+=11):(E=t,He===0&&Ue(he)),E===t&&(r.substr(V,10).toLowerCase()===de?(E=r.substr(V,10),V+=10):(E=t,He===0&&Ue(A))),E!==t&&(et=x,E=U()),x=E,x===t&&(x=V,r.substr(V,5).toLowerCase()===ne?(E=r.substr(V,5),V+=5):(E=t,He===0&&Ue(Xe)),E!==t&&(et=x,E=ze()),x=E,x===t&&(x=V,r.substr(V,5).toLowerCase()===je?(E=r.substr(V,5),V+=5):(E=t,He===0&&Ue(Ot)),E!==t&&(et=x,E=ji()),x=E))),Ze[$]={nextPos:V,result:x},x)}function xu(){let x,E,$,k,re,Te;const Qe=V*34+14,We=Ze[Qe];return We?(V=We.nextPos,We.result):(x=V,r.charCodeAt(V)===40?(E=Pt,V++):(E=t,He===0&&Ue(lt)),E!==t?($=St(),$!==t?(k=bn(),k!==t?(re=St(),re!==t?(r.charCodeAt(V)===41?(Te=hi,V++):(Te=t,He===0&&Ue(Mi)),Te===t&&(Te=null),Te!==t?(et=x,E=os(k),x=E):(V=x,x=t)):(V=x,x=t)):(V=x,x=t)):(V=x,x=t)):(V=x,x=t),x===t&&(x=bg(),x===t&&(x=wg(),x===t&&(x=Vu(),x===t&&(x=eo())))),Ze[Qe]={nextPos:V,result:x},x)}function bg(){let x,E,$,k,re;const Te=V*34+15,Qe=Ze[Te];return Qe?(V=Qe.nextPos,Qe.result):(x=V,E=Ru(),E!==t?(r.charCodeAt(V)===40?($=Pt,V++):($=t,He===0&&Ue(lt)),$!==t?(k=Od(),k!==t?(r.charCodeAt(V)===41?(re=hi,V++):(re=t,He===0&&Ue(Mi)),re===t&&(re=null),re!==t?(et=x,E=Kn(E,k),x=E):(V=x,x=t)):(V=x,x=t)):(V=x,x=t)):(V=x,x=t),Ze[Te]={nextPos:V,result:x},x)}function wg(){let x,E,$,k;const re=V*34+16,Te=Ze[re];return Te?(V=Te.nextPos,Te.result):(x=V,r.charCodeAt(V)===33?(E=pn,V++):(E=t,He===0&&Ue(gi)),E===t&&(r.substr(V,6).toLowerCase()===ls?(E=r.substr(V,6),V+=6):(E=t,He===0&&Ue(Vi))),E!==t?($=St(),$!==t?(k=bn(),k!==t?(et=x,E=us(k),x=E):(V=x,x=t)):(V=x,x=t)):(V=x,x=t),x===t&&(x=V,E=Vu(),E!==t?($=St(),$!==t?(k=Ld(),k!==t?(et=x,E=hs(E,k),x=E):(V=x,x=t)):(V=x,x=t)):(V=x,x=t)),Ze[re]={nextPos:V,result:x},x)}function Ld(){let x,E;const $=V*34+17,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.substr(V,5).toLowerCase()===kr?(E=r.substr(V,5),V+=5):(E=t,He===0&&Ue(Gi)),E!==t&&(et=x,E=od()),x=E,x===t&&(x=V,r.substr(V,8).toLowerCase()===ld?(E=r.substr(V,8),V+=8):(E=t,He===0&&Ue(mn)),E!==t&&(et=x,E=Xn()),x=E),Ze[$]={nextPos:V,result:x},x)}function Vu(){let x,E,$,k,re;const Te=V*34+18,Qe=Ze[Te];return Qe?(V=Qe.nextPos,Qe.result):(x=V,E=St(),E!==t?(r.substr(V,9)===ud?($=ud,V+=9):($=t,He===0&&Ue(hd)),$===t&&(r.substr(V,4)===Yl?($=Yl,V+=4):($=t,He===0&&Ue(fg))),$!==t?(et=x,E=Lo(),x=E):(V=x,x=t)):(V=x,x=t),x===t&&(x=V,E=St(),E!==t?($=$a(),$!==t?(et=x,E=Oo($),x=E):(V=x,x=t)):(V=x,x=t),x===t&&(x=V,E=St(),E!==t?(r.charCodeAt(V)===123?($=qr,V++):($=t,He===0&&Ue(Jl)),$!==t?(k=Su(),k!==t?(r.charCodeAt(V)===125?(re=dd,V++):(re=t,He===0&&Ue(Yn)),re!==t?(et=x,E=$l(k),x=E):(V=x,x=t)):(V=x,x=t)):(V=x,x=t)):(V=x,x=t))),Ze[Te]={nextPos:V,result:x},x)}function $a(){let x,E,$,k;const re=V*34+19,Te=Ze[re];return Te?(V=Te.nextPos,Te.result):(x=V,E=Wo(),E!==t&&(et=x,E=Wa(E)),x=E,x===t&&(x=V,E=Md(),E!==t&&(et=x,E=Wa(E)),x=E,x===t&&(x=V,E=Ru(),E!==t&&(et=x,E=Wa(E)),x=E,x===t&&(x=V,r.substr(V,2)===cd?(E=cd,V+=2):(E=t,He===0&&Ue(fd)),E!==t&&(et=x,E=Ns()),x=E,x===t&&(x=V,r.substr(V,2)===eu?(E=eu,V+=2):(E=t,He===0&&Ue(gg)),E!==t&&(et=x,E=Ns()),x=E,x===t&&(x=V,r.charCodeAt(V)===39?(E=ja,V++):(E=t,He===0&&Ue(tu)),E!==t?($=jo(),$!==t?(r.charCodeAt(V)===39?(k=ja,V++):(k=t,He===0&&Ue(tu)),k!==t?(et=x,E=Ga($),x=E):(V=x,x=t)):(V=x,x=t)):(V=x,x=t),x===t&&(x=V,r.charCodeAt(V)===34?(E=gd,V++):(E=t,He===0&&Ue(ks)),E!==t?($=jo(),$!==t?(r.charCodeAt(V)===34?(k=gd,V++):(k=t,He===0&&Ue(ks)),k!==t?(et=x,E=Ga($),x=E):(V=x,x=t)):(V=x,x=t)):(V=x,x=t))))))),Ze[re]={nextPos:V,result:x},x)}function eo(){let x,E,$,k;const re=V*34+20,Te=Ze[re];return Te?(V=Te.nextPos,Te.result):(x=V,r.charCodeAt(V)===91?(E=iu,V++):(E=t,He===0&&Ue(pd)),E!==t?($=Od(),$!==t?(r.charCodeAt(V)===93?(k=su,V++):(k=t,He===0&&Ue(Jn)),k!==t?(et=x,E=md($),x=E):(V=x,x=t)):(V=x,x=t)):(V=x,x=t),Ze[re]={nextPos:V,result:x},x)}function Od(){let x,E,$,k,re,Te,Qe,We;const Ut=V*34+21,Bt=Ze[Ut];if(Bt)return V=Bt.nextPos,Bt.result;if(x=V,E=bn(),E===t&&(E=null),E!==t){for($=[],k=V,re=St(),re!==t?(r.charCodeAt(V)===44?(Te=ru,V++):(Te=t,He===0&&Ue(vn)),Te!==t?(Qe=St(),Qe!==t?(We=bn(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);k!==t;)$.push(k),k=V,re=St(),re!==t?(r.charCodeAt(V)===44?(Te=ru,V++):(Te=t,He===0&&Ue(vn)),Te!==t?(Qe=St(),Qe!==t?(We=bn(),We!==t?(re=[re,Te,Qe,We],k=re):(V=k,k=t)):(V=k,k=t)):(V=k,k=t)):(V=k,k=t);$!==t?(et=x,E=pg(E,$),x=E):(V=x,x=t)}else V=x,x=t;return Ze[Ut]={nextPos:V,result:x},x}function Wo(){let x,E;const $=V*34+22,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.substr(V,4).toLowerCase()===vd?(E=r.substr(V,4),V+=4):(E=t,He===0&&Ue(yd)),E!==t&&(et=x,E=nu()),x=E,x===t&&(x=V,r.substr(V,5).toLowerCase()===mg?(E=r.substr(V,5),V+=5):(E=t,He===0&&Ue(vg)),E!==t&&(et=x,E=Mo()),x=E),Ze[$]={nextPos:V,result:x},x)}function Md(){let x,E,$;const k=V*34+23,re=Ze[k];return re?(V=re.nextPos,re.result):(x=V,r.substr(V,2)===No?(E=No,V+=2):(E=t,He===0&&Ue(au)),E!==t?($=sa(),$!==t?(et=x,E=$n(),x=E):(V=x,x=t)):(V=x,x=t),x===t&&(x=V,ea.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(Cd)),E===t&&(E=null),E!==t?($=Nd(),$!==t?(et=x,E=ou(E,$),x=E):(V=x,x=t)):(V=x,x=t)),Ze[k]={nextPos:V,result:x},x)}function Nd(){let x,E,$,k;const re=V*34+24,Te=Ze[re];return Te?(V=Te.nextPos,Te.result):(x=V,E=sa(),E!==t?(r.charCodeAt(V)===46?($=bd,V++):($=t,He===0&&Ue(Za)),$!==t?(k=sa(),k!==t?(et=x,E=Fr(),x=E):(V=x,x=t)):(V=x,x=t)):(V=x,x=t),x===t&&(x=V,E=xg(),E!==t?($=sa(),$===t&&($=null),$!==t?(et=x,E=lu(),x=E):(V=x,x=t)):(V=x,x=t),x===t&&(x=V,r.charCodeAt(V)===48?(E=Ka,V++):(E=t,He===0&&Ue(Jr)),E!==t&&(et=x,E=uu()),x=E)),Ze[re]={nextPos:V,result:x},x)}function Su(){let x,E,$;const k=V*34+25,re=Ze[k];if(re)return V=re.nextPos,re.result;if(x=V,E=[],$=Tu(),$!==t)for(;$!==t;)E.push($),$=Tu();else E=t;return E!==t&&(et=x,E=Xa(E)),x=E,Ze[k]={nextPos:V,result:x},x}function jo(){let x,E,$;const k=V*34+26,re=Ze[k];if(re)return V=re.nextPos,re.result;if(x=V,E=[],$=Eu(),$!==t)for(;$!==t;)E.push($),$=Eu();else E=t;return E!==t&&(et=x,E=Xa(E)),x=E,Ze[k]={nextPos:V,result:x},x}function Eu(){let x,E;const $=V*34+27,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,r.substr(V,2)===hu?(E=hu,V+=2):(E=t,He===0&&Ue(ko)),E!==t&&(et=x,E=qo()),x=E,x===t&&(x=V,r.substr(V,2)===du?(E=du,V+=2):(E=t,He===0&&Ue(Is)),E!==t&&(et=x,E=yn()),x=E,x===t&&(x=V,Fo.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(Ya)),E!==t&&(et=x,E=cu()),x=E)),Ze[$]={nextPos:V,result:x},x)}function Tu(){let x,E;const $=V*34+28,k=Ze[$];return k?(V=k.nextPos,k.result):(x=V,fu.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(gu)),E!==t&&(et=x,E=cu()),x=E,Ze[$]={nextPos:V,result:x},x)}function Ru(){let x,E,$,k,re,Te,Qe;const We=V*34+29,Ut=Ze[We];if(Ut)return V=Ut.nextPos,Ut.result;if(x=V,E=to(),E!==t){if($=[],k=V,re=sa(),re!==t){for(Te=[],Qe=to();Qe!==t;)Te.push(Qe),Qe=to();Te!==t?(re=[re,Te],k=re):(V=k,k=t)}else V=k,k=t;for(;k!==t;)if($.push(k),k=V,re=sa(),re!==t){for(Te=[],Qe=to();Qe!==t;)Te.push(Qe),Qe=to();Te!==t?(re=[re,Te],k=re):(V=k,k=t)}else V=k,k=t;$!==t?(et=x,E=cu(),x=E):(V=x,x=t)}else V=x,x=t;return Ze[We]={nextPos:V,result:x},x}function sa(){let x,E;const $=V*34+30,k=Ze[$];if(k)return V=k.nextPos,k.result;if(x=[],ta.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(Ja)),E!==t)for(;E!==t;)x.push(E),ta.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(Ja));else x=t;return Ze[$]={nextPos:V,result:x},x}function xg(){let x,E;const $=V*34+31,k=Ze[$];if(k)return V=k.nextPos,k.result;if(x=[],pu.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(wd)),E!==t)for(;E!==t;)x.push(E),pu.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(wd));else x=t;return Ze[$]={nextPos:V,result:x},x}function to(){let x,E;const $=V*34+32,k=Ze[$];if(k)return V=k.nextPos,k.result;if(x=[],xd.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(Vd)),E!==t)for(;E!==t;)x.push(E),xd.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(Vd));else x=t;return Ze[$]={nextPos:V,result:x},x}function St(){let x,E;const $=V*34+33,k=Ze[$];if(k)return V=k.nextPos,k.result;for(He++,x=[],Sd.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(Ed));E!==t;)x.push(E),Sd.test(r.charAt(V))?(E=r.charAt(V),V++):(E=t,He===0&&Ue(Ed));return He--,x===t&&(E=t,He===0&&Ue(mu)),Ze[$]={nextPos:V,result:x},x}function kd(x,E,$=!1){return E.reduce(function(k,re){return new pS(re[1],k,re[3],$)},x)}function qs(x){return[].concat.apply([],x)}if(zo=s(),zo!==t&&V===r.length)return zo;throw zo!==t&&V<r.length&&Ue(yg()),Cg(vu,Gs<r.length?r.charAt(Gs):null,Gs<r.length?Pd(Gs,Gs+1):Pd(Gs,Gs))}const yS=vS;class CS{constructor(e,t){this.at=e,this.code=t}}class bS{patchExpression(e){return e.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")}createCondition(e){return this.parseExpression(e)}parseExpression(e){try{return yS(this.patchExpression(e))}catch(t){t instanceof Oh&&(this.conditionError=new CS(t.location.start.offset,t.message))}}get error(){return this.conditionError}}class wS{constructor(e,t,i,s,n){this.operand=e,this.id=t,this.onComplete=i,this.processValue=new xr,this.processValue.values=s,this.processValue.properties=n}run(e){if(!e)return this.runValues();this.processValue.values=z.createCopy(this.processValue.values),this.processValue.onCompleteAsyncFunc=i=>{const s=this.getAsyncItemByOperand(i,this.asyncFuncList);s&&this.doAsyncFunctionReady(s)},this.asyncFuncList=new Array,this.operand.addToAsyncList(this.asyncFuncList);for(var t=0;t<this.asyncFuncList.length;t++)this.runAsyncItem(this.asyncFuncList[t]);return!1}getAsyncItemByOperand(e,t){if(!Array.isArray(t))return null;for(let i=0;i<t.length;i++){if(t[i].operand===e)return t[i];const s=this.getAsyncItemByOperand(e,t[i].children);if(s)return s}return null}runAsyncItem(e){e.children?e.children.forEach(t=>this.runAsyncItem(t)):this.runAsyncItemCore(e)}runAsyncItemCore(e){e.operand?e.operand.evaluate(this.processValue):this.doAsyncFunctionReady(e)}doAsyncFunctionReady(e){if(e.parent&&this.isAsyncChildrenReady(e)){this.runAsyncItemCore(e.parent);return}for(var t=0;t<this.asyncFuncList.length;t++)if(!this.isAsyncFuncReady(this.asyncFuncList[t]))return;this.runValues()}isAsyncFuncReady(e){return e.operand&&!e.operand.isReady(this.processValue)?!1:this.isAsyncChildrenReady(e)}isAsyncChildrenReady(e){if(e.children){for(let t=0;t<e.children.length;t++)if(!this.isAsyncFuncReady(e.children[t]))return!1}return!0}runValues(){var e=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(e,this.id),e}}class Ml{static getQuestionErrorText(e){if(e){const t=e.question;if(t&&t.name)return" It is used in the question: '"+t.name+"'."}return""}constructor(e){this.parser=new bS,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(e)}get expression(){return this.expressionValue}setExpression(e){this.expression!==e&&(this.expressionValue=e,this.operand=this.parser.parseExpression(e),this.hasFunctionValue=this.canRun()?this.operand.hasFunction():!1,this.isAsyncValue=this.hasFunction()?this.operand.hasAsyncFunction():!1)}getVariables(){if(!this.operand)return[];var e=[];return this.operand.setVariables(e),e}hasFunction(){return this.hasFunctionValue}get isAsync(){return this.isAsyncValue}canRun(){return!!this.operand}run(e,t=null,i){return this.operand?new wS(this.operand,i,this.onComplete,e,t).run(this.isAsync):(this.expression&&Ir.warn("Invalid expression: '"+this.expression+"'."+Ml.getQuestionErrorText(t)),null)}}Ml.createExpressionExecutor=r=>new Ml(r);class Wh{constructor(e){this.expression=e}get expression(){return this.expressionExecutor?this.expressionExecutor.expression:""}set expression(e){this.expressionExecutor&&e===this.expression||(this.expressionExecutor=Ml.createExpressionExecutor(e),this.expressionExecutor.onComplete=(t,i)=>{this.doOnComplete(t,i)},this.variables=void 0,this.containsFunc=void 0)}getVariables(){return this.variables===void 0&&(this.variables=this.expressionExecutor.getVariables()),this.variables}hasFunction(){return this.containsFunc===void 0&&(this.containsFunc=this.expressionExecutor.hasFunction()),this.containsFunc}get isAsync(){return this.expressionExecutor.isAsync}canRun(){return this.expressionExecutor.canRun()}runCore(e,t=null){const i=Wh.IdRunnerCounter++;return this.onBeforeAsyncRun&&this.isAsync&&this.onBeforeAsyncRun(i),this.expressionExecutor.run(e,t,i)}doOnComplete(e,t){this.onAfterAsyncRun&&this.isAsync&&this.onAfterAsyncRun(t)}}Wh.IdRunnerCounter=1;class ar extends Wh{run(e,t=null){return this.runCore(e,t)==!0}doOnComplete(e,t){this.onRunComplete&&this.onRunComplete(e==!0),super.doOnComplete(e,t)}}class Nl extends Wh{run(e,t=null){return this.runCore(e,t)}doOnComplete(e,t){this.onRunComplete&&this.onRunComplete(e),super.doOnComplete(e,t)}}class xS{constructor(e){this.obj=e,this.properties=null,this.values=null}getType(){return"bindings"}get isSurveyObj(){return!0}getNames(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)this.properties[t].isVisible("",this.obj)&&e.push(this.properties[t].name);return e}getProperties(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)e.push(this.properties[t]);return e}setBinding(e,t){this.values||(this.values={});const i=this.getJson();i!==t&&(t?this.values[e]=t:(delete this.values[e],Object.keys(this.values).length==0&&(this.values=null)),this.onChangedJSON(i))}clearBinding(e){this.setBinding(e,"")}isEmpty(){if(!this.values)return!0;for(var e in this.values)return!1;return!0}getValueNameByPropertyName(e){if(this.values)return this.values[e]}getPropertiesByValueName(e){if(!this.values)return[];var t=[];for(var i in this.values)this.values[i]==e&&t.push(i);return t}getJson(){if(this.isEmpty())return;const e={};return this.getNames().forEach(t=>{this.values[t]!==void 0&&(e[t]=this.values[t])}),e}setJson(e,t){const i=this.getJson();this.values=null,e&&this.getNames().forEach(s=>{e[s]!==void 0&&(this.values||(this.values={}),this.values[s]=e[s])}),!t&&!z.isTwoValueEquals(i,this.values)&&this.onChangedJSON(i)}fillProperties(){if(this.properties===null){this.properties=[];for(var e=le.getPropertiesByObj(this.obj),t=0;t<e.length;t++)e[t].isBindable&&this.properties.push(e[t])}}onChangedJSON(e){this.obj&&this.obj.onBindingChanged(e,this.getJson())}}class Df{constructor(e,t,i){this.currentDependency=e,this.target=t,this.property=i,this.dependencies=[],this.id=""+ ++Df.DependenciesCount}addDependency(e,t){this.target===e&&this.property===t||this.dependencies.some(i=>i.obj===e&&i.prop===t)||(this.dependencies.push({obj:e,prop:t,id:this.id}),e.registerPropertyChangedHandlers([t],this.currentDependency,this.id))}dispose(){this.dependencies.forEach(e=>{e.obj.unregisterPropertyChangedHandlers([e.prop],e.id)})}}Df.DependenciesCount=0;class $t{constructor(e){this._updater=e,this.dependencies=void 0,this.type=$t.ComputedUpdaterType}get updater(){return this._updater}setDependencies(e){this.clearDependencies(),this.dependencies=e}getDependencies(){return this.dependencies}clearDependencies(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)}dispose(){this.clearDependencies(),this._updater=void 0}}$t.ComputedUpdaterType="__dependency_computed";class tt{static finishCollectDependencies(){const e=tt.currentDependencis;return tt.currentDependencis=void 0,e}static startCollectDependencies(e,t,i){if(tt.currentDependencis!==void 0)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");tt.currentDependencis=new Df(e,t,i)}static collectDependency(e,t){tt.currentDependencis!==void 0&&tt.currentDependencis.addDependency(e,t)}static get commentSuffix(){return X.commentSuffix}static set commentSuffix(e){X.commentSuffix=e}static get commentPrefix(){return tt.commentSuffix}static set commentPrefix(e){tt.commentSuffix=e}isValueEmpty(e,t=!0){return t&&(e=this.trimValue(e)),z.isValueEmpty(e)}equals(e){return!e||this.isDisposed||e.isDisposed||this.getType()!=e.getType()?!1:this.equalsCore(e)}equalsCore(e){return this.name!==e.name?!1:z.isTwoValueEquals(this.toJSON(),e.toJSON(),!1,!0,!1)}trimValue(e){return e&&(typeof e=="string"||e instanceof String)?e.trim():e}static createPropertiesHash(){return{}}constructor(){this.dependencies={},this.propertyHash=tt.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onNestedPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.animationAllowedLock=0,this.supportOnElementRerenderedEvent=!0,this.onElementRerenderedEventEnabled=!1,this._onElementRerendered=new Er,Ei.createProperties(this),this.onBaseCreating(),this.isCreating=!1}dispose(){for(var e=0;e<this.eventList.length;e++)this.eventList[e].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0,Object.keys(this.dependencies).forEach(t=>this.dependencies[t].dispose()),Object.keys(this.propertyHash).forEach(t=>{const i=this.getPropertyValueCore(this.propertyHash,t);i&&i.type==$t.ComputedUpdaterType&&i.dispose()})}get isDisposed(){return this.isDisposedValue===!0}get isSurveyObj(){return!0}addEvent(){const e=new Er;return this.eventList.push(e),e}onBaseCreating(){}getType(){return"base"}isDescendantOf(e){return le.isDescendantOf(this.getType(),e)}getSurvey(e=!1){return null}get isDesignMode(){const e=this.getSurvey();return!!e&&e.isDesignMode}get inSurvey(){return!!this.getSurvey(!0)}get bindings(){return this.bindingsValue||(this.bindingsValue=new xS(this)),this.bindingsValue}isBindingEmpty(){return!this.bindingsValue||this.bindingsValue.isEmpty()}checkBindings(e,t){}updateBindings(e,t){if(this.bindingsValue){var i=this.bindings.getValueNameByPropertyName(e);i&&this.updateBindingValue(i,t)}}updateBindingValue(e,t){}getTemplate(){return this.getType()}get isLoadingFromJson(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()}getIsLoadingFromJson(){return this.loadingOwner&&this.loadingOwner.isLoadingFromJson?!0:this.isLoadingFromJsonValue}startLoadingFromJson(e){this.isLoadingFromJsonValue=!0,this.jsonObj=e}endLoadingFromJson(){this.isLoadingFromJsonValue=!1}toJSON(e){return new Ri().toJsonObject(this,e)}fromJSON(e,t){new Ri().toObject(e,this,t),this.onSurveyLoad()}onSurveyLoad(){}clone(){var e=le.createClass(this.getType());return e.fromJSON(this.toJSON()),e}getPropertyByName(e){const t=this.getType();return(!this.classMetaData||this.classMetaData.name!==t)&&(this.classMetaData=le.findClass(t)),this.classMetaData?this.classMetaData.findProperty(e):null}isPropertyVisible(e){const t=this.getPropertyByName(e);return t?t.isVisible("",this):!1}static createProgressInfo(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}}getProgressInfo(){return tt.createProgressInfo()}localeChanged(){}locStrsChanged(){if(this.arraysInfo)for(let t in this.arraysInfo){let i=this.arraysInfo[t];if(i&&i.isItemValues){var e=this.getPropertyValue(t);e&&tt.itemValueLocStrChanged&&tt.itemValueLocStrChanged(e)}}if(this.localizableStrings)for(let t in this.localizableStrings){let i=this.getLocalizableString(t);i&&i.strChanged()}}getPropertyValue(e,t,i){const s=this.getPropertyValueWithoutDefault(e);if(i&&Array.isArray(s)&&s.length===0&&s.isReset===!0)return delete s.isReset,this.setArrayPropertyDirectly(e,i(),!1),s;if(this.isValueUndefined(s)){const n=this.localizableStrings?this.localizableStrings[e]:void 0;if(n)return n.text;if(!this.isValueUndefined(t))return t;if(i){const h=i();if(h!==void 0)if(Array.isArray(h)){const d=this.createNewArray(e);return d.splice(0,0,...h),d}else return this.setPropertyValueDirectly(e,h),h}const o=this.getDefaultPropertyValue(e);if(o!==void 0)return o}return s}isValueUndefined(e){return z.isValueUndefined(e)}getDefaultPropertyValue(e){const t=this.getPropertyByName(e);if(!t||t.isCustom&&this.isCreating)return;if(t.defaultValueFunc)return t.defaultValueFunc(this);const i=t.getDefaultValue(this);if(!this.isValueUndefined(i)&&!Array.isArray(i))return i;const s=this.localizableStrings?this.localizableStrings[e]:void 0;if(s&&s.localizationName)return this.getLocalizationString(s.localizationName);if(t.type=="boolean"||t.type=="switch")return!1;if(t.isCustom&&t.onGetValue)return t.onGetValue(this)}hasDefaultPropertyValue(e){return this.getDefaultPropertyValue(e)!==void 0}resetPropertyValue(e){const t=this.localizableStrings?this.localizableStrings[e]:void 0;t?(this.setLocalizableStringText(e,void 0),t.clear()):this.setPropertyValue(e,void 0)}getPropertyValueWithoutDefault(e){return this.getPropertyValueCore(this.propertyHash,e)}getPropertyValueCore(e,t){return this.isLoadingFromJson||tt.collectDependency(this,t),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(e,t):e[t]}geValueFromHash(){return this.propertyHash.value}setPropertyValueCore(e,t,i){this.setPropertyValueCoreHandler?this.isDisposedValue?Ir.disposedObjectChangedProperty(t,this.getType()):this.setPropertyValueCoreHandler(e,t,i):e[t]=i}get isEditingSurveyElement(){var e=this.getSurvey();return!!e&&e.isEditingSurveyElement}iteratePropertiesHash(e){var t=[];for(var i in this.propertyHash)i==="value"&&this.isEditingSurveyElement&&Array.isArray(this.value)||t.push(i);t.forEach(s=>e(this.propertyHash,s))}setPropertyValue(e,t){if(!this.isDisposedValue){if(!this.isLoadingFromJson){const s=this.getPropertyByName(e);s&&(t=s.settingValue(this,t))}var i=this.getPropertyValue(e);i&&Array.isArray(i)&&this.arraysInfo&&(!t||Array.isArray(t))?this.isTwoValueEquals(i,t)||this.setArrayPropertyDirectly(e,t):t!==i&&(this.setPropertyValueDirectly(e,t),this.isTwoValueEquals(i,t)||this.propertyValueChanged(e,i,t))}}setArrayPropertyDirectly(e,t,i=!0){var s=this.arraysInfo[e];this.setArray(e,this.getPropertyValue(e),t,s?s.isItemValues:!1,s?i&&s.onPush:null)}setPropertyValueDirectly(e,t){this.setPropertyValueCore(this.propertyHash,e,t)}clearPropertyValue(e){this.setPropertyValueCore(this.propertyHash,e,null),delete this.propertyHash[e]}onPropertyValueChangedCallback(e,t,i,s,n){}itemValuePropertyChanged(e,t,i,s){this.onItemValuePropertyChanged.fire(this,{obj:e,name:t,oldValue:i,newValue:s,propertyName:e.ownerPropertyName})}onPropertyValueChanged(e,t,i){}propertyValueChanged(e,t,i,s,n){if(!this.isLoadingFromJson&&(this.updateBindings(e,i),this.onPropertyValueChanged(e,t,i),this.onPropertyChanged.fire(this,{name:e,oldValue:t,newValue:i,arrayChanges:s,target:n}),this.doPropertyValueChangedCallback(e,t,i,s,this),this.checkConditionPropertyChanged(e),!!this.onPropChangeFunctions))for(var o=0;o<this.onPropChangeFunctions.length;o++)this.onPropChangeFunctions[o].name==e&&this.onPropChangeFunctions[o].func(i,s)}onBindingChanged(e,t){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",e,t)}get isInternal(){return!1}doPropertyValueChangedCallback(e,t,i,s,n){const o=d=>{d&&d.onPropertyValueChangedCallback&&d.onPropertyValueChangedCallback(e,t,i,n,s)};if(this.isInternal){o(this);return}n||(n=this);var h=this.getSurvey();h||(h=this),o(h),h!==this&&o(this)}addExpressionProperty(e,t,i){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[e]={onExecute:t,canRun:i}}getDataFilteredValues(){return{}}getDataFilteredProperties(){return{}}runConditionCore(e,t){if(this.expressionInfo)for(var i in this.expressionInfo)this.runConditionItemCore(i,e,t)}canRunConditions(){return!this.isDesignMode}checkConditionPropertyChanged(e){!this.expressionInfo||!this.expressionInfo[e]||this.canRunConditions()&&this.runConditionItemCore(e,this.getDataFilteredValues(),this.getDataFilteredProperties())}runConditionItemCore(e,t,i){const s=this.expressionInfo[e],n=this.getPropertyValue(e);n&&(s.canRun&&!s.canRun(this)||(s.runner||(s.runner=this.createExpressionRunner(n),s.runner.onRunComplete=o=>{s.onExecute(this,o)}),s.runner.expression=n,s.runner.run(t,i)))}doBeforeAsynRun(e){this.asynExpressionHash||(this.asynExpressionHash={});const t=!this.isAsyncExpressionRunning;this.asynExpressionHash[e]=!0,t&&this.onAsyncRunningChanged()}doAfterAsynRun(e){this.asynExpressionHash&&(delete this.asynExpressionHash[e],this.isAsyncExpressionRunning||this.onAsyncRunningChanged())}onAsyncRunningChanged(){}get isAsyncExpressionRunning(){return!!this.asynExpressionHash&&Object.keys(this.asynExpressionHash).length>0}createExpressionRunner(e){const t=new Nl(e);return t.onBeforeAsyncRun=i=>{this.doBeforeAsynRun(i)},t.onAfterAsyncRun=i=>{this.doAfterAsynRun(i)},t}registerPropertyChangedHandlers(e,t,i=null){for(var s=0;s<e.length;s++)this.registerFunctionOnPropertyValueChanged(e[s],t,i)}unregisterPropertyChangedHandlers(e,t=null){for(var i=0;i<e.length;i++)this.unRegisterFunctionOnPropertyValueChanged(e[i],t)}registerFunctionOnPropertyValueChanged(e,t,i=null){if(this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),i)for(var s=0;s<this.onPropChangeFunctions.length;s++){var n=this.onPropChangeFunctions[s];if(n.name==e&&n.key==i){n.func=t;return}}this.onPropChangeFunctions.push({name:e,func:t,key:i})}registerFunctionOnPropertiesValueChanged(e,t,i=null){this.registerPropertyChangedHandlers(e,t,i)}unRegisterFunctionOnPropertyValueChanged(e,t=null){if(this.onPropChangeFunctions)for(var i=0;i<this.onPropChangeFunctions.length;i++){var s=this.onPropChangeFunctions[i];if(s.name==e&&s.key==t)return this.onPropChangeFunctions.splice(i,1)}}unRegisterFunctionOnPropertiesValueChanged(e,t=null){this.unregisterPropertyChangedHandlers(e,t)}createCustomLocalizableObj(e){const t=this.getLocalizableString(e);return t||this.createLocalizableString(e,this,!1,!0)}getLocale(){const e=this.getSurvey();return e?e.getLocale():""}getLocalizationString(e){return _i(e,this.getLocale())}getLocalizationFormatString(e,...t){const i=this.getLocalizationString(e);return!i||!i.format?"":i.format(...t)}createLocalizableString(e,t,i=!1,s=!1){let n;s&&(n=s===!0?e:s);const o=new Yi(t,i,e,n);o.onStrChanged=(d,f)=>{this.propertyValueChanged(e,d,f)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[e]=o;const h=this.getPropertyByName(e);return o.disableLocalization=h&&h.isLocalizable===!1,o}removeLocalizableString(e){this.localizableStrings&&delete this.localizableStrings[e]}getLocalizableString(e){return this.localizableStrings?this.localizableStrings[e]:null}getLocalizableStringText(e,t=""){tt.collectDependency(this,e);var i=this.getLocalizableString(e);if(!i)return"";var s=i.text;return s||t}setLocalizableStringText(e,t){let i=this.getLocalizableString(e);if(!i)return;i.text!=t&&(i.text=t)}addUsedLocales(e){if(this.localizableStrings)for(let t in this.localizableStrings){let i=this.getLocalizableString(t);i&&this.AddLocStringToUsedLocales(i,e)}if(this.arraysInfo)for(let t in this.arraysInfo){const i=this.getPropertyByName(t);if(!i||!i.isPropertySerializable(this))continue;let s=this.getPropertyValue(t);if(!(!s||!s.length))for(let n=0;n<s.length;n++){let o=s[n];o&&o.addUsedLocales&&o.addUsedLocales(e)}}}searchText(e,t){var i=[];this.getSearchableLocalizedStrings(i);for(var s=0;s<i.length;s++)i[s].setFindText(e)&&t.push({element:this,str:i[s]})}getSearchableLocalizedStrings(e){if(this.localizableStrings){let o=[];this.getSearchableLocKeys(o);for(var t=0;t<o.length;t++){let h=this.getLocalizableString(o[t]);h&&e.push(h)}}if(!this.arraysInfo)return;let i=[];this.getSearchableItemValueKeys(i);for(var t=0;t<i.length;t++){var s=this.getPropertyValue(i[t]);if(s)for(var n=0;n<s.length;n++)e.push(s[n].locText)}}getSearchableLocKeys(e){}getSearchableItemValueKeys(e){}AddLocStringToUsedLocales(e,t){for(var i=e.getLocales(),s=0;s<i.length;s++)t.indexOf(i[s])<0&&t.push(i[s])}createItemValues(e){var t=this,i=this.createNewArray(e,function(s){if(s.locOwner=t,s.ownerPropertyName=e,typeof s.getSurvey=="function"){const n=s.getSurvey();n&&typeof n.makeReactive=="function"&&n.makeReactive(s)}});return this.arraysInfo[e].isItemValues=!0,i}notifyArrayChanged(e,t){e.onArrayChanged&&e.onArrayChanged(t)}createNewArrayCore(e){var t=null;return this.createArrayCoreHandler&&(t=this.createArrayCoreHandler(this.propertyHash,e)),t||(t=new Array,this.setPropertyValueCore(this.propertyHash,e,t)),t}ensureArray(e,t=null,i=null){if(!(this.arraysInfo&&this.arraysInfo[e]))return this.createNewArray(e,t,i)}createNewArray(e,t=null,i=null){var s=this.createNewArrayCore(e);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[e]={onPush:t,isItemValues:!1};var n=this;return s.push=function(o){var h=Object.getPrototypeOf(s).push.call(s,o);if(!n.isDisposedValue){t&&t(o,s.length-1);const d=new bl(s.length-1,0,[o],[]);n.propertyValueChanged(e,s,s,d),n.notifyArrayChanged(s,d)}return h},s.shift=function(){var o=Object.getPrototypeOf(s).shift.call(s);if(!n.isDisposedValue&&o){i&&i(o);const h=new bl(s.length-1,1,[],[]);n.propertyValueChanged(e,s,s,h),n.notifyArrayChanged(s,h)}return o},s.unshift=function(o){var h=Object.getPrototypeOf(s).unshift.call(s,o);if(!n.isDisposedValue){t&&t(o,s.length-1);const d=new bl(0,0,[o],[]);n.propertyValueChanged(e,s,s,d),n.notifyArrayChanged(s,d)}return h},s.pop=function(){var o=Object.getPrototypeOf(s).pop.call(s);if(!n.isDisposedValue){i&&i(o);const h=new bl(s.length-1,1,[],[]);n.propertyValueChanged(e,s,s,h),n.notifyArrayChanged(s,h)}return o},s.splice=function(o,h,...d){o||(o=0),h||(h=0);var f=Object.getPrototypeOf(s).splice.call(s,o,h,...d);if(d||(d=[]),!n.isDisposedValue){if(i&&f)for(var p=0;p<f.length;p++)i(f[p]);if(t)for(var p=0;p<d.length;p++)t(d[p],o+p);const y=new bl(o,h,d,f);n.propertyValueChanged(e,s,s,y),n.notifyArrayChanged(s,y)}return f},s}getItemValueType(){}setArray(e,t,i,s,n){var o=[].concat(t);if(Object.getPrototypeOf(t).splice.call(t,0,t.length),i){for(var h=0;h<i.length;h++){var d=i[h];s&&tt.createItemValue&&(d=tt.createItemValue(d,this.getItemValueType())),Object.getPrototypeOf(t).push.call(t,d),n&&n(t[h])}delete t.isReset}else t.isReset=!0;const f=new bl(0,o.length,t,o);this.propertyValueChanged(e,o,t,f),this.notifyArrayChanged(t,f)}isTwoValueEquals(e,t,i=!1,s=!1){return z.checkIfValuesEqual(e,t,{ignoreOrder:!1,caseSensitive:!i,trimStrings:s,doNotConvertNumbers:!0})}static copyObject(e,t){for(var i in t){var s=t[i];typeof s=="object"&&(s={},this.copyObject(s,t[i])),e[i]=s}}copyCssClasses(e,t){t&&(typeof t=="string"||t instanceof String?e.root=t:tt.copyObject(e,t))}getValueInLowCase(e){return e&&typeof e=="string"?e.toLowerCase():e}getElementsInDesign(e=!1){return[]}get animationAllowed(){return this.getIsAnimationAllowed()}getIsAnimationAllowed(){return X.animationEnabled&&this.animationAllowedLock>=0&&!this.isLoadingFromJson&&!this.isDisposed&&(!!this.onElementRerendered||!this.supportOnElementRerenderedEvent)}blockAnimations(){this.animationAllowedLock--}releaseAnimations(){this.animationAllowedLock++}enableOnElementRerenderedEvent(){this.onElementRerenderedEventEnabled=!0}disableOnElementRerenderedEvent(){var e;(e=this.onElementRerendered)===null||e===void 0||e.fire(this,{isCancel:!0}),this.onElementRerenderedEventEnabled=!1}get onElementRerendered(){return this.supportOnElementRerenderedEvent&&this.onElementRerenderedEventEnabled?this._onElementRerendered:void 0}afterRerender(){var e;(e=this.onElementRerendered)===null||e===void 0||e.fire(this,{isCancel:!1})}}tt.currentDependencis=void 0;class bl{constructor(e,t,i,s){this.index=e,this.deleteCount=t,this.itemsToAdd=i,this.deletedItems=s}}class Bb{get isEmpty(){return this.length===0}get length(){return this.callbacks?this.callbacks.length:0}fireByCreatingOptions(e,t){if(this.callbacks){for(var i=0;i<this.callbacks.length;i++)if(this.callbacks[i](e,t()),!this.callbacks)return}}fire(e,t){if(!this.callbacks)return;const i=[].concat(this.callbacks);for(var s=0;s<i.length;s++)if(i[s](e,t),!this.callbacks)return}clear(){this.callbacks=void 0}add(e){this.hasFunc(e)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(e),this.fireCallbackChanged())}remove(e){if(this.hasFunc(e)){var t=this.callbacks.indexOf(e,0);this.callbacks.splice(t,1),this.fireCallbackChanged()}}hasFunc(e){return this.callbacks==null?!1:this.callbacks.indexOf(e,0)>-1}fireCallbackChanged(){this.onCallbacksChanged&&this.onCallbacksChanged()}}class Er extends Bb{}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function O(r,e,t,i){var s=arguments.length,n=s<3?e:i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,e,t,i);else for(var h=r.length-1;h>=0;h--)(o=r[h])&&(n=(s<3?o(n):s>3?o(e,t,n):o(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n}function zb(r){let e=!1,t=!1,i;return{run:(...s)=>{t=!1,i=s,e||(e=!0,queueMicrotask(()=>{t||r.apply(this,i),t=!1,e=!1}))},cancel:()=>{t=!0}}}class VS{constructor(e,t,i){this.container=e,this.model=t,this.afterInitializeCallback=i,this.resizeObserver=void 0,this.isInitialized=!1,this.getComputedStyle=s=>Ge.getComputedStyle(s),this.debouncedProcess=zb(()=>{this.process()}),this.isDisposed=!1,this.model.updateCallback=s=>{this.model.isResponsivenessDisabled||(s&&(this.isInitialized=!1),this.debouncedProcess.run())},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(s=>{$e.requestAnimationFrame(()=>{this.process()})}),this.resizeObserver.observe(this.container.parentElement))}getDimensions(e){return{scroll:e.scrollWidth,offset:e.offsetWidth}}getAvailableSpace(){const e=this.getComputedStyle(this.container);let t=this.container.offsetWidth;return e.boxSizing==="border-box"&&(t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)),t}getGap(){const e=this.getComputedStyle(this.container);if(e.display=="flex"){const t=parseFloat(e.rowGap);return isNaN(t)?0:t}return 0}calcItemSize(e){return e.offsetWidth||e.getBoundingClientRect().width}updateItemsDimensions(e){if(!this.container)return;const t=this.isInitialized?this.model.renderedActions.filter(n=>n.needUpdateMaxDimension||n.needUpdateMinDimension):this.model.renderedActions;let i=t.length;i==0&&e();const s=()=>{--i<=0&&e()};t.forEach(n=>{const o=!this.isInitialized||n.needUpdateMaxDimension,d=!this.isInitialized||n.needUpdateMinDimension?o?void 0:"small":"large";n.updateDimensions(f=>this.calcItemSize(f),()=>{n.needUpdateMaxDimension=!1,n.needUpdateMinDimension=!1,s()},d)})}get isContainerVisible(){return!!this.container&&uv(this.container)}shouldProcessResponsiveness(){return this.isContainerVisible&&!this.model.isResponsivenessDisabled&&!this.isDisposed}process(){this.shouldProcessResponsiveness()&&this.updateItemsDimensions(()=>{this.shouldProcessResponsiveness()&&this.model.fit({availableSpace:this.getAvailableSpace(),gap:this.getGap()}),this.isInitialized||(this.isInitialized=!0,this.afterInitializeCallback&&this.afterInitializeCallback())})}dispose(){this.isDisposed=!0,this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.container=void 0}}class fe{constructor(){this.classes=[]}isEmpty(){return this.toString()===""}append(e,t=!0){return e&&t&&(typeof e=="string"&&(e=e.trim()),this.classes.push(e)),this}toString(){return this.classes.join(" ")}}let Hb={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemWithTitle:"",itemAsIcon:"sv-action-bar-item--icon",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"};class Ss extends tt{constructor(){super(...arguments),this.visibleActions=[],this.sizeMode="default",this.onActionVisibilityChangedCallback=e=>{this.onActionVisibilityChanged(e)},this.blockUpdates=0}getMarkdownHtml(e,t,i){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,i):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}getLocale(){return this.locOwner?this.locOwner.getLocale():""}getRenderedActions(){return this.visibleActions}locStrsChanged(){super.locStrsChanged(),this.actions.forEach(e=>{e.locTitle&&e.locTitle.strChanged(),e.locStrsChanged()})}raiseUpdate(e){this.isUpdating||(this.updateVisibleActions(),this.updateCallback&&this.updateCallback(e))}updateVisibleActions(){this.isUpdating||(this.visibleActions=this.actions.filter(e=>e.visible!==!1),this.isEmpty=this.visibleActions.length<=0)}onActionVisibilityChanged(e){this.updateVisibleActions()}onSet(){this.beginUpdates(),this.actions.forEach(e=>{this.setActionCssClasses(e),e.addVisibilityChangedCallback(this.onActionVisibilityChangedCallback)}),this.endUpdates()}onPush(e){this.setActionCssClasses(e),e.addVisibilityChangedCallback(this.onActionVisibilityChangedCallback),e.owner=this,this.raiseUpdate(!0)}onRemove(e){e.owner=null,e.removeVisibilityChangedCallback(this.onActionVisibilityChangedCallback),this.raiseUpdate(!0)}setActionCssClasses(e){e.cssClasses=this.cssClasses}get hasActions(){return(this.actions||[]).length>0}get hasVisibleActions(){return!this.isEmpty}get renderedActions(){return this.getRenderedActions()}getRootStyle(){}getRootCss(){const e=this.sizeMode==="small"?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return new fe().append(this.cssClasses.root+(e?" "+e:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()}getDefaultCssClasses(){return Hb}getAllActions(){return this.actions}set cssClasses(e){this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),kl(e,this.cssClasses),this.getAllActions().forEach(t=>{this.setActionCssClasses(t)})}get cssClasses(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue}createAction(e){return e instanceof oi?e:new ht(e)}addAction(e,t=!0){const i=this.createAction(e);if(t&&!this.isActionVisible(i))return i;const s=[].concat(this.actions,i);return this.sortItems(s),this.actions=s,i}beginUpdates(){this.blockUpdates++}endUpdates(){this.blockUpdates--,this.blockUpdates<0&&(this.blockUpdates=0),this.blockUpdates===0&&this.raiseUpdate(!0)}get isUpdating(){return this.blockUpdates>0}setItems(e,t=!0){this.beginUpdates();const i=[];e.forEach(s=>{(!t||this.isActionVisible(s))&&i.push(this.createAction(s))}),t&&this.sortItems(i),this.actions=i,this.endUpdates()}sortItems(e){this.hasSetVisibleIndex(e)&&e.sort(this.compareByVisibleIndex)}hasSetVisibleIndex(e){for(let t=0;t<e.length;t++){const i=e[t].visibleIndex;if(i!==void 0&&i>=0)return!0}return!1}compareByVisibleIndex(e,t){return e.visibleIndex-t.visibleIndex}isActionVisible(e){return e.visibleIndex>=0||e.visibleIndex===void 0}popupAfterShowCallback(e){}mouseOverHandler(e){e.isHovered=!0;let t=!1,i=!1;if(this.actions.forEach(s=>{s===e&&e.popupModel&&(t=!0),s.popupModel&&s.popupModel.isVisible&&(i=!0)}),t){const s=i?Math.max(this.subItemsShowDelay,this.subItemsHideDelay):this.subItemsShowDelay;e.showPopupDelayed(s),this.popupAfterShowCallback(e)}}initResponsivityManager(e,t){}resetResponsivityManager(){}getActionById(e){for(var t=0;t<this.actions.length;t++)if(this.actions[t].id===e)return this.actions[t];return null}dispose(){super.dispose(),this.resetResponsivityManager(),this.actions.forEach(e=>e.dispose()),this.actions.length=0}}O([Es({})],Ss.prototype,"visibleActions",void 0);O([Es({onSet:(r,e)=>{e.onSet()},onPush:(r,e,t)=>{t.onPush(r)},onRemove:(r,e,t)=>{t.onRemove(r)}})],Ss.prototype,"actions",void 0);O([N({})],Ss.prototype,"containerCss",void 0);O([N({defaultValue:!0})],Ss.prototype,"isEmpty",void 0);O([N({defaultValue:300})],Ss.prototype,"subItemsShowDelay",void 0);O([N({defaultValue:300})],Ss.prototype,"subItemsHideDelay",void 0);class wl{static focusElement(e){e&&e.focus()}static visibility(e){var t=Ge.getComputedStyle(e);return t.display==="none"||t.visibility==="hidden"?!1:e.parentElement?this.visibility(e.parentElement):!0}static getNextElementPreorder(e){const t=e.nextElementSibling?e.nextElementSibling:e.parentElement.firstElementChild;return this.visibility(t)?t:this.getNextElementPreorder(t)}static getNextElementPostorder(e){const t=e.previousElementSibling?e.previousElementSibling:e.parentElement.lastElementChild;return this.visibility(t)?t:this.getNextElementPostorder(t)}static hasHorizontalScroller(e){return e?e.scrollWidth>e.offsetWidth:!1}static hasVerticalScroller(e){return e?e.scrollHeight>e.offsetHeight:!1}}let km=!1,Qb=null;typeof navigator<"u"&&navigator&&$e.isAvailable()&&(Qb=navigator.userAgent||navigator.vendor||$e.hasOwn("opera"));(function(r){r&&(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0||navigator.platform==="iPad"||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substring(0,4)))&&(km=!0)})(Qb);let SS=!1;const nv=km||SS;var Ub={get isTouch(){return!this.hasMouse&&this.hasTouchEvent},get hasTouchEvent(){return $e.isAvailable()&&($e.hasOwn("ontouchstart")||navigator.maxTouchPoints>0)},hasMouse:!0};const ES=$e.matchMedia;Ub.hasMouse=RS(ES);let Hi=Ub.isTouch;function TS(r,e,t=600){const i=r||$e.getInnerWidth(),s=e||$e.getInnerHeight();return Math.min(i,s)>=t}function RS(r){if(!r||nv)return!1;const e=r("(pointer:fine)"),t=r("(any-hover:hover)");return!!e&&e.matches||!!t&&t.matches}let PS={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemGroup:"sv-list__item--group",itemGroupSelected:"sv-list__item--group-selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemHovered:"sv-list__item--hovered",itemTextWrap:"sv-list__item-text--wrap",itemIcon:"sv-list__item-icon",itemMarkerIcon:"sv-list-item__marker-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"};class Li extends Ss{hasText(e,t){if(!t)return!0;const i=e.title||"";if(this.onTextSearchCallback)return this.onTextSearchCallback(e,t);let s=i.toLocaleLowerCase();return s=X.comparator.normalizeTextCallback(s,"filter"),s.indexOf(t.toLocaleLowerCase())>-1}isItemVisible(e){return e.id===this.loadingIndicator.id?e.visible:e.visible&&this.hasText(e,this.filterString)}getRenderedActions(){let e=super.getRenderedActions();if(this.filterString){let t=[];return e.forEach(i=>{t.push(i),i.items&&i.items.forEach(s=>{const n=new ht(s);n.iconName||(n.iconName=i.iconName),t.push(n)})}),t}return e}get visibleItems(){return this.visibleActions.filter(e=>this.isItemVisible(e))}onFilterStringChanged(e){this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(e),this.updateIsEmpty()}updateIsEmpty(){this.isEmpty=!this.renderedActions.some(e=>this.isItemVisible(e))}scrollToItem(e,t=0){setTimeout(()=>{if(!this.listContainerHtmlElement)return;const i=this.listContainerHtmlElement.querySelector(ir(e));i&&setTimeout(()=>{i.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},t)},t)}constructor(e,t,i,s,n){if(super(),this.onSelectionChanged=t,this.allowSelection=i,this.elementId=n,this.onItemClick=o=>{if(this.isItemDisabled(o))return;this.isExpanded=!1,this.allowSelection&&(this.selectedItem=o),this.onSelectionChanged&&this.onSelectionChanged(o);const h=o.action;h&&h(o)},this.onItemHover=o=>{this.mouseOverHandler(o)},this.isItemDisabled=o=>o.enabled!==void 0&&!o.enabled,this.getA11yItemAriaSelected=o=>{if(this.listItemRole=="option")return this.isItemSelected(o)?"true":"false"},this.getA11yItemAriaChecked=o=>{if(this.listItemRole=="menuitemradio")return this.isItemSelected(o)?"true":"false"},this.isItemSelected=o=>this.areSameItems(this.selectedItem,o),this.isItemFocused=o=>this.areSameItems(this.focusedItem,o),this.getListClass=()=>new fe().append(this.cssClasses.itemsContainer).append(this.cssClasses.itemsContainerFiltering,!!this.filterString&&this.visibleActions.length!==this.visibleItems.length).toString(),this.getItemClass=o=>{const h=this.isItemSelected(o);return new fe().append(this.cssClasses.item).append(this.cssClasses.itemWithIcon,!!o.iconName).append(this.cssClasses.itemDisabled,this.isItemDisabled(o)).append(this.cssClasses.itemFocused,this.isItemFocused(o)).append(this.cssClasses.itemSelected,!o.hasSubItems&&h).append(this.cssClasses.itemGroup,o.hasSubItems).append(this.cssClasses.itemGroupSelected,o.hasSubItems&&h).append(this.cssClasses.itemHovered,o.isHovered).append(this.cssClasses.itemTextWrap,this.textWrapEnabled).append(o.css).toString()},this.getItemStyle=o=>({"--sjs-list-item-level":(o.level||0)+1}),Object.keys(e).indexOf("items")!==-1){const o=e;Object.keys(o).forEach(h=>{switch(h){case"items":this.setItems(o.items);break;case"onFilterStringChangedCallback":this.setOnFilterStringChangedCallback(o.onFilterStringChangedCallback);break;case"onTextSearchCallback":this.setOnTextSearchCallback(o.onTextSearchCallback);break;default:this[h]=o[h]}}),this.updateActionsIds()}else this.setItems(e),this.selectedItem=s}setOnFilterStringChangedCallback(e){this.onFilterStringChangedCallback=e}setOnTextSearchCallback(e){this.onTextSearchCallback=e}setItems(e,t=!0){super.setItems(e,t),this.updateActionsIds(),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)}updateActionsIds(){this.elementId&&this.renderedActions.forEach(e=>{e.elementId=this.elementId+e.id})}setSearchEnabled(e){this.searchEnabled=e,this.showSearchClearButton=e}onSet(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>Li.MINELEMENTCOUNT),super.onSet()}getDefaultCssClasses(){return PS}popupAfterShowCallback(e){this.addScrollEventListener(()=>{e.hidePopup()})}onItemLeave(e){e.hidePopupDelayed(this.subItemsHideDelay)}areSameItems(e,t){return this.areSameItemsCallback?this.areSameItemsCallback(e,t):!!e&&!!t&&e.id==t.id}get a11ya11y_input_ariaLabel(){return this.listAriaLabel}get filterStringPlaceholder(){return this.getLocalizationString("filterStringPlaceholder")}get emptyMessage(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.getLocalizationString("loadingData")}get scrollableContainer(){return this.listContainerHtmlElement.querySelector(ir(this.cssClasses.itemsContainer))}get loadingIndicator(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new ht({id:"loadingIndicator",title:this.getLocalizationString("loadingPage"),action:()=>{},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue}goToItems(e){if(e.key==="ArrowDown"||e.keyCode===40){const i=e.target.parentElement.parentElement.querySelector("ul"),s=jS(i);i&&s&&(wl.focusElement(s),e.preventDefault())}}onMouseMove(e){this.resetFocusedItem()}onKeyDown(e){const t=e.target;e.key==="ArrowDown"||e.keyCode===40?(wl.focusElement(wl.getNextElementPreorder(t)),e.preventDefault()):(e.key==="ArrowUp"||e.keyCode===38)&&(wl.focusElement(wl.getNextElementPostorder(t)),e.preventDefault())}onPointerDown(e,t){}refresh(){this.filterString!==""?this.filterString="":this.updateIsEmpty(),this.resetFocusedItem()}onClickSearchClearButton(e){e.currentTarget.parentElement.querySelector("input").focus(),this.refresh()}resetFocusedItem(){this.focusedItem=void 0}focusFirstVisibleItem(){Hi||(this.focusedItem=this.visibleItems[0])}focusLastVisibleItem(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]}initFocusedItem(){this.focusedItem=this.visibleItems.filter(e=>e.visible&&this.isItemSelected(e))[0],this.focusedItem||this.focusFirstVisibleItem()}focusNextVisibleItem(){if(!this.focusedItem)this.initFocusedItem();else{const e=this.visibleItems,t=e.indexOf(this.focusedItem),i=e[t+1];i?this.focusedItem=i:this.focusFirstVisibleItem()}}focusPrevVisibleItem(){if(!this.focusedItem)this.initFocusedItem();else{const e=this.visibleItems,t=e.indexOf(this.focusedItem),i=e[t-1];i?this.focusedItem=i:this.focusLastVisibleItem()}}selectFocusedItem(){this.focusedItem&&this.onItemClick(this.focusedItem)}initListContainerHtmlElement(e){this.listContainerHtmlElement=e}onLastItemRended(e){this.isAllDataLoaded||e===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=wl.hasVerticalScroller(this.scrollableContainer))}scrollToFocusedItem(){this.scrollToItem(this.cssClasses.itemFocused)}scrollToSelectedItem(){this.selectedItem&&this.selectedItem.items&&this.selectedItem.items.length>0?this.scrollToItem(this.cssClasses.itemGroupSelected,110):this.scrollToItem(this.cssClasses.itemSelected,110)}addScrollEventListener(e){e&&(this.removeScrollEventListener(),this.scrollHandler=e),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)}removeScrollEventListener(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)}dispose(){super.dispose(),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose(),this.listContainerHtmlElement=void 0}}Li.INDENT=16;Li.MINELEMENTCOUNT=10;O([N({defaultValue:!0,onSet:(r,e)=>{e.onSet()}})],Li.prototype,"searchEnabled",void 0);O([N({defaultValue:!1})],Li.prototype,"showFilter",void 0);O([N({defaultValue:!1})],Li.prototype,"forceShowFilter",void 0);O([N({defaultValue:!1})],Li.prototype,"isExpanded",void 0);O([N({})],Li.prototype,"selectedItem",void 0);O([N()],Li.prototype,"focusedItem",void 0);O([N({onSet:(r,e)=>{e.onFilterStringChanged(e.filterString)}})],Li.prototype,"filterString",void 0);O([N({defaultValue:!1})],Li.prototype,"hasVerticalScroller",void 0);O([N({defaultValue:!0})],Li.prototype,"isAllDataLoaded",void 0);O([N({defaultValue:!1})],Li.prototype,"showSearchClearButton",void 0);O([N({defaultValue:!0})],Li.prototype,"renderElements",void 0);O([N({defaultValue:!1})],Li.prototype,"textWrapEnabled",void 0);O([N({defaultValue:"sv-list-item-content"})],Li.prototype,"itemComponent",void 0);O([N({defaultValue:"listbox"})],Li.prototype,"listRole",void 0);O([N({defaultValue:"option"})],Li.prototype,"listItemRole",void 0);O([N()],Li.prototype,"listAriaLabel",void 0);class ms extends tt{refreshInnerModel(){const e=this.contentComponentData.model;e&&e.refresh&&e.refresh()}constructor(e,t,i){if(super(),this.focusFirstInputSelector="",this.onCancel=()=>{},this.onApply=()=>!0,this.onHide=()=>{},this.onShow=()=>{},this.onDispose=()=>{},this.onVisibilityChanged=this.addEvent(),this.onFooterActionsCreated=this.addEvent(),this.onRecalculatePosition=this.addEvent(),this.contentComponentName=e,this.contentComponentData=t,i)for(var s in i)this[s]=i[s]}get isVisible(){return this.getPropertyValue("isVisible",!1)}set isVisible(e){this.isVisible!==e&&(this.setPropertyValue("isVisible",e),this.onVisibilityChanged.fire(this,{model:this,isVisible:e}))}toggleVisibility(){this.isVisible=!this.isVisible}show(){this.isVisible||(this.isVisible=!0)}hide(){this.isVisible&&(this.isVisible=!1)}recalculatePosition(e){this.onRecalculatePosition.fire(this,{isResetHeight:e})}updateFooterActions(e){const t={actions:e};return this.onFooterActionsCreated.fire(this,t),t.actions}getDisplayMode(){if(this.isModal)return this.displayMode==="popup"?"modal-popup":"modal-overlay";if(this.displayMode==="popup")return"menu-popup";{let e;switch(this.overlayDisplayMode){case"plain":{e="menu-popup";break}case"dropdown-overlay":{e="menu-overlay";break}case"tablet-dropdown-overlay":{e="menu-popup-overlay";break}case"auto":{Hi?e="menu-popup-overlay":e="menu-popup";break}}return e}}updateDisplayMode(e){let t,i;switch(e){case"dropdown":{t="popup",i="auto";break}case"popup":{t="overlay",i="tablet-dropdown-overlay";break}case"overlay":{t="overlay",i="dropdown-overlay";break}}if(this.displayMode!==t){const s=e==="dropdown";this.setWidthByTarget=s,this.isFocusedContent=!s}return this.displayMode!==t||this.overlayDisplayMode!==i?(this.displayMode=t,this.overlayDisplayMode=i,!0):!1}onHiding(){this.refreshInnerModel(),this.onHide()}dispose(){super.dispose(),this.onDispose()}}O([N()],ms.prototype,"contentComponentName",void 0);O([N()],ms.prototype,"contentComponentData",void 0);O([N({defaultValue:"bottom"})],ms.prototype,"verticalPosition",void 0);O([N({defaultValue:"left"})],ms.prototype,"horizontalPosition",void 0);O([N({defaultValue:!0})],ms.prototype,"showPointer",void 0);O([N({defaultValue:!1})],ms.prototype,"isModal",void 0);O([N({defaultValue:!0})],ms.prototype,"canShrink",void 0);O([N({defaultValue:!0})],ms.prototype,"isFocusedContent",void 0);O([N({defaultValue:!0})],ms.prototype,"isFocusedContainer",void 0);O([N({defaultValue:""})],ms.prototype,"cssClass",void 0);O([N({defaultValue:""})],ms.prototype,"title",void 0);O([N({defaultValue:"auto"})],ms.prototype,"overlayDisplayMode",void 0);O([N({defaultValue:"popup"})],ms.prototype,"displayMode",void 0);O([N({defaultValue:"flex"})],ms.prototype,"positionMode",void 0);function IS(r,e,t){var i;const s=e.onSelectionChanged;e.onSelectionChanged=(d,...f)=>{h.hasTitle&&(h.title=d.title),s&&s(d,f)};const n=_b(e,t);n.getTargetCallback=AS;const o=Object.assign({},r,{component:"sv-action-bar-item-dropdown",popupModel:n,action:(d,f)=>{r.action&&r.action(),n.isFocusedContent=n.isFocusedContent||!f,n.show()}}),h=new ht(o);return h.data=(i=n.contentComponentData)===null||i===void 0?void 0:i.model,h}function _b(r,e){r.listRole||(r.listRole="menu"),r.listItemRole||(r.listItemRole=r.allowSelection?"menuitemradio":"menuitem");const t=new Li(r);t.onSelectionChanged=n=>{r.onSelectionChanged&&r.onSelectionChanged(n),s.hide()};const i=e||{};i.onDispose=()=>{t.dispose()};const s=new ms("sv-list",{model:t},i);return s.isFocusedContent=t.showFilter,s.onShow=()=>{i.onShow&&i.onShow(),t.scrollToSelectedItem()},s}function AS(r){return r?.previousElementSibling}class oi extends tt{constructor(){super(...arguments),this.rendredIdValue=oi.getNextRendredId()}static getNextRendredId(){return oi.renderedId++}get data(){return this._data}set data(e){this._data=e}addVisibilityChangedCallback(e){}removeVisibilityChangedCallback(e){}get renderedId(){return this.rendredIdValue}get owner(){return this.ownerValue}set owner(e){e!==this.owner&&(this.ownerValue=e,this.locStrsChanged())}get visible(){return this.getVisible()}set visible(e){this.setVisible(e)}get enabled(){return this.getEnabled()}set enabled(e){this.setEnabled(e)}get component(){return this.getComponent()}set component(e){this.setComponent(e)}get locTitle(){return this.getLocTitle()}set locTitle(e){this.setLocTitle(e)}get title(){return this.getTitle()}set title(e){this.setTitle(e)}set cssClasses(e){this.cssClassesValue=e}get cssClasses(){return this.cssClassesValue||Hb}get isVisible(){return this.visible&&this.mode!=="popup"&&this.mode!=="removed"}get disabled(){return this.enabled!==void 0&&!this.enabled}get canShrink(){return!this.disableShrink&&!!this.iconName}get hasTitle(){return(this.mode!="small"&&(this.showTitle||this.showTitle===void 0)||!this.iconName)&&!!this.title}get hasSubItems(){return!!this.items&&this.items.length>0}getActionBarItemTitleCss(){return new fe().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()}getActionBarItemCss(){const e=this.hasTitle;return new fe().append(this.cssClasses.item).append(this.cssClasses.itemWithTitle,e).append(this.cssClasses.itemAsIcon,!e).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()}getActionRootCss(){return new fe().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()}getTooltip(){return this.tooltip||this.title}getIsTrusted(e){return e.originalEvent?e.originalEvent.isTrusted:e.isTrusted}showPopup(){this.popupModel&&this.popupModel.show()}hidePopup(){this.popupModel&&this.popupModel.hide()}clearPopupTimeouts(){this.showPopupTimeout&&clearTimeout(this.showPopupTimeout),this.hidePopupTimeout&&clearTimeout(this.hidePopupTimeout)}showPopupDelayed(e){this.clearPopupTimeouts(),this.showPopupTimeout=setTimeout(()=>{this.clearPopupTimeouts(),this.showPopup()},e)}hidePopupDelayed(e){var t;!((t=this.popupModel)===null||t===void 0)&&t.isVisible?(this.clearPopupTimeouts(),this.hidePopupTimeout=setTimeout(()=>{this.clearPopupTimeouts(),this.hidePopup(),this.isHovered=!1},e)):(this.clearPopupTimeouts(),this.isHovered=!1)}}oi.renderedId=1;O([N()],oi.prototype,"tooltip",void 0);O([N()],oi.prototype,"showTitle",void 0);O([N()],oi.prototype,"innerCss",void 0);O([N()],oi.prototype,"active",void 0);O([N()],oi.prototype,"pressed",void 0);O([N()],oi.prototype,"popupModel",void 0);O([N()],oi.prototype,"needSeparator",void 0);O([N()],oi.prototype,"template",void 0);O([N({defaultValue:"large"})],oi.prototype,"mode",void 0);O([N()],oi.prototype,"visibleIndex",void 0);O([N()],oi.prototype,"disableTabStop",void 0);O([N()],oi.prototype,"disableShrink",void 0);O([N()],oi.prototype,"disableHide",void 0);O([N({defaultValue:!1})],oi.prototype,"needSpace",void 0);O([N()],oi.prototype,"ariaChecked",void 0);O([N()],oi.prototype,"ariaExpanded",void 0);O([N({defaultValue:"button"})],oi.prototype,"ariaRole",void 0);O([N()],oi.prototype,"iconName",void 0);O([N({defaultValue:24})],oi.prototype,"iconSize",void 0);O([N()],oi.prototype,"markerIconName",void 0);O([N()],oi.prototype,"css",void 0);O([N({defaultValue:!1})],oi.prototype,"isPressed",void 0);O([N({defaultValue:!1})],oi.prototype,"isHovered",void 0);class ht extends oi{raiseUpdate(e=!1){this.updateCallback&&this.updateCallback(e)}addVisibilityChangedCallback(e){this.visibityChangedEvent.add(e)}removeVisibilityChangedCallback(e){this.visibityChangedEvent.remove(e)}raiseOnVisibilityChanged(){this.visibityChangedEvent.fire(this,{})}constructor(e){super(),this.visibityChangedEvent=new Er,this.locTitleChanged=()=>{const s=this.locTitle.renderedHtml;this.setPropertyValue("_title",s||void 0)},this.needUpdateMaxDimension=!1,this.needUpdateMinDimension=!1;const t=e instanceof ht?e.innerItem:e;if(this.innerItem=t,this.locTitle=t?t.locTitle:null,t)for(var i in t)i==="locTitle"||i==="title"&&this.locTitle&&this.title||(this[i]=t[i]);this.locTitleName&&this.locTitleChanged(),this.registerFunctionOnPropertyValueChanged("_title",()=>{this.needUpdateMaxDimension=!0,this.raiseUpdate()}),this.locStrChangedInPopupModel()}createLocTitle(){return this.createLocalizableString("title",this,!0)}setSubItems(e){this.markerIconName="icon-next_16x16",this.component=this.getGroupComponentName(),this.items=[...e.items],this.popupModel?this.popupModel.contentComponentData.model.setItems(this.items):this.createPopupForSubitems(e)}createPopupForSubitems(e){const t=Object.assign({},e);t.searchEnabled=!1;const i=_b(t,{horizontalPosition:"right",showPointer:!1,canShrink:!1});i.cssClass="sv-popup-inner",this.popupModel=i}getLocTitle(){return this.locTitleValue}setLocTitle(e){!e&&!this.locTitleValue&&(e=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=e,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()}getTitle(){return this._title}setTitle(e){this._title=e}get locTitleName(){return this.locTitle.localizationName}set locTitleName(e){this.locTitle.localizationName=e}locStrsChanged(){super.locStrsChanged(),this.locTooltipChanged(),this.locStrChangedInPopupModel()}doAction(e){const t=e.originalEvent?e.originalEvent:e;return this.action(this,t.isTrusted),t.preventDefault(),t.stopPropagation(),!0}doMouseDown(e){this.isMouseDown=!0}doFocus(e){if(this.onFocus){const t=e.originalEvent?e.originalEvent:e;this.onFocus(this.isMouseDown,t)}this.isMouseDown=!1}locStrChangedInPopupModel(){if(!this.popupModel||!this.popupModel.contentComponentData||!this.popupModel.contentComponentData.model)return;const e=this.popupModel.contentComponentData.model;Array.isArray(e.actions)&&e.actions.forEach(i=>{i.locStrsChanged&&i.locStrsChanged()})}locTooltipChanged(){this.locTooltipName&&(this.tooltip=_i(this.locTooltipName,this.locTitle.locale))}getLocale(){return this.owner?this.owner.getLocale():""}getMarkdownHtml(e,t,i){return this.owner?this.owner.getMarkdownHtml(e,t,i):void 0}getProcessedText(e){return this.owner?this.owner.getProcessedText(e):e}getRenderer(e){return this.owner?this.owner.getRenderer(e):null}getRendererContext(e){return this.owner?this.owner.getRendererContext(e):e}setVisible(e){this.visible!==e&&(this._visible=e)}getVisible(){return this._visible}setEnabled(e){this._enabled=e}getEnabled(){return this.enabledIf?this.enabledIf():this._enabled}setComponent(e){this._component=e}getComponent(){return this._component}getGroupComponentName(){return"sv-list-item-group"}dispose(){this.updateCallback=void 0,this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleChanged=void 0,this.action=void 0,super.dispose(),this.popupModel&&this.popupModel.dispose()}updateDimension(e,t,i){const s=e=="small"?"minDimension":"maxDimension";if(t){const n=t;n.classList.contains("sv-action--hidden")?(n.classList.remove("sv-action--hidden"),this[s]=i(t),n.classList.add("sv-action--hidden")):this[s]=i(t)}}afterRender(){this.afterRenderCallback&&this.afterRenderCallback()}updateMode(e,t){this.updateModeCallback?this.updateModeCallback(e,t):this.afterRenderCallback=()=>{this.updateModeCallback(e,t),this.afterRenderCallback=void 0}}updateDimensions(e,t,i){const s=!i||i=="large"&&this.mode!=="small"?this.mode:i;this.updateMode(s,(n,o)=>{this.updateDimension(n,o,e),i?t():this.updateMode(n!=="small"?"small":"large",(h,d)=>{this.updateDimension(h,d,e),t()})})}}O([N()],ht.prototype,"id",void 0);O([N({defaultValue:!0,onSet:(r,e)=>{e.raiseOnVisibilityChanged(),e.raiseUpdate()}})],ht.prototype,"_visible",void 0);O([N({onSet:(r,e)=>{e.locTooltipChanged()}})],ht.prototype,"locTooltipName",void 0);O([N()],ht.prototype,"_enabled",void 0);O([N()],ht.prototype,"action",void 0);O([N()],ht.prototype,"onFocus",void 0);O([N()],ht.prototype,"_component",void 0);O([N()],ht.prototype,"items",void 0);O([N({onSet:(r,e)=>{e.locTitleValue.text!==r&&(e.locTitleValue.text=r)}})],ht.prototype,"_title",void 0);class DS{constructor(e){this.item=e,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}setupPopupCallbacks(){const e=this.popupModel=this.item.popupModel;e&&e.registerPropertyChangedHandlers(["isVisible"],()=>{e.isVisible?this.item.pressed=!0:this.item.pressed=!1},this.funcKey)}removePopupCallbacks(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)}dispose(){this.removePopupCallbacks()}}class Ro extends Ss{hideItemsGreaterN(e){const t=this.getActionsToHide();e=Math.max(e,this.minVisibleItemsCount-(this.visibleActions.length-t.length));const i=[];t.forEach(s=>{e<=0&&(s.mode="popup",i.push(s.innerItem)),e--}),this.hiddenItemsListModel.setItems(i)}getActionsToHide(){return this.visibleActions.filter(e=>!e.disableHide)}updateItemMode(e,t){const i=this.visibleActions;for(let s=i.length-1;s>=0;s--)t>e&&!i[s].disableShrink?(t-=i[s].maxDimension-i[s].minDimension,i[s].mode="small"):i[s].mode="large"}constructor(){super(),this.minVisibleItemsCount=0,this.isResponsivenessDisabled=!1,this.isInitialized=!1,this.dotsItem=IS({id:"dotsItem-id"+Ro.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:_i("more")},{items:[],allowSelection:!1})}get hiddenItemsListModel(){return this.dotsItem.data}onSet(){this.actions.forEach(e=>e.updateCallback=t=>this.raiseUpdate(t)),super.onSet()}onPush(e){e.updateCallback=t=>this.raiseUpdate(t),super.onPush(e)}getRenderedActions(){const e=super.getRenderedActions();return e.length==0||e.length===1&&e[0].iconName?e:e.concat([this.dotsItem])}getAllActions(){return this.actions.concat(this.dotsItem)}getActionMinDimension(e){return e.disableShrink?e.maxDimension:e.minDimension}onActionVisibilityChanged(e){e.needUpdateMaxDimension=!0,e.needUpdateMinDimension=!0,super.onActionVisibilityChanged(e)}getVisibleItemsCount(e){let{availableSpace:t,gap:i}=e;t-=this.dotsItem.minDimension+i;let s=0;this.visibleActions[0].disableHide?t+=i:s-=i,this.visibleActions.filter(o=>o.disableHide).forEach(o=>t-=this.getActionMinDimension(o)+i);const n=this.getActionsToHide();if(n.length===1&&n[0].iconName)return 1;for(let o=0;o<n.length;o++)if(s+=this.getActionMinDimension(n[o])+i,s>t)return o}fit(e){var t;if(e.availableSpace<=0)return;e.gap=(t=e.gap)!==null&&t!==void 0?t:0;const{availableSpace:i,gap:s}=e;this.dotsItem.visible=!1;const n=this.visibleActions;let o=-1*e.gap,h=-1*e.gap;n.forEach(d=>{o+=this.getActionMinDimension(d)+s,h+=d.maxDimension+s}),i>=h?this.setActionsMode("large"):i<o?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(e)),this.dotsItem.visible=!!this.hiddenItemsListModel.actions.length):this.updateItemMode(e.availableSpace,h)}createResponsivityManager(e){return new VS(e,this)}initResponsivityManager(e){if(this.responsivityManager){if(this.responsivityManager.container==e)return;this.responsivityManager.dispose()}this.isInitialized=!1,this.responsivityManager=this.createResponsivityManager(e),this.responsivityManager.afterInitializeCallback=()=>{this.isInitialized=!0}}resetResponsivityManager(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)}getRootStyle(){if(!this.isInitialized&&!this.isResponsivenessDisabled)return{opacity:0}}setActionsMode(e){this.actions.forEach(t=>{e=="small"&&t.disableShrink?t.mode="large":t.mode=e})}dispose(){super.dispose(),this.dotsItem.data.dispose(),this.dotsItem.dispose(),this.resetResponsivityManager()}}Ro.ContainerID=1;O([N()],Ro.prototype,"isInitialized",void 0);class Wb{constructor(){this.cancelQueue=[]}getMsFromRule(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}reflow(e){return e.offsetHeight}getAnimationsCount(e){let t="";return getComputedStyle&&(t=getComputedStyle(e).animationName),t&&t!="none"?t.split(", ").length:0}getAnimationDuration(e){const t=getComputedStyle(e),i=t.animationDelay.split(", "),s=t.animationDuration.split(", ");let n=0;for(let o=0;o<Math.max(s.length,i.length);o++)n=Math.max(n,this.getMsFromRule(s[o%s.length])+this.getMsFromRule(i[o%i.length]));return n}addCancelCallback(e){this.cancelQueue.push(e)}removeCancelCallback(e){this.cancelQueue.indexOf(e)>=0&&this.cancelQueue.splice(this.cancelQueue.indexOf(e),1)}onAnimationEnd(e,t,i){let s,n=this.getAnimationsCount(e);const o=(d=!0)=>{t(d),clearTimeout(s),this.removeCancelCallback(o),e.removeEventListener("animationend",h)},h=d=>{d.target==d.currentTarget&&--n<=0&&o(!1)};n>0?(e.addEventListener("animationend",h),this.addCancelCallback(o),s=setTimeout(()=>{o(!1)},this.getAnimationDuration(e)+10)):t(!0)}afterAnimationRun(e,t){e&&t&&t.onAfterRunAnimation&&t.onAfterRunAnimation(e)}beforeAnimationRun(e,t){e&&t&&t.onBeforeRunAnimation&&t.onBeforeRunAnimation(e)}getCssClasses(e){return e.cssClass.replace(/\s+$/,"").split(/\s+/)}runAnimation(e,t,i){e&&t?.cssClass?(this.reflow(e),this.getCssClasses(t).forEach(s=>{e.classList.add(s)}),this.onAnimationEnd(e,i,t)):i(!0)}clearHtmlElement(e,t){e&&t.cssClass&&this.getCssClasses(t).forEach(i=>{e.classList.remove(i)}),this.afterAnimationRun(e,t)}onNextRender(e,t=!1){if(!t&&$e.isAvailable()){let i;const s=()=>{e(!0),cancelAnimationFrame(i)};i=$e.requestAnimationFrame(()=>{i=$e.requestAnimationFrame(()=>{e(!1),this.removeCancelCallback(s)})}),this.addCancelCallback(s)}else e(!0)}cancel(){[].concat(this.cancelQueue).forEach(t=>t()),this.cancelQueue=[]}}class LS extends Wb{onEnter(e){const t=e.getAnimatedElement(),i=e.getEnterOptions?e.getEnterOptions():{};this.beforeAnimationRun(t,i),this.runAnimation(t,i,()=>{this.clearHtmlElement(t,i)})}onLeave(e,t){const i=e.getAnimatedElement(),s=e.getLeaveOptions?e.getLeaveOptions():{};this.beforeAnimationRun(i,s),this.runAnimation(i,s,n=>{t(),this.onNextRender(()=>{this.clearHtmlElement(i,s)},n)})}}class jb extends Wb{runGroupAnimation(e,t,i,s,n){const o={isAddingRunning:t.length>0,isDeletingRunning:i.length>0,isReorderingRunning:s.length>0},h=t.map(P=>e.getAnimatedElement(P)),d=t.map(P=>e.getEnterOptions?e.getEnterOptions(P,o):{}),f=i.map(P=>e.getAnimatedElement(P)),p=i.map(P=>e.getLeaveOptions?e.getLeaveOptions(P,o):{}),y=s.map(P=>e.getAnimatedElement(P.item)),b=s.map(P=>e.getReorderOptions?e.getReorderOptions(P.item,P.movedForward,o):{});t.forEach((P,D)=>{this.beforeAnimationRun(h[D],d[D])}),i.forEach((P,D)=>{this.beforeAnimationRun(f[D],p[D])}),s.forEach((P,D)=>{this.beforeAnimationRun(y[D],b[D])});let w=t.length+i.length+y.length;const T=P=>{--w<=0&&(n&&n(),this.onNextRender(()=>{t.forEach((D,L)=>{this.clearHtmlElement(h[L],d[L])}),i.forEach((D,L)=>{this.clearHtmlElement(f[L],p[L])}),s.forEach((D,L)=>{this.clearHtmlElement(y[L],b[L])})},P))};t.forEach((P,D)=>{this.runAnimation(h[D],d[D],T)}),i.forEach((P,D)=>{this.runAnimation(f[D],p[D],T)}),s.forEach((P,D)=>{this.runAnimation(y[D],b[D],T)})}}class av{constructor(e,t,i){this.animationOptions=e,this.update=t,this.getCurrentValue=i,this._debouncedSync=zb(s=>{this.cancelAnimations();try{this._sync(s)}catch{this.update(s)}})}onNextRender(e,t){const i=this.animationOptions.getRerenderEvent();if(i){const s=()=>{i.remove(n),this.cancelCallback=void 0},n=(o,h)=>{h.isCancel?t&&t():e(),s()};this.cancelCallback=()=>{t&&t(),s()},i.add(n)}else if($e.isAvailable()){const s=$e.requestAnimationFrame(()=>{e(),this.cancelCallback=void 0});this.cancelCallback=()=>{t&&t(),cancelAnimationFrame(s),this.cancelCallback=void 0}}else throw new Error("Can't get next render")}sync(e){this.animationOptions.isAnimationEnabled()?this._debouncedSync.run(e):(this.cancel(),this.update(e))}cancel(){this._debouncedSync.cancel(),this.cancelAnimations()}cancelAnimations(){this.cancelCallback&&this.cancelCallback(),this.animation.cancel()}}class Gb extends av{constructor(){super(...arguments),this.animation=new LS}_sync(e){e!==this.getCurrentValue()?e?(this.onNextRender(()=>{this.animation.onEnter(this.animationOptions)}),this.update(e)):this.animation.onLeave(this.animationOptions,()=>{this.update(e)}):this.update(e)}}class So extends av{constructor(){super(...arguments),this.animation=new jb}_sync(e){var t,i;e=[].concat(e);const s=[].concat(this.getCurrentValue()),n=(t=this.animationOptions.allowSyncRemovalAddition)!==null&&t!==void 0?t:!0;let o=XS(s,e,(i=this.animationOptions.getKey)!==null&&i!==void 0?i:b=>b);!n&&(o.reorderedItems.length>0||o.addedItems.length>0)&&(o.deletedItems=[],o.mergedItems=e),this.animationOptions.onCompareArrays&&this.animationOptions.onCompareArrays(o);let{addedItems:h,reorderedItems:d,deletedItems:f,mergedItems:p}=o;const y=()=>{this.animation.runGroupAnimation(this.animationOptions,h,f,d,()=>{f.length>0&&this.update(e)})};[h,f,d].some(b=>b.length>0)?f.length<=0||d.length>0||h.length>0?(this.onNextRender(y,()=>{this.update(e)}),this.update(p)):y():this.update(e)}}class Zb extends av{constructor(e,t,i,s){super(e,t,i),this.mergeValues=s,this.animation=new jb}_sync(e){const t=[].concat(this.getCurrentValue());if(t[0]!==e[0]){const i=this.mergeValues?this.mergeValues(e,t):[].concat(t,e);this.onNextRender(()=>{this.animation.runGroupAnimation(this.animationOptions,e,t,[],()=>{this.update(e)})},()=>this.update(e)),this.update(i,!0)}else this.update(e)}}class Lf extends tt{constructor(){super(),this.createLocTitleProperty()}createLocTitleProperty(){return this.createLocalizableString("title",this,!0)}get isPage(){return!1}get isPanel(){return!1}get isQuestion(){return!1}get isSurvey(){return!1}get title(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())}set title(e){this.setTitleValue(e)}get locTitle(){return this.getLocalizableString("title")}get locRenderedTitle(){return this.locTitle}getDefaultTitleValue(){}setTitleValue(e){this.setLocalizableStringText("title",e)}get hasDescription(){return this.getPropertyValue("hasDescription",void 0,()=>this.calcDescriptionVisibility())}set hasDescription(e){this.setPropertyValue("hasDescription",e)}calcDescriptionVisibility(){const e=this.description;let t=!1;if(this.isDesignMode){const i=le.findProperty(this.getType(),"description");t=!!i?.placeholder}return!!e||t&&this.isDesignMode}resetDescriptionVisibility(){this.resetPropertyValue("hasDescription")}get locDescription(){return this.getLocalizableString("description")}get titleTagName(){let e=this.getDefaultTitleTagName();const t=this.getSurvey();return t?t.getElementTitleTagName(this,e):e}getDefaultTitleTagName(){return X.titleTags[this.getType()]}get hasTitle(){return this.title.length>0}get hasTitleActions(){return!1}get hasTitleEvents(){return this.hasTitleActions}getTitleToolbar(){return null}getTitleOwner(){}get isTitleOwner(){return!!this.getTitleOwner()}get isTitleRenderedAsString(){return this.getIsTitleRenderedAsString()}toggleState(){}get cssClasses(){return{}}get cssTitle(){return""}get ariaTitleId(){}get ariaDescriptionId(){}get titleTabIndex(){}get titleAriaExpanded(){}get titleAriaRole(){}get ariaLabel(){return this.locTitle.renderedHtml}get titleAriaLabel(){return this.ariaLabel}getIsTitleRenderedAsString(){return!this.isTitleOwner}}O([N({localizable:!0,onSet:(r,e)=>{e.resetDescriptionVisibility()}})],Lf.prototype,"description",void 0);class ai extends Lf{static getProgressInfoByElements(e,t){const i=tt.createProgressInfo();for(let s=0;s<e.length;s++){if(!e[s].isVisible)continue;const n=e[s].getProgressInfo();i.questionCount+=n.questionCount,i.answeredQuestionCount+=n.answeredQuestionCount,i.requiredQuestionCount+=n.requiredQuestionCount,i.requiredAnsweredQuestionCount+=n.requiredAnsweredQuestionCount}return t&&i.questionCount>0&&(i.requiredQuestionCount==0&&(i.requiredQuestionCount=1),i.answeredQuestionCount>0&&(i.requiredAnsweredQuestionCount=1)),i}static IsNeedScrollIntoView(e,t,i){const s=i?-1:e.getBoundingClientRect().top;let n=s<0,o=-1;if(!n&&t&&(o=e.getBoundingClientRect().left,n=o<0),!n&&$e.isAvailable()){const h=$e.getInnerHeight();if(n=h>0&&h<s,!n&&t){const d=$e.getInnerWidth();n=d>0&&d<o}}return n}static ScrollIntoView(e,t,i){if(e.scrollIntoView(t),typeof i=="function"){let s=null,n=0;const o=()=>{const h=e.getBoundingClientRect().top;if(h===s){if(n++>2){i();return}}else s=h,n=0;requestAnimationFrame(o)};$e.requestAnimationFrame(o)}}static ScrollElementToTop(e,t,i,s){return ai.ScrollElementToViewCore(e,!1,t,i,s)}static ScrollElementToViewCore(e,t,i,s,n){if(!e||!e.scrollIntoView)return n&&n(),!1;const o=ai.IsNeedScrollIntoView(e,t,i);return o?ai.ScrollIntoView(e,s,n):n&&n(),o}static GetFirstNonTextElement(e,t=!1){if(!e||!e.length||e.length==0)return null;if(t){let i=e[0];i.nodeName==="#text"&&(i.data=""),i=e[e.length-1],i.nodeName==="#text"&&(i.data="")}for(let i=0;i<e.length;i++)if(e[i].nodeName!="#text"&&e[i].nodeName!="#comment")return e[i];return null}static FocusElement(e,t,i){if(!e||!Ge.isAvailable())return!1;const s=t?!1:ai.focusElementCore(e,i);return s||setTimeout(()=>{ai.focusElementCore(e,i)},t?100:10),s}static focusElementCore(e,t){const{root:i}=X.environment;if(!i&&!t)return!1;const s=t?t.querySelector(`#${CSS.escape(e)}`):i.getElementById(e);return s&&!s.disabled&&s.style.display!=="none"&&s.offsetParent!==null?(ai.ScrollElementToViewCore(s,!0,!1),s.focus(),!0):!1}get effectiveColSpan(){const e=this.getPropertyValueWithoutDefault("effectiveColSpan");return e!==void 0?e:(this.setRootStyle(),this.getPropertyValue("effectiveColSpan"))}get colSpan(){return this.getPropertyValue("colSpan",1)}set colSpan(e){this.setPropertyValue("colSpan",e)}constructor(e){super(),this.selectedElementInDesignValue=this,this.disableDesignActions=ai.CreateDisabledDesignElements,this.parentQuestionValue=null,this.isContentElement=!1,this.isEditableTemplateElement=!1,this.isInteractiveDesignElement=!0,this.isSingleInRow=!0,this._renderedIsExpanded=!0,this._isAnimatingCollapseExpand=!1,this.animationCollapsed=new Gb(this.getExpandCollapseAnimationOptions(),t=>{this._renderedIsExpanded=t,this.animationAllowed&&(t?this.isAnimatingCollapseExpand=!0:this.updateElementCss(!1))},()=>this.renderedIsExpanded),this.onAfterRenderElement=this.addEvent(),this.setPropertyValueDirectly("name",this.getValidName(e)),this.createNewArray("errors"),this.createNewArray("titleActions"),this.registerPropertyChangedHandlers(["isReadOnly"],()=>{this.onReadOnlyChanged()}),this.registerPropertyChangedHandlers(["errors"],()=>{this.updateVisibleErrors()}),this.registerPropertyChangedHandlers(["isSingleInRow"],()=>{this.updateElementCss(!1)}),this.registerPropertyChangedHandlers(["minWidth","maxWidth","renderWidth","allowRootStyle","parent"],()=>{this.updateRootStyle()}),this.registerPropertyChangedHandlers(["effectiveColSpan"],t=>{this.colSpan=t})}onPropertyValueChanged(e,t,i){super.onPropertyValueChanged(e,t,i),e==="state"&&(this.updateElementCss(!1),this.notifyStateChanged(t),this.stateChangedCallback&&this.stateChangedCallback())}getSkeletonComponentNameCore(){return this.survey?this.survey.getSkeletonComponentName(this):"sv-skeleton"}get parentQuestion(){return this.parentQuestionValue}setParentQuestion(e){this.parentQuestionValue=e,this.onParentQuestionChanged()}onParentQuestionChanged(){}updateElementVisibility(){this.setPropertyValue("isVisible",this.isVisible)}get skeletonComponentName(){return this.getSkeletonComponentNameCore()}get state(){return this.getPropertyValue("state")}set state(e){this.setPropertyValue("state",e),this.renderedIsExpanded=!this.isCollapsed}notifyStateChanged(e){this.survey&&this.survey.elementContentVisibilityChanged(this)}get isCollapsed(){return this.state==="collapsed"&&!this.isDesignMode}get isExpanded(){return this.state==="expanded"}collapse(){this.isDesignMode||(this.state="collapsed")}expand(){this.state="expanded"}toggleState(){return this.isCollapsed?(this.expand(),!0):this.isExpanded?(this.collapse(),!1):!0}get hasStateButton(){return this.isExpanded||this.isCollapsed}get shortcutText(){return this.title||this.name}getTitleToolbar(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.locOwner=this,this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue}createActionContainer(e){const t=e?new Ro:new Ss;return this.survey&&this.survey.getCss().actionBar&&(t.cssClasses=this.survey.getCss().actionBar),t}get titleActions(){return this.getPropertyValue("titleActions")}getTitleActions(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions}getDefaultTitleActions(){return[]}updateTitleActions(){let e=this.getDefaultTitleActions();this.survey&&(e=this.survey.getUpdatedElementTitleActions(this,e)),this.setPropertyValue("titleActions",e)}locStrsChanged(){super.locStrsChanged(),this.titleToolbarValue&&this.titleToolbarValue.locStrsChanged()}get hasTitleActions(){return this.getTitleActions().length>0}get hasTitleEvents(){return this.state!==void 0&&this.state!=="default"}get titleTabIndex(){return!this.isPage&&this.state!=="default"?0:void 0}get titleAriaExpanded(){if(!(this.isPage||this.state==="default"))return this.state==="expanded"?"true":"false"}get titleAriaRole(){if(!(this.isPage||this.state==="default"))return"button"}setSurveyImpl(e,t){this.surveyImplValue=e,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&(this.resetDescriptionVisibility(),this.clearCssClasses()),this.blockAnimations(),this.renderedIsExpanded=!this.isCollapsed,this.releaseAnimations()}canRunConditions(){return super.canRunConditions()&&!!this.data}getDataFilteredValues(){return this.data?this.data.getFilteredValues():{}}getDataFilteredProperties(){var e=this.data?this.data.getFilteredProperties():{};return e.question=this,e}get surveyImpl(){return this.surveyImplValue}__setData(e){this.surveyDataValue=e}get data(){return this.surveyDataValue}get survey(){return this.getSurvey()}getSurvey(e=!1){return this.surveyValue?this.surveyValue:(this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue)}setSurveyCore(e){this.surveyValue=e,this.surveyChangedCallback&&this.surveyChangedCallback()}get skeletonHeight(){let e;return this.survey&&this.survey.skeletonHeight&&(e=this.survey.skeletonHeight+"px"),e}get isInternal(){return this.isContentElement}get areInvisibleElementsShowing(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement}get isVisible(){return!0}get isReadOnly(){return this.readOnly}get readOnly(){return this.getPropertyValue("readOnly")}set readOnly(e){this.readOnly!=e&&(this.setPropertyValue("readOnly",e),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))}onReadOnlyChanged(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()}get css(){return this.survey?this.survey.getCss():{}}get cssClassesValue(){let e=this.getPropertyValueWithoutDefault("cssClassesValue");return!e&&!this.isCssValueCalculating&&(this.isCssValueCalculating=!0,e=this.createCssClassesValue(),this.isCssValueCalculating=!1),e}createCssClassesValue(){const e=this.calcCssClasses(this.css);return this.setPropertyValue("cssClassesValue",e),this.onCalcCssClasses(e),this.updateElementCssCore(this.cssClassesValue),e}onCalcCssClasses(e){}get cssClasses(){return this.cssClassesValue,this.survey?(this.cssClassesValue||this.createCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)}get cssTitleNumber(){const e=this.cssClasses;return e.number?e.number:e.panel?e.panel.number:void 0}get cssRequiredMark(){const e=this.cssClasses;return e.requiredMark||e.panel&&e.panel.requiredMark}getCssTitleExpandableSvg(){return this.state==="default"?null:this.cssClasses.titleExpandableSvg}calcCssClasses(e){}updateElementCssCore(e){}get cssError(){return""}updateElementCss(e){this.clearCssClasses()}clearCssClasses(){this.resetPropertyValue("cssClassesValue")}getIsLoadingFromJson(){return super.getIsLoadingFromJson()?!0:this.surveyValue?this.surveyValue.isLoadingFromJson:!1}get name(){return this.getPropertyValue("name","")}set name(e){var t=this.name;this.setPropertyValue("name",this.getValidName(e)),!this.isLoadingFromJson&&t&&this.onNameChanged(t)}getValidName(e){return e}onNameChanged(e){}updateBindingValue(e,t){this.data&&!this.isTwoValueEquals(t,this.data.getValue(e))&&this.data.setValue(e,t,!1)}get errors(){return this.getPropertyValue("errors")}set errors(e){this.setPropertyValue("errors",e)}updateVisibleErrors(){for(var e=0,t=0;t<this.errors.length;t++)this.errors[t].visible&&e++;this.hasVisibleErrors=e>0}get containsErrors(){return this.getPropertyValue("containsErrors",!1)}updateContainsErrors(){this.setPropertyValue("containsErrors",this.getContainsErrors())}getContainsErrors(){return this.errors.length>0}get selectedElementInDesign(){return this.selectedElementInDesignValue}set selectedElementInDesign(e){this.selectedElementInDesignValue=e}updateCustomWidgets(){}onSurveyLoad(){}get wasRendered(){return!!this.wasRenderedValue}resetWasRendered(){this.wasRenderedValue=!1}onFirstRendering(){this.wasRendered||(this.wasRenderedValue=!0,this.onFirstRenderingCore())}onFirstRenderingCore(){}endLoadingFromJson(){super.endLoadingFromJson(),this.survey||this.onSurveyLoad()}setVisibleIndex(e){return 0}delete(e){}getLocale(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""}getMarkdownHtml(e,t,i){return this.survey?this.survey.getSurveyMarkdownHtml(this,e,t,i):this.locOwner?this.locOwner.getMarkdownHtml(e,t,i):void 0}getRenderer(e){return this.survey&&typeof this.survey.getRendererForString=="function"?this.survey.getRendererForString(this,e):this.locOwner&&typeof this.locOwner.getRenderer=="function"?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.survey&&typeof this.survey.getRendererContextForString=="function"?this.survey.getRendererContextForString(this,e):this.locOwner&&typeof this.locOwner.getRendererContext=="function"?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.isLoadingFromJson?e:this.textProcessor?this.textProcessor.processText(e,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(e):e}getUseDisplayValuesInDynamicTexts(){return!0}removeSelfFromList(e){if(!e||!Array.isArray(e))return;const t=e.indexOf(this);t>-1&&e.splice(t,1)}get textProcessor(){return this.textProcessorValue}getProcessedHtml(e){return!e||!this.textProcessor?e:this.textProcessor.processText(e,!0)}onSetData(){}get parent(){return this.getPropertyValue("parent",null)}set parent(e){this.setPropertyValue("parent",e)}getPage(e){for(;e&&e.parent;)e=e.parent;return e&&e.isPage?e:null}moveToBase(e,t,i=null){if(!t)return!1;e.removeElement(this);let s=-1;return z.isNumber(i)&&(s=parseInt(i)),s==-1&&i&&i.getType&&(s=t.indexOf(i)),t.addElement(this,s),!0}setPage(e,t){const i=this.getPage(e);this.prevSurvey=this.survey,typeof t=="string"&&this.getSurvey().pages.forEach(n=>{t===n.name&&(t=n)}),i!==t&&(e&&e.removeElement(this),t&&t.addElement(this,-1),this.prevSurvey=void 0)}getSearchableLocKeys(e){e.push("title"),e.push("description")}get hasParent(){return this.parent&&!this.parent.isPage||this.parent===void 0}shouldAddRunnerStyles(){return!this.isDesignMode}get isCompact(){return this.survey&&this.survey.isCompact}canHaveFrameStyles(){var e;return((e=this.survey)===null||e===void 0?void 0:e.currentSingleElement)===this?!0:this.parent!==void 0&&(!this.hasParent||this.parent&&this.parent.showPanelAsPage)}getHasFrameV2(){return this.shouldAddRunnerStyles()&&this.canHaveFrameStyles()}getIsNested(){return this.shouldAddRunnerStyles()&&!this.canHaveFrameStyles()}getCssRoot(e){const t=!!this.isCollapsed||!!this.isExpanded;return new fe().append(e.withFrame,this.getHasFrameV2()&&!this.isCompact).append(e.compact,this.isCompact&&this.getHasFrameV2()).append(e.collapsed,!!this.isCollapsed).append(e.expandableAnimating,t&&this.isAnimatingCollapseExpand).append(e.expanded,!!this.isExpanded&&this.renderedIsExpanded).append(e.expandable,t).append(e.nested,this.getIsNested()).toString()}get width(){return this.getPropertyValue("width","")}set width(e){this.setPropertyValue("width",e)}get minWidth(){return this.getPropertyValue("minWidth")}set minWidth(e){this.setPropertyValue("minWidth",e)}get maxWidth(){return this.getPropertyValue("maxWidth")}set maxWidth(e){this.setPropertyValue("maxWidth",e)}get renderWidth(){return this.getPropertyValue("renderWidth","")}set renderWidth(e){this.setPropertyValue("renderWidth",e)}get indent(){return this.getPropertyValue("indent")}set indent(e){this.setPropertyValue("indent",e)}get rightIndent(){return this.getPropertyValue("rightIndent",0)}set rightIndent(e){this.setPropertyValue("rightIndent",e)}getRootStyle(){const e={};return this.paddingLeft&&(e["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(e["--sv-element-add-padding-right"]=this.paddingRight),e}get paddingLeft(){return this.getPropertyValue("paddingLeft",void 0,()=>this.calcPaddingLeft())}calcPaddingLeft(){return""}get paddingRight(){return this.getPropertyValue("paddingRight",void 0,()=>this.calcPaddingRight())}set paddingRight(e){this.setPropertyValue("paddingRight",e)}calcPaddingRight(){return""}resetIndents(){this.resetPropertyValue("paddingLeft"),this.resetPropertyValue("paddingRight")}get rootStyle(){return this.getPropertyValue("rootStyle",void 0,()=>this.calcRootStyle())}set rootStyle(e){this.setPropertyValue("rootStyle",e)}updateRootStyle(){this.getPropertyValueWithoutDefault("rootStyle")?this.setRootStyle():this.resetPropertyValue("effectiveColSpan")}setRootStyle(){this.rootStyle=this.calcRootStyle()}calcRootStyle(){const e={};let t;if(this.parent&&(t=this.parent.getColumsForElement(this).reduce((s,n)=>n.effectiveWidth+s,0),t&&t!==100&&(e.flexGrow=1,e.flexShrink=0,e.flexBasis=t+"%",e.minWidth=void 0,e.maxWidth=this.maxWidth)),Object.keys(e).length==0){let i=""+this.minWidth;if(i&&i!="auto"){if(i.indexOf("px")!=-1&&this.survey){i=i.replace("px","");let s=parseFloat(i);isNaN(s)||(i=s*this.survey.widthScale/100,i=""+i+"px")}i="min(100%, "+i+")"}this.allowRootStyle&&this.renderWidth&&(e.flexGrow=1,e.flexShrink=1,e.flexBasis=this.renderWidth,e.minWidth=i,e.maxWidth=this.maxWidth)}return e}isContainsSelection(e){let t;const i=Ge.getDocument();if(Ge.isAvailable()&&i&&i.selection)t=i.selection.createRange().parentElement();else{var s=$e.getSelection();if(s&&s.rangeCount>0){const n=s.getRangeAt(0);n.startOffset!==n.endOffset&&(t=n.startContainer.parentNode)}}return t==e}get clickTitleFunction(){if(this.needClickTitleFunction())return e=>{if(!(e&&this.isContainsSelection(e.target)))return this.processTitleClick()}}needClickTitleFunction(){return this.state!=="default"}processTitleClick(){this.state!=="default"&&this.toggleState()}get hasAdditionalTitleToolbar(){return!1}get additionalTitleToolbar(){return this.getAdditionalTitleToolbar()}getAdditionalTitleToolbar(){return null}getCssTitle(e){if(!e)return"";const t=this.state!=="default";return new fe().append(e.title).append(e.titleNumInline,(this.no||"").length>4||t).append(e.titleExpandable,t).append(e.titleExpanded,this.isExpanded).append(e.titleCollapsed,this.isCollapsed).append(e.titleDisabled,this.isDisabledStyle).append(e.titleReadOnly,this.isReadOnly).append(e.titleOnError,this.containsErrors).toString()}get isDisabledStyle(){return this.getIsDisableAndReadOnlyStyles(!1)[1]}get isReadOnlyStyle(){return this.getIsDisableAndReadOnlyStyles(!1)[0]}getIsDisableAndReadOnlyStyles(e){const t=this.isPreviewStyle;return[(e||this.isReadOnly)&&!t,!1]}get isPreviewStyle(){return!!this.survey&&this.survey.state==="preview"}localeChanged(){super.localeChanged(),this.resetDescriptionVisibility(),this.errors.length>0&&this.errors.forEach(e=>{e.updateText()})}setWrapperElement(e){this.wrapperElement=e}getWrapperElement(){return this.wrapperElement}set isAnimatingCollapseExpand(e){e!==this._isAnimatingCollapseExpand&&(this._isAnimatingCollapseExpand=e,this.updateElementCss(!1))}get isAnimatingCollapseExpand(){return this._isAnimatingCollapseExpand||this._renderedIsExpanded!=this.isExpanded}onElementExpanded(e){}getExpandCollapseAnimationOptions(){const e=i=>{this.isAnimatingCollapseExpand=!0,Qn(i)},t=i=>{this.isAnimatingCollapseExpand=!1,Tr(i)};return{getRerenderEvent:()=>this.onElementRerendered,getEnterOptions:()=>({cssClass:(this.isPanel?this.cssClasses.panel:this.cssClasses).contentEnter,onBeforeRunAnimation:e,onAfterRunAnimation:s=>{t(s),this.onElementExpanded(!0)}}),getLeaveOptions:()=>({cssClass:(this.isPanel?this.cssClasses.panel:this.cssClasses).contentLeave,onBeforeRunAnimation:e,onAfterRunAnimation:t}),getAnimatedElement:()=>{var i;const s=this.isPanel?this.cssClasses.panel:this.cssClasses;if(s.content){const n=ir(s.content);if(n)return(i=this.getWrapperElement())===null||i===void 0?void 0:i.querySelector(`:scope ${n}`)}},isAnimationEnabled:()=>this.isExpandCollapseAnimationEnabled}}get isExpandCollapseAnimationEnabled(){return this.animationAllowed&&!this.isDesignMode}set renderedIsExpanded(e){const t=this._renderedIsExpanded;this.animationCollapsed.sync(e),!this.isExpandCollapseAnimationEnabled&&!t&&this.renderedIsExpanded&&this.onElementExpanded(!1)}get renderedIsExpanded(){return!!this._renderedIsExpanded}getIsAnimationAllowed(){return super.getIsAnimationAllowed()&&!!this.survey&&!this.survey.isEndLoadingFromJson}afterRenderCore(e){this.onAfterRenderElement.fire(this,{htmlElement:e})}dispose(){super.dispose(),this.titleToolbarValue&&this.titleToolbarValue.dispose()}}ai.CreateDisabledDesignElements=!1;O([N({defaultValue:!1})],ai.prototype,"hasVisibleErrors",void 0);O([N({defaultValue:!0})],ai.prototype,"isSingleInRow",void 0);O([N({defaultValue:!0})],ai.prototype,"allowRootStyle",void 0);O([N()],ai.prototype,"_renderedIsExpanded",void 0);class OS{constructor(e,t,i=100){this._elements=e,this._renderedHandler=t,this._elementsToRenderCount=0,this._elementsToRenderTimer=void 0,this._elementRenderedHandler=(s,n)=>{var o;(o=s.onAfterRenderElement)===null||o===void 0||o.remove(this._elementRenderedHandler),this._elementsToRenderCount--,this._elementsToRenderCount<=0&&this.visibleElementsRendered()},this._elements.forEach(s=>{s.onAfterRenderElement&&(s.onAfterRenderElement.add(this._elementRenderedHandler),this._elementsToRenderCount++)}),this._elementsToRenderCount>0?this._elementsToRenderTimer=setTimeout(()=>{this._elementsToRenderCount>0&&this.visibleElementsRendered()},i):this.visibleElementsRendered()}stopWaitingForElementsRendering(){this._elementsToRenderTimer&&(clearTimeout(this._elementsToRenderTimer),this._elementsToRenderTimer=void 0),this._elements.forEach(e=>{var t;(t=e.onAfterRenderElement)===null||t===void 0||t.remove(this._elementRenderedHandler)}),this._elementsToRenderCount=0}visibleElementsRendered(){const e=this._renderedHandler;this.dispose(),typeof e=="function"&&e()}dispose(){this.stopWaitingForElementsRendering(),this._elements=void 0,this._renderedHandler=void 0}}class Yi{static get defaultLocale(){return X.localization.defaultLocaleName}static set defaultLocale(e){X.localization.defaultLocaleName=e}get localizationName(){return this._localizationName}set localizationName(e){this._localizationName!=e&&(this._localizationName=e,this.strChanged())}get allowLineBreaks(){var e;return this._allowLineBreaks===void 0&&(this._allowLineBreaks=!1,this.name&&this.owner instanceof Lf&&(this._allowLineBreaks=((e=le.findProperty(this.owner.getType(),this.name))===null||e===void 0?void 0:e.type)=="text")),this._allowLineBreaks}constructor(e,t=!1,i,s){this.owner=e,this.useMarkdown=t,this.name=i,this.values={},this.htmlValues={},this.onStringChanged=new Er,this._localizationName=s,this.onCreating()}getIsMultiple(){return!1}get locale(){if(this.owner&&this.owner.getLocale){const e=this.owner.getLocale();if(e||!this.sharedData)return e}return this.sharedData?this.sharedData.locale:""}get isDefautlLocale(){const e=this.locale;return!e||e===X.defaultLocaleName}strChanged(){this.isTextRequested&&(this.searchableText=void 0,!(this.renderedText===void 0&&this.isEmpty&&!this.onGetTextCallback&&!this.localizationName)&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{})))}get text(){return this.pureText}set text(e){this.setLocaleText(this.locale,e)}get calculatedText(){return this.renderedText=this.calculatedTextValue!==void 0?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText}getPlaceholder(){let e="";if(!this.isDefautlLocale){const t=this.getRootDialect(this.locale);e=this.getLocaleText(t||X.defaultLocaleName)}return!e&&this.onGetTextCallback&&(e=this.onGetTextCallback("","")),e}calcText(){const e=this.pureText;let t=e;return t&&this.owner&&this.owner.getProcessedText&&t.indexOf("{")>-1&&(t=this.owner.getProcessedText(t)),this.onGetTextCallback&&(t=this.onGetTextCallback(t,e)),t}get pureText(){this.isTextRequested=!0;var e=this.locale;e||(e=this.defaultLoc);var t=this.getValue(e);if(this.isValueEmpty(t)&&e===this.defaultLoc&&(t=this.getValue(er.defaultLocale)),this.isValueEmpty(t)){const i=this.getRootDialect(e);i&&(t=this.getValue(i))}return this.isValueEmpty(t)&&e!==this.defaultLoc&&(t=this.getValue(this.defaultLoc)),this.isValueEmpty(t)&&this.getLocalizationName()&&(t=this.getLocalizationStr()),t||(t=this.defaultValue||""),t}getRootDialect(e){if(!e)return e;const t=e.indexOf("-");return t>-1?e.substring(0,t):""}getLocalizationName(){return this.sharedData?this.sharedData.localizationName:this.localizationName}getLocalizationStr(){const e=this.getLocalizationName();return e?_i(e,this.locale):""}get hasHtml(){return this.hasHtmlValue()}get html(){return this.hasHtml?this.getHtmlValue():""}get isEmpty(){return this.getValuesKeys().length==0}get textOrHtml(){return this.hasHtml?this.getHtmlValue():this.calculatedText}get renderedHtml(){return this.textOrHtml}getLocaleText(e){const t=this.getLocaleTextCore(e);return t||""}getLocaleTextCore(e){return e||(e=this.defaultLoc),this.getValue(e)}isLocaleTextEqualsWithDefault(e,t){let i=this.getLocaleTextCore(e);return i===t?!0:this.isValueEmpty(i)&&this.isValueEmpty(t)}clear(){this.setJson(void 0)}clearLocale(e){this.setLocaleText(e,void 0)}setLocaleText(e,t){if(e=this.getValueLoc(e),this.lastChangedLoc=e,e&&t===void 0){const n=this.getValue(e);n!==void 0&&(this.deleteValue(e),this.fireStrChanged(e,n));return}if(!this.storeDefaultText&&this.isLocaleTextEqualsWithDefault(e,t)){if(!this.isValueEmpty(t)||e&&e!==this.defaultLoc)return;let n=er.defaultLocale,o=this.getValue(n);n&&!this.isValueEmpty(o)&&(this.setValue(n,t),this.fireStrChanged(n,o));return}if(!(!X.localization.storeDuplicatedTranslations&&!this.isValueEmpty(t)&&e&&e!=this.defaultLoc&&!this.getValue(e)&&t==this.getLocaleText(this.defaultLoc))){var i=this.curLocale;e||(e=this.defaultLoc);var s=this.onStrChanged&&e===i?this.pureText:void 0;delete this.htmlValues[e],this.isValueEmpty(t)?this.deleteValue(e):typeof t=="string"&&(this.canRemoveLocValue(e,t)?this.setLocaleText(e,null):(this.setValue(e,t),e==this.defaultLoc&&this.deleteValuesEqualsToDefault(t))),this.fireStrChanged(e,s)}}isValueEmpty(e){return e==null?!0:this.localizationName?!1:e===""}get curLocale(){return this.locale?this.locale:this.defaultLoc}canRemoveLocValue(e,t){if(X.localization.storeDuplicatedTranslations||e===this.defaultLoc)return!1;const i=this.getRootDialect(e);if(i){const s=this.getLocaleText(i);return s?s==t:this.canRemoveLocValue(i,t)}else return t==this.getLocaleText(this.defaultLoc)}fireStrChanged(e,t){if(this.strChanged(),!this.onStrChanged)return;const i=this.pureText;(e!==this.curLocale||t!==i)&&this.onStrChanged(t,i)}hasNonDefaultText(){var e=this.getValuesKeys();return e.length==0?!1:e.length>1||e[0]!=this.defaultLoc}getLocales(){var e=this.getValuesKeys();return e.length==0?[]:e}getJson(){if(this.sharedData)return this.sharedData.getJson();const e=this.getValuesKeys();if(e.length==0){if(this.serializeCallBackText){const i=this.calcText();if(i)return i}return null}if(e.length==1&&e[0]==X.localization.defaultLocaleName&&!X.serialization.localizableStringSerializeAsObject)return this.values[e[0]];const t={};for(let i in this.values)t[i]=this.values[i];return t}setJson(e,t){if(this.sharedData){this.sharedData.setJson(e,t);return}if(this.lastChangedLoc=void 0,this.values={},this.htmlValues={},e!=null)if(t)typeof e=="string"?this.values[X.defaultLocaleName]=e:(this.values=e,delete this.values.pos);else{if(typeof e=="string")this.setLocaleText(null,e);else for(var i in e)this.setLocaleText(i,e[i]);this.strChanged()}}get renderAs(){return!this.owner||typeof this.owner.getRenderer!="function"?Yi.defaultRenderer:this.owner.getRenderer(this.name)||Yi.defaultRenderer}get renderAsData(){return!this.owner||typeof this.owner.getRendererContext!="function"?this:this.owner.getRendererContext(this)||this}equals(e){return this.sharedData?this.sharedData.equals(e):!e||!e.values?!1:z.isTwoValueEquals(this.values,e.values,!1,!0,!1)}setFindText(e){if(this.searchText!=e){if(this.searchText=e,!this.searchableText){let s=this.textOrHtml;this.searchableText=s?s.toLowerCase():""}var t=this.searchableText,i=t&&e?t.indexOf(e):void 0;return i<0&&(i=void 0),(i!=null||this.searchIndex!=i)&&(this.searchIndex=i,this.onSearchChanged&&this.onSearchChanged()),this.searchIndex!=null}}onChanged(){}onCreating(){}hasHtmlValue(){if(!this.owner||!this.useMarkdown)return!1;let e=this.locale;if(e||(e=this.defaultLoc),this.htmlValues[e]!==void 0)return!!this.htmlValues[e];let t=this.calculatedText;if(!t)return this.setHtmlValue(e,""),!1;if(this.getLocalizationName()&&t===this.getLocalizationStr())return this.setHtmlValue(e,""),!1;const i=this.owner.getMarkdownHtml(t,this.name);return this.setHtmlValue(e,i),!!i}setHtmlValue(e,t){this.htmlValues[e]=t}getHtmlValue(){var e=this.locale;return e||(e=this.defaultLoc),this.htmlValues[e]}deleteValuesEqualsToDefault(e){if(!X.localization.storeDuplicatedTranslations)for(var t=this.getValuesKeys(),i=0;i<t.length;i++)t[i]!=this.defaultLoc&&this.getValue(t[i])==e&&this.deleteValue(t[i])}getValue(e){return this.sharedData?this.sharedData.getValue(e):this.values[this.getValueLoc(e)]}setValue(e,t){this.sharedData?this.sharedData.setValue(e,t):this.values[this.getValueLoc(e)]=t}deleteValue(e){this.sharedData?this.sharedData.deleteValue(e):delete this.values[this.getValueLoc(e)]}getValueLoc(e){return this.disableLocalization?X.localization.defaultLocaleName:e}getValuesKeys(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)}get defaultLoc(){return X.localization.defaultLocaleName}}Yi.SerializeAsObject=!1;Yi.defaultRenderer="sv-string-viewer";Yi.editableRenderer="sv-string-editor";class MS{constructor(e){this.owner=e,this.values={}}getIsMultiple(){return!0}get locale(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""}get value(){return this.getValue("")}set value(e){this.setValue("",e)}get text(){return Array.isArray(this.value)?this.value.join(`
`):""}set text(e){this.value=e?e.split(`
`):[]}getLocaleText(e){var t=this.getValueCore(e,!e||e===this.locale);return!t||!Array.isArray(t)||t.length==0?"":t.join(`
`)}setLocaleText(e,t){var i=t?t.split(`
`):null;this.setValue(e,i)}getValue(e){return this.getValueCore(e)}getValueCore(e,t=!0){if(e=this.getLocale(e),this.values[e])return this.values[e];if(t){var i=X.localization.defaultLocaleName;if(e!==i&&this.values[i])return this.values[i]}return[]}setValue(e,t){e=this.getLocale(e);const i=z.createCopy(this.values);!t||t.length==0?delete this.values[e]:this.values[e]=t,this.onValueChanged&&this.onValueChanged(i,this.values)}hasValue(e=""){return!this.isEmpty&&this.getValue(e).length>0}get isEmpty(){return this.getValuesKeys().length==0}getLocale(e){return e||(e=this.locale,e||X.localization.defaultLocaleName)}getLocales(){var e=this.getValuesKeys();return e.length==0?[]:e}getJson(){var e=this.getValuesKeys();return e.length==0?null:e.length==1&&e[0]==X.localization.defaultLocaleName&&!X.serialization.localizableStringSerializeAsObject?this.values[e[0]]:z.createCopy(this.values)}setJson(e){if(this.values={},!!e)if(Array.isArray(e))this.setValue(null,e);else for(var t in e)this.setValue(t,e[t])}getValuesKeys(){return Object.keys(this.values)}}function NS(r){return X&&X.confirmActionFunc?X.confirmActionFunc(r):confirm(r)}function of(r){const e=t=>{t?r.funcOnYes():r.funcOnNo&&r.funcOnNo()};X&&X.confirmActionAsync&&X.confirmActionAsync(r.message,e,r)||e(NS(r.message))}function Kc(){if(typeof Kc.isIEOrEdge>"u"){const r=navigator.userAgent,e=r.indexOf("MSIE "),t=r.indexOf("Trident/"),i=r.indexOf("Edge/");Kc.isIEOrEdge=i>0||t>0||e>0}return Kc.isIEOrEdge}function kS(r,e){try{const t=atob(r.split(",")[1]),i=r.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(t.length),n=new Uint8Array(s);for(let h=0;h<t.length;h++)n[h]=t.charCodeAt(h);const o=new Blob([s],{type:i});navigator&&navigator.msSaveBlob&&navigator.msSaveOrOpenBlob(o,e)}catch{}}const lf=r=>!!r&&!!("host"in r&&r.host),qS=r=>{const{root:e}=X.environment;return typeof r=="string"?e.getElementById(r):r};function FS(r,e=0){if(typeof X.environment>"u"||!r.offsetHeight)return!1;const{root:t}=X.environment,i=lf(t)?t.host.clientHeight:t.documentElement.clientHeight,s=r.getBoundingClientRect(),n=Math.max(i,$e.getInnerHeight()),o=-e,h=n+e,d=s.top,f=s.bottom,p=Math.max(o,d),y=Math.min(h,f);return p<=y}function Of(r){if(!r)return Ge.isAvailable()?Ge.getDocument().documentElement:void 0;if(r.scrollHeight>r.clientHeight&&(getComputedStyle(r).overflowY==="scroll"||getComputedStyle(r).overflowY==="auto")||r.scrollWidth>r.clientWidth&&(getComputedStyle(r).overflowX==="scroll"||getComputedStyle(r).overflowX==="auto"))return r;if(!r.parentElement){const e=r.getRootNode();if(e instanceof Document||e instanceof ShadowRoot)return lf(e)?e.host:e.documentElement}return Of(r.parentElement)}function gm(r){if(!r)return;const e=Of(r);e&&setTimeout(()=>e.dispatchEvent(new CustomEvent("scroll")),10)}function BS(r){const e=$e.getLocation();!r||!e||(e.href=_S(r))}function ov(r){return r?["url(",r,")"].join(""):""}function zS(r){return typeof r=="string"?/^data:((?:\w+\/(?:(?!;).)+)?)((?:;[^;]+?)*),(.+)$/.test(r):null}const Kb={changecamera:"flip-24x24",clear:"clear-24x24",cancel:"cancel-24x24",closecamera:"close-24x24",defaultfile:"file-72x72",choosefile:"folder-24x24",file:"toolbox-file-24x24",left:"chevronleft-16x16",modernbooleancheckchecked:"plus-32x32",modernbooleancheckunchecked:"minus-32x32",more:"more-24x24",navmenu_24x24:"navmenu-24x24",removefile:"error-24x24",takepicture:"camera-32x32",takepicture_24x24:"camera-24x24",v2check:"check-16x16",checked:"check-16x16",v2check_24x24:"check-24x24","back-to-panel_16x16":"restoredown-16x16",clear_16x16:"clear-16x16",close_16x16:"close-16x16",collapsedetail:"collapsedetails-16x16",expanddetail:"expanddetails-16x16","full-screen_16x16":"maximize-16x16",loading:"loading-48x48",minimize_16x16:"minimize-16x16",next_16x16:"chevronright-16x16",previous_16x16:"chevronleft-16x16","no-image":"noimage-48x48","ranking-dash":"rankingundefined-16x16","drag-n-drop":"drag-24x24","ranking-arrows":"reorder-24x24",restore_16x16:"fullsize-16x16",reset:"restore-24x24",search:"search-24x24",average:"smiley-rate5-24x24",excellent:"smiley-rate9-24x24",good:"smiley-rate7-24x24",normal:"smiley-rate6-24x24","not-good":"smiley-rate4-24x24",perfect:"smiley-rate10-24x24",poor:"smiley-rate3-24x24",terrible:"smiley-rate1-24x24","very-good":"smiley-rate8-24x24","very-poor":"smiley-rate2-24x24",add_16x16:"add-16x16",add_24x24:"add-24x24",alert_24x24:"warning-24x24",apply:"apply-24x24","arrow-down":"arrowdown-24x24","arrow-left":"arrowleft-24x24","arrow-left_16x16":"arrowleft-16x16",arrowleft:"arrowleft-16x16","arrow-right":"arrowright-24x24","arrow-right_16x16":"arrowright-16x16",arrowright:"arrowright-16x16","arrow-up":"arrowup-24x24",boolean:"toolbox-boolean-24x24","change-question-type_16x16":"speechbubble-16x16",checkbox:"toolbox-checkbox-24x24","collapse-detail_16x16":"minusbox-16x16","collapse-panel":"collapse-pg-24x24",collapse_16x16:"collapse-16x16","color-picker":"dropper-16x16",comment:"toolbox-longtext-24x24",config:"wrench-24x24",copy:"copy-24x24",default:"toolbox-customquestion-24x24",delete_16x16:"delete-16x16",delete_24x24:"delete-24x24",delete:"delete-24x24","description-hide":"hidehint-16x16",description:"hint-16x16","device-desktop":"desktop-24x24","device-phone":"phone-24x24","device-rotate":"rotate-24x24","device-tablet":"tablet-24x24",download:"download-24x24","drag-area-indicator":"drag-24x24","drag-area-indicator_24x16":"draghorizontal-24x16",v2dragelement_16x16:"draghorizontal-24x16","drop-down-arrow":"chevrondown-24x24","drop-down-arrow_16x16":"chevrondown-16x16",chevron_16x16:"chevrondown-16x16",dropdown:"toolbox-dropdown-24x24",duplicate_16x16:"copy-16x16",edit:"edit-24x24",edit_16x16:"edit-16x16","editing-finish":"finishedit-24x24",error:"error-16x16","expand-detail_16x16":"plusbox-16x16","expand-panel":"expand-pg-24x24",expand_16x16:"expand-16x16",expression:"toolbox-expression-24x24","fast-entry":"textedit-24x24",fix:"fix-24x24",html:"toolbox-html-24x24",image:"toolbox-image-24x24",imagepicker:"toolbox-imagepicker-24x24",import:"import-24x24","invisible-items":"invisible-24x24",language:"language-24x24",load:"import-24x24","logic-collapse":"collapse-24x24","logic-expand":"expand-24x24",logo:"image-48x48",matrix:"toolbox-matrix-24x24",matrixdropdown:"toolbox-multimatrix-24x24",matrixdynamic:"toolbox-dynamicmatrix-24x24",multipletext:"toolbox-multipletext-24x24",panel:"toolbox-panel-24x24",paneldynamic:"toolbox-dynamicpanel-24x24",preview:"preview-24x24",radiogroup:"toolbox-radiogroup-24x24",ranking:"toolbox-ranking-24x24",rating:"toolbox-rating-24x24",slider:"toolbox-slider-24x24",redo:"redo-24x24",remove_16x16:"remove-16x16",required:"required-16x16",save:"save-24x24","select-page":"selectpage-24x24",settings:"settings-24x24",settings_16x16:"settings-16x16",signaturepad:"toolbox-signature-24x24","switch-active_16x16":"switchon-16x16","switch-inactive_16x16":"switchoff-16x16",tagbox:"toolbox-tagbox-24x24",text:"toolbox-singleline-24x24",theme:"theme-24x24",toolbox:"toolbox-24x24",undo:"undo-24x24",visible:"visible-24x24",wizard:"wand-24x24",searchclear:"clear-16x16","chevron-16x16":"chevrondown-16x16",chevron:"chevrondown-24x24",progressbuttonv2:"arrowleft-16x16",right:"chevronright-16x16","add-lg":"add-24x24",add:"add-24x24"};function HS(r){return QS(r)||qm(r)}function qm(r){const e="icon-",t=r.replace(e,""),i=Kb[t]||t;return e+i}function QS(r){let e=X.customIcons[r];return e?qm(e):(r=qm(r),e=X.customIcons[r],e||null)}function US(r,e,t,i,s,n){if(!s)return;r!=="auto"&&(s.style.width=(r||e||16)+"px",s.style.height=(r||t||16)+"px");const o=s.childNodes[0],h=HS(i);o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+h);let d=s.getElementsByTagName("title")[0];if(n)d||(d=Ge.getDocument().createElementNS("http://www.w3.org/2000/svg","title"),s.appendChild(d));else{d&&s.removeChild(d);return}d.textContent=n}function _S(r){return r&&(r.toLocaleLowerCase().indexOf("javascript:")>-1?encodeURIComponent(r):r)}function Eo(r){if(typeof r=="string")if(isNaN(Number(r))){if(r.includes("px"))return parseFloat(r)}else return Number(r);if(typeof r=="number")return r}function uf(r){if(Eo(r)===void 0)return r}const Fm="sv-focused--by-key";function Xb(r){const e=r.target;!e||!e.classList||e.classList.remove(Fm)}function lv(r,e){if(r.target&&r.target.contentEditable==="true")return;const t=r.target;if(!t)return;const i=r.which||r.keyCode;if(i===9){t.classList&&!t.classList.contains(Fm)&&t.classList.add(Fm);return}if(e){if(!e.__keyDownReceived)return;e.__keyDownReceived=!1}i===13||i===32?t.click&&t.click():(!e||e.processEsc)&&i===27&&t.blur&&t.blur()}function WS(r,e={processEsc:!0}){if(e&&(e.__keyDownReceived=!0),r.target&&r.target.contentEditable==="true")return;var t=r.which||r.keyCode;const i=[13,32];e.processEsc&&i.push(27),i.indexOf(t)!==-1&&r.preventDefault()}function bC(r,e){if(!r)return;e||(e=i=>Ge.getComputedStyle(i));const t=e(r);r.style.height="auto",r.scrollHeight&&(r.style.height=r.scrollHeight+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth)+"px")}function wC(r){r.preventDefault(),r.stopPropagation()}function ir(r){if(!r)return r;const e=/\s*?([\w-]+)\s*?/g;return r.replace(e,".$1")}function Bm(r){return getComputedStyle?Number.parseFloat(getComputedStyle(r).width):r.offsetWidth}function uv(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)}function jS(r){let e;for(let t=0;t<r.children.length;t++)!e&&getComputedStyle(r.children[t]).display!=="none"&&(e=r.children[t]);return e}function kl(r,e){if(!(!e||!r)&&typeof e=="object")for(var t in r){var i=r[t];!Array.isArray(i)&&i&&typeof i=="object"?((!e[t]||typeof e[t]!="object")&&(e[t]={}),kl(i,e[t])):e[t]=i}}function Mf(r,e){const t={};kl(e.list,t),kl(r.list,t),r.list=t}function GS(r,e,t={}){const i=new Yi(void 0,!1);i.defaultValue=r||t.message;const s=X.showDialog({componentName:"sv-string-viewer",data:{locStr:i,locString:i,model:i},onApply:()=>(e(!0),!0),onCancel:()=>(e(!1),!1),displayMode:"popup",isFocusedContent:!1,cssClass:t.cssClass||"sv-popup--confirm"},t.rootElement),n=s.footerToolbar,o=n.getActionById("apply"),h=n.getActionById("cancel");return h.title=_i("cancel",t.locale),o.title=t.applyTitle||_i("ok",t.locale),o.innerCss="sd-btn--danger",ZS(s),!0}function ZS(r){r.width="min-content"}function KS(r,e){$e.isFileReaderAvailable()&&(r.value="",r.onchange=t=>{if(!$e.isFileReaderAvailable()||!r||!r.files||r.files.length<1)return;let i=[];for(let s=0;s<r.files.length;s++)i.push(r.files[s]);e(i)},r.click())}function XS(r,e,t){const i=new Map,s=new Map,n=new Map,o=new Map;r.forEach(D=>{const L=t(D);if(!i.has(L))i.set(t(D),D);else throw new Error("keys must be unique")}),e.forEach(D=>{const L=t(D);if(!s.has(L))s.set(L,D);else throw new Error("keys must be unique")});const h=[],d=[];s.forEach((D,L)=>{i.has(L)?n.set(L,n.size):h.push(D)}),i.forEach((D,L)=>{s.has(L)?o.set(L,o.size):d.push(D)});const f=[];n.forEach((D,L)=>{const W=o.get(L),H=s.get(L);W!==D&&f.push({item:H,movedForward:W<D})});const p=new Array(r.length);let y=0;const b=Array.from(n.keys());r.forEach((D,L)=>{n.has(t(D))?(p[L]=s.get(b[y]),y++):p[L]=D});const w=new Map;let T=[];p.forEach(D=>{const L=t(D);s.has(L)?T.length>0&&(w.set(L,T),T=[]):T.push(D)});const P=new Array;return s.forEach((D,L)=>{w.has(L)&&w.get(L).forEach(W=>{P.push(W)}),P.push(D)}),T.forEach(D=>{P.push(D)}),{reorderedItems:f,deletedItems:d,addedItems:h,mergedItems:P}}function YS(r){if(Ge.isAvailable()){const{paddingTop:e,paddingBottom:t,borderTopWidth:i,borderBottomWidth:s,marginTop:n,marginBottom:o,boxSizing:h}=Ge.getComputedStyle(r);let d=r.offsetHeight+"px";if(h=="content-box"){let f=r.offsetHeight;[s,i,t,e].forEach(p=>{f-=parseFloat(p)}),d=f+"px"}return{paddingTop:e,paddingBottom:t,borderTopWidth:i,borderBottomWidth:s,marginTop:n,marginBottom:o,heightFrom:"0px",heightTo:d}}else return}function Mh(r,e,t="--animation-"){var i;r.__sv_created_properties=(i=r.__sv_created_properties)!==null&&i!==void 0?i:[],Object.keys(e).forEach(s=>{const n=`${t}${s.split(/\.?(?=[A-Z])/).join("-").toLowerCase()}`;r.style.setProperty(n,e[s]),r.__sv_created_properties.push(n)})}function Qn(r){Mh(r,YS(r))}function Tr(r){Array.isArray(r.__sv_created_properties)&&(r.__sv_created_properties.forEach(e=>{r.style.removeProperty(e)}),delete r.__sv_created_properties)}function JS(r){return Math.floor(r*100)/100}const kc=typeof globalThis<"u"?globalThis.document:(void 0).document,$S=kc?{root:kc,_rootElement:Ge.getBody(),get rootElement(){var r;return(r=this._rootElement)!==null&&r!==void 0?r:Ge.getBody()},set rootElement(r){this._rootElement=r},_popupMountContainer:Ge.getBody(),get popupMountContainer(){var r;return(r=this._popupMountContainer)!==null&&r!==void 0?r:Ge.getBody()},set popupMountContainer(r){this._popupMountContainer=r},svgMountContainer:kc.head,stylesSheetsMountContainer:kc.head}:void 0,eE={file:{minWidth:"240px"},comment:{minWidth:"200px"}};var X={version:"",designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(r){this.designMode.showEmptyDescriptions=r},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(r){this.designMode.showEmptyTitles=r},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(r){this.localization.useLocalTimeZone=r},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(r){this.localization.storeDuplicatedTranslations=r},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(r){this.localization.defaultLocaleName=r},web:{onBeforeRequestChoices:(r,e)=>{},encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(r){this.web.encodeUrlParams=r},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(r){this.web.cacheLoadedChoices=r},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(r){this.web.cacheLoadedChoices=r},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(r){this.web.disableQuestionWhileLoadingChoices=r},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(r){this.triggers.executeCompleteOnValueChanged=r},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(r){this.triggers.changeNavigationButtonsOnComplete=r},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(r){this.triggers.executeSkipOnValueChanged=r},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1,matrixDropdownColumnSerializeTitle:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(r){this.serialization.itemValueSerializeAsObject=r},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(r){this.serialization.itemValueSerializeDisplayText=r},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(r){this.serialization.localizableStringSerializeAsObject=r},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(r){this.lazyRender.enabled=r},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(r){this.lazyRender.firstBatchSize=r},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:eE,rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(r){this.matrix.defaultRowName=r},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(r){this.matrix.defaultCellType=r},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(r){this.matrix.totalsSuffix=r},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(r){this.matrix.maxRowCount=r},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(r){this.matrix.maxRowCountInCondition=r},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(r){this.matrix.renderRemoveAsIcon=r},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(r){this.panel.maxPanelCountInCondition=r},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(r){this.panel.maxPanelCount=r},readOnly:{enableValidation:!1,commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(r){this.readOnly.commentRenderMode=r},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(r){this.readOnly.textRenderMode=r},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(r){this.numbering.includeQuestionsWithHiddenTitle=r},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(r){this.numbering.includeQuestionsWithHiddenNumber=r},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:(r,e)=>r},expressionDisableConversionChar:"#",get commentPrefix(){return X.commentSuffix},set commentPrefix(r){X.commentSuffix=r},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,dropdownSearchDelay:500,confirmActionFunc:function(r){return confirm(r)},confirmActionAsync:function(r,e,t){return GS(r,e,t)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},autoAdvanceDelay:300,itemFlowDirection:"column",get showItemsInOrder(){return X.itemFlowDirection},set showItemsInOrder(r){X.itemFlowDirection=r},noneItemValue:"none",refuseItemValue:"refused",dontKnowItemValue:"dontknow",specialChoicesOrder:{selectAllItem:[-1],noneItem:[1],refuseItem:[2],dontKnowItem:[3],otherItem:[4]},choicesSeparator:", ",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showDialog:void 0,showDefaultItemsInCreator:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:$S,showMaxLengthIndicator:!0,animationEnabled:!0,titleTags:{survey:"div",page:"div",panel:"div",question:"div"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},legacyProgressBarView:!1,maskSettings:{patternPlaceholderChar:"_",patternEscapeChar:"\\",patternDefinitions:{9:/[0-9]/,a:/[a-zA-Z]/,"#":/[a-zA-Z0-9]/}},storeUtcDates:!1,onDateCreated:(r,e,t)=>r,parseNumber:(r,e)=>e};class ur{constructor(e=null,t=null){this.text=e,this.errorOwner=t,this.visible=!0,this.onUpdateErrorTextCallback=void 0}equals(e){return!e||!e.getErrorType||this.getErrorType()!==e.getErrorType()?!1:this.text===e.text&&this.visible===e.visible}get locText(){return this.locTextValue||(this.locTextValue=new Yi(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue}getText(){var e=this.text;return e||(e=this.getDefaultText()),this.errorOwner&&(e=this.errorOwner.getErrorCustomText(e,this)),e}getErrorType(){return"base"}getDefaultText(){return""}getLocale(){return this.errorOwner?this.errorOwner.getLocale():""}getLocalizationString(e){return _i(e,this.getLocale())}updateText(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()}}class tE extends ur{constructor(e=null,t=null){super(e,t),this.text=e}getErrorType(){return"required"}getDefaultText(){return this.getLocalizationString("requiredError")}}class iE extends ur{constructor(e=null,t=null){super(e,t),this.text=e}getErrorType(){return"requireoneanswer"}getDefaultText(){return this.getLocalizationString("requiredErrorInPanel")}}class sE extends ur{constructor(e=null,t=null){super(e,t),this.text=e}getErrorType(){return"requirenumeric"}getDefaultText(){return this.getLocalizationString("numericError")}}class rE extends ur{constructor(e,t=null){super(null,t),this.maxSize=e,this.locText.text=this.getText()}getErrorType(){return"exceedsize"}getDefaultText(){return this.getLocalizationString("exceedMaxSize").format(this.getTextSize())}getTextSize(){var e=["Bytes","KB","MB","GB","TB"],t=[0,0,2,3,3];if(this.maxSize===0)return"0 Byte";var i=Math.floor(Math.log(this.maxSize)/Math.log(1024)),s=this.maxSize/Math.pow(1024,i);return s.toFixed(t[i])+" "+e[i]}}class xC extends ur{constructor(e,t,i=null){super(null,i),this.status=e,this.response=t}getErrorType(){return"webrequest"}getDefaultText(){const e=this.getLocalizationString("urlRequestError");return e?e.format(this.status,this.response):""}}class nE extends ur{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"webrequestempty"}getDefaultText(){return this.getLocalizationString("urlGetChoicesError")}}class aE extends ur{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"otherempty"}getDefaultText(){return this.getLocalizationString("otherRequiredError")}}class qc extends ur{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"uploadingfile"}getDefaultText(){return this.getLocalizationString("uploadingFile")}}class oE extends ur{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"requiredinallrowserror"}getDefaultText(){return this.getLocalizationString("requiredInAllRowsError")}}class lE extends ur{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"eachrowuniqueeerror"}getDefaultText(){return this.getLocalizationString("eachRowUniqueError")}}class uE extends ur{constructor(e,t=null){super(null,t),this.minRowCount=e}getErrorType(){return"minrowcounterror"}getDefaultText(){return this.getLocalizationString("minRowCountError").format(this.minRowCount)}}class Yb extends ur{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"keyduplicationerror"}getDefaultText(){return this.getLocalizationString("keyDuplicationError")}}class Gr extends ur{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"custom"}}class dn{constructor(e,t=null){this.value=e,this.error=t}}class Hl extends tt{constructor(){super(),this.createLocalizableString("text",this,!0)}get isValidator(){return!0}getSurvey(e=!1){return this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null}get text(){return this.getLocalizableStringText("text")}set text(e){this.setLocalizableStringText("text",e)}get isValidateAllValues(){return!1}get locText(){return this.getLocalizableString("text")}getErrorText(e){return this.text?this.text:this.getDefaultErrorText(e)}getDefaultErrorText(e){return""}validate(e,t=null,i=null,s=null){return null}get isRunning(){return!1}get isAsync(){return!1}getLocale(){return this.errorOwner?this.errorOwner.getLocale():""}getMarkdownHtml(e,t,i){return this.errorOwner?this.errorOwner.getMarkdownHtml(e,t,i):void 0}getRenderer(e){return this.errorOwner?this.errorOwner.getRenderer(e):null}getRendererContext(e){return this.errorOwner?this.errorOwner.getRendererContext(e):e}getProcessedText(e){return this.errorOwner?this.errorOwner.getProcessedText(e):e}createCustomError(e){const t=new Gr(this.getErrorText(e),this.errorOwner);return t.onUpdateErrorTextCallback=i=>i.text=this.getErrorText(e),t}toString(){var e=this.getType().replace("validator","");return this.text&&(e+=", "+this.text),e}}class hE{run(e){var t=[],i=null,s=null;this.prepareAsyncValidators();for(var n=[],o=e.getValidators(),h=0;h<o.length;h++){var d=o[h];!i&&d.isValidateAllValues&&(i=e.getDataFilteredValues(),s=e.getDataFilteredProperties()),d.isAsync&&(this.asyncValidators.push(d),d.onAsyncCompleted=p=>{if(p&&p.error&&n.push(p.error),!!this.onAsyncCompleted){for(var y=0;y<this.asyncValidators.length;y++)if(this.asyncValidators[y].isRunning)return;this.onAsyncCompleted(n)}})}o=e.getValidators();for(var h=0;h<o.length;h++){var d=o[h],f=d.validate(e.validatedValue,e.getValidatorTitle(),i,s);f&&f.error&&t.push(f.error)}return this.asyncValidators.length==0&&this.onAsyncCompleted&&this.onAsyncCompleted([]),t}prepareAsyncValidators(){if(this.asyncValidators)for(var e=0;e<this.asyncValidators.length;e++)this.asyncValidators[e].onAsyncCompleted=null;this.asyncValidators=[]}}class dE extends Hl{constructor(e=null,t=null){super(),this.minValue=e,this.maxValue=t}getType(){return"numericvalidator"}validate(e,t=null,i=null,s=null){if(this.isValueEmpty(e))return null;if(!z.isNumber(e))return new dn(null,new sE(this.text,this.errorOwner));var n=new dn(z.getNumber(e));return this.minValue!==null&&this.minValue>n.value?(n.error=this.createCustomError(t),n):this.maxValue!==null&&this.maxValue<n.value?(n.error=this.createCustomError(t),n):typeof e=="number"?null:n}getDefaultErrorText(e){var t=e||this.getLocalizationString("value");return this.minValue!==null&&this.maxValue!==null?this.getLocalizationFormatString("numericMinMax",t,this.minValue,this.maxValue):this.minValue!==null?this.getLocalizationFormatString("numericMin",t,this.minValue):this.getLocalizationFormatString("numericMax",t,this.maxValue)}get minValue(){return this.getPropertyValue("minValue")}set minValue(e){this.setPropertyValue("minValue",e)}get maxValue(){return this.getPropertyValue("maxValue")}set maxValue(e){this.setPropertyValue("maxValue",e)}}class cE extends Hl{constructor(){super()}getType(){return"textvalidator"}validate(e,t=null,i=null,s=null){if(this.isValueEmpty(e))return null;if(!this.allowDigits){var n=/\d+$/;if(n.test(e))return new dn(null,this.createCustomError("textNoDigitsAllow"))}return this.minLength>0&&e.length<this.minLength?new dn(null,this.createCustomError(t)):this.maxLength>0&&e.length>this.maxLength?new dn(null,this.createCustomError(t)):null}getDefaultErrorText(e){return e==="textNoDigitsAllow"?this.getLocalizationString(e):this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)}get minLength(){return this.getPropertyValue("minLength")}set minLength(e){this.setPropertyValue("minLength",e)}get maxLength(){return this.getPropertyValue("maxLength")}set maxLength(e){this.setPropertyValue("maxLength",e)}get allowDigits(){return this.getPropertyValue("allowDigits")}set allowDigits(e){this.setPropertyValue("allowDigits",e)}}class fE extends Hl{constructor(e=null,t=null){super(),this.minCount=e,this.maxCount=t}getType(){return"answercountvalidator"}validate(e,t=null,i=null,s=null){if(e==null||e.constructor!=Array)return null;var n=e.length;return n==0?null:this.minCount&&n<this.minCount?new dn(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&n>this.maxCount?new dn(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null}getDefaultErrorText(e){return e}get minCount(){return this.getPropertyValue("minCount")}set minCount(e){this.setPropertyValue("minCount",e)}get maxCount(){return this.getPropertyValue("maxCount")}set maxCount(e){this.setPropertyValue("maxCount",e)}}class gE extends Hl{constructor(e=null){super(),this.regex=e}getType(){return"regexvalidator"}validate(e,t=null,i=null,s=null){if(!this.regex||this.isValueEmpty(e))return null;var n=this.createRegExp();if(Array.isArray(e))for(var o=0;o<e.length;o++){var h=this.hasError(n,e[o],t);if(h)return h}return this.hasError(n,e,t)}hasError(e,t,i){return e.test(t)?null:new dn(t,this.createCustomError(i))}get regex(){return this.getPropertyValue("regex")}set regex(e){this.setPropertyValue("regex",e)}get caseInsensitive(){return this.getPropertyValue("caseInsensitive")}set caseInsensitive(e){this.setPropertyValue("caseInsensitive",e)}get insensitive(){return this.caseInsensitive}set insensitive(e){this.caseInsensitive=e}createRegExp(){return new RegExp(this.regex,this.caseInsensitive?"i":"")}}class Jb extends Hl{constructor(){super(),this.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i}getType(){return"emailvalidator"}validate(e,t=null,i=null,s=null){return!e||this.re.test(e)?null:new dn(e,this.createCustomError(t))}getDefaultErrorText(e){return this.getLocalizationString("invalidEmail")}}class pE extends Hl{constructor(e=null){super(),this.conditionRunner=null,this.isRunningValue=!1,this.expression=e}getType(){return"expressionvalidator"}get isValidateAllValues(){return!0}get isAsync(){return this.ensureConditionRunner(!1)?this.conditionRunner.isAsync:!1}get isRunning(){return this.isRunningValue}validate(e,t=null,i=null,s=null){if(!this.expression)return null;this.conditionRunner&&(this.conditionRunner.onRunComplete=null),this.ensureConditionRunner(!0),this.conditionRunner.onRunComplete=o=>{this.isRunningValue=!1,this.onAsyncCompleted&&this.onAsyncCompleted(this.generateError(o,e,t))},this.isRunningValue=!0;var n=this.conditionRunner.run(i,s);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(n,e,t))}generateError(e,t,i){return e?null:new dn(t,this.createCustomError(i))}getDefaultErrorText(e){return this.getLocalizationFormatString("invalidExpression",this.expression)}ensureConditionRunner(e){return this.expression?(e||!this.conditionRunner?this.conditionRunner=new ar(this.expression):this.conditionRunner.expression=this.expression,!0):!1}get expression(){return this.getPropertyValue("expression")}set expression(e){this.setPropertyValue("expression",e)}}le.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]);le.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new dE},"surveyvalidator");le.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new cE},"surveyvalidator");le.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new fE},"surveyvalidator");le.addClass("regexvalidator",["regex",{name:"caseInsensitive:boolean",alternativeName:"insensitive"}],function(){return new gE},"surveyvalidator");le.addClass("emailvalidator",[],function(){return new Jb},"surveyvalidator");le.addClass("expressionvalidator",["expression:condition"],function(){return new pE},"surveyvalidator");class mE{constructor(e,t){this.name=e,this.widgetJson=t,this.htmlTemplate=t.htmlTemplate?t.htmlTemplate:""}afterRender(e,t){this.widgetJson.afterRender&&(e.localeChangedCallback=()=>{this.widgetJson.willUnmount&&this.widgetJson.willUnmount(e,t),this.widgetJson.afterRender(e,t)},this.widgetJson.afterRender(e,t))}willUnmount(e,t){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(e,t)}getDisplayValue(e,t=void 0){return this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(e,t):null}validate(e){if(this.widgetJson.validate)return this.widgetJson.validate(e)}isFit(e){return this.isLibraryLoaded()&&this.widgetJson.isFit?this.widgetJson.isFit(e):!1}get canShowInToolbox(){return this.widgetJson.showInToolbox===!1||hf.Instance.getActivatedBy(this.name)!="customtype"?!1:!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded()}get showInToolbox(){return this.widgetJson.showInToolbox!==!1}set showInToolbox(e){this.widgetJson.showInToolbox=e}init(){this.widgetJson.init&&this.widgetJson.init()}activatedByChanged(e){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(e)}isLibraryLoaded(){return this.widgetJson.widgetIsLoaded?this.widgetJson.widgetIsLoaded()==!0:!0}get isDefaultRender(){return this.widgetJson.isDefaultRender}get pdfQuestionType(){return this.widgetJson.pdfQuestionType}get pdfRender(){return this.widgetJson.pdfRender}}class hf{constructor(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new Bb}get widgets(){return this.widgetsValues}add(e,t="property"){this.addCustomWidget(e,t)}addCustomWidget(e,t="property"){var i=e.name;i||(i="widget_"+this.widgets.length+1);var s=new mE(i,e);return this.widgetsValues.push(s),s.init(),this.widgetsActivatedBy[i]=t,s.activatedByChanged(t),this.onCustomWidgetAdded.fire(s,null),s}getActivatedBy(e){var t=this.widgetsActivatedBy[e];return t||"property"}setActivatedBy(e,t){if(!(!e||!t)){var i=this.getCustomWidgetByName(e);i&&(this.widgetsActivatedBy[e]=t,i.activatedByChanged(t))}}clear(){this.widgetsValues=[]}getCustomWidgetByName(e){for(var t=0;t<this.widgets.length;t++)if(this.widgets[t].name==e)return this.widgets[t];return null}getCustomWidget(e){for(var t=0;t<this.widgetsValues.length;t++)if(this.widgetsValues[t].isFit(e))return this.widgetsValues[t];return null}}hf.Instance=new hf;class Un{constructor(){this.renderersHash={},this.defaultHash={}}unregisterRenderer(e,t){delete this.renderersHash[e][t],this.defaultHash[e]===t&&delete this.defaultHash[e]}registerRenderer(e,t,i,s=!1){this.renderersHash[e]||(this.renderersHash[e]={}),this.renderersHash[e][t]=i,s&&(this.defaultHash[e]=t)}getRenderer(e,t){const i=this.renderersHash[e];if(i){if(t&&i[t])return i[t];const s=this.defaultHash[e];if(s&&i[s])return i[s]}return"default"}getRendererByQuestion(e){return this.getRenderer(e.getType(),e.renderAs)}clear(){this.renderersHash={}}}Un.Instance=new Un;class hv{updateElement(){this.element&&this.autoGrow&&setTimeout(()=>bC(this.element),1)}constructor(e){this.options=e,this.onPropertyChangedCallback=()=>{this.element&&(this.element.value=this.getTextValue(),this.updateElement())},this.question.registerFunctionOnPropertiesValueChanged(this.options.propertyNames,this.onPropertyChangedCallback,"__textarea")}setElement(e){e&&(this.element=e,this.updateElement())}resetElement(){this.element=void 0}getTextValue(){return this.options.getTextValue&&this.options.getTextValue()||""}onTextAreaChange(e){this.options.onTextAreaChange&&this.options.onTextAreaChange(e)}onTextAreaInput(e){this.options.onTextAreaInput&&this.options.onTextAreaInput(e),this.element&&this.autoGrow&&bC(this.element)}onTextAreaKeyDown(e){this.options.onTextAreaKeyDown&&this.options.onTextAreaKeyDown(e)}onTextAreaBlur(e){this.onTextAreaChange(e),this.options.onTextAreaBlur&&this.options.onTextAreaBlur(e)}onTextAreaFocus(e){var t;this.options.onTextAreaFocus&&this.options.onTextAreaFocus(e),this.isReadOnlyAttr&&((t=e?.target)===null||t===void 0||t.select())}get question(){return this.options.question}get id(){return this.options.id()}get placeholder(){return this.options.placeholder()}get className(){return this.options.className()}get maxLength(){if(this.options.maxLength)return this.options.maxLength()}get autoGrow(){if(this.options.autoGrow)return this.options.autoGrow()}get rows(){if(this.options.rows)return this.options.rows()}get cols(){if(this.options.cols)return this.options.cols()}get isDisabledAttr(){return this.options.isDisabledAttr()}get isReadOnlyAttr(){if(this.options.isReadOnlyAttr)return this.options.isReadOnlyAttr()}get ariaRequired(){if(this.options.ariaRequired)return this.options.ariaRequired()}get ariaLabel(){if(this.options.ariaLabel)return this.options.ariaLabel()}get ariaInvalid(){if(this.options.ariaInvalid)return this.options.ariaInvalid()}get ariaLabelledBy(){if(this.options.ariaLabelledBy)return this.options.ariaLabelledBy()}get ariaDescribedBy(){if(this.options.ariaDescribedBy)return this.options.ariaDescribedBy()}get ariaErrormessage(){if(this.options.ariaErrormessage)return this.options.ariaErrormessage()}dispose(){this.question&&this.question.unRegisterFunctionOnPropertiesValueChanged(this.options.propertyNames,"__textarea"),this.resetElement()}}class vE{constructor(e,t,i){this.name=e,this.canRun=t,this.doComplete=i,this.getSecondRunner=()=>{}}}class Ii extends ai{static getQuestionId(){return"sq_"+Ii.questionCounter++}isReadOnlyRenderDiv(){return this.isReadOnly&&X.readOnly.commentRenderMode==="div"}allowMobileInDesignMode(){return!1}updateIsMobileFromSurvey(){this.setIsMobile(this.survey._isMobile)}setIsMobile(e){const t=e&&(this.allowMobileInDesignMode()||!this.isDesignMode);this.isMobile=t}getIsMobile(){return this._isMobile}get isMobile(){return this.getIsMobile()}set isMobile(e){this._isMobile=e}themeChanged(e){}get _isMobile(){return this.getPropertyValue("_isMobile",!1)}set _isMobile(e){this.setPropertyValue("_isMobile",e)}get forceIsInputReadOnly(){return this.getPropertyValue("forceIsInputReadOnly")}set forceIsInputReadOnly(e){this.setPropertyValue("forceIsInputReadOnly",e)}get ariaExpanded(){return this.isNewA11yStructure?null:this.getPropertyValue("ariaExpanded")}set ariaExpanded(e){this.setPropertyValue("ariaExpanded",e)}constructor(e){super(e),this.customWidgetData={isNeedRender:!0},this.hasCssErrorCallback=()=>!1,this.isReadyValue=!0,this.dependedQuestions=[],this.onReadyChanged=this.addEvent(),this.triggersInfo=[],this.isRunningValidatorsValue=!1,this.isValueChangedInSurvey=!1,this.allowNotifyValueChanged=!0,this._syncPropertiesChanging=!1,this.setPropertyValueDirectly("id",Ii.getQuestionId()),this.onCreating(),this.createNewArray("validators",i=>{i.errorOwner=this}),this.addExpressionProperty("visibleIf",(i,s)=>{this.visible=s===!0}),this.addExpressionProperty("enableIf",(i,s)=>{this.readOnly=s===!1}),this.addExpressionProperty("requiredIf",(i,s)=>{this.isRequired=s===!0}),this.createLocalizableString("commentText",this,!0,!0),this.createLocalizableString("requiredErrorText",this),this.createLocalizableString("commentPlaceholder",this),this.createLocalizableString("defaultDisplayValue",this),this.addTriggerInfo("resetValueIf",()=>!this.isEmpty(),()=>{this.startSetValueOnExpression(),this.updateValueWithDefaultsOrClear(),this.finishSetValueOnExpression()});const t=this.addTriggerInfo("setValueIf",()=>!0,()=>this.runSetValueExpression());t.getSecondRunner=()=>this.getSetValueExpressionRunner(),this.registerPropertyChangedHandlers(["width"],()=>{this.updateQuestionCss(),this.parent&&this.parent.elementWidthChanged(this)}),this.registerPropertyChangedHandlers(["isRequired"],()=>{!this.isRequired&&this.errors.length>0&&this.validate(),this.locTitle.strChanged(),this.clearCssClasses()}),this.registerPropertyChangedHandlers(["indent","rightIndent"],()=>{this.resetIndents()}),this.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],()=>{this.initCommentFromSurvey()}),this.registerPropertyChangedHandlers(["commentPlaceholder"],()=>{this.resetRenderedCommentPlaceholder()}),this.registerFunctionOnPropertiesValueChanged(["no","readOnly","hasVisibleErrors","containsErrors"],()=>{this.updateQuestionCss()}),this.registerPropertyChangedHandlers(["_isMobile"],()=>{this.onMobileChanged()}),this.registerPropertyChangedHandlers(["colSpan"],()=>{var i;(i=this.parent)===null||i===void 0||i.updateColumns()})}getDefaultTitle(){return this.name}createLocTitleProperty(){const e=super.createLocTitleProperty();return e.storeDefaultText=!0,e.onGetTextCallback=(t,i)=>(!t&&!i&&(t=this.getDefaultTitle()),this.survey?this.survey.getUpdatedQuestionTitle(this,t):t),this.locProcessedTitle=new Yi(this,!0),this.locProcessedTitle.sharedData=e,e}get locRenderedTitle(){return this.isSingleInputActive&&this.singleInputLocTitle?this.singleInputLocTitle:this.locTitle}get commentTextAreaModel(){return this.commentTextAreaModelValue||(this.commentTextAreaModelValue=new hv(this.getCommentTextAreaOptions())),this.commentTextAreaModelValue}getCommentTextAreaOptions(){return{question:this,id:()=>this.commentId,propertyNames:["comment"],className:()=>this.cssClasses.comment,placeholder:()=>this.renderedCommentPlaceholder,isDisabledAttr:()=>this.isInputReadOnly||!1,rows:()=>this.commentAreaRows,autoGrow:()=>this.autoGrowComment,maxLength:()=>this.getOthersMaxLength(),ariaRequired:()=>this.a11y_input_ariaRequired,ariaLabel:()=>this.a11y_input_ariaLabel,getTextValue:()=>this.comment,onTextAreaChange:t=>{this.onCommentChange(t)},onTextAreaInput:t=>{this.onCommentInput(t)}}}getSurvey(e=!1){return e?this.parent?this.parent.getSurvey(e):null:this.onGetSurvey?this.onGetSurvey():super.getSurvey()}getValueName(){return this.valueName?this.valueName.toString():this.name}get valueName(){return this.getPropertyValue("valueName","")}set valueName(e){var t=this.getValueName();this.setPropertyValue("valueName",e),this.onValueNameChanged(t)}onValueNameChanged(e){this.survey&&(this.survey.questionRenamed(this,this.name,e||this.name),this.initDataFromSurvey())}onNameChanged(e){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,e,this.valueName?this.valueName:e)}get isReady(){return this.isReadyValue}onAsyncRunningChanged(){this.updateIsReady()}ensureQuestionIsReady(){this.displayValue}waitForQuestionIsReady(e){return new Promise(t=>{if(this.ensureQuestionIsReady(),this.isReady)t(),e&&e();else{const i=(s,n)=>{n.isReady&&(this.onReadyChanged.remove(i),t(),e&&e())};this.onReadyChanged.add(i)}})}updateIsReady(){let e=this.getIsQuestionReady();if(e){const t=this.getIsReadyDependsOn();for(let i=0;i<t.length;i++)if(!t[i].getIsQuestionReady()){e=!1;break}}this.setIsReady(e)}getIsQuestionReady(){return!this.isAsyncExpressionRunning&&this.getAreNestedQuestionsReady()}getAreNestedQuestionsReady(){const e=this.getIsReadyNestedQuestions();if(!Array.isArray(e))return!0;for(let t=0;t<e.length;t++)if(!e[t].isReady)return!1;return!0}getIsReadyNestedQuestions(){return this.getNestedQuestions()}setIsReady(e){const t=this.isReadyValue;this.isReadyValue=e,t!=e&&(this.getIsReadyDependends().forEach(i=>i.updateIsReady()),this.onReadyChanged.fire(this,{question:this,isReady:e,oldIsReady:t}))}getIsReadyDependsOn(){return this.getIsReadyDependendCore(!0)}getIsReadyDependends(){return this.getIsReadyDependendCore(!1)}getDependedQuestionsByValueName(e){return this.survey.questionsByValueName(this.getValueName())}getIsReadyDependendCore(e){if(!this.survey)return[];const t=this.getDependedQuestionsByValueName(e),i=new Array;return t.forEach(s=>{s!==this&&i.push(s)}),e||(this.parentQuestion&&i.push(this.parentQuestion),this.dependedQuestions.length>0&&this.dependedQuestions.forEach(s=>i.push(s))),i}choicesLoaded(){}get page(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)}set page(e){this.setPage(this.parent,e)}getPanel(){return null}delete(e=!0){this.removeFromParent(),e?this.dispose():this.resetDependedQuestions()}removeFromParent(){this.parent&&this.removeSelfFromList(this.parent.elements)}addDependedQuestion(e){!e||this.dependedQuestions.indexOf(e)>-1||this.dependedQuestions.push(e)}removeDependedQuestion(e){if(e){var t=this.dependedQuestions.indexOf(e);t>-1&&this.dependedQuestions.splice(t,1)}}updateDependedQuestions(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].updateDependedQuestion()}updateDependedQuestion(){}resetDependedQuestion(){}get isFlowLayout(){return this.getLayoutType()==="flow"}getLayoutType(){return this.parent?this.parent.getChildrenLayoutType():"row"}isLayoutTypeSupported(e){return e!=="flow"}get visible(){return this.getPropertyValue("visible",!0)}set visible(e){e!=this.visible&&(this.setPropertyValue("visible",e),this.onVisibleChangedCore(),this.notifySurveyVisibilityChanged())}onVisibleChanged(){const e=this.getPropertyValue("isVisible");this.onVisibleChangedCore();const t=this.getPropertyValue("isVisible");e!==void 0&&e!==t&&this.notifySurveyVisibilityChanged()}onVisibleChangedCore(){this.updateIsVisibleProp(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])}notifyStateChanged(e){super.notifyStateChanged(e),this.isCollapsed&&this.onHidingContent()}updateElementVisibility(){this.updateIsVisibleProp()}updateIsVisibleProp(){const e=this.getPropertyValue("isVisible"),t=this.isVisible;e!==t&&(this.setPropertyValue("isVisible",t),t||this.onHidingContent()),t!==this.visible&&this.areInvisibleElementsShowing&&this.updateQuestionCss(!0)}get useDisplayValuesInDynamicTexts(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")}set useDisplayValuesInDynamicTexts(e){this.setPropertyValue("useDisplayValuesInDynamicTexts",e)}getUseDisplayValuesInDynamicTexts(){return this.useDisplayValuesInDynamicTexts}get visibleIf(){return this.getPropertyValue("visibleIf","")}set visibleIf(e){this.setPropertyValue("visibleIf",e)}get isVisible(){return this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty()?!1:this.areInvisibleElementsShowing?!0:this.isVisibleCore()}get isVisibleInSurvey(){return this.isVisible&&this.isParentVisible}isVisibleCore(){return this.visible}get visibleIndex(){return this.getPropertyValue("visibleIndex",-1)}onHidingContent(){}get showNumber(){return this.getPropertyValue("showNumber")}set showNumber(e){this.setPropertyValue("showNumber",e),this.notifySurveyVisibilityChanged()}get hideNumber(){return!this.showNumber}set hideNumber(e){this.showNumber=!e}get isAllowTitleLeft(){return!0}getType(){return"question"}get isQuestion(){return!0}moveTo(e,t=null){return this.moveToBase(this.parent,e,t)}getProgressInfo(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:super.getProgressInfo()}ensureSetValueExpressionRunner(){this.setValueExpressionRunner?this.setValueExpressionRunner.expression=this.setValueExpression:(this.setValueExpressionRunner=new Nl(this.setValueExpression),this.setValueExpressionRunner.onRunComplete=e=>{this.runExpressionSetValue(e)})}runSetValueExpression(){this.setValueExpression?(this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner.run(this.getDataFilteredValues(),this.getDataFilteredProperties())):this.clearValue()}getSetValueExpressionRunner(){return this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner}addTriggerInfo(e,t,i){const s=new vE(e,t,i);return this.triggersInfo.push(s),s}runTriggerInfo(e,t){const i=this[e.name];!i&&!e.getSecondRunner()||e.isRunning||!e.canRun()||(e.runner?e.runner.expression=i:(e.runner=new Nl(i),e.runner.onRunComplete=s=>{s===!0&&e.doComplete(),e.isRunning=!1}),this.canExecuteTriggerByKeys(t,e.runner,e.getSecondRunner())&&(e.isRunning=!0,!i&&e.getSecondRunner()?(e.doComplete(),e.isRunning=!1):e.runner.run(this.getDataFilteredValues(),this.getDataFilteredProperties())))}canExecuteTriggerByKeys(e,t,i){!t&&i&&(t=i,i=void 0);const s=this.canExecuteTriggerByKeysCore(e,t);return s==="var"?!0:i?this.canExecuteTriggerByKeysCore(e,i)!=="":s==="func"||s==="const"}canExecuteTriggerByKeysCore(e,t){if(!t.expression)return"";const i=t.getVariables();return!Array.isArray(i)||i.length===0?t.hasFunction()?"func":"const":new xr().isAnyKeyChanged(e,i)?"var":""}runTriggers(e,t,i){this.isSettingQuestionValue||this.parentQuestion&&this.parentQuestion.getValueName()===e||(i||(i={},i[e]=t),this.triggersInfo.forEach(s=>{this.runTriggerInfo(s,i)}))}runConditions(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())}setSurveyImpl(e,t){super.setSurveyImpl(e),this.survey&&(this.survey.questionCreated(this),t!==!0&&this.runConditions(),this.visible||this.updateIsVisibleProp(),this.updateIsMobileFromSurvey())}get parent(){return this.getPropertyValue("parent",null)}set parent(e){this.parent!==e&&(this.removeFromParent(),this.setPropertyValue("parent",e),e&&this.updateQuestionCss(),this.onParentChanged())}onParentChanged(){}calculateSingleInputQuestion(){if(!this.isSingleInputActive)return;const e=this.getSingleInputQuestions();if(Array.isArray(e)&&e.length>0){const t=e[0];return this.onBeforeSetSingleInputQuestion(t),t}}get singleInputQuestion(){const e=this.survey;if(!(!e||!e.isSingleVisibleInput))return this.getPropertyValue("singleInputQuestion",void 0,()=>this.calculateSingleInputQuestion())}get currentSingleInputQuestion(){let e=this.singleInputQuestion;for(;e&&e.singleInputQuestion&&e.singleInputQuestion!==e;)e=e.singleInputQuestion;return e}get currentSingleInputParentQuestion(){const e=this.currentSingleInputQuestion;return e?e.singleInputQuestion===e?e:e.parentQuestion||this:this}get singleInputSummary(){return this.getPropertyValue("singleInputSummary",void 0,()=>{if(!this.supportNestedSingleInput())return;const e=this.singleInputQuestion;if(!e||e!==this)return;const t=this.createSingleInputSummary();return t&&(this.calcSingleInputActions(),this.resetPropertyValue("singleInputLocTitle")),t})}createSingleInputSummary(){}get rootParentQuestion(){let e=this;for(;e.parentQuestion;)e=e.parentQuestion;return e}getParentQuestions(){const e=new Array;let t=this;for(;t.parentQuestion;)e.push(t.parentQuestion),t=t.parentQuestion;return e}resetSingleInput(){this.resetSingleInputCore()}resetSingleInputCore(){const e=this.singleInputQuestion;this.resetPropertyValue("singleInputQuestion"),e&&this.onSingleInputChanged()}onSingleInputChanged(e=!0){var t,i;e&&this.resetSingleInputSummary(),(t=this.singleInputLocTitle)===null||t===void 0||t.strChanged(),this.resetPropertyValue("singleInputLocTitle"),this.calcSingleInputActions(),(i=this.survey)===null||i===void 0||i.updateNavigationElements()}resetSingleInputSummary(){var e;(e=this.singleInputSummary)===null||e===void 0||e.dispose(),this.resetPropertyValue("singleInputSummary")}validateSingleInput(e=!0,t=null){const i=this.currentSingleInputQuestion;if(!i)return!0;t=t||{fireCallback:e,focusOnFirstError:e,firstErrorQuestion:null,result:!1};const s=i.validate(e,t);return!s&&t.focusOnFirstError&&t.firstErrorQuestion&&t.firstErrorQuestion.focus(!0),s}getSingleInputElementPos(){if(this.singleInputQuestion===this)return 0;const e=this.currentSingleInputParentQuestion;if(e!==this&&e.getSingleInputElementPos()===2)return 2;const t=this.singleInputQuestion,i=this.getSingleInputQuestions();if(i.length<2)return 0;let s=i.indexOf(t);return s===0?-1:s>=i.length-1?1:2}get isSingleInputActive(){const e=this.survey;if(!e||!e.isSingleVisibleInput)return!1;const t=e.currentSingleQuestion;return!!t&&t===this.rootParentQuestion}singleInputOnAddItem(e){this.isSingleInputActive&&(e&&this.singleInputSummary?this.resetSingleInputSummary():this.setSingleQuestionOnChange(Number.MAX_VALUE))}singleInputOnRemoveItem(e){this.isSingleInputActive&&(this.singleInputSummary?this.onSingleInputChanged():this.setSingleQuestionOnChange(e))}getSingleQuestionOnChange(e){return null}setSingleQuestionOnChange(e){const t=this.getSingleQuestionOnChange(e);t?this.setSingleInputQuestion(t):this.resetSingleInput()}onSetAsSingleInput(){this.isSingleInputSummaryShown=!1;const e=!this.wasRendered||this.singleInputSummary;this.onFirstRendering(),e&&(this.resetSingleInputSummary(),this.resetPropertyValue("singleInputQuestion"),this.resetPropertyValue("singleInputLocTitle"))}nextSingleInput(){return this.nextPrevSingleInput(1)}prevSingleInput(){return this.nextPrevSingleInput(-1)}getSingleInputAddText(){const e=this.currentSingleInputQuestion;return e&&e.singleInputSummary?e.getSingleInputAddTextCore():void 0}singleInputAddItem(e){const t={fireCallback:!0,focusOnFirstError:!0};e&&!this.validateSingleInput(!0,t)?t.firstErrorQuestion&&t.firstErrorQuestion.focus(!0):this.currentSingleInputQuestion.singleInputAddItemCore()}singleInputRemoveItem(){const e=this.singleInputQuestion;e&&e!==this.singleInputParentQuestion&&this.singleInputRemoveItemCore(e)}get singleInputLocTitle(){return this.getPropertyValue("singleInputLocTitle",void 0,()=>this.getSingleQuestionLocTitle())}get singleInputActions(){return this.getPropertyValue("singleInputActions",void 0,()=>this.createSingleInputActions())}get singleInputHasActions(){return this.getPropertyValue("singleInputHasActions",void 0,()=>this.createSingleInputActions())}get singleInputHideHeader(){var e;return!!((e=this.singleInputQuestion)===null||e===void 0?void 0:e.singleInputQuestion)&&this.singleInputQuestion!==this}set sinleInputHasActions(e){this.setPropertyValue("singleInputHasActions",e)}get singleInputParentQuestion(){var e;return((e=this.singleInputQuestion)===null||e===void 0?void 0:e.parentQuestion)||this}createSingleInputActions(){var e;if(((e=this.survey)===null||e===void 0?void 0:e.currentSingleQuestion)!==this)return;const t=new Ss;return t.actions=this.getSingleQuestionActions(),t}calcSingleInputActions(){if(this.parentQuestion)this.parentQuestion.calcSingleInputActions();else{const e=this.getSingleQuestionActions();this.singleInputActions&&(this.singleInputActions.actions=e),this.sinleInputHasActions=e.length>0?!0:void 0}}getSingleQuestionActions(){const e=new Array,t=this.currentSingleInputParentQuestion;if(!t||t===this)return e;const i=t.getSingleInputQuestions(),s=new Array;let n;i.length>1&&i[0]===t&&(n=t,s.push(t));let o=t.parentQuestion;for(;o;)s.push(o),o=o.parentQuestion;for(let h=s.length-1;h>=0;h--){const d=s[h];if(d!==n){const f=d.singleInputLocTitle,p=new ht({id:"single-action"+d.id,locTitle:f,css:this.cssClasses.breadcrumbsItem,innerCss:this.cssClasses.breadcrumbsItemButton,action:()=>{d.singleInputMoveToFirst()}});p.cssClasses={},e.push(p)}}return e}singleInputMoveToFirst(){const e=this.singleInputQuestion;e&&e!==this&&e.singleInputMoveToFirst(),this.singleInputMoveToFirstCore()}singleInputMoveToFirstCore(){}getSingleQuestionLocTitle(){return this.singleInputSummary?void 0:this.getSingleQuestionLocTitleCore()}getSingleQuestionLocTitleCore(){}supportNestedSingleInput(){var e;return(e=this.survey)===null||e===void 0?void 0:e.supportsNestedSingleInput(this)}getSingleInputQuestions(){if(!this.supportNestedSingleInput())return[];const e=this.getPropertyValue("singleInputQuestion");if(e===this)return[this];const t=this.getSingleInputQuestionsCore(e,!e||!this.isSingleInputSummaryShown);return t.forEach(i=>{i!==this&&this.onSingleInputQuestionAdded(i)}),t}getSingleInputQuestionsCore(e,t){return this.getNestedQuestions(!0,!1)}onSingleInputQuestionAdded(e){}fillSingleInputQuestionsInContainer(e,t){}getSingleInputQuestionsForDynamic(e,t){const i=new Array;return e&&e!==this&&t.indexOf(e)<0&&this.fillSingleInputQuestionsInContainer(i,e),t.forEach(s=>i.push(s)),this.isSingleInputSummaryShown&&i.length>0&&i.unshift(this),i.push(this),i}getSingleInputAddTextCore(){}singleInputAddItemCore(){}singleInputRemoveItemCore(e){}setSingleInputQuestionCore(e){this.onBeforeSetSingleInputQuestion(e),this.setPropertyValue("singleInputQuestion",e)}onBeforeSetSingleInputQuestion(e){e.onFirstRendering(),e===this&&(this.isSingleInputSummaryShown=!0)}setSingleInputQuestion(e,t){this.singleInputQuestion!==e&&(this.setSingleInputQuestionCore(e),this.onSingleInputChanged(!t||e!==this))}nextPrevSingleInput(e){let t=this.currentSingleInputParentQuestion;for(;t&&t!==this;){if(t.nextPrevSingleInput(e))return!0;t=t.parentQuestion}const i=this.singleInputQuestion;if(!i)return!1;const s=this.getSingleInputQuestions();let n=s.indexOf(i);if(n<0){if(s.length===0)return!1;n=0,e=0}return n+=e,n<0||n>=s.length?!1:(this.setSingleInputQuestion(s[n],e<0),!0)}get hasTitle(){return this.getTitleLocation()!=="hidden"}get titleLocation(){return this.getPropertyValue("titleLocation")}set titleLocation(e){var t=this.titleLocation=="hidden"||e=="hidden";this.setPropertyValue("titleLocation",e.toLowerCase()),this.updateQuestionCss(),t&&this.notifySurveyVisibilityChanged()}get showTitle(){return this.getTitleLocation()!=="hidden"}set showTitle(e){this.titleLocation=e?"default":"hidden"}getTitleOwner(){return this}getIsTitleRenderedAsString(){return this.titleLocation==="hidden"}notifySurveyOnChildrenVisibilityChanged(){return!1}notifySurveyVisibilityChanged(){if(!this.survey||this.isLoadingFromJson)return;this.survey.questionVisibilityChanged(this,this.isVisible,!this.parentQuestion||this.parentQuestion.notifySurveyOnChildrenVisibilityChanged());const e=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(e),e&&this.isVisibleInSurvey&&this.updateValueWithDefaults()}clearValueOnHidding(e){e&&this.clearValueIfInvisible()}get titleWidth(){if(this.parent&&this.getTitleLocation()==="left"){const e=this.parent.getColumsForElement(this),t=e.length;if(t!==0&&e[0].questionTitleWidth)return e[0].questionTitleWidth;const i=this.getQuestionParentTitleWidth(),s=this.getPercentQuestionTitleWidth(i);if(!s&&this.parent){let n=i;return n&&!isNaN(n)&&(n=n+"px"),n}return s/(t||1)+"%"}}getQuestionParentTitleWidth(){if(!this.parent)return;const e=this.parent.getQuestionTitleWidth();return!e&&this.parentQuestion?this.parentQuestion.getQuestionParentTitleWidth():e}getPercentQuestionTitleWidth(e){if(e&&e[e.length-1]==="%")return parseInt(e)}getTitleLocation(){if(this.isFlowLayout)return"hidden";var e=this.getTitleLocationCore();return e==="left"&&!this.isAllowTitleLeft&&(e="top"),e}getTitleLocationCore(){return this.titleLocation!=="default"?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"}get hasTitleOnLeft(){return this.hasTitle&&this.getTitleLocation()==="left"}get hasTitleOnTop(){return this.hasTitle&&this.getTitleLocation()==="top"}get hasTitleOnBottom(){return this.hasTitle&&this.getTitleLocation()==="bottom"}get hasTitleOnLeftTop(){if(!this.hasTitle)return!1;const e=this.getTitleLocation();return e==="left"||e==="top"}get errorLocation(){return this.getPropertyValue("errorLocation")}set errorLocation(e){this.setPropertyValue("errorLocation",e)}getErrorLocation(){return this.errorLocation!=="default"?this.errorLocation:this.parentQuestion?this.parentQuestion.getChildErrorLocation(this):this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"}getChildErrorLocation(e){return this.getErrorLocation()}get hasInput(){return!0}get hasSingleInput(){return this.hasInput}get inputId(){return this.id+"i"}getDefaultTitleValue(){return this.name}getDefaultTitleTagName(){return X.titleTags.question}get descriptionLocation(){return this.getPropertyValue("descriptionLocation")}set descriptionLocation(e){this.setPropertyValue("descriptionLocation",e),this.updateQuestionCss()}get hasDescriptionUnderTitle(){return this.getDescriptionLocation()=="underTitle"&&this.hasDescription}get hasDescriptionUnderInput(){return this.getDescriptionLocation()=="underInput"&&this.hasDescription}getDescriptionLocation(){return this.descriptionLocation!=="default"?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"}needClickTitleFunction(){return super.needClickTitleFunction()||this.hasInput}processTitleClick(){if(super.processTitleClick(),!this.isCollapsed)return setTimeout(()=>{this.focus()},1),!0}get requiredErrorText(){return this.getLocalizableStringText("requiredErrorText")}set requiredErrorText(e){this.setLocalizableStringText("requiredErrorText",e)}get locRequiredErrorText(){return this.getLocalizableString("requiredErrorText")}get commentText(){return this.getLocalizableStringText("commentText")}set commentText(e){this.setLocalizableStringText("commentText",e)}get locCommentText(){return this.getLocalizableString("commentText")}get commentPlaceholder(){return this.getLocalizableStringText("commentPlaceholder")}set commentPlaceholder(e){this.setLocalizableStringText("commentPlaceholder",e)}get locCommentPlaceholder(){return this.getLocalizableString("commentPlaceholder")}get commentPlaceHolder(){return this.commentPlaceholder}set commentPlaceHolder(e){this.commentPlaceholder=e}get renderedCommentPlaceholder(){var e;return(e=this.getPropertyValue("renderedCommentPlaceholder"))!==null&&e!==void 0?e:this.isReadOnly?void 0:this.commentPlaceHolder}resetRenderedCommentPlaceholder(){this.resetPropertyValue("renderedCommentPlaceholder")}get defaultDisplayValue(){return this.getLocalizableStringText("defaultDisplayValue")}set defaultDisplayValue(e){this.setLocalizableStringText("defaultDisplayValue",e)}get locDefaultDisplayValue(){return this.getLocalizableString("defaultDisplayValue")}getAllErrors(){return this.errors.slice()}getErrorByType(e){for(let t=0;t<this.errors.length;t++)if(this.errors[t].getErrorType()===e)return this.errors[t];return null}get customWidget(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue}updateCustomWidget(){this.customWidgetValue=hf.Instance.getCustomWidget(this)}localeChanged(){super.localeChanged(),this.resetRenderedCommentPlaceholder(),this.localeChangedCallback&&this.localeChangedCallback()}get isCompositeQuestion(){return!1}get isContainer(){return!1}updateCommentElements(){}onCommentInput(e){this.isInputTextUpdate?e.target&&(this.comment=e.target.value):this.updateCommentElements()}onCommentChange(e){this.comment=e.target.value,this.comment!==e.target.value&&(e.target.value=this.comment)}afterRenderQuestionElement(e){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,e)}afterRender(e){this.afterRenderCore(e),this.survey&&(this.survey.afterRenderQuestion(this,e),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,e),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(t=>{const i=e?.querySelector(`#${t}`);i&&this.commentElements.push(i)}),this.updateCommentElements()),this.checkForResponsiveness(e))}afterRenderCore(e){super.afterRenderCore(e)}getCommentElementsId(){return[this.commentId]}beforeDestroyQuestionElement(e){this.commentElements=void 0}get processedTitle(){var e=this.locProcessedTitle.textOrHtml;return e||this.name}get fullTitle(){return this.locTitle.renderedHtml}get titlePattern(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"}get isRequireTextOnStart(){return this.isRequired&&this.titlePattern=="requireNumTitle"}get isRequireTextBeforeTitle(){return this.isRequired&&this.titlePattern=="numRequireTitle"&&this.requiredMark!==""}get isRequireTextAfterTitle(){return this.isRequired&&this.titlePattern=="numTitleRequire"&&this.requiredMark!==""}get startWithNewLine(){return this.getPropertyValue("startWithNewLine")}set startWithNewLine(e){this.startWithNewLine!=e&&this.setPropertyValue("startWithNewLine",e)}calcCssClasses(e){const t={error:{}};return this.copyCssClasses(t,e.question),this.copyCssClasses(t.error,e.error),this.updateCssClasses(t,e),t}onCalcCssClasses(e){super.onCalcCssClasses(e),this.survey&&this.survey.updateQuestionCssClasses(this,e),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(e)}get cssRoot(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")}setCssRoot(e){this.setPropertyValue("cssRoot",e)}getCssRoot(e){const t=this.hasCssError();return new fe().append(super.getCssRoot(e)).append(this.isFlowLayout&&!this.isDesignMode?e.flowRoot:e.mainRoot).append(e.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(e.titleTopRoot,!this.isFlowLayout&&this.hasTitleOnTop).append(e.titleBottomRoot,!this.isFlowLayout&&this.hasTitleOnBottom).append(e.descriptionUnderInputRoot,!this.isFlowLayout&&this.hasDescriptionUnderInput).append(e.hasError,t).append(e.hasErrorTop,t&&this.getErrorLocation()=="top").append(e.hasErrorBottom,t&&this.getErrorLocation()=="bottom").append(e.small,!this.width).append(e.answered,this.isAnswered).append(e.noPointerEventsMode,this.isReadOnlyAttr).toString()}get cssHeader(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")}setCssHeader(e){this.setPropertyValue("cssHeader",e)}getCssHeader(e){return new fe().append(e.header).append(e.headerTop,this.hasTitleOnTop).append(e.headerLeft,this.hasTitleOnLeft).append(e.headerBottom,this.hasTitleOnBottom).toString()}supportContainerQueries(){return!1}get cssContent(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")}setCssContent(e){this.setPropertyValue("cssContent",e)}getCssContent(e){return new fe().append(e.content).append(e.contentSupportContainerQueries,this.supportContainerQueries()).append(e.contentLeft,this.hasTitleOnLeft).toString()}get cssTitle(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")}setCssTitle(e){this.setPropertyValue("cssTitle",e)}getCssTitle(e){return new fe().append(super.getCssTitle(e)).append(e.singleInputTitle,!!this.singleInputQuestion).append(e.titleOnAnswer,!this.containsErrors&&this.isAnswered).append(e.titleEmpty,!this.title.trim()).toString()}get cssDescription(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")}setCssDescription(e){this.setPropertyValue("cssDescription",e)}getCssDescription(e){return new fe().append(e.description).append(e.descriptionUnderInput,this.getDescriptionLocation()=="underInput").toString()}get showErrorsAboveQuestion(){return this.getErrorLocation()==="top"}get showErrorsBelowQuestion(){return this.getErrorLocation()==="bottom"}get cssError(){return this.ensureElementCss(),this.getPropertyValue("cssError","")}setCssError(e){this.setPropertyValue("cssError",e)}getCssError(e){return new fe().append(e.error.root).append(e.errorsContainer).append(e.errorsContainerTop,this.showErrorsAboveQuestion).append(e.errorsContainerBottom,this.showErrorsBelowQuestion).toString()}hasCssError(){return this.errors.length>0||this.hasCssErrorCallback()}get isSingleInputQuestionMode(){var e;return!!this.parentQuestion&&((e=this.survey)===null||e===void 0?void 0:e.isSingleVisibleInput)}getIsNested(){return this.isSingleInputQuestionMode?!1:super.getIsNested()}getHasFrameV2(){return this.isSingleInputQuestionMode?!0:super.getHasFrameV2()}getRootCss(){return new fe().append(this.cssRoot,!this.singleInputQuestion).append(this.cssClasses.mobile,this.isMobile).append(this.cssClasses.readOnly,this.isReadOnlyStyle).append(this.cssClasses.disabled,this.isDisabledStyle).append(this.cssClasses.preview,this.isPreviewStyle).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()}getQuestionRootCss(){return new fe().append(this.cssClasses.root).append(this.cssClasses.rootMobile,this.isMobile).toString()}updateElementCss(e){this.wasRendered?(super.updateElementCss(e),e&&this.updateQuestionCss(!0)):this.clearCssClasses(),this.resetIndents()}updateQuestionCss(e){this.isLoadingFromJson||!this.survey||(this.wasRendered?this.updateElementCssCore(this.cssClasses):this.isRequireUpdateElements=!0)}ensureElementCss(){this.cssClassesValue||this.updateQuestionCss(!0)}updateElementCssCore(e){this.setCssRoot(this.getCssRoot(e)),this.setCssHeader(this.getCssHeader(e)),this.setCssContent(this.getCssContent(e)),this.setCssTitle(this.getCssTitle(e)),this.setCssDescription(this.getCssDescription(e)),this.setCssError(this.getCssError(e))}updateCssClasses(e,t){if(!t.question)return;const i=t[this.getCssType()],s=new fe().append(e.title).append(t.question.titleRequired,this.isRequired);e.title=s.toString();const n=new fe().append(e.root).append(i,this.isRequired&&!!t.question.required);if(i==null)e.root=n.toString();else if(typeof i=="string"||i instanceof String)e.root=n.append(i.toString()).toString();else{e.root=n.toString();for(const o in i)e[o]=i[o]}}getCssType(){return this.getType()}get renderCssRoot(){return this.cssClasses.root||void 0}calcPaddingLeft(){return this.getIndentSize(this.indent)}calcPaddingRight(){return this.getIndentSize(this.rightIndent)}getIndentSize(e){return e<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":e*this.cssClasses.indent+"px"}focus(e=!1,t){if(this.isDesignMode||!this.isVisible||!this.survey)return;let i=this.page;const s=!!i&&this.survey.activePage!==i,n=this.survey.isSingleVisibleInput;if(s&&!n)this.survey.focusQuestionByInstance(this,e);else if(n){this.survey.currentSingleQuestion=this.rootParentQuestion;const o=this.getParentQuestions();for(let h=o.length-1;h>=1;h--)h===o.length-1&&o[h].setSingleInputQuestion(o[h-1]);o.length>0&&o[0].setSingleInputQuestion(this),this.focusInputElement(e)}else{this.expandAllParents();const o=this.survey.isSmoothScrollEnabled?{behavior:"smooth"}:void 0;this.survey.scrollElementToTop(this,this,null,this.id,t,o,void 0,()=>{this.focusInputElement(e)})}}focusInputElement(e){var t;const i=e?this.getFirstErrorInputElementId():this.getFirstInputElementId(),s=(t=this.survey)===null||t===void 0?void 0:t.rootElement;ai.FocusElement(i,!1,s)&&this.fireCallback(this.focusCallback)}get isValidateVisitedEmptyFields(){return this.supportEmptyValidation()&&!!this.survey&&this.survey.getValidateVisitedEmptyFields()&&this.isEmpty()}supportEmptyValidation(){return!1}onBlur(e){this.onBlurCore(e)}onFocus(e){this.onFocusCore(e)}onBlurCore(e){this.isFocusEmpty&&this.isEmpty()&&this.validate(!0)}onFocusCore(e){this.isFocusEmpty=this.isValidateVisitedEmptyFields}expandAllParents(){this.expandAllParentsCore(this)}expandAllParentsCore(e){e&&(e.isCollapsed&&e.expand(),this.expandAllParentsCore(e.parent),this.expandAllParentsCore(e.parentQuestion))}focusIn(){!this.survey||this.isDisposed||this.isContainer||this.survey.whenQuestionFocusIn(this)}fireCallback(e){e&&e()}getOthersMaxLength(){return this.survey&&this.survey.maxCommentLength>0?this.survey.maxCommentLength:null}onCreating(){}getFirstQuestionToFocus(e){return this.hasInput&&(!e||this.currentErrorCount>0)?this:null}getFirstInputElementId(){return this.inputId}getFirstErrorInputElementId(){return this.getFirstInputElementId()}getProcessedTextValue(e){var t=e.name.toLocaleLowerCase();e.isExists=Object.keys(Ii.TextPreprocessorValuesMap).indexOf(t)!==-1||this[e.name]!==void 0,e.value=this[Ii.TextPreprocessorValuesMap[t]||e.name]}supportComment(){const e=this.getPropertyByName("showCommentArea");return!e||e.visible}supportOther(){return!1}get isRequired(){return this.getPropertyValue("isRequired")}set isRequired(e){this.setPropertyValue("isRequired",e)}get requiredIf(){return this.getPropertyValue("requiredIf","")}set requiredIf(e){this.setPropertyValue("requiredIf",e)}get showCommentArea(){return this.getPropertyValue("showCommentArea",!1)}set showCommentArea(e){this.supportComment()&&this.setPropertyValue("showCommentArea",e)}get hasComment(){return this.showCommentArea}set hasComment(e){this.showCommentArea=e}get id(){return this.getPropertyValue("id")}set id(e){this.setPropertyValue("id",e)}get ariaTitleId(){return this.id+"_ariaTitle"}get ariaDescriptionId(){return this.id+"_ariaDescription"}get commentId(){return this.id+"_comment"}get requireUpdateCommentValue(){return this.hasComment}get isReadOnly(){const e=!!this.parent&&this.parent.isReadOnly,t=!!this.parentQuestion&&this.parentQuestion.isReadOnly,i=!!this.survey&&this.survey.isDisplayMode,s=!!this.readOnlyCallback&&this.readOnlyCallback();return this.readOnly||e||i||t||s}get isInputReadOnly(){return this.forceIsInputReadOnly!==void 0?this.forceIsInputReadOnly:this.isReadOnly||this.isDesignMode}get renderedInputReadOnly(){return this.isInputReadOnly?"":void 0}get renderedInputDisabled(){return this.isInputReadOnly?"":void 0}get isReadOnlyAttr(){return this.isReadOnly}get isDisabledAttr(){return this.isDesignMode||!!this.readOnlyCallback&&this.readOnlyCallback()}onReadOnlyChanged(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),super.onReadOnlyChanged(),this.isReadOnly&&this.clearErrors(),this.updateQuestionCss(),this.resetRenderedCommentPlaceholder()}get enableIf(){return this.getPropertyValue("enableIf","")}set enableIf(e){this.setPropertyValue("enableIf",e)}surveyChoiceItemVisibilityChange(){}runCondition(e,t){this.isDesignMode||(t||(t={}),t.question=this,this.runConditionCore(e,t),!this.isValueChangedDirectly&&(!this.isClearValueOnHidden||this.isVisibleInSurvey)&&(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,e,t)))}get isInDesignMode(){return!this.isContentElement&&this.isDesignMode}get no(){return this.getPropertyValue("no")}calcNo(){if(!this.hasTitle||!this.showNumber)return"";let e;this.parent&&(e=this.parent.visibleIndex);let t=z.getNumberByIndex(this.visibleIndex,this.getStartIndex(),e);return this.parent&&(t=this.parent.addNoFromChild(t)),this.survey&&(t=this.survey.getUpdatedQuestionNo(this,t)),t}getStartIndex(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""}onSurveyLoad(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey()}onSetData(){super.onSetData(),!this.isDesignMode&&this.survey&&!this.isLoadingFromJson&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.updateIsAnswered())}initDataFromSurvey(){if(this.data){const e=this.data.getValue(this.getValueName());(!z.isValueEmpty(e)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(e),this.initCommentFromSurvey()}}initCommentFromSurvey(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")}runExpression(e){if(!(!this.survey||!e))return this.survey.runExpression(e)}get commentAreaRows(){return this.survey&&this.survey.commentAreaRows}get autoGrowComment(){return this.survey&&this.survey.autoGrowComment}get allowResizeComment(){return this.survey&&this.survey.allowResizeComment}get questionValue(){return this.getPropertyValueWithoutDefault("value")}set questionValue(e){this.setPropertyValue("value",e)}get questionComment(){return this.getPropertyValueWithoutDefault("comment")}set questionComment(e){this.setPropertyValue("comment",e),this.fireCallback(this.commentChangedCallback)}get isValueArray(){return!1}get value(){return this.getValueCore()}set value(e){this.setNewValue(e)}get hasFilteredValue(){return!1}getFilteredValue(){return this.value}getFilteredName(){return this.getValueName()}get valueForSurvey(){return this.valueForSurveyCore(this.value)}valueForSurveyCore(e){return this.valueToDataCallback?this.valueToDataCallback(e):e}valueFromDataCore(e){return this.valueFromDataCallback?this.valueFromDataCallback(e):e}clearValue(e){this.value!==void 0&&(this.value=void 0),this.comment&&e!==!0&&(this.comment=void 0),this.setValueChangedDirectly(!1)}clearValueOnly(){this.clearValue(!0)}unbindValue(){this.clearValue()}createValueCopy(){return this.getUnbindValue(this.value)}initDataUI(){}getUnbindValue(e){return this.isValueSurveyElement(e)?e:z.getUnbindValue(e)}isValueSurveyElement(e){return e?Array.isArray(e)?e.length>0?this.isValueSurveyElement(e[0]):!1:e.isSurveyObj===!0:!1}canClearValueAsInvisible(e){return e==="onHiddenContainer"&&!this.isParentVisible?!0:this.isVisibleInSurvey||this.page&&this.page.isStartPage?!1:this.survey?!this.survey.hasVisibleQuestionByValueName(this.getValueName()):!0}get isParentVisible(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var e=this.parent;e;){if(!e.isVisible)return!1;e=e.parent}return!0}clearValueIfInvisible(e="onHidden"){const t=this.getClearIfInvisible();t!=="none"&&(e==="onHidden"&&t==="onComplete"||e==="onHiddenContainer"&&t!==e||this.clearValueIfInvisibleCore(e))}clearValueIfInvisibleCore(e){this.canClearValueAsInvisible(e)&&this.clearValue()}get clearIfInvisible(){return this.getPropertyValue("clearIfInvisible")}set clearIfInvisible(e){this.setPropertyValue("clearIfInvisible",e)}getClearIfInvisible(){const e=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(e):e!=="default"?e:"onComplete"}get displayValue(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)}getDisplayValue(e,t=void 0){var i=this.calcDisplayValue(e,t);return this.survey&&(i=this.survey.getQuestionDisplayValue(this,i)),this.displayValueCallback?this.displayValueCallback(i):i}calcDisplayValue(e,t=void 0){if(this.customWidget){var i=this.customWidget.getDisplayValue(this,t);if(i)return i}return t=t??this.createValueCopy(),this.isValueEmpty(t)&&!this.locDefaultDisplayValue.isEmpty&&(t=this.defaultDisplayValue),this.isValueEmpty(t,!this.allowSpaceAsAnswer)?this.getDisplayValueEmpty():this.getDisplayValueCore(e,t)}getDisplayValueCore(e,t){return t}getDisplayValueEmpty(){return""}get defaultValue(){return this.getPropertyValue("defaultValue")}set defaultValue(e){if(this.isValueExpression(e)){this.defaultValueExpression=e.substring(1);return}this.setPropertyValue("defaultValue",this.convertDefaultValue(e)),this.updateValueWithDefaults()}get defaultValueExpression(){return this.getPropertyValue("defaultValueExpression")}set defaultValueExpression(e){this.setPropertyValue("defaultValueExpression",e),this.defaultValueRunner=void 0,this.updateValueWithDefaults()}get resetValueIf(){return this.getPropertyValue("resetValueIf")}set resetValueIf(e){this.setPropertyValue("resetValueIf",e)}get setValueIf(){return this.getPropertyValue("setValueIf")}set setValueIf(e){this.setPropertyValue("setValueIf",e)}get setValueExpression(){return this.getPropertyValue("setValueExpression")}set setValueExpression(e){this.setPropertyValue("setValueExpression",e)}get resizeStyle(){return this.allowResizeComment?"both":"none"}getPlainData(e){if(e||(e={includeEmpty:!0,includeQuestionTypes:!1}),e.includeEmpty||!this.isEmpty()){var t={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:i=>typeof i=="object"?JSON.stringify(i):i};return e.includeQuestionTypes===!0&&(t.questionType=this.getType()),(e.calculations||[]).forEach(i=>{t[i.propertyName]=this.getPlainDataCalculatedValue(i.propertyName)}),this.hasComment&&(t.isNode=!0,t.data=[{name:0,isComment:!0,title:"Comment",value:X.commentSuffix,displayValue:this.comment,getString:i=>typeof i=="object"?JSON.stringify(i):i,isNode:!1}]),t}}getPlainDataCalculatedValue(e){return this[e]}get correctAnswer(){return this.getPropertyValue("correctAnswer")}set correctAnswer(e){this.setPropertyValue("correctAnswer",this.convertDefaultValue(e))}convertDefaultValue(e){return e}get quizQuestionCount(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0}get correctAnswerCount(){return!this.isEmpty()&&!this.isValueEmpty(this.correctAnswer)?this.getCorrectAnswerCount():0}getQuizQuestionCount(){return 1}getCorrectAnswerCount(){return this.checkIfAnswerCorrect()?1:0}checkIfAnswerCorrect(){const e=z.isTwoValueEquals(this.value,this.correctAnswer,this.getAnswerCorrectIgnoreOrder(),X.comparator.caseSensitive,!0),t=e?1:0,i=this.quizQuestionCount-t,s={result:e,correctAnswers:t,correctAnswerCount:t,incorrectAnswers:i,incorrectAnswerCount:i};return this.survey&&this.survey.onCorrectQuestionAnswer(this,s),s.result}getAnswerCorrectIgnoreOrder(){return!1}isAnswerCorrect(){return this.correctAnswerCount==this.quizQuestionCount}updateValueWithDefaults(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()}get isValueDefault(){return!this.isEmpty()&&(this.isTwoValueEquals(this.defaultValue,this.value)||!this.isValueChangedDirectly&&!!this.defaultValueExpression)}get isClearValueOnHidden(){const e=this.getClearIfInvisible();return e==="none"||e==="onComplete"?!1:e==="onHidden"||e==="onHiddenContainer"}getQuestionFromArray(e,t){return null}getDefaultValue(){return this.defaultValue}isDefaultValueEmpty(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue,!this.allowSpaceAsAnswer)}getDefaultRunner(e,t){return!e&&t&&(e=this.createExpressionRunner(t)),e&&(e.expression=t),e}setDefaultValue(){this.setDefaultValueCore(e=>{this.isTwoValueEquals(this.value,e)||(this.value=e)})}setDefaultValueCore(e){this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),t=>e(t))}updateValueWithDefaultsOrClear(){this.isDesignMode||this.isLoadingFromJson||(this.isDefaultValueEmpty()?this.clearValue():this.setDefaultValue())}isValueExpression(e){return!!e&&typeof e=="string"&&e.length>0&&e[0]=="="}setValueAndRunExpression(e,t,i,s=null,n=null){const o=h=>{this.runExpressionSetValueCore(h,i)};this.runDefaultValueExpression(e,s,n,o)||o(t)}convertFuncValuetoQuestionValue(e){return z.convertValToQuestionVal(e)}runExpressionSetValueCore(e,t){t(this.convertFuncValuetoQuestionValue(e))}runExpressionSetValue(e){this.runExpressionSetValueCore(e,t=>{this.isTwoValueEquals(this.value,t)||(this.startSetValueOnExpression(),this.value=t,this.finishSetValueOnExpression())})}startSetValueOnExpression(){var e;(e=this.survey)===null||e===void 0||e.startSetValueOnExpression()}finishSetValueOnExpression(){var e;(e=this.survey)===null||e===void 0||e.finishSetValueOnExpression()}runDefaultValueExpression(e,t=null,i=null,s){return!e||!this.data?!1:(s||(s=n=>{this.runExpressionSetValue(n)}),t||(t=this.defaultValueExpression?this.data.getFilteredValues():{}),i||(i=this.defaultValueExpression?this.data.getFilteredProperties():{},i.question=this),e&&e.canRun&&(e.onRunComplete=n=>{n==null&&(n=this.defaultValue),this.isChangingViaDefaultValue=!0,s(n),this.isChangingViaDefaultValue=!1},e.run(t,i)),!0)}get comment(){return this.getQuestionComment()}set comment(e){if(e){const t=e.toString().trim();t!==e&&(e=t,e===this.comment&&this.setPropertyValueDirectly("comment",e))}this.comment!=e&&(this.setQuestionComment(e),this.updateCommentElements())}getCommentAreaCss(e=!1){return new fe().append("form-group",e).append(this.cssClasses.formGroup,!e).append(this.cssClasses.commentArea).toString()}getQuestionComment(){return this.questionComment}setQuestionComment(e){this.setNewComment(e)}isEmpty(){return this.isValueEmpty(this.value,!this.allowSpaceAsAnswer)}get isAnswered(){return this.getPropertyValue("isAnswered")||!1}set isAnswered(e){this.setPropertyValue("isAnswered",e)}updateIsAnswered(){const e=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),e!==this.isAnswered&&this.updateQuestionCss()}getIsAnswered(){return!this.isEmpty()}get validators(){return this.getPropertyValue("validators")}set validators(e){this.setPropertyValue("validators",e)}getValidators(){return this.validators}getSupportedValidators(){for(var e=[],t=this.getType();t;){var i=X.supportedValidators[t];if(i)for(var s=i.length-1;s>=0;s--)e.splice(0,0,i[s]);var n=le.findClass(t);t=n.parentName}return e}addConditionObjectsByContext(e,t){e.push({name:this.getFilteredName(),text:this.processedTitle,question:this})}getNestedQuestions(e=!1,t=!0,i=!1){const s=[];return this.collectNestedQuestions(s,e,t,i),!i&&s.length===1&&s[0]===this?[]:s}collectNestedQuestions(e,t=!1,i=!0,s=!1){t&&!this.isVisible||this.collectNestedQuestionsCore(e,t,i,s)}collectNestedQuestionsCore(e,t,i,s){e.push(this)}addNestedQuestion(e,t,i,s){i?this.collectNestedQuestions(e,t,i,s):(!t||this.isVisible)&&e.push(this)}getConditionJson(e=null,t=null){const i=new Ri().toJsonObject(this);return i.type=this.getType(),i}hasErrors(e=!0,t=null){const i=this.checkForErrors(!!t&&t.isOnValueChanged===!0,e);return e&&(this.errors=i,this.errors!==i&&this.errors.forEach(s=>s.locText.strChanged())),this.updateContainsErrors(),this.isCollapsed&&t&&e&&i.length>0&&this.expand(),i.length>0}validate(e=!0,t=null){return t&&t.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(e,t)}get currentErrorCount(){return this.errors.length}get requiredMark(){return this.survey!=null&&this.isRequired?this.survey.requiredMark:""}get requiredText(){return this.requiredMark}addError(e){if(!e)return;let t=null;typeof e=="string"||e instanceof String?t=this.addCustomError(e):t=e,this.errors.push(t)}addCustomError(e){return new Gr(e,this.survey)}removeError(e){if(!e)return!1;const t=this.errors,i=t.indexOf(e);return i!==-1&&t.splice(i,1),i!==-1}checkForErrors(e,t){var i=new Array;if(this.isVisible&&this.canCollectErrors()&&this.collectErrors(i,e,t),this.survey){if(this.validateValueCallback&&i.length===0){const s=this.validateValueCallback();s&&i.push(s)}this.survey.validateQuestion(this,i,t)}return i}canCollectErrors(){return!this.isReadOnly||X.readOnly.enableValidation}collectErrors(e,t,i){if(this.onCheckForErrors(e,t,i),!(e.length>0||!this.canRunValidators(t))){var s=this.runValidators();if(s.length>0){e.length=0;for(var n=0;n<s.length;n++)e.push(s[n])}}}canRunValidators(e){return!0}onCheckForErrors(e,t,i){if((!t||this.isOldAnswered)&&this.hasRequiredError()){const s=new tE(this.requiredErrorText,this);s.onUpdateErrorTextCallback=n=>{n.text=this.requiredErrorText},e.push(s)}if(!this.isEmpty()&&this.customWidget){const s=this.customWidget.validate(this);s&&e.push(this.addCustomError(s))}}hasRequiredError(){return this.isRequired&&this.isEmpty()}get isRunningValidators(){return this.getIsRunningValidators()}getIsRunningValidators(){return this.isRunningValidatorsValue}runValidators(){return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new hE,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=e=>{this.doOnAsyncCompleted(e)},this.validatorRunner.run(this)}doOnAsyncCompleted(e){for(var t=0;t<e.length;t++)this.errors.push(e[t]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()}raiseOnCompletedAsyncValidators(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)}setNewValue(e){this.isNewValueEqualsToValue(e)||this.checkIsValueCorrect(e)&&(this.isOldAnswered=this.isAnswered,this.isSettingQuestionValue=!0,this.setNewValueInData(e),this.allowNotifyValueChanged&&this.onValueChanged(),this.isSettingQuestionValue=!1,this.isAnswered!==this.isOldAnswered&&this.updateQuestionCss(),this.isOldAnswered=void 0,this.parent&&this.parent.onQuestionValueChanged(this))}checkIsValueCorrect(e){const t=this.isValueEmpty(e,!this.allowSpaceAsAnswer)||this.isNewValueCorrect(e);return t||Ir.inCorrectQuestionValue(this.name,e),t}isNewValueCorrect(e){return!0}isNewValueEqualsToValue(e){const t=this.value;return this.isTwoValueEquals(e,t,!1,!1)?!(e===t&&!!t&&(Array.isArray(t)||typeof t=="object")):!1}isTextValue(){return!1}getIsInputTextUpdate(){return this.survey?this.survey.isUpdateValueTextOnTyping:!1}get requireStrictCompare(){return!1}getExpressionValue(e){return e}getDataLocNotification(){return this.isInputTextUpdate?"text":!1}get isInputTextUpdate(){return this.getIsInputTextUpdate()&&this.isTextValue()}setNewValueInData(e){e=this.valueToData(e),this.isValueChangedInSurvey||this.setValueCore(e)}getValueCore(){return this.questionValue}setValueCore(e){this.setQuestionValue(e),this.data!=null&&this.canSetValueToSurvey()&&(e=this.valueForSurvey,this.data.setValue(this.getValueName(),e,this.getDataLocNotification(),this.allowNotifyValueChanged,this.name)),this.isMouseDown=!1}canSetValueToSurvey(){return!0}valueFromData(e){return e}valueToData(e){return e}convertToCorrectValue(e){return e}onValueChanged(){}onMouseDown(){this.isMouseDown=!0}setNewComment(e){this.questionComment!==e&&(this.questionComment=e,this.setCommentIntoData(e))}setCommentIntoData(e){this.data!=null&&this.data.setComment(this.getValueName(),e,this.getIsInputTextUpdate()?"text":!1)}getValidName(e){return zm(e)}updateValueFromSurvey(e,t=!1){if(e=this.getUnbindValue(e),e=this.valueFromDataCore(e),!this.checkIsValueCorrect(e))return;const i=this.isValueEmpty(e);!i&&this.defaultValueExpression?this.setDefaultValueCore(s=>{this.updateValueFromSurveyCore(e,this.isTwoValueEquals(e,s))}):(this.updateValueFromSurveyCore(e,this.data!==this.getSurvey()),t&&i&&(this.isValueChangedDirectly=!1)),this.updateDependedQuestions(),this.updateIsAnswered()}updateValueFromSurveyCore(e,t){this.isChangingViaDefaultValue=t,e=this.valueFromData(e);const i=this.isTwoValueEquals(this.questionValue,this.convertToCorrectValue(e));this.setQuestionValue(e),i||this.resetSingleInput(),this.isChangingViaDefaultValue=!1}updateCommentFromSurvey(e){this.questionComment=e}onChangeQuestionValue(e){}setValueChangedDirectly(e){this.isValueChangedDirectly=e,this.setValueChangedDirectlyCallback&&this.setValueChangedDirectlyCallback(e)}setQuestionValue(e,t=!0){e=this.convertToCorrectValue(e);const i=this.isTwoValueEquals(this.questionValue,e);!i&&!this.isChangingViaDefaultValue&&!this.isParentChangingViaDefaultValue&&this.setValueChangedDirectly(!0),this.questionValue=e,i||this.onChangeQuestionValue(e),!i&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),t&&this.updateIsAnswered()}get isParentChangingViaDefaultValue(){var e;return((e=this.data)===null||e===void 0?void 0:e.isChangingViaDefaultValue)===!0}onSurveyValueChanged(e){}setVisibleIndex(e){return e>-1&&(!this.isVisible||!this.hasTitle&&!X.numbering.includeQuestionsWithHiddenTitle||!this.showNumber&&!X.numbering.includeQuestionsWithHiddenNumber)&&(e=-1),this.setPropertyValue("visibleIndex",e),this.setPropertyValue("no",this.calcNo()),e<0?0:1}removeElement(e){return!1}supportGoNextPageAutomatic(){return this.supportAutoAdvance()}supportAutoAdvance(){return!1}supportGoNextPageError(){return!0}clearIncorrectValues(){}clearOnDeletingContainer(){}clearErrors(){this.errors=[]}clearUnusedValues(){}onAnyValueChanged(e,t){}checkBindings(e,t){if(!(this.bindings.isEmpty()||!this.data))for(var i=this.bindings.getPropertiesByValueName(e),s=0;s<i.length;s++){const n=i[s];this.isValueEmpty(t)&&z.isNumber(this[n])&&(t=0),this.updateBindingProp(n,t)}}updateBindingProp(e,t){this[e]=t}getComponentName(){return Un.Instance.getRendererByQuestion(this)}isDefaultRendering(){return!!this.customWidget||this.getComponentName()==="default"}get renderAs(){return this.getPropertyValue("renderAs")}set renderAs(e){this.setPropertyValue("renderAs",e)}get inMatrixMode(){return this.getPropertyValue("inMatrixMode",!1)}set inMatrixMode(e){this.setPropertyValue("inMatrixMode",e)}getErrorCustomText(e,t){return this.survey?this.survey.getSurveyErrorCustomText(this,e,t):e}getValidatorTitle(){return null}get validatedValue(){return this.value}set validatedValue(e){this.value=e}getAllValues(){return this.data?this.data.getAllValues():null}processPopupVisiblilityChanged(e,t){this.survey.processPopupVisiblityChanged(this,e,t)}processOpenDropdownMenu(e){this.survey.processOpenDropdownMenu(this,e)}onTextKeyDownHandler(e){e.keyCode===13&&this.survey.questionEditFinishCallback(this,e)}transformToMobileView(){}transformToDesktopView(){}needResponsiveWidth(){return!1}supportResponsiveness(){return!1}needResponsiveness(){return this.supportResponsiveness()&&!this.isDesignMode}checkForResponsiveness(e){if(this.needResponsiveness())if(this.isCollapsed){const t=()=>{this.isExpanded&&(this.initResponsiveness(e),this.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))};this.registerPropertyChangedHandlers(["state"],t,"for-responsiveness")}else this.initResponsiveness(e)}getObservedElementSelector(){return".sd-scrollable-container"}onMobileChanged(){this.onMobileChangedCallback&&this.onMobileChangedCallback()}triggerResponsiveness(e=!0){this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(e)}initResponsiveness(e){if(Ge.isAvailable()&&(this.destroyResizeObserver(),e&&this.isDefaultRendering())){const t=this.getObservedElementSelector();if(!t||!e.querySelector(t))return;let s=!1,n;this.triggerResponsivenessCallback=o=>{o&&(n=void 0,this.renderAs="default",s=!1);const h=()=>{const d=e.querySelector(t);if(this.isDefaultRendering()&&(n=d.scrollWidth),s||!uv(d))s=!1;else{const f=Bm(d);s=this.processResponsiveness(n,f)}};o?setTimeout(h,1):h()},this.resizeObserver=new ResizeObserver(o=>{$e.requestAnimationFrame(()=>{this.triggerResponsiveness(!1)})}),this.onMobileChangedCallback=()=>{setTimeout(()=>{const o=e.querySelector(t);this.processResponsiveness(n,Bm(o))},0)},this.resizeObserver.observe(e)}}getCompactRenderAs(){return"default"}getDesktopRenderAs(){return"default"}onBeforeSetCompactRenderer(){}onBeforeSetDesktopRenderer(){}processResponsiveness(e,t){if(t=Math.round(t),Math.abs(e-t)>2){const i=this.renderAs;return e>t?(this.onBeforeSetCompactRenderer(),this.renderAs=this.getCompactRenderAs()):(this.onBeforeSetDesktopRenderer(),this.renderAs=this.getDesktopRenderAs()),i!==this.renderAs}return!1}destroyResizeObserver(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())}dispose(){super.dispose(),this.resetDependedQuestions(),this.destroyResizeObserver()}resetDependedQuestions(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].resetDependedQuestion()}get isNewA11yStructure(){return!1}get ariaLabel(){return this.isNewA11yStructure||this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml}get ariaRole(){return this.isNewA11yStructure?null:"textbox"}get ariaRequired(){return this.isNewA11yStructure?null:this.isRequired?"true":"false"}get ariaInvalid(){return this.isNewA11yStructure?null:this.hasCssError()?"true":"false"}get ariaLabelledBy(){return this.isNewA11yStructure||!this.hasTitle||this.parentQuestion?null:this.ariaTitleId}get ariaDescribedBy(){return this.isNewA11yStructure?null:this.hasTitle&&this.hasDescription?this.ariaDescriptionId:null}getContentAriaHidden(){return null}get contentAriaHidden(){return this.getContentAriaHidden()}get ariaErrormessage(){return this.isNewA11yStructure?null:this.hasCssError()?this.id+"_errors":null}get a11y_input_ariaRole(){return null}get a11y_input_ariaRequired(){return this.isRequired?"true":"false"}get a11y_input_ariaInvalid(){return this.hasCssError()?"true":"false"}get a11y_input_ariaLabel(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml}get a11y_input_ariaLabelledBy(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null}get a11y_input_ariaDescribedBy(){return this.hasTitle&&!this.parentQuestion&&this.hasDescription&&this.descriptionLocation!=="hidden"?this.ariaDescriptionId:null}get a11y_input_ariaErrormessage(){return this.hasCssError()?this.id+"_errors":null}get a11y_input_ariaExpanded(){return this.getPropertyValue("ariaExpanded")}registerSychProperties(e,t){this.registerFunctionOnPropertiesValueChanged(e,()=>{this._syncPropertiesChanging||(this._syncPropertiesChanging=!0,t(),this._syncPropertiesChanging=!1)})}}Ii.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredMark"};Ii.questionCounter=100;function zm(r){if(!r)return r;for(r=r.trim().replace(/[\{\}]+/g,"");r&&r[0]===X.expressionDisableConversionChar;)r=r.substring(1);return r}le.addClass("question",[{name:"!name",onSettingValue:(r,e)=>zm(e)},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:()=>X.minWidth},{name:"maxWidth",defaultFunc:()=>X.maxWidth},{name:"colSpan:number",visible:!1,onSerializeValue:r=>r.getPropertyValue("colSpan")},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(r){return!!r&&!!r.survey&&r.survey.gridLayoutEnabled}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(r){var e=r?r.survey:null;return!e||!e.pages||e.pages.length>1},choices:function(r){var e=r?r.survey:null;return e?e.pages.map(t=>({value:t.name,text:t.title})):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(r,e){r&&e&&(e.placeholder=r.locTitle.getPlaceholder())}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"showTitle:boolean",isSerializable:!1,dependsOn:"titleLocation"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"showNumber:boolean",dependsOn:"titleLocation",default:!0,visibleIf:function(r){if(!r)return!0;if(r.titleLocation==="hidden")return!1;var e=r?r.parent:null,t=!e||e.showQuestionNumbers!=="off";if(!t)return!1;var i=r?r.survey:null;return!i||i.showQuestionNumbers!=="off"||!!e&&e.showQuestionNumbers==="onpanel"}},{name:"hideNumber:boolean",visible:!1,isSerializable:!1},{name:"valueName",onSettingValue:(r,e)=>zm(e)},"enableIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"errorLocation",default:"default",choices:["default","top","bottom"]},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",isSerializableFunc:r=>!r.isBindingEmpty(),visibleIf:function(r){return r.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(r){return r.showCommentArea},serializationProperty:"locCommentText"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(r){return r.hasComment}},{name:"defaultDisplayValue",serializationProperty:"locDefaultDisplayValue"}]);le.addAlterNativeClassName("question","questionbase");class Je extends oi{getMarkdownHtml(e,t,i){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,i||this):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}static get Separator(){return X.itemValueSeparator}static set Separator(e){X.itemValueSeparator=e}static setData(e,t,i){e.length=0;for(let s=0;s<t.length;s++){const n=t[s],o=n&&typeof n.getType=="function"?n.getType():i??"itemvalue",h=le.createClass(o);h.setData(n),n.originalItem&&(h.originalItem=n.originalItem),n.data&&(h.data=n.data),e.push(h)}}static getData(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].getData());return t}static getItemByValue(e,t){if(!Array.isArray(e))return null;const i=z.isValueEmpty(t);for(var s=0;s<e.length;s++)if(i&&z.isValueEmpty(e[s].value)||z.isTwoValueEquals(e[s].value,t,!1,!0,!1))return e[s];return null}static getTextOrHtmlByValue(e,t){var i=Je.getItemByValue(e,t);return i!==null?i.textOrHtml:""}static locStrsChanged(e){for(var t=0;t<e.length;t++)e[t].locStrsChanged()}static runConditionsForItems(e,t,i,s,n,o=!0,h){return Je.runConditionsForItemsCore(e,t,i,s,n,!0,o,h)}static runEnabledConditionsForItems(e,t,i,s,n){return Je.runConditionsForItemsCore(e,null,t,i,s,!1,!0,n)}static runConditionsForItemsCore(e,t,i,s,n,o,h=!0,d){s||(s={});for(var f=s.item,p=s.choice,y=!1,b=0;b<e.length;b++){var w=e[b];s.item=w.value,s.choice=w.value;var T=h&&w.getConditionRunner?w.getConditionRunner(o):!1;T||(T=i);var P=!0;T&&(P=T.run(s,n)),d&&(P=d(w,P)),t&&P&&t.push(w);var D=o?w.isVisible:w.isEnabled;P!=D&&(y=!0,o?w.setIsVisible&&w.setIsVisible(P):w.setIsEnabled&&w.setIsEnabled(P))}return f?s.item=f:delete s.item,p?s.choice=p:delete s.choice,y}constructor(e,t,i){super(),this.typeName=i,this.ownerPropertyName="",t&&(this.locText.text=t),e&&typeof e=="object"?this.setData(e,!0):this.setValue(e,!0),this.getType()!=this.getBaseType()&&Ei.createProperties(this),this.onCreating()}onCreating(){}getType(){return this.typeName||this.getBaseType()}getBaseType(){return"itemvalue"}getSurvey(e=!1){return this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null}getLocale(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""}getLocalizableString(e){return e==="text"?this.locText:super.getLocalizableString(e)}get isInternal(){return this.isGhost===!0}createLocText(){const e=new Yi(this,!0,"text");return e.onStrChanged=(t,i)=>{this.propertyValueChanged("text",t,i)},e.onGetTextCallback=t=>this.onGetText(t),e}onGetText(e){return e||this.getValueText()}getValueText(){const e=this.value;return z.isValueEmpty(e)?null:e.toString()}get locText(){return this.locTextValue||(this.locTextValue=this.createLocText()),this.locTextValue}setLocText(e){this.locTextValue=e}get locOwner(){return this._locOwner}set locOwner(e){this._locOwner=e}get value(){return this.getPropertyValue("value")}set value(e){this.setValue(e,!1)}setValue(e,t){let i;if(e=this.getCorrectValue(e),!z.isValueEmpty(e)){var s=e.toString(),n=s.indexOf(X.itemValueSeparator);n>-1&&(e=s.slice(0,n),i=s.slice(n+1))}t?this.setPropertyValueDirectly("value",e):this.setPropertyValue("value",e),i&&(this.text=i),this.id=this.value}getCorrectValue(e){return e}get hasText(){return!!this.pureText}get pureText(){var e;return((e=this.locTextValue)===null||e===void 0?void 0:e.pureText)||""}set pureText(e){this.text=e}get text(){return this.calculatedText}set text(e){this.locText.text=e}get textOrHtml(){return this.locTextValue?this.locText.textOrHtml:this.getValueText()}get calculatedText(){return this.locTextValue?this.locText.calculatedText:this.getValueText()}get shortcutText(){return this.text}canSerializeValue(){const e=this.value;return e==null?!1:!Array.isArray(e)&&typeof e!="object"}getData(){var e=this.toJSON();if(e.value&&e.value.pos&&delete e.value.pos,z.isValueEmpty(e.value))return e;const t=this.canSerializeValue();return(!t||!X.serialization.itemValueSerializeAsObject&&!X.serialization.itemValueSerializeDisplayText)&&Object.keys(e).length==1?this.value:(X.serialization.itemValueSerializeDisplayText&&e.text===void 0&&t&&(e.text=this.value.toString()),e)}toJSON(){var e={},t=le.getProperties(this.getType());(!t||t.length==0)&&(t=le.getProperties(this.getBaseType()));for(var i=new Ri,s=0;s<t.length;s++){const n=t[s];n.name==="text"&&(!this.locTextValue||!this.locTextValue.hasNonDefaultText()&&z.isTwoValueEquals(this.value,this.locTextValue.getLocaleText(""),!1,!0,!1))||i.valueToJson(this,e,n)}return e}setData(e,t){var i;if(!z.isValueEmpty(e)){if(typeof e.value>"u"&&typeof e.text<"u"&&Object.keys(e).length===1&&(e.value=e.text),typeof e.value<"u"){let s;typeof e.toJSON=="function"?s=e.toJSON():s=e,new Ri().toObject(s,this)}else this.setValue(e,t);t||(i=this.locTextValue)===null||i===void 0||i.strChanged()}}get visibleIf(){return this.getPropertyValueWithoutDefault("visibleIf")||""}set visibleIf(e){this.setPropertyValue("visibleIf",e)}get enableIf(){return this.getPropertyValueWithoutDefault("enableIf")||""}set enableIf(e){this.setPropertyValue("enableIf",e)}get isVisible(){const e=this.getPropertyValueWithoutDefault("isVisible");return e!==void 0?e:!0}setIsVisible(e){this.setPropertyValue("isVisible",e)}get isEnabled(){const e=this.getPropertyValueWithoutDefault("isEnabled");return e!==void 0?e:!0}setIsEnabled(e){this.setPropertyValue("isEnabled",e)}addUsedLocales(e){this.locTextValue&&this.AddLocStringToUsedLocales(this.locTextValue,e)}locStrsChanged(){var e;super.locStrsChanged(),(e=this.locTextValue)===null||e===void 0||e.strChanged()}onPropertyValueChanged(e,t,i){var s;e==="value"&&!this.hasText&&((s=this.locTextValue)===null||s===void 0||s.strChanged());var n="itemValuePropertyChanged";!this.locOwner||!this.locOwner[n]||this.locOwner[n](this,e,t,i)}getConditionRunner(e){return e?this.getVisibleConditionRunner():this.getEnableConditionRunner()}getVisibleConditionRunner(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new ar(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null}getEnableConditionRunner(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new ar(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null}get selected(){const e=this._locOwner;return e instanceof Ii&&e.isItemSelected&&this.selectedValue===void 0&&(this.selectedValue=new $t(()=>e.isItemSelected(this))),this.selectedValue}getComponent(){return this._locOwner instanceof Ii?this.componentValue||this._locOwner.itemComponent:this.componentValue}setComponent(e){this.componentValue=e}setRootElement(e){this._htmlElement=e}getRootElement(){return this._htmlElement}getEnabled(){return this.isEnabled}setEnabled(e){this.setIsEnabled(e)}getVisible(){const e=this.isVisible===void 0?!0:this.isVisible,t=this._visible===void 0?!0:this._visible;return e&&t}setVisible(e){this.visible!==e&&(this._visible=e)}get _visible(){return this.getPropertyValue("visible",!0)}set _visible(e){this.setPropertyValue("visible",e)}getLocTitle(){return this.locText}getTitle(){return this.text}setLocTitle(e){}setTitle(e){}get icon(){return this.getPropertyValue("icon","")}set icon(e){this.setPropertyValue("icon",e)}}O([N()],Je.prototype,"selectedValue",void 0);tt.createItemValue=function(r,e){var t=null;return e?t=Ri.metaData.createClass(e,{}):typeof r.getType=="function"?t=new Je(null,void 0,r.getType()):t=new Je(null),t.setData(r),t};tt.itemValueLocStrChanged=function(r){Je.locStrsChanged(r)};hn.getItemValuesDefaultValue=(r,e)=>{const t=new Array;return Je.setData(t,Array.isArray(r)?r:[],e),t};le.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",locationInTable:"detail"},{name:"enableIf:condition",locationInTable:"detail",visibleIf:r=>!r||r.ownerPropertyName!=="rateValues"}],r=>new Je(r));class yE extends tt{constructor(e=null,t=null){super(),this.expressionIsRunning=!1,this.isCalculated=!1,e&&(this.name=e),t&&(this.expression=t)}setOwner(e){this.data=e,this.rerunExpression()}getType(){return"calculatedvalue"}getSurvey(e=!1){return this.data&&this.data.getSurvey?this.data.getSurvey():null}get owner(){return this.data}get name(){return this.getPropertyValue("name")||""}set name(e){this.setPropertyValue("name",e)}get includeIntoResult(){return this.getPropertyValue("includeIntoResult")}set includeIntoResult(e){this.setPropertyValue("includeIntoResult",e)}get expression(){return this.getPropertyValue("expression")||""}set expression(e){this.setPropertyValue("expression",e),this.rerunExpression()}locCalculation(){this.expressionIsRunning=!0}unlocCalculation(){this.expressionIsRunning=!1}resetCalculation(){this.isCalculated=!1}doCalculation(e,t,i){this.isCalculated||(this.runExpressionCore(e,t,i),this.isCalculated=!0)}runExpression(e,t){this.runExpressionCore(null,e,t)}get value(){if(this.data)return this.data.getVariable(this.name)}setValue(e){this.data&&this.data.setVariable(this.name,e)}get canRunExpression(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name}rerunExpression(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())}runExpressionCore(e,t,i){this.canRunExpression&&(this.ensureExpression(t),this.locCalculation(),e&&this.runDependentExpressions(e,t,i),this.expressionRunner.run(t,i))}runDependentExpressions(e,t,i){var s=this.expressionRunner.getVariables();if(s)for(var n=0;n<e.length;n++){var o=e[n];o===this||s.indexOf(o.name)<0||(o.doCalculation(e,t,i),t[o.name]=o.value)}}ensureExpression(e){this.expressionRunner||(this.expressionRunner=new Nl(this.expression),this.expressionRunner.onRunComplete=t=>{z.isTwoValueEquals(t,this.value,!1,!0,!1)||this.setValue(t),this.unlocCalculation()})}}le.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new yE},"base");class dv extends tt{constructor(e=null){super(),this.expression=e}getType(){return"expressionitem"}runCondition(e,t){return this.expression?new ar(this.expression).run(e,t):!1}get expression(){return this.getPropertyValue("expression","")}set expression(e){this.setPropertyValue("expression",e)}get locHtml(){return this.getLocalizableString("html")}getLocale(){return this.locOwner?this.locOwner.getLocale():""}getMarkdownHtml(e,t,i){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,i):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}getSurvey(e=!1){return this.locOwner}}class CE extends dv{constructor(e=null,t=null){super(e),this.createLocalizableString("html",this),this.html=t}getType(){return"htmlconditionitem"}get html(){return this.getLocalizableStringText("html")}set html(e){this.setLocalizableStringText("html",e)}get locHtml(){return this.getLocalizableString("html")}}class bE extends dv{constructor(e=null,t=null){super(e),this.createLocalizableString("url",this),this.url=t}getType(){return"urlconditionitem"}get url(){return this.getLocalizableStringText("url")}set url(e){this.setLocalizableStringText("url",e)}get locUrl(){return this.getLocalizableString("url")}}le.addClass("expressionitem",["expression:condition"],function(){return new dv},"base");le.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new CE},"expressionitem");le.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new bE},"expressionitem");class wE{constructor(){this.parser=new DOMParser}assignValue(e,t,i){Array.isArray(e[t])?e[t].push(i):e[t]!==void 0?e[t]=[e[t]].concat(i):typeof i=="object"&&Object.keys(i).length===1&&Object.keys(i)[0]===t?e[t]=i[t]:e[t]=i}xml2Json(e,t){if(e.children&&e.children.length>0)for(let i=0;i<e.children.length;i++){let s=e.children[i],n={};this.xml2Json(s,n),this.assignValue(t,s.nodeName,n)}else this.assignValue(t,e.nodeName,e.textContent)}parseXmlString(e){let t=this.parser.parseFromString(e,"text/xml"),i={};return this.xml2Json(t,i),i}}class qi extends tt{static get EncodeParameters(){return X.web.encodeUrlParams}static set EncodeParameters(e){X.web.encodeUrlParams=e}static clearCache(){qi.itemsResult={},qi.sendingSameRequests={}}static addSameRequest(e){if(!e.isUsingCache)return!1;var t=e.objHash,i=qi.sendingSameRequests[t];return i?(i.push(e),e.isRunningValue=!0,!0):(qi.sendingSameRequests[e.objHash]=[],!1)}static unregisterSameRequests(e,t){if(e.isUsingCache){var i=qi.sendingSameRequests[e.objHash];if(delete qi.sendingSameRequests[e.objHash],!!i)for(var s=0;s<i.length;s++)i[s].isRunningValue=!1,i[s].getResultCallback&&i[s].getResultCallback(t)}}static get onBeforeSendRequest(){return X.web.onBeforeRequestChoices}static set onBeforeSendRequest(e){X.web.onBeforeRequestChoices=e}static getCachedItemsResult(e){var t=e.objHash,i=qi.itemsResult[t];return i?(e.getResultCallback&&e.getResultCallback(i),!0):!1}constructor(){super(),this.lastObjHash="",this.isRunningValue=!1,this.processedUrl="",this.processedPath="",this.isUsingCacheFromUrl=void 0,this.error=null,this.createItemValue=e=>new Je(e),this.registerPropertyChangedHandlers(["url"],()=>{this.owner&&this.owner.setPropertyValue("isUsingRestful",!!this.url)})}getSurvey(e=!1){return this.owner?this.owner.survey:null}run(e=null){if(!(!this.url||!this.getResultCallback)){if(this.processedText(e),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(qi.addSameRequest(this)||this.sendRequest()))}}get isUsingCache(){return this.isUsingCacheFromUrl===!0?!0:this.isUsingCacheFromUrl===!1?!1:X.web.cacheLoadedChoices}get isRunning(){return this.getIsRunning()}getIsRunning(){return this.isRunningValue}get isWaitingForParameters(){return this.url&&!this.processedUrl}useChangedItemsResults(){return qi.getCachedItemsResult(this)}doEmptyResultCallback(e){var t=[];this.updateResultCallback&&(t=this.updateResultCallback(t,e)),this.getResultCallback(t)}processedText(e){var t=this.url;if(t&&(t=t.replace(qi.cacheText,"").replace(qi.noCacheText,"")),e){var i=e.processTextEx({text:t,runAtDesign:!0}),s=e.processTextEx({text:this.path,runAtDesign:!0});!i.hasAllValuesOnLastRun||!s.hasAllValuesOnLastRun?(this.processedUrl="",this.processedPath=""):(this.processedUrl=i.text,this.processedPath=s.text)}else this.processedUrl=t,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)}parseResponse(e){let t;if(e&&typeof e.indexOf=="function"&&e.indexOf("<")===0){var i=new wE;t=i.parseXmlString(e)}else try{t=JSON.parse(e)}catch{t=(e||"").split(`
`).map(n=>n.trim(" ")).filter(n=>!!n)}return t}sendRequest(){typeof XMLHttpRequest<"u"?this.sendXmlHttpRequest():typeof fetch<"u"?this.sendFetchRequest():(this.error=new xC("The browser does not support XMLHttpRequest or fetch API","",this.owner),this.doEmptyResultCallback(""))}sendXmlHttpRequest(){var e=new XMLHttpRequest;e.open("GET",this.processedUrl),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var t=this,i=this.objHash;e.onload=function(){t.beforeLoadRequest(),e.status===200?t.onLoad(t.parseResponse(e.response),i):t.onError(e.statusText,e.responseText)};var s={url:this.processedUrl,request:e};X.web.onBeforeRequestChoices&&X.web.onBeforeRequestChoices(this,s),this.beforeSendRequest(),s.request.send()}sendFetchRequest(){const e=this,t=this.objHash,n={url:this.processedUrl,fetchOptions:{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}}};X.web.onBeforeRequestChoices&&X.web.onBeforeRequestChoices(this,n),this.beforeSendRequest(),fetch(n.url,n.fetchOptions).then(o=>(e.beforeLoadRequest(),o.status===200?o.text().then(h=>{e.onLoad(e.parseResponse(h),t)}):o.text().then(h=>{e.onError(o.statusText,h)}))).catch(o=>{e.onError(o.message,"")})}getType(){return"choicesByUrl"}get isEmpty(){return!this.url&&!this.path}getCustomPropertiesNames(){for(var e=this.getCustomProperties(),t=new Array,i=0;i<e.length;i++)t.push(this.getCustomPropertyName(e[i].name));return t}getCustomPropertyName(e){return e+"Name"}getCustomProperties(){for(var e=le.getProperties(this.itemValueType),t=[],i=0;i<e.length;i++)e[i].name==="value"||e[i].name==="text"||e[i].name==="visibleIf"||e[i].name==="enableIf"||t.push(e[i]);return t}getAllPropertiesNames(){const e=new Array;return le.getPropertiesByObj(this).forEach(t=>e.push(t.name)),this.getCustomPropertiesNames().forEach(t=>e.push(t)),e}setData(e){e||(e={}),this.getAllPropertiesNames().forEach(t=>{this[t]=e[t]}),e.attachOriginalItems&&(this.attachData=e.attachOriginalItems)}getData(){const e={};let t=!1;return this.getAllPropertiesNames().forEach(i=>{const s=this[i];!this.isValueEmpty(s)&&s!==this.getDefaultPropertyValue(i)&&(e[i]=s,t=!0)}),t?e:null}get url(){return this.getPropertyValue("url")||""}set url(e){this.setPropertyValue("url",e),this.isUsingCacheFromUrl=void 0,e&&(e.indexOf(qi.cacheText)>-1?this.isUsingCacheFromUrl=!0:e.indexOf(qi.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))}get path(){return this.getPropertyValue("path")||""}set path(e){this.setPropertyValue("path",e)}get valueName(){return this.getPropertyValue("valueName","")}set valueName(e){this.setPropertyValue("valueName",e)}get titleName(){return this.getPropertyValue("titleName","")}set titleName(e){this.setPropertyValue("titleName",e)}get imageLinkName(){return this.getPropertyValue("imageLinkName","")}set imageLinkName(e){this.setPropertyValue("imageLinkName",e)}get allowEmptyResponse(){return this.getPropertyValue("allowEmptyResponse")}set allowEmptyResponse(e){this.setPropertyValue("allowEmptyResponse",e)}get attachOriginalItems(){return this.attachData}set attachOriginalItems(e){this.attachData=e}get attachData(){return this.getPropertyValue("attachData")}set attachData(e){this.setPropertyValue("attachData",e)}get itemValueType(){if(!this.owner)return"itemvalue";var e=le.findProperty(this.owner.getType(),"choices");return!e||e.type=="itemvalue[]"?"itemvalue":e.type}clear(){this.setData(void 0)}beforeSendRequest(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()}beforeLoadRequest(){this.isRunningValue=!1}onLoad(e,t=null){t||(t=this.objHash);var i=new Array,s=this.getResultAfterPath(e);if(s&&s.length)for(var n=0;n<s.length;n++){var o=s[n];if(o){var h=this.getItemValueCallback?this.getItemValueCallback(o):this.getValue(o),d=this.createItemValue(h);this.setTitle(d,o),this.setCustomProperties(d,o),this.attachData&&(d.originalItem=o,d.data=o);var f=this.getImageLink(o);f&&(d.imageLink=f),i.push(d)}}else this.allowEmptyResponse||(this.error=new nE(null,this.owner));this.updateResultCallback&&(i=this.updateResultCallback(i,e)),this.isUsingCache&&(qi.itemsResult[t]=i),this.callResultCallback(i,t),qi.unregisterSameRequests(this,i)}callResultCallback(e,t){t==this.objHash&&this.getResultCallback(e)}setCustomProperties(e,t){for(var i=this.getCustomProperties(),s=0;s<i.length;s++){var n=i[s],o=this.getValueCore(t,this.getPropertyBinding(n.name));this.isValueEmpty(o)||(e[n.name]=o)}}getPropertyBinding(e){return this[this.getCustomPropertyName(e)]?this[this.getCustomPropertyName(e)]:this[e]?this[e]:e}onError(e,t){this.error=new xC(e,t,this.owner),this.doEmptyResultCallback(t),qi.unregisterSameRequests(this,[])}getResultAfterPath(e){if(!e||!this.processedPath)return e;for(var t=this.getPathes(),i=0;i<t.length;i++)if(e=e[t[i]],!e)return null;return e}getPathes(){var e=[];return this.processedPath.indexOf(";")>-1?e=this.path.split(";"):this.processedPath.indexOf(",")>-1?e=this.processedPath.split(","):e=this.processedPath.split("."),e.length==0&&e.push(this.processedPath),e}getValue(e){if(!e)return null;if(this.valueName)return this.getValueCore(e,this.valueName);if(!(e instanceof Object))return e;var t=Object.keys(e).length;return t<1?null:e[Object.keys(e)[0]]}setTitle(e,t){var i=this.titleName?this.titleName:"title",s=this.getValueCore(t,i);s&&(typeof s=="string"?e.text=s:e.locText.setJson(s))}getImageLink(e){var t=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(e,t)}getValueCore(e,t){if(!e)return null;if(t.indexOf(".")<0)return e[t];for(var i=t.split("."),s=0;s<i.length;s++)if(e=e[i[s]],!e)return null;return e}get objHash(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName}}qi.cacheText="{CACHE}";qi.noCacheText="{NOCACHE}";qi.itemsResult={};qi.sendingSameRequests={};le.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(r){return!!r&&!!r.owner&&r.owner.getType()=="imagepicker"}},{name:"allowEmptyResponse:boolean"},{name:"attachData:boolean",alternativeName:"attachOriginalItems",visible:!1}],function(){return new qi});class Nf extends Ii{createColumnValues(){return this.createItemValues("columns")}constructor(e){super(e),this.generatedVisibleRows=null,this.generatedTotalRow=null,this.filteredRows=null,this.columns=this.createColumnValues(),this.rows=this.createItemValues("rows")}getType(){return"matrixbase"}endLoadingFromJson(){super.endLoadingFromJson(),this.updateVisibilityBasedOnRows()}get isCompositeQuestion(){return!0}get showHeader(){return this.getPropertyValue("showHeader")}set showHeader(e){this.setPropertyValue("showHeader",e)}get columns(){return this.getPropertyValue("columns")}set columns(e){this.setPropertyValue("columns",e)}get visibleColumns(){const e=[];return this.columns.forEach(t=>{this.isColumnVisible(t)&&e.push(t)}),e}isColumnVisible(e){return e.isVisible}get rows(){return this.getPropertyValue("rows")}set rows(e){var t=this.processRowsOnSet(e);this.setPropertyValue("rows",t)}processRowsOnSet(e){return e}getVisibleRows(){return[]}get visibleRows(){return this.getVisibleRows()}get rowsVisibleIf(){return this.getPropertyValue("rowsVisibleIf","")}set rowsVisibleIf(e){this.setPropertyValue("rowsVisibleIf",e),this.isLoadingFromJsonValue||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}get columnsVisibleIf(){return this.getPropertyValue("columnsVisibleIf","")}set columnsVisibleIf(e){this.setPropertyValue("columnsVisibleIf",e),this.isLoadingFromJson||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}runConditionCore(e,t){super.runConditionCore(e,t),this.runItemsCondition(e,t)}onColumnsChanged(){}onRowsChanged(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)}updateVisibilityBasedOnRows(){this.hideIfRowsEmpty&&this.onVisibleChanged()}isVisibleCore(){var e;const t=super.isVisibleCore();return!t||!this.hideIfRowsEmpty?t:((e=this.visibleRows)===null||e===void 0?void 0:e.length)>0}shouldRunColumnExpression(){return!this.survey||!this.survey.areInvisibleElementsShowing}hasRowsAsItems(){return!0}runItemsCondition(e,t){let i=this.hasRowsAsItems()&&this.runConditionsForRows(e,t);const s=this.runConditionsForColumns(e,t);i=s||i,i&&(this.isClearValueOnHidden&&s&&this.clearInvisibleColumnValues(),this.clearGeneratedRows(),s&&this.onColumnsChanged(),this.onRowsChanged())}isRowsFiltered(){return!!this.filteredRows}clearGeneratedRows(){this.generatedVisibleRows=null}createRowsVisibleIfRunner(){return null}runConditionsForRows(e,t){const i=!!this.survey&&this.survey.areInvisibleElementsShowing,s=i?null:this.createRowsVisibleIfRunner();this.filteredRows=[];const n=Je.runConditionsForItems(this.rows,this.filteredRows,s,e,t,!i);return Je.runEnabledConditionsForItems(this.rows,void 0,e,t),this.filteredRows.length===this.rows.length&&(this.filteredRows=null),n}runConditionsForColumns(e,t){const s=!!this.survey&&!this.survey.areInvisibleElementsShowing&&this.columnsVisibleIf?new ar(this.columnsVisibleIf):null;return Je.runConditionsForItems(this.columns,void 0,s,e,t,this.shouldRunColumnExpression())}clearInvisibleColumnValues(){}clearInvisibleValuesInRows(){}needResponsiveWidth(){return!0}get columnsAutoWidth(){return!this.isMobile&&!this.columns.some(e=>!!e.width)}getTableCss(){var e;return new fe().append(this.cssClasses.root).append(this.cssClasses.columnsAutoWidth,this.columnsAutoWidth).append(this.cssClasses.noHeader,!this.showHeader).append(this.cssClasses.hasFooter,!!(!((e=this.renderedTable)===null||e===void 0)&&e.showAddRowOnBottom)).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,this.verticalAlign==="top").append(this.cssClasses.rootVerticalAlignMiddle,this.verticalAlign==="middle").toString()}get columnMinWidth(){return this.getPropertyValue("columnMinWidth")||""}set columnMinWidth(e){this.setPropertyValue("columnMinWidth",e)}get rowTitleWidth(){return this.getPropertyValue("rowTitleWidth")||""}set rowTitleWidth(e){this.setPropertyValue("rowTitleWidth",e)}set displayMode(e){this.setPropertyValue("displayMode",e)}get displayMode(){return this.getPropertyValue("displayMode")}getCellAriaLabel(e,t,i){let s=e.locText&&e.locText.renderedHtml?e.locText.renderedHtml:"";i&&(s=i);const n=t.locTitle&&t.locTitle.renderedHtml?t.locTitle.renderedHtml:"",o=(this.getLocalizationString("matrix_row")||"row").toLocaleLowerCase(),h=(this.getLocalizationString("matrix_column")||"column").toLocaleLowerCase();return`${o} ${s}, ${h} ${n}`}get isNewA11yStructure(){return!0}getIsMobile(){return this.displayMode=="auto"?super.getIsMobile():this.displayMode==="list"}}O([N()],Nf.prototype,"verticalAlign",void 0);O([N()],Nf.prototype,"alternateRows",void 0);le.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1},{name:"displayMode",default:"auto",choices:["auto","table","list"],visible:!1}],void 0,"question");class xE{}class VC{constructor(e,t){this.name=e,this.returnDisplayValue=t,this.isExists=!1,this.canProcess=!0}}class $b{constructor(){this._unObservableValues=[void 0]}get hasAllValuesOnLastRunValue(){return this._unObservableValues[0]}set hasAllValuesOnLastRunValue(e){this._unObservableValues[0]=e}process(e,t,i,s){if(this.hasAllValuesOnLastRunValue=!0,!e||!this.onProcess)return e;const n=this.getItems(e);for(let h=n.length-1;h>=0;h--){const d=n[h],f=this.getName(e.substring(d.start+1,d.end));if(f){const p=new VC(f,t===!0);if(this.onProcess(p),p.isExists||p.canProcess&&(this.hasAllValuesOnLastRunValue=!1),p.isExists||s){z.isValueEmpty(p.value)&&(this.hasAllValuesOnLastRunValue=!1);var o=z.isValueEmpty(p.value)?"":p.value;i&&(o=encodeURIComponent(o)),e=e.substring(0,d.start)+o+e.substring(d.end+1)}}}return e}processValue(e,t){var i=new VC(e,t);return this.onProcess&&this.onProcess(i),i}get hasAllValuesOnLastRun(){return!!this.hasAllValuesOnLastRunValue}processText(e,t){return this.process(e,t)}processTextEx(e){const t={hasAllValuesOnLastRun:!0,text:e.text};return t.text=this.process(e.text,e.returnDisplayValue,e.doEncoding,e.replaceUndefinedValues),t.hasAllValuesOnLastRun=this.hasAllValuesOnLastRun,t}getItems(e){for(var t=[],i=e.length,s=-1,n="",o=0;o<i;o++)if(n=e[o],n=="{"&&(s=o),n=="}"){if(s>-1){var h=new xE;h.start=s,h.end=o,this.isValidItemName(e.substring(s+1,o-1))&&t.push(h)}s=-1}return t}isValidItemName(e){return!!e&&e.indexOf(":")<0}getName(e){if(e)return e.trim()}}class cv{constructor(e){this.variableName=e,this.textPreProcessor=new $b,this.textPreProcessor.onProcess=t=>{this.getProcessedTextValue(t)}}processValue(e,t){return this.textPreProcessor.processValue(e,t)}get survey(){return null}get panel(){return null}getValues(){return this.panel?this.panel.getValue():null}getQuestionByName(e){return this.panel?this.panel.getQuestionByValueName(e):null}getParentTextProcessor(){return null}onCustomProcessText(e){return!1}getQuestionDisplayText(e){return e.displayValue}getProcessedTextValue(e){if(e&&!this.onCustomProcessText(e)){var t=new xr().getFirstName(e.name);if(e.isExists=t==this.variableName,e.canProcess=e.isExists,!!e.canProcess){e.name=e.name.replace(this.variableName+".","");var t=new xr().getFirstName(e.name),i=this.getQuestionByName(t),s={};if(i)s[t]=e.returnDisplayValue?this.getQuestionDisplayText(i):i.value;else{const n=this.getValues();n&&(s[t]=n[t])}e.value=new xr().getValue(e.name,s)}}}processText(e,t){const i={text:e,returnDisplayValue:t};return this.processTextEx(i).text}processTextEx(e){var t;const i={hasAllValuesOnLastRun:!0,text:e.text};if(!e.runAtDesign&&(!((t=this.survey)===null||t===void 0)&&t.isDesignMode))return i;const s=new Array;this.addTextPreProcessor(s,this.textPreProcessor),this.addTextPreProcessor(s,this.getParentTextProcessor()),this.addTextPreProcessor(s,this.survey);for(let n=0;n<s.length;n++){const o=s[n];e.text=i.text,e.doEncoding=e.doEncoding||!1;const h=o.processTextEx(e);i.text=h.text,i.hasAllValuesOnLastRun=i.hasAllValuesOnLastRun&&h.hasAllValuesOnLastRun}return i}addTextPreProcessor(e,t){!t||e.indexOf(t)>-1||e.push(t)}}class VE{constructor(e,t){this.name=e,this.json=t;var i=this;le.addClass(e,[],function(s){return Nh.Instance.createQuestion(s?s.name:"",i)},"question"),this.onInit()}onInit(){this.json.onInit&&this.json.onInit()}onCreated(e){this.json.onCreated&&this.json.onCreated(e)}onLoaded(e){this.json.onLoaded&&this.json.onLoaded(e)}onAfterRender(e,t){this.json.onAfterRender&&this.json.onAfterRender(e,t)}onAfterRenderContentElement(e,t,i){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(e,t,i)}onUpdateQuestionCssClasses(e,t,i){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(e,t,i)}onSetQuestionValue(e,t){this.json.onSetQuestionValue&&this.json.onSetQuestionValue(e,t),this.json.onValueSet&&this.json.onValueSet(e,t)}onPropertyChanged(e,t,i){this.json.onPropertyChanged&&this.json.onPropertyChanged(e,t,i)}onValueChanged(e,t,i){this.json.onValueChanged&&this.json.onValueChanged(e,t,i)}onValueChanging(e,t,i){return this.json.onValueChanging?this.json.onValueChanging(e,t,i):i}onGetErrorText(e){if(this.json.getErrorText)return this.json.getErrorText(e)}onItemValuePropertyChanged(e,t,i,s,n){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(e,{obj:t,propertyName:i,name:s,newValue:n})}getDisplayValue(e,t,i){return this.json.getDisplayValue?this.json.getDisplayValue(i):i.getDisplayValue(e,t)}get defaultQuestionTitle(){return this.json.defaultQuestionTitle}setValueToQuestion(e){const t=this.json.valueToQuestion||this.json.setValue;return t?t(e):e}getValueFromQuestion(e){const t=this.json.valueFromQuestion||this.json.getValue;return t?t(e):e}get isComposite(){return!!this.json.elementsJSON||!!this.json.createElements}getDynamicProperties(){return Array.isArray(this.dynamicProperties)||(this.dynamicProperties=this.calcDynamicProperties()),this.dynamicProperties}calcDynamicProperties(){const e=this.json.inheritBaseProps;if(!e||!this.json.questionJSON)return[];const t=this.json.questionJSON.type;if(!t)return[];if(Array.isArray(e)){const s=[];return e.forEach(n=>{const o=le.findProperty(t,n);o&&s.push(o)}),s}const i=[];for(let s in this.json.questionJSON)i.push(s);return le.getDynamicPropertiesByTypes(this.name,t,i)}}class Nh{constructor(){this.customQuestionValues=[]}add(e){if(!e)return;let t=e.name;if(!t)throw"Attribute name is missed";if(t=t.toLowerCase(),this.getCustomQuestionByName(t))throw"There is already registered custom question with name '"+t+"'";if(le.findClass(t))throw"There is already class with name '"+t+"'";var i=new VE(t,e);this.onAddingJson&&this.onAddingJson(t,i.isComposite),this.customQuestionValues.push(i)}remove(e){if(!e)return!1;const t=this.getCustomQuestionIndex(e.toLowerCase());return t<0?!1:(this.removeByIndex(t),!0)}get items(){return this.customQuestionValues}getCustomQuestionByName(e){const t=this.getCustomQuestionIndex(e);return t>=0?this.customQuestionValues[t]:void 0}getCustomQuestionIndex(e){for(var t=0;t<this.customQuestionValues.length;t++)if(this.customQuestionValues[t].name===e)return t;return-1}removeByIndex(e){le.removeClass(this.customQuestionValues[e].name),this.customQuestionValues.splice(e,1)}clear(e){for(let t=this.customQuestionValues.length-1;t>=0;t--)(e||!this.customQuestionValues[t].json.internal)&&this.removeByIndex(t)}createQuestion(e,t){return t.isComposite?this.createCompositeModel(e,t):this.createCustomModel(e,t)}createCompositeModel(e,t){return this.onCreateComposite?this.onCreateComposite(e,t):new on(e,t)}createCustomModel(e,t){return this.onCreateCustom?this.onCreateCustom(e,t):new SE(e,t)}}Nh.Instance=new Nh;class ew extends Ii{constructor(e,t){super(e),this.customQuestion=t,Ei.createProperties(this),ai.CreateDisabledDesignElements=!0,this.locQuestionTitle=this.createLocalizableString("questionTitle",this),this.locQuestionTitle.setJson(this.customQuestion.defaultQuestionTitle),this.createWrapper(),ai.CreateDisabledDesignElements=!1,this.customQuestion&&this.customQuestion.onCreated(this)}getType(){return this.customQuestion?this.customQuestion.name:"custom"}locStrsChanged(){super.locStrsChanged(),this.getElement()&&this.getElement().locStrsChanged()}localeChanged(){super.locStrsChanged(),this.getElement()&&this.getElement().localeChanged()}getDefaultTitle(){return this.locQuestionTitle.isEmpty?super.getDefaultTitle():this.getProcessedText(this.locQuestionTitle.textOrHtml)}addUsedLocales(e){super.addUsedLocales(e),this.getElement()&&this.getElement().addUsedLocales(e)}needResponsiveWidth(){const e=this.getElement();return e?e.needResponsiveWidth():!1}createWrapper(){}onPropertyValueChanged(e,t,i){super.onPropertyValueChanged(e,t,i),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,e,i)}itemValuePropertyChanged(e,t,i,s){super.itemValuePropertyChanged(e,t,i,s),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,e,e.ownerPropertyName,t,s)}onFirstRenderingCore(){super.onFirstRenderingCore();const e=this.getElement();e&&e.onFirstRendering()}onHidingContent(){super.onHidingContent();const e=this.getElement();e&&e.onHidingContent()}getProgressInfo(){let e=super.getProgressInfo();return this.getElement()&&(e=this.getElement().getProgressInfo()),this.isRequired&&e.requiredQuestionCount==0&&(e.requiredQuestionCount=1,this.isEmpty()||(e.answeredQuestionCount=1)),e}initElement(e){e&&(e.setSurveyImpl(this),e.disableDesignActions=!0)}setSurveyImpl(e,t){this.isSettingValOnLoading=!0,super.setSurveyImpl(e,t),this.initElement(this.getElement()),this.isSettingValOnLoading=!1}onSurveyLoad(){super.onSurveyLoad(),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))}afterRenderQuestionElement(e){}afterRenderCore(e){super.afterRenderCore(e),this.customQuestion&&this.customQuestion.onAfterRender(this,e)}onUpdateQuestionCssClasses(e,t){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,e,t)}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),this.updateElementCss(),this.customQuestion&&this.customQuestion.onSetQuestionValue(this,e)}setNewValue(e){super.setNewValue(e),this.updateElementCss()}onCheckForErrors(e,t,i){if(super.onCheckForErrors(e,t,i),this.customQuestion){const s=this.customQuestion.onGetErrorText(this);s&&e.push(new Gr(s,this))}}getSurveyData(){return this}getTextProcessor(){return this.textProcessor}getValue(e){return this.value}setValue(e,t,i,s){if(!this.data)return;this.customQuestion&&this.customQuestion.onValueChanged(this,e,t);var n=this.convertDataName(e);let o=this.convertDataValue(e,t);this.valueToDataCallback&&(o=this.valueToDataCallback(o)),this.data.setValue(n,o,i,s),this.updateIsAnswered(),this.updateElementCss()}getQuestionByName(e){}isValueChanging(e,t){if(this.customQuestion){const i=t;if(t=this.customQuestion.onValueChanging(this,e,t),!z.isTwoValueEquals(t,i)){const s=this.getQuestionByName(e);if(s)return s.value=t,!0}}return!1}convertDataName(e){return this.getValueName()}convertDataValue(e,t){return t}getVariable(e){return this.data?this.data.getVariable(e):null}setVariable(e,t){this.data&&this.data.setVariable(e,t)}getComment(e){return this.data?this.data.getComment(this.getValueName()):""}setComment(e,t,i){this.data&&this.data.setComment(this.getValueName(),t,i)}getAllValues(){return this.data?this.data.getAllValues():{}}getFilteredValues(){return this.data?this.data.getFilteredValues():{}}getFilteredProperties(){return this.data?this.data.getFilteredProperties():{}}findQuestionByName(e){return this.data?this.data.findQuestionByName(e):null}getEditingSurveyElement(){}addElement(e,t){}removeElement(e){return!1}getQuestionTitleLocation(){return"left"}getQuestionTitleWidth(){}getColumsForElement(e){return[]}updateColumns(){}getQuestionStartIndex(){return this.getStartIndex()}getChildrenLayoutType(){return"row"}elementWidthChanged(e){}get elements(){return[]}indexOf(e){return-1}ensureRowsVisibility(){}validateContainerOnly(){}onQuestionValueChanged(e){}getQuestionErrorLocation(){return this.getErrorLocation()}getContentAriaHidden(){return this.isDesignMode||super.getContentAriaHidden()}getContentDisplayValueCore(e,t,i){return i?this.customQuestion.getDisplayValue(e,t,i):super.getDisplayValueCore(e,t)}}class SE extends ew{getTemplate(){return"custom"}getDynamicProperties(){return this.customQuestion.getDynamicProperties()||[]}getDynamicType(){return this.questionWrapper?this.questionWrapper.getType():"question"}getOriginalObj(){return this.questionWrapper}createWrapper(){this.questionWrapper=this.createQuestion(),this.createDynamicProperties(this.questionWrapper),this.getDynamicProperties().length>0&&(this.questionWrapper.onPropertyValueChangedCallback=(e,t,i,s,n)=>{this.getDynamicProperty(e)&&this.propertyValueChanged(e,t,i,n)})}getDynamicProperty(e){const t=this.getDynamicProperties();for(let i=0;i<t.length;i++)if(t[i].name===e)return t[i];return null}getElement(){return this.contentQuestion}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(e,t)}getQuestionByName(e){return this.contentQuestion}getDefaultTitle(){return this.hasJSONTitle&&this.contentQuestion?this.getProcessedText(this.contentQuestion.title):super.getDefaultTitle()}setValue(e,t,i,s){this.isValueChanging(e,t)||super.setValue(e,t,i,s)}updateCommentFromSurvey(e){super.updateCommentFromSurvey(e);const t=this.contentQuestion;t&&t.updateCommentFromSurvey(e)}get requireUpdateCommentValue(){var e;return(e=this.contentQuestion)===null||e===void 0?void 0:e.requireUpdateCommentValue}onSetData(){super.onSetData(),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)}hasErrors(e=!0,t=null){if(!this.contentQuestion)return!1;var i=this.contentQuestion.hasErrors(e,t);this.errors=[];for(var s=0;s<this.contentQuestion.errors.length;s++)this.errors.push(this.contentQuestion.errors[s]);return i||(i=super.hasErrors(e,t)),this.updateElementCss(),i}focus(e=!1){this.contentQuestion?this.contentQuestion.focus(e):super.focus(e)}afterRenderCore(e){super.afterRenderCore(e),this.contentQuestion&&this.contentQuestion.afterRender(e)}get contentQuestion(){return this.questionWrapper}createQuestion(){var e=this.customQuestion.json,t=null;if(e.questionJSON){this.hasJSONTitle=!!e.questionJSON.title;let i=e.questionJSON.type;if(!i||!le.findClass(i))throw"type attribute in questionJSON is empty or incorrect";t=le.createClass(i),t.fromJSON(e.questionJSON),t=this.checkCreatedQuestion(t)}else e.createQuestion&&(t=this.checkCreatedQuestion(e.createQuestion()));return this.initElement(t),t&&(t.isContentElement=!0,t.name||(t.name="question"),t.onUpdateCssClassesCallback=i=>{this.onUpdateQuestionCssClasses(t,i)},t.hasCssErrorCallback=()=>this.errors.length>0,t.setValueChangedDirectlyCallback=i=>{this.setValueChangedDirectly(i)}),t}checkCreatedQuestion(e){return e&&(e.isQuestion||(Array.isArray(e.questions)&&e.questions.length>0?e=e.questions[0]:e=le.createClass("text"),Ir.error("Could not create component: '"+this.getType()+"'. questionJSON should be a question.")),e)}onSurveyLoad(){super.onSurveyLoad(),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())}runConditionCore(e,t){super.runConditionCore(e,t),this.contentQuestion&&this.contentQuestion.runCondition(e,t)}convertDataName(e){const t=this.contentQuestion;if(!t||e===this.getValueName())return super.convertDataName(e);var i=e.replace(t.getValueName(),this.getValueName());return i.indexOf(this.getValueName())==0?i:super.convertDataName(e)}convertDataValue(e,t){return this.convertDataName(e)==super.convertDataName(e)?this.getContentQuestionValue():t}getContentQuestionValue(){if(!this.contentQuestion)return;let e=this.contentQuestion.value;return this.customQuestion&&(e=this.customQuestion.getValueFromQuestion(e)),e}setContentQuestionValue(e){this.contentQuestion&&(this.customQuestion&&(e=this.customQuestion.setValueToQuestion(e)),this.contentQuestion.value=e)}canSetValueToSurvey(){return!1}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),e)&&this.setContentQuestionValue(this.getUnbindValue(e))}onSurveyValueChanged(e){super.onSurveyValueChanged(e),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(e)}getValueCore(){return this.contentQuestion?this.getContentQuestionValue():super.getValueCore()}setValueChangedDirectly(e){this.isSettingValueChanged||(this.isSettingValueChanged=!0,super.setValueChangedDirectly(e),this.contentQuestion&&this.contentQuestion.setValueChangedDirectly(e),this.isSettingValueChanged=!1)}createDynamicProperties(e){if(!e)return;const t=this.getDynamicProperties();Array.isArray(t)&&le.addDynamicPropertiesIntoObj(this,e,t)}initElement(e){super.initElement(e),e&&(e.parent=this,e.afterRenderQuestionCallback=(t,i)=>{this.customQuestion&&this.customQuestion.onAfterRenderContentElement(this,t,i)})}updateElementCss(e){this.contentQuestion&&this.questionWrapper.updateElementCss(e),super.updateElementCss(e)}setIsMobile(e){super.setIsMobile(e),this.contentQuestion&&this.contentQuestion.setIsMobile(e)}updateElementCssCore(e){this.contentQuestion&&(e=this.contentQuestion.cssClasses),super.updateElementCssCore(e)}getDisplayValueCore(e,t){return super.getContentDisplayValueCore(e,t,this.contentQuestion)}}class EE extends cv{constructor(e,t){super(t),this.composite=e,this.variableName=t}get survey(){return this.composite.survey}get panel(){return this.composite.contentPanel}}class on extends ew{constructor(e,t){super(e,t),this.customQuestion=t,this.settingNewValue=!1,this.textProcessing=new EE(this,on.ItemVariableName)}createWrapper(){this.panelWrapper=this.createPanel()}getTemplate(){return"composite"}getElement(){return this.contentPanel}getCssRoot(e){return new fe().append(super.getCssRoot(e)).append(e.composite).toString()}get contentPanel(){return this.panelWrapper}hasErrors(e=!0,t=null){var i=super.hasErrors(e,t);return this.contentPanel&&this.contentPanel.hasErrors(e,!1,t)||i}updateElementCss(e){super.updateElementCss(e),this.contentPanel&&this.contentPanel.updateElementCss(e)}dispose(){this.unConnectEditingObj(),super.dispose()}updateEditingObj(){var e;const t=(e=this.data)===null||e===void 0?void 0:e.getEditingSurveyElement();if(!t)return;let i=t[this.getValueName()];return i&&!i.onPropertyChanged&&(i=void 0),i!==this.editingObjValue&&(this.unConnectEditingObj(),this.editingObjValue=i,i&&(this.onEditingObjPropertyChanged=(s,n)=>{this.setNewValueIntoQuestion(n.name,this.editingObjValue[n.name])},i.onPropertyChanged.add(this.onEditingObjPropertyChanged))),this.editingObjValue}unConnectEditingObj(){this.editingObjValue&&!this.editingObjValue.isDisposed&&this.editingObjValue.onPropertyChanged.remove(this.onEditingObjPropertyChanged)}getEditingSurveyElement(){return this.editingObjValue}getTextProcessor(){return this.textProcessing}findQuestionByName(e){const t=this.getQuestionByName(e);return t||super.findQuestionByName(e)}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e);const t=this.contentPanel.questions;for(var i=0;i<t.length;i++)t[i].clearValueIfInvisible(e)}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t);for(var i=this.contentPanel.questions,s=0;s<i.length;s++)i[s].onAnyValueChanged(e,t)}get hasSingleInput(){return!1}get isContainer(){return!0}createPanel(){var e=le.createClass("panel");e.showQuestionNumbers="off",e.renderWidth="100%";var t=this.customQuestion.json;return t.elementsJSON&&e.fromJSON({elements:t.elementsJSON}),t.createElements&&t.createElements(e,this),this.initElement(e),e.readOnly=this.isReadOnly,e.questions.forEach(i=>{i.setParentQuestion(this),i.onUpdateCssClassesCallback=s=>{this.onUpdateQuestionCssClasses(i,s)}}),this.setAfterRenderCallbacks(e),e}onReadOnlyChanged(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),super.onReadOnlyChanged()}updateValueFromSurvey(e,t=!1){this.updateEditingObj(),super.updateValueFromSurvey(e,t)}onSurveyLoad(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),super.onSurveyLoad(),this.contentPanel){const e=this.getContentPanelValue();z.isValueEmpty(e)||(this.value=e)}this.isSettingValOnLoading=!1}setIsContentElement(e){e.isContentElement=!0;for(var t=e.elements,i=0;i<t.length;i++){var s=t[i];s.isPanel?this.setIsContentElement(s):s.isContentElement=!0}}setVisibleIndex(e){var t=super.setVisibleIndex(e);return this.isVisible&&this.contentPanel&&(t+=this.contentPanel.setVisibleIndex(e)),t}runConditionCore(e,t){if(super.runConditionCore(e,t),this.contentPanel){var i=e[on.ItemVariableName];e[on.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(e,t),delete e[on.ItemVariableName],i&&(e[on.ItemVariableName]=i)}}onSurveyValueChanged(e){super.onSurveyValueChanged(e);const t=e||{};this.contentPanel&&this.contentPanel.questions.forEach(i=>{i.onSurveyValueChanged(t[i.getValueName()])})}getValue(e){var t=this.value;return t?t[e]:null}getQuestionByName(e){return this.contentPanel?this.contentPanel.getQuestionByName(e):void 0}setValue(e,t,i,s){if(this.settingNewValue){this.setNewValueIntoQuestion(e,t);return}if(!this.isValueChanging(e,t)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel){let n=0;const o=this.contentPanel.questions.length+1;for(;n<o&&this.updateValueCoreWithPanelValue();)n++}this.setNewValueIntoQuestion(e,t),super.setValue(e,t,i,s),this.settingNewValue=!1,this.runPanelTriggers(on.ItemVariableName+"."+e,t)}}setComment(e,t,i){let s=this.getUnbindValue(this.value);const n=this.getCommentName(e);if(!s&&!t||t&&s&&s[n]===t)return;t?(s||(s={}),s[n]=t):delete s[n];const o=this.getQuestionByName(e);o&&o.comment!==t&&(o.comment=t),this.settingNewValue||(this.value=s)}getComment(e){const t=this.getQuestionByName(e);if(t)return t.comment;const i=this.value;return!!i&&i[this.getCommentName(e)]||""}getCommentName(e){return e+X.commentSuffix}runPanelTriggers(e,t){this.contentPanel&&this.contentPanel.questions.forEach(i=>{i.runTriggers(e,t)})}getFilteredValues(){const e=this.data?this.data.getFilteredValues():{};return this.contentPanel&&(e[on.ItemVariableName]=this.contentPanel.getValue()),e}updateValueCoreWithPanelValue(){const e=this.getContentPanelValue();return this.isTwoValueEquals(this.getValueCore(),e)?!1:(this.setValueCore(e),!0)}getContentPanelValue(e){return e||(e=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(e)}getValueForContentPanel(e){return this.customQuestion.getValueFromQuestion(e)}setNewValueIntoQuestion(e,t){var i=this.getQuestionByName(e);i&&!this.isTwoValueEquals(t,i.value)&&(i.value=t)}addConditionObjectsByContext(e,t){if(this.contentPanel)for(var i=this.contentPanel.questions,s=this.name,n=this.title,o=0;o<i.length;o++)e.push({name:s+"."+i[o].name,text:n+"."+i[o].title,question:i[o]})}collectNestedQuestionsCore(e,t,i,s){this.contentPanel&&(s&&e.push(this),this.contentPanel.questions.forEach(n=>n.addNestedQuestion(e,t,i,s)))}convertDataValue(e,t){var i=this.contentPanel&&!this.isEditingSurveyElement?this.contentPanel.getValue():this.getValueForContentPanel(this.value);return i||(i={}),i.getType||(i=z.getUnbindValue(i)),this.isValueEmpty(t)&&!this.isEditingSurveyElement?delete i[e]:i[e]=t,this.getContentPanelValue(i)}setQuestionValue(e,t=!0){this.setValuesIntoQuestions(e),!this.isEditingSurveyElement&&this.contentPanel&&(e=this.getContentPanelValue()),super.setQuestionValue(e,t)}setValuesIntoQuestions(e){if(!this.contentPanel||this.settingNewValue)return;e=this.getValueForContentPanel(e);const t=this.settingNewValue;this.settingNewValue=!0;const i=this.contentPanel.questions;for(var s=0;s<i.length;s++){const n=i[s],o=n.getValueName(),h=this.getCommentName(o),d=e?e[o]:void 0,f=!!e&&e[h]||"";!this.isTwoValueEquals(n.value,d)&&(d!==void 0||!n.isEmpty())&&(n.value=d),n.comment!==f&&(n.comment=f)}this.settingNewValue=t}getDisplayValueCore(e,t){return super.getContentDisplayValueCore(e,t,this.contentPanel)}setAfterRenderCallbacks(e){if(!(!e||!this.customQuestion))for(var t=e.questions,i=0;i<t.length;i++)t[i].afterRenderQuestionCallback=(s,n)=>{this.customQuestion.onAfterRenderContentElement(this,s,n)}}get ariaRole(){return"group"}setIsMobile(e){super.setIsMobile(e),this.contentPanel&&this.contentPanel.questions.forEach(t=>{t.setIsMobile(e)})}}on.ItemVariableName="composite";class Kt{static get DefaultChoices(){const e=_i("choices_Item");return[e+"1",e+"2",e+"3"]}static get DefaultColums(){var e=_i("matrix_column")+" ";return[e+"1",e+"2",e+"3"]}static get DefaultRows(){var e=_i("matrix_row")+" ";return[e+"1",e+"2"]}static get DefaultMutlipleTextItems(){var e=_i("multipletext_itemname");return[e+"1",e+"2"]}registerQuestion(e,t,i=!0){Fn.Instance.registerElement(e,t,i)}registerCustomQuestion(e){Fn.Instance.registerCustomQuestion(e)}unregisterElement(e,t=!1){Fn.Instance.unregisterElement(e,t)}clear(){Fn.Instance.clear()}getAllTypes(){return Fn.Instance.getAllTypes()}createQuestion(e,t){return Fn.Instance.createElement(e,t)}}Kt.Instance=new Kt;class Fn{constructor(){this.creatorHash={},this.registerCustomQuestion=(e,t=!0)=>{const i=s=>{const n=le.createClass(e);return n&&(n.name=s),n};this.registerElement(e,i,t)}}registerElement(e,t,i=!0){this.creatorHash[e]={showInToolbox:i,creator:t}}clear(){this.creatorHash={}}unregisterElement(e,t=!1){delete this.creatorHash[e],t&&le.removeClass(e)}getAllToolboxTypes(){return this.getAllTypesCore(!0)}getAllTypes(){return this.getAllTypesCore(!1)}createElement(e,t){var i=this.creatorHash[e];if(i&&i.creator)return i.creator(t);const s=Nh.Instance.getCustomQuestionByName(e);return s?Nh.Instance.createQuestion(t,s):null}getAllTypesCore(e){var t=new Array;for(var i in this.creatorHash)(!e||this.creatorHash[i].showInToolbox)&&t.push(i);return t.sort()}}Fn.Instance=new Fn;class tw extends Ii{constructor(e){super(e),this.createLocalizableString("format",this),this.registerPropertyChangedHandlers(["expression"],()=>{this.expressionRunner&&(this.expressionRunner=this.createRunner())}),this.registerPropertyChangedHandlers(["format","currency","displayStyle"],()=>{this.updateFormatedValue()})}getType(){return"expression"}get hasInput(){return!1}get format(){return this.getLocalizableStringText("format","")}set format(e){this.setLocalizableStringText("format",e)}get locFormat(){return this.getLocalizableString("format")}get expression(){return this.getPropertyValue("expression","")}set expression(e){this.setPropertyValue("expression",e)}locCalculation(){this.expressionIsRunning=!0}unlocCalculation(){this.expressionIsRunning=!1}runConditionCore(e,t){super.runConditionCore(e,t),!(!this.expression||this.expressionIsRunning||!this.runIfReadOnly&&this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=this.createRunner()),this.expressionRunner.run(e,t))}canCollectErrors(){return!0}hasRequiredError(){return!1}createRunner(){const e=this.createExpressionRunner(this.expression);return e.onRunComplete=t=>{this.value=this.roundValue(t),this.unlocCalculation()},e}get maximumFractionDigits(){return this.getPropertyValue("maximumFractionDigits")}set maximumFractionDigits(e){e<-1||e>20||this.setPropertyValue("maximumFractionDigits",e)}get minimumFractionDigits(){return this.getPropertyValue("minimumFractionDigits")}set minimumFractionDigits(e){e<-1||e>20||this.setPropertyValue("minimumFractionDigits",e)}get runIfReadOnly(){return this.runIfReadOnlyValue===!0}set runIfReadOnly(e){this.runIfReadOnlyValue=e}get formatedValue(){return this.getPropertyValue("formatedValue","")}updateFormatedValue(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))}onValueChanged(){this.updateFormatedValue()}updateValueFromSurvey(e,t){super.updateValueFromSurvey(e,t),this.updateFormatedValue()}getDisplayValueCore(e,t){var i=t??this.defaultValue,s="";if(!this.isValueEmpty(i)){var n=this.getValueAsStr(i);s=this.format?this.format.format(n):n}return this.survey&&(s=this.survey.getExpressionDisplayValue(this,i,s)),s}get displayStyle(){return this.getPropertyValue("displayStyle")}set displayStyle(e){this.setPropertyValue("displayStyle",e)}get currency(){return this.getPropertyValue("currency")}set currency(e){kf().indexOf(e)<0||this.setPropertyValue("currency",e)}get useGrouping(){return this.getPropertyValue("useGrouping")}set useGrouping(e){this.setPropertyValue("useGrouping",e)}get precision(){return this.getPropertyValue("precision")}set precision(e){this.setPropertyValue("precision",e)}roundValue(e){if(e!==1/0)return this.precision<0||!z.isNumber(e)?e:parseFloat(e.toFixed(this.precision))}getValueAsStr(e){if(this.displayStyle=="date"){const s=ps("question-expression",e);if(s&&s.toLocaleDateString)return s.toLocaleDateString()}if(this.displayStyle!="none"&&z.isNumber(e)){var t=this.getLocale();t||(t="en");var i={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(i.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(i.minimumFractionDigits=this.minimumFractionDigits),e.toLocaleString(t,i)}return e.toString()}}function kf(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}function SC(r,e,t){let i=t?e:r;return r==-1||e==-1?i:r>e?t?r:e:i}le.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:()=>kf(),default:"USD",visibleIf:r=>r.displayStyle==="currency"},{name:"maximumFractionDigits:number",onSettingValue:(r,e)=>SC(r.minimumFractionDigits,e,!0),default:-1},{name:"minimumFractionDigits:number",onSettingValue:(r,e)=>SC(e,r.maximumFractionDigits,!1),default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1,isSerializable:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"readOnly",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1,isSerializable:!1},{name:"resetValueIf",visible:!1,isSerializable:!1},{name:"setValueIf",visible:!1,isSerializable:!1},{name:"setValueExpression",visible:!1,isSerializable:!1},{name:"defaultValueExpression",visible:!1,isSerializable:!1},{name:"defaultValue",visible:!1,isSerializable:!1},{name:"correctAnswer",visible:!1,isSerializable:!1},{name:"requiredIf",visible:!1,isSerializable:!1}],function(){return new tw("")},"question");Kt.Instance.registerQuestion("expression",r=>new tw(r));function Xc(r,e,t,i){r.storeOthersAsComment=t?t.storeOthersAsComment:!1,(!r.choices||r.choices.length==0)&&r.choicesByUrl.isEmpty&&(r.choices=t.choices),r.choicesByUrl.isEmpty||r.choicesByUrl.run(i.getTextProcessor())}function TE(r,e,t,i){Xc(r,e,t,i),r.locPlaceholder&&r.locPlaceholder.isEmpty&&!t.locPlaceholder.isEmpty&&(r.optionsCaption=t.optionsCaption)}var EC={dropdown:{onCellQuestionUpdate:(r,e,t,i)=>{TE(r,e,t,i)}},checkbox:{onCellQuestionUpdate:(r,e,t,i)=>{Xc(r,e,t,i),r.colCount=e.colCount>-1?e.colCount:t.columnColCount}},radiogroup:{onCellQuestionUpdate:(r,e,t,i)=>{Xc(r,e,t,i),r.colCount=e.colCount>-1?e.colCount:t.columnColCount}},tagbox:{onCellQuestionUpdate:(r,e,t,i)=>{Xc(r,e,t,i)}},text:{},comment:{},boolean:{onCellQuestionUpdate:(r,e,t,i)=>{r.renderAs=e.renderAs}},expression:{},rating:{}};class df extends tt{static getColumnTypes(){var e=[];for(var t in EC)e.push(t);return e}constructor(e,t,i){super(),this.indexValue=-1,this._hasVisibleCell=!0,this.isColumnsVisibleIf=!0,this.previousChoicesId=void 0,this.colOwnerValue=i,this.createLocalizableString("totalFormat",this),this.createLocalizableString("cellHint",this),this.registerPropertyChangedHandlers(["showInMultipleColumns"],()=>{this.doShowInMultipleColumnsChanged()}),this.registerPropertyChangedHandlers(["visible"],()=>{this.doColumnVisibilityChanged()}),this.updateTemplateQuestion(void 0,e,t)}getOriginalObj(){return this.templateQuestion}getClassNameProperty(){return"cellType"}getSurvey(e=!1){return this.colOwner?this.colOwner.survey:null}endLoadingFromJson(){super.endLoadingFromJson(),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=()=>this.getSurvey()}getDynamicPropertyName(){return"cellType"}getDynamicType(){return this.cellType==="default"?"question":this.calcCellQuestionType(null)}get colOwner(){return this.colOwnerValue}set colOwner(e){this.colOwnerValue=e,e&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))}locStrsChanged(){super.locStrsChanged(),this.locTitle.strChanged()}addUsedLocales(e){super.addUsedLocales(e),this.templateQuestion.addUsedLocales(e)}get index(){return this.indexValue}setIndex(e){this.indexValue=e}getType(){return"matrixdropdowncolumn"}get cellType(){return this.getPropertyValue("cellType")}set cellType(e){e=e.toLocaleLowerCase(),this.updateTemplateQuestion(e),this.setPropertyValue("cellType",e),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)}get templateQuestion(){return this.templateQuestionValue}get value(){return this.templateQuestion.name}get isVisible(){return!0}get isColumnVisible(){return this.isDesignMode?!0:this.visible&&this.hasVisibleCell}get visible(){return this.templateQuestion.visible}set visible(e){this.templateQuestion.visible=e}get hasVisibleCell(){return this._hasVisibleCell}set hasVisibleCell(e){this._hasVisibleCell=e}getVisibleMultipleChoices(){const e=this.templateQuestion.visibleChoices;if(!Array.isArray(e))return[];if(!Array.isArray(this._visiblechoices))return e;const t=new Array;for(let i=0;i<e.length;i++){const s=e[i];this._visiblechoices.indexOf(s.value)>-1&&t.push(s)}return t}get getVisibleChoicesInCell(){if(Array.isArray(this._visiblechoices))return this._visiblechoices;const e=this.templateQuestion.visibleChoices;return Array.isArray(e)?e:[]}setVisibleChoicesInCell(e){this._visiblechoices=e}get isFilteredMultipleColumns(){if(!this.showInMultipleColumns)return!1;const e=this.templateQuestion.choices;if(!Array.isArray(e))return!1;for(let t=0;t<e.length;t++)if(e[t].visibleIf)return!0;return!1}get name(){return this.templateQuestion.name}set name(e){this.templateQuestion.name=e}get title(){return this.templateQuestion.title}set title(e){this.templateQuestion.title=e}get locTitle(){return this.templateQuestion.locTitle}get fullTitle(){return this.locTitle.textOrHtml}get defaultDisplayValue(){return this.templateQuestion.defaultDisplayValue}set defaultDisplayValue(e){this.templateQuestion.defaultDisplayValue=e}get locDefaultDisplayValue(){return this.templateQuestion.locDefaultDisplayValue}get isRequired(){return this.getPropertyValue("isRequired")}set isRequired(e){this.setPropertyValue("isRequired",e),this.templateQuestion.isRequired=e}get isRenderedRequired(){return this.getPropertyValue("isRenderedRequired",this.isRequired)}set isRenderedRequired(e){this.setPropertyValue("isRenderedRequired",e)}updateIsRenderedRequired(e){this.isRenderedRequired=e||this.isRequired}get requiredMark(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredMark:this.templateQuestion.requiredMark}get requiredErrorText(){return this.templateQuestion.requiredErrorText}set requiredErrorText(e){this.templateQuestion.requiredErrorText=e}get locRequiredErrorText(){return this.templateQuestion.locRequiredErrorText}get readOnly(){return this.templateQuestion.readOnly}set readOnly(e){this.templateQuestion.readOnly=e}get hasOther(){return this.templateQuestion.hasOther}set hasOther(e){this.templateQuestion.hasOther=e}get visibleIf(){return this.templateQuestion.visibleIf}set visibleIf(e){this.templateQuestion.visibleIf=e}get enableIf(){return this.templateQuestion.enableIf}set enableIf(e){this.templateQuestion.enableIf=e}get requiredIf(){return this.templateQuestion.requiredIf}set requiredIf(e){this.templateQuestion.requiredIf=e}get resetValueIf(){return this.templateQuestion.resetValueIf}set resetValueIf(e){this.templateQuestion.resetValueIf=e}get defaultValueExpression(){return this.templateQuestion.defaultValueExpression}set defaultValueExpression(e){this.templateQuestion.defaultValueExpression=e}get setValueIf(){return this.templateQuestion.setValueIf}set setValueIf(e){this.templateQuestion.setValueIf=e}get setValueExpression(){return this.templateQuestion.setValueExpression}set setValueExpression(e){this.templateQuestion.setValueExpression=e}get isUnique(){return this.getPropertyValue("isUnique")}set isUnique(e){this.setPropertyValue("isUnique",e)}get showInMultipleColumns(){return this.getPropertyValue("showInMultipleColumns")}set showInMultipleColumns(e){this.setPropertyValue("showInMultipleColumns",e)}get isSupportMultipleColumns(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1}get isShowInMultipleColumns(){return this.showInMultipleColumns&&this.isSupportMultipleColumns}get validators(){return this.templateQuestion.validators}set validators(e){this.templateQuestion.validators=e}get totalType(){return this.getPropertyValue("totalType")}set totalType(e){this.setPropertyValue("totalType",e)}get totalExpression(){return this.getPropertyValue("totalExpression")}set totalExpression(e){this.setPropertyValue("totalExpression",e)}get hasTotal(){return this.totalType!="none"||!!this.totalExpression}get totalFormat(){return this.getLocalizableStringText("totalFormat","")}set totalFormat(e){this.setLocalizableStringText("totalFormat",e)}get locTotalFormat(){return this.getLocalizableString("totalFormat")}get cellHint(){return this.getLocalizableStringText("cellHint","")}set cellHint(e){this.setLocalizableStringText("cellHint",e)}get locCellHint(){return this.getLocalizableString("cellHint")}get renderAs(){return this.getPropertyValue("renderAs")}set renderAs(e){this.setPropertyValue("renderAs",e),this.templateQuestion&&(this.templateQuestion.renderAs=e)}get totalMaximumFractionDigits(){return this.getPropertyValue("totalMaximumFractionDigits")}set totalMaximumFractionDigits(e){e<-1||e>20||this.setPropertyValue("totalMaximumFractionDigits",e)}get totalMinimumFractionDigits(){return this.getPropertyValue("totalMinimumFractionDigits")}set totalMinimumFractionDigits(e){e<-1||e>20||this.setPropertyValue("totalMinimumFractionDigits",e)}get totalDisplayStyle(){return this.getPropertyValue("totalDisplayStyle")}set totalDisplayStyle(e){this.setPropertyValue("totalDisplayStyle",e)}get totalAlignment(){return this.getPropertyValue("totalAlignment")}set totalAlignment(e){this.setPropertyValue("totalAlignment",e)}get totalCurrency(){return this.getPropertyValue("totalCurrency")}set totalCurrency(e){kf().indexOf(e)<0||this.setPropertyValue("totalCurrency",e)}get minWidth(){return this.getPropertyValue("minWidth","")}set minWidth(e){this.setPropertyValue("minWidth",e)}get width(){return this.templateQuestion.width}set width(e){this.templateQuestion.width=e}get colCount(){return this.getPropertyValue("colCount")}set colCount(e){e<-1||e>4||this.setPropertyValue("colCount",e)}getLocale(){return this.colOwner?this.colOwner.getLocale():""}getMarkdownHtml(e,t,i){return this.colOwner?this.colOwner.getMarkdownHtml(e,t,i):void 0}getRenderer(e){return this.colOwner?this.colOwner.getRenderer(e):null}getRendererContext(e){return this.colOwner?this.colOwner.getRendererContext(e):e}getProcessedText(e){return this.colOwner?this.colOwner.getProcessedText(e):e}createCellQuestion(e){var t=this.calcCellQuestionType(e),i=this.createNewQuestion(t);return this.callOnCellQuestionUpdate(i,e),i}startLoadingFromJson(e){super.startLoadingFromJson(e),e&&!e.cellType&&e.choices&&(e.cellType=this.colOwner.getCellType())}updateCellQuestion(e,t,i=null){this.setQuestionProperties(e,i)}callOnCellQuestionUpdate(e,t){var i=e.getType(),s=EC[i];s&&s.onCellQuestionUpdate&&s.onCellQuestionUpdate(e,this,this.colOwner,t)}defaultCellTypeChanged(){this.updateTemplateQuestion()}calcCellQuestionType(e){let t=this.getDefaultCellQuestionType();return e&&this.colOwner&&(t=this.colOwner.getCustomCellType(this,e,t)),t}getDefaultCellQuestionType(e){return e||(e=this.cellType),e!=="default"?e:this.colOwner?this.colOwner.getCellType():X.matrix.defaultCellType}updateTemplateQuestion(e,t,i){const s=this.getDefaultCellQuestionType(e),n=this.templateQuestion?this.templateQuestion.getType():"";s!==n&&(this.templateQuestion&&this.removeProperties(n),this.templateQuestionValue=this.createNewQuestion(s),this.templateQuestion.locOwner=this,this.addProperties(s),t&&(this.name=t),i?this.title=i:this.templateQuestion.locTitle.strChanged(),X.serialization.matrixDropdownColumnSerializeTitle&&(this.templateQuestion.locTitle.serializeCallBackText=!0),this.templateQuestion.onPropertyChanged.add((o,h)=>{this.propertyValueChanged(h.name,h.oldValue,h.newValue,h.arrayChanges,h.target)}),this.templateQuestion.onNestedPropertyChanged.add((o,h)=>{this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onColumnNestedPropertyChanged(this,h.name,h.nestedName,h.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add((o,h)=>{this.doItemValuePropertyChanged(h.propertyName,h.obj,h.name,h.newValue,h.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=()=>this.getSurvey()),this.templateQuestion.locTitle.strChanged())}createNewQuestion(e){var t=le.createClass(e);return t||(t=le.createClass("text")),t.loadingOwner=this,t.isEditableTemplateElement=!0,t.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(t),this.setParentQuestionToTemplate(t),t}setParentQuestionToTemplate(e){this.colOwner&&this.colOwner.isQuestion&&e.setParentQuestion(this.colOwner)}setQuestionProperties(e,t=null){if(this.templateQuestion){var i=new Ri().toJsonObject(this.templateQuestion,!0);if(t&&t(i),i.type=e.getType(),this.cellType==="default"&&this.colOwner&&this.colOwner.hasChoices()&&delete i.choices,delete i.itemComponent,this.jsonObj&&i.type==="rating"&&this.isLoadingFromJson&&Object.keys(this.jsonObj).forEach(s=>{i[s]=this.jsonObj[s]}),i.choicesOrder==="random"){i.choicesOrder="none";const s=this.templateQuestion.visibleChoices;Array.isArray(s)&&(i.choices=s)}new Ri().toObject(i,e),e.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,e.loadedChoicesFromServerCallback=()=>{if(!this.isShowInMultipleColumns||this.previousChoicesId&&this.previousChoicesId!==e.id)return;this.previousChoicesId=e.id;const s=e.visibleChoices;this.templateQuestion.choices=s,this.propertyValueChanged("choices",s,s)}}}propertyValueChanged(e,t,i,s,n){if(super.propertyValueChanged(e,t,i,s,n),e==="isRequired"&&this.updateIsRenderedRequired(i),!(!this.colOwner||this.isLoadingFromJson)){if(this.isShowInMultipleColumns){if(e==="choicesOrder")return;["visibleChoices","choices"].indexOf(e)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this)}le.hasOriginalProperty(this,e)&&this.colOwner.onColumnPropertyChanged(this,e,i)}}doItemValuePropertyChanged(e,t,i,s,n){le.hasOriginalProperty(t,i)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,e,t,i,s,n)}doShowInMultipleColumnsChanged(){this.colOwner!=null&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)}doColumnVisibilityChanged(){this.colOwner!=null&&!this.isDesignMode&&this.colOwner.onColumnVisibilityChanged(this)}getProperties(e){return le.getDynamicPropertiesByObj(this,e)}removeProperties(e){for(var t=this.getProperties(e),i=0;i<t.length;i++){var s=t[i];delete this[s.name],s.serializationProperty&&delete this[s.serializationProperty]}}addProperties(e){const t=this.getProperties(e);le.addDynamicPropertiesIntoObj(this,this.templateQuestion,t)}}le.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(r,e){r&&e&&(e.placeholder=r.locTitle.getPlaceholder())}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:()=>{var r=df.getColumnTypes();return r.splice(0,0,"default"),r}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},{name:"isRequired:boolean",defaultFunc:r=>{const e=r?.templateQuestion;return e&&le.findProperty(e.getType(),"isRequired").getDefaultValue(e)||!1}},"isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(r,e){r&&e&&(e.value=r.minWidth)}},"width",{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:r=>r.isSupportMultipleColumns},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",visibleIf:r=>!r.isShowInMultipleColumns,default:"none",choices:["none","sum","count","min","max","avg"]},{name:"totalExpression:expression",visibleIf:r=>!r.isShowInMultipleColumns},{name:"totalFormat",serializationProperty:"locTotalFormat",visibleIf:r=>r.hasTotal},{name:"totalDisplayStyle",visibleIf:r=>r.hasTotal,default:"none",choices:["none","decimal","currency","percent"]},{name:"totalAlignment",visibleIf:r=>r.hasTotal,default:"auto",choices:["auto","left","center","right"]},{name:"totalCurrency",visibleIf:r=>r.hasTotal,choices:()=>kf(),default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1,visibleIf:r=>r.hasTotal},{name:"totalMinimumFractionDigits:number",default:-1,visibleIf:r=>r.hasTotal},{name:"renderAs",default:"default",visible:!1},{name:"defaultDisplayValue",serializationProperty:"locDefaultDisplayValue"}],function(){return new df("")});function iw(r,e,t){return r+(e?"-error":"")+(t?"-detail":"")}class wr{constructor(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isErrorsCell=!1,this.isDragHandlerCell=!1,this.isDetailRowCell=!1,this.classNameValue="",this.idValue=wr.counter++}get requiredMark(){return this.column&&this.column.isRenderedRequired?this.column.requiredMark:void 0}get hasQuestion(){return!!this.question&&!this.isErrorsCell}get hasTitle(){return!!this.locTitle}get hasPanel(){return!!this.panel}get id(){let e=this.question?this.question.id:this.idValue.toString();return this.isChoice&&(e+="-"+(Number.isInteger(this.choiceIndex)?"index"+this.choiceIndex.toString():this.item.id)),iw(e,this.isErrorsCell,this.isDetailRowCell)}get item(){return this.itemValue}set item(e){this.itemValue=e,e&&(e.hideCaption=!0)}get isChoice(){return!!this.item}get isItemChoice(){return this.isChoice&&!this.isOtherChoice}get choiceValue(){return this.isChoice?this.item.value:null}get isCheckbox(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")}get isRadio(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")}get isFirstChoice(){return this.choiceIndex===0}set className(e){this.classNameValue=e}get className(){const e=new fe().append(this.classNameValue);return this.hasQuestion&&e.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),e.toString()}get cellQuestionWrapperClassName(){return this.cell.getQuestionWrapperClassName(this.matrix.cssClasses.cellQuestionWrapper)}get isVisible(){var e;return!this.hasQuestion&&!this.isErrorsCell||!(!((e=this.matrix)===null||e===void 0)&&e.isMobile)||this.question.isVisible}get showResponsiveTitle(){var e;return this.hasQuestion&&((e=this.matrix)===null||e===void 0?void 0:e.isMobile)}get responsiveTitleCss(){return new fe().append(this.matrix.cssClasses.cellResponsiveTitle).toString()}get responsiveLocTitle(){return this.cell.column.locTitle}get headers(){if(this.cell&&this.cell.column){if(this.matrix.IsMultiplyColumn(this.cell.column))return this.item?this.item.locText.renderedHtml:"";let e=this.cell.column.cellHint;return e?e.trim()===""?"":this.cell.column.locCellHint.renderedHtml:this.hasQuestion&&this.question.isVisible&&this.question.title?this.question.title:this.cell.column.title}return this.hasQuestion&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""}getTitle(){return this.matrix&&this.matrix.showHeader?this.headers:""}calculateFinalClassName(e){const t=this.cell.question.cssClasses,i=new fe().append(t.itemValue,!!t).append(t.asCell,!!t);return i.append(e.cell,i.isEmpty()&&!!e).append(e.choiceCell,this.isChoice).toString()}focusIn(){this.question&&this.question.focusIn()}}wr.counter=1;class Wn extends tt{constructor(e,t=!1){super(),this.cssClasses=e,this.isDetailRow=t,this.hasEndActions=!1,this.isErrorsRow=!1,this.cells=[],this.idValue=Wn.counter++}get id(){var e;return iw(((e=this.row)===null||e===void 0?void 0:e.id)||this.idValue.toString(),this.isErrorsRow,this.isDetailRow)}get dropTargetId(){var e;return(e=this.row)===null||e===void 0?void 0:e.id}get attributes(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}}get className(){var e,t;return new fe().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.rowHasPanel,(e=this.row)===null||e===void 0?void 0:e.hasPanel).append(this.cssClasses.expandedRow,((t=this.row)===null||t===void 0?void 0:t.isDetailPanelShowing)&&!this.isDetailRow).append(this.cssClasses.rowHasEndActions,this.hasEndActions).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()}setRootElement(e){this.rootElement=e}getRootElement(){return this.rootElement}focusCell(e){if(this.rootElement){const t=`:scope td:nth-of-type(${e+1}) input, :scope td:nth-of-type(${e+1}) button`,i=this.rootElement.querySelectorAll(t)[0];i&&i.focus()}}}Wn.counter=1;O([N({defaultValue:!1})],Wn.prototype,"isGhostRow",void 0);O([N({defaultValue:!1})],Wn.prototype,"isAdditionalClasses",void 0);O([N({defaultValue:!0})],Wn.prototype,"visible",void 0);class RE extends Wn{constructor(e){super(e),this.isErrorsRow=!0}get attributes(){return{}}get className(){return new fe().append(this.cssClasses.row).append(this.cssClasses.errorRow).toString()}onAfterCreated(){const e=()=>{this.visible=this.cells.some(t=>t.question&&t.question.hasVisibleErrors)};this.cells.forEach(t=>{t.question&&t.question.registerFunctionOnPropertyValueChanged("hasVisibleErrors",e)}),e()}}class PE extends Wn{constructor(e,t){super(e),this.customId=t,this.isErrorsRow=!1}get attributes(){return{}}get dropTargetId(){return this.customId}get className(){return new fe().append(this.cssClasses.row).append(this.cssClasses.rowEmpty).toString()}}class qf extends tt{getIsAnimationAllowed(){return super.getIsAnimationAllowed()&&this.matrix.animationAllowed}getRenderedRowsAnimationOptions(){const e=i=>{i.querySelectorAll(":scope > td > *").forEach(s=>{Qn(s)})},t=i=>{i.querySelectorAll(":scope > td > *").forEach(s=>{Tr(s)})};return{isAnimationEnabled:()=>this.animationAllowed,getRerenderEvent:()=>this.onElementRerendered,getAnimatedElement(i){return i.getRootElement()},getLeaveOptions:()=>({cssClass:this.cssClasses.rowLeave,onBeforeRunAnimation:e,onAfterRunAnimation:t}),getEnterOptions:(i,s)=>({cssClass:this.cssClasses.rowEnter,onBeforeRunAnimation:e,onAfterRunAnimation:t}),getKey:i=>i.id}}updateRenderedRows(){this.renderedRows=this.rows}get renderedRows(){return this._renderedRows}set renderedRows(e){this.renderedRowsAnimation.sync(e)}constructor(e){super(),this.matrix=e,this._renderedRows=[],this.renderedRowsAnimation=new So(this.getRenderedRowsAnimationOptions(),t=>{this._renderedRows=t},()=>this._renderedRows),this.hasActionCellInRowsValues={},this.build()}get showTable(){return this.getPropertyValue("showTable",!0)}get showHeader(){return this.getPropertyValue("showHeader")}get showAddRow(){return this.getPropertyValue("showAddRow",!1)}get showAddRowOnTop(){return this.getPropertyValue("showAddRowOnTop",!1)}get showAddRowOnBottom(){return this.getPropertyValue("showAddRowOnBottom",!1)}get showFooter(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal}get hasFooter(){return!!this.footerRow}get hasRemoveRows(){return this.hasRemoveRowsValue}isRequireReset(){return this.isRequireResetValue||this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal}requireReset(){this.isRequireResetValue=!0}get headerRow(){return this.headerRowValue}get footerRow(){return this.footerRowValue}get isRowsDragAndDrop(){return this.matrix.isRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal}get showCellErrorsTop(){return this.matrix.getErrorLocation()==="top"}get showCellErrorsBottom(){return this.matrix.getErrorLocation()==="bottom"}build(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.matrix.visibleRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()}updateShowTableAndAddRow(){const e=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",e);const t=this.matrix.isDesignMode,i=!t&&this.matrix.canAddRow&&e;let s=i,n=i;s&&(this.matrix.getAddRowLocation()==="default"?s=!this.matrix.isColumnLayoutHorizontal:s=this.matrix.getAddRowLocation()!=="bottom"),n&&this.matrix.getAddRowLocation()!=="topBottom"&&(n=!s),this.setPropertyValue("showAddRow",!t&&this.matrix.canAddRow),this.setPropertyValue("showAddRowOnTop",s),this.setPropertyValue("showAddRowOnBottom",n)}onAddedRow(e,t){if(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)return;let i=this.getRenderedRowIndexByIndex(t);this.rowsActions.splice(t,0,this.buildRowActions(e)),this.addHorizontalRow(this.rows,e,i),this.updateShowTableAndAddRow()}getRenderedRowIndexByIndex(e){let t=0,i=0;for(var s=0;s<this.rows.length;s++){if(i===e){(this.rows[s].isErrorsRow||this.rows[s].isDetailRow)&&(t++,s+1<this.rows.length&&this.rows[s+1].isDetailRow&&t++);break}t++,!this.rows[s].isErrorsRow&&!this.rows[s].isDetailRow&&i++}return i<e?this.rows.length:t}getRenderedDataRowCount(){for(var e=0,t=0;t<this.rows.length;t++)!this.rows[t].isErrorsRow&&!this.rows[t].isDetailRow&&e++;return e}onRemovedRow(e){var t=this.getRenderedRowIndex(e);if(!(t<0)){this.rowsActions.splice(t,1);var i=1;t<this.rows.length-1&&this.showCellErrorsBottom&&this.rows[t+1].isErrorsRow&&i++,t<this.rows.length-1&&(this.rows[t+1].isDetailRow||this.showCellErrorsBottom&&t+1<this.rows.length-1&&this.rows[t+2].isDetailRow)&&i++,t>0&&this.showCellErrorsTop&&this.rows[t-1].isErrorsRow&&(t--,i++),this.rows.splice(t,i),this.updateShowTableAndAddRow()}}onDetailPanelChangeVisibility(e,t){const i=this.getRenderedRowIndex(e);if(i<0)return;let s=i;this.showCellErrorsBottom&&s++;var n=s<this.rows.length-1&&this.rows[s+1].isDetailRow?s+1:-1;if(!(t&&n>-1||!t&&n<0))if(t){var o=this.createDetailPanelRow(e,this.rows[i]);this.rows.splice(s+1,0,o)}else this.rows.splice(n,1)}focusActionCell(e,t){let i=this.rows[this.rows.length-1];if(this.matrix.isColumnLayoutHorizontal){const s=this.getRenderedRowIndex(e);i=this.rows[s]}i?.focusCell(t)}getRenderedRowIndex(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].row==e)return t;return-1}buildRowsActions(){this.rowsActions=[];for(var e=this.matrix.visibleRows,t=0;t<e.length;t++)this.rowsActions.push(this.buildRowActions(e[t]))}createRenderedRow(e,t=!1){return new Wn(e,t)}createErrorRenderedRow(e){return new RE(e)}createEmptyRenderedRow(e){return new PE(e,this.matrix.id)}buildHeader(){var e=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader,t=e||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",t),!!t){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null,"action",this.cssClasses.actionsCellDrag)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var i=0;i<this.matrix.columns.length;i++){var s=this.matrix.columns[i];s.isColumnVisible&&(this.matrix.IsMultiplyColumn(s)?this.createMutlipleColumnsHeader(s):this.headerRow.cells.push(this.createHeaderCell(s)))}else{for(var n=this.matrix.visibleRows,i=0;i<n.length;i++){const h=this.createTextCell(n[i].locText);this.setHeaderCellCssClasses(h),h.row=n[i],this.headerRow.cells.push(h)}if(this.matrix.hasFooter){const o=this.createTextCell(this.matrix.getFooterText());this.setHeaderCellCssClasses(o),this.headerRow.cells.push(o)}}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null,"action"))}}buildFooter(){if(this.showFooter){if(this.footerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText){const n=this.createTextCell(this.matrix.getFooterText());n.className=new fe().append(n.className).append(this.cssClasses.footerTotalCell).toString(),this.footerRow.cells.push(n)}for(var e=this.matrix.visibleTotalRow.cells,t=0;t<e.length;t++){var i=e[t];if(i.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(i.column))this.createMutlipleColumnsFooter(this.footerRow,i);else{var s=this.createEditCell(i);i.column&&this.setCellWidth(i.column,s),s.className=new fe().append(s.className).append(this.cssClasses.footerCell).toString(),this.footerRow.cells.push(s)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null,"action"))}}buildRows(){this.blockAnimations();var e=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=e,this.releaseAnimations()}hasActionCellInRows(e){return this.hasActionCellInRowsValues[e]===void 0&&(this.hasActionCellInRowsValues[e]=this.hasActionsCellInLocaltion(e)),this.hasActionCellInRowsValues[e]}hasActionsCellInLocaltion(e){return e=="end"&&this.hasRemoveRows?!0:this.matrix.visibleRows.some((t,i)=>!this.isValueEmpty(this.getRowActions(i,e)))}canRemoveRow(e){return this.matrix.canRemoveRow(e)}buildHorizontalRows(){var e=this.matrix.visibleRows,t=[];if(e.length==0&&this.matrix.allowRowReorder&&this.matrix.allowRowDragIn){const s=this.createEmptyRow(),n=this.createTextCell(this.matrix.locNoRowsText);n.colSpans=this.headerRow&&this.headerRow.cells.length||1,s.cells.push(n),t.push(s)}for(var i=0;i<e.length;i++)this.addHorizontalRow(t,e[i]);return t}addHorizontalRow(e,t,i=-1){const s=this.createHorizontalRow(t),n=this.createErrorRow(s);if(s.row=t,i<0&&(i=e.length),this.matrix.isMobile){const o=[];for(let h=0;h<s.cells.length;h++)this.showCellErrorsTop&&!n.cells[h].isEmpty&&o.push(n.cells[h]),o.push(s.cells[h]),this.showCellErrorsBottom&&!n.cells[h].isEmpty&&o.push(n.cells[h]);s.cells=o,e.splice(i,0,s)}else e.splice(i,0,...this.showCellErrorsTop?[n,s]:[s,n]),i++;t.isDetailPanelShowing&&e.splice(i+1,0,this.createDetailPanelRow(t,s))}getRowDragCell(e){const t=new wr,i=this.matrix.lockedRowCount;return t.isDragHandlerCell=i<1||e>=i,t.isEmpty=!t.isDragHandlerCell,t.className=this.getActionsCellClassName(t),t.row=this.matrix.visibleRows[e],t}getActionsCellClassName(e=null){const t=new fe().append(this.cssClasses.actionsCell).append(this.cssClasses.actionsCellDrag,e?.isDragHandlerCell).append(this.cssClasses.detailRowCell,e?.isDetailRowCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal);if(e.isActionsCell){const i=e.item.value.actions;this.cssClasses.actionsCellPrefix&&i.forEach(s=>{t.append(this.cssClasses.actionsCellPrefix+"--"+s.id)})}return t.toString()}getRowActionsCell(e,t,i=!1){const s=this.getRowActions(e,t);if(!this.isValueEmpty(s)){const n=new wr,o=this.matrix.allowAdaptiveActions?new Ro:new Ss;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(o.cssClasses=this.matrix.survey.getCss().actionBar),o.setItems(s);const h=new Je(o);return n.item=h,n.isActionsCell=!0,n.isDragHandlerCell=!1,n.isDetailRowCell=i,n.className=this.getActionsCellClassName(n),n.row=this.matrix.visibleRows[e],n}return null}getRowActions(e,t){var i=this.rowsActions[e];return Array.isArray(i)?i.filter(s=>(s.location||(s.location="start"),s.location===t)):[]}buildRowActions(e){var t=[];return this.setDefaultRowActions(e,t),this.matrix.survey&&(t=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,e,t)),t}get showRemoveButtonAsIcon(){return X.matrix.renderRemoveAsIcon&&this.matrix.survey&&this.matrix.survey.css.root==="sd-root-modern"}setDefaultRowActions(e,t){const i=this.matrix;this.hasRemoveRows&&this.canRemoveRow(e)&&(this.showRemoveButtonAsIcon?t.push(new ht({id:"remove-row",iconName:"icon-delete-24x24",iconSize:"auto",component:"sv-action-bar-item",innerCss:new fe().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:i.removeRowText,enabled:!i.isInputReadOnly,data:{row:e,question:i},action:()=>{i.removeRowUI(e)}})):t.push(new ht({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:e,question:this.matrix}}))),e.hasPanel&&(this.matrix.isMobile?t.unshift(new ht({id:"show-detail-mobile",title:new $t(()=>e.isDetailPanelShowing?this.matrix.getLocalizationString("hideDetails"):this.matrix.getLocalizationString("showDetails")),showTitle:!0,location:"end",action:s=>{e.showHideDetailPanelClick()}})):t.push(new ht({id:"show-detail",title:new $t(()=>e.isDetailPanelShowing?this.matrix.getLocalizationString("hideDetails"):this.matrix.getLocalizationString("showDetails")),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:e,question:this.matrix}})))}createErrorRow(e){const t=this.createErrorRenderedRow(this.cssClasses);for(let i=0;i<e.cells.length;i++){const s=e.cells[i];s.hasQuestion?this.matrix.IsMultiplyColumn(s.cell.column)?s.isFirstChoice?t.cells.push(this.createErrorCell(s.cell)):t.cells.push(this.createEmptyCell(!0)):t.cells.push(this.createErrorCell(s.cell)):t.cells.push(this.createEmptyCell(!0))}return t.onAfterCreated(),t}createEmptyRow(){return this.createEmptyRenderedRow(this.cssClasses)}createHorizontalRow(e){var t=this.createRenderedRow(this.cssClasses);if(this.isRowsDragAndDrop){var i=this.matrix.visibleRows.indexOf(e);t.cells.push(this.getRowDragCell(i))}if(this.addRowActionsCell(e,t,"start"),this.matrix.hasRowText){var s=this.createTextCell(e.locText);s.row=e,t.cells.push(s),this.setCellWidth(null,s),s.className=new fe().append(s.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell,!this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.detailRowText,e.hasPanel).toString()}for(var n=0;n<e.cells.length;n++){let o=e.cells[n];if(o.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(o.column))this.createMutlipleEditCells(t,o);else{o.column.isShowInMultipleColumns&&o.question.visibleChoices.map(d=>d.hideCaption=!1);var s=this.createEditCell(o);t.cells.push(s),this.setCellWidth(o.column,s)}}return this.addRowActionsCell(e,t,"end"),t}addRowActionsCell(e,t,i){var s=this.matrix.visibleRows.indexOf(e);if(this.hasActionCellInRows(i)){const o=this.getRowActionsCell(s,i,t.isDetailRow);if(o)t.cells.push(o),t.hasEndActions=!0;else{var n=new wr;n.isEmpty=!0,n.isDetailRowCell=t.isDetailRow,t.cells.push(n)}}}createDetailPanelRow(e,t){const i=this.matrix.isDesignMode;var s=this.createRenderedRow(this.cssClasses,!0);s.row=e;var n=new wr;this.matrix.hasRowText&&(n.colSpans=2),n.isEmpty=!0,i||s.cells.push(n);var o=null;this.hasActionCellInRows("end")&&(o=new wr,o.isEmpty=!0);var h=new wr;return h.panel=e.detailPanel,h.colSpans=t.cells.length-(i?0:n.colSpans)-(o?o.colSpans:0),h.className=this.cssClasses.detailPanelCell,s.cells.push(h),o&&(this.matrix.isMobile?this.addRowActionsCell(e,s,"end"):s.cells.push(o)),typeof this.matrix.onCreateDetailPanelRenderedRowCallback=="function"&&this.matrix.onCreateDetailPanelRenderedRowCallback(s),s}buildVerticalRows(){for(var e=this.matrix.columns,t=[],i=0;i<e.length;i++){var s=e[i];if(s.isColumnVisible)if(this.matrix.IsMultiplyColumn(s))this.createMutlipleVerticalRows(t,s,i);else{const n=this.createVerticalRow(s,i),o=this.createErrorRow(n);this.showCellErrorsTop?(t.push(o),t.push(n)):(t.push(n),t.push(o))}}return this.hasActionCellInRows("end")&&t.push(this.createEndVerticalActionRow()),t}createMutlipleVerticalRows(e,t,i){var s=this.getMultipleColumnChoices(t);if(s)for(var n=0;n<s.length;n++){const o=this.createVerticalRow(t,i,s[n],n),h=this.createErrorRow(o);this.showCellErrorsTop?(e.push(h),e.push(o)):(e.push(o),e.push(h))}}createVerticalRow(e,t,i=null,s=-1){var n=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var o=i?i.locText:e.locTitle,h=this.createTextCell(o);h.column=e,h.className=new fe().append(h.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell).toString(),n.cells.push(h)}for(var d=this.matrix.visibleRows,f=0;f<d.length;f++){var p=i,y=s>=0?s:f,b=d[f].cells[t],w=i?b.question.visibleChoices:void 0;w&&y<w.length&&(p=w[y]);var T=this.createEditCell(b,p);T.item=p,T.choiceIndex=y,n.cells.push(T)}return this.matrix.hasTotal&&n.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[t])),n}createEndVerticalActionRow(){var e=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&e.cells.push(this.createEmptyCell());for(var t=this.matrix.visibleRows,i=0;i<t.length;i++)e.cells.push(this.getRowActionsCell(i,"end"));return this.matrix.hasTotal&&e.cells.push(this.createEmptyCell()),e}createMutlipleEditCells(e,t,i=!1){var s=i?this.getMultipleColumnChoices(t.column):t.question.visibleChoices;if(s)for(var n=0;n<s.length;n++){var o=this.createEditCell(t,i?void 0:s[n]);i||(this.setItemCellCssClasses(o),o.choiceIndex=n),e.cells.push(o)}}setItemCellCssClasses(e){e.className=new fe().append(this.cssClasses.cell).append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,e.isRadio).append(this.cssClasses.checkboxCell,e.isCheckbox).toString()}createEditCell(e,t=void 0){var i=new wr;return i.cell=e,i.row=e.row,i.column=e.column,i.question=e.question,i.matrix=this.matrix,i.item=t,i.isOtherChoice=!!t&&!!e.question&&e.question.otherItem===t,i.className=i.calculateFinalClassName(this.cssClasses),i}createErrorCell(e,t=void 0){var i=new wr;return i.question=e.question,i.row=e.row,i.matrix=this.matrix,i.isErrorsCell=!0,i.className=new fe().append(this.cssClasses.cell).append(this.cssClasses.errorsCell).append(this.cssClasses.errorsCellTop,this.showCellErrorsTop).append(this.cssClasses.errorsCellBottom,this.showCellErrorsBottom).toString(),i}createMutlipleColumnsFooter(e,t){this.createMutlipleEditCells(e,t,!0)}createMutlipleColumnsHeader(e){var t=this.getMultipleColumnChoices(e);if(t)for(var i=0;i<t.length;i++){var s=this.createTextCell(t[i].locText);this.setHeaderCell(e,s),this.setHeaderCellCssClasses(s),this.headerRow.cells.push(s)}}getMultipleColumnChoices(e){var t=e.templateQuestion.choices;return t&&Array.isArray(t)&&t.length==0?[].concat(this.matrix.choices,e.getVisibleMultipleChoices()):(t=e.getVisibleMultipleChoices(),!t||!Array.isArray(t)?null:t)}setHeaderCellCssClasses(e,t,i){e.className=new fe().append(this.cssClasses.headerCell).append(this.cssClasses.columnTitleCell,this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.emptyCell,!!e.isEmpty).append(this.cssClasses.cell+"--"+t,!!t).append(i,!!i).toString()}createHeaderCell(e,t=null,i){let s=e?this.createTextCell(e.locTitle):this.createEmptyCell();return s.column=e,this.setHeaderCell(e,s),t||(t=e&&e.cellType!=="default"?e.cellType:this.matrix.cellType),this.setHeaderCellCssClasses(s,t,i),s}setHeaderCell(e,t){this.setCellWidth(e,t)}setCellWidth(e,t){t.minWidth=e!=null?this.matrix.getColumnWidth(e):this.matrix.getRowTitleWidth(),t.width=e!=null?e.width:this.matrix.getRowTitleWidth()}createTextCell(e){var t=new wr;return t.locTitle=e,this.cssClasses.cell&&(t.className=this.cssClasses.cell),t}createEmptyCell(e=!1){const t=this.createTextCell(null);return t.isEmpty=!0,t.className=new fe().append(this.cssClasses.cell).append(this.cssClasses.emptyCell).append(this.cssClasses.errorsCell,e).toString(),t}}O([Es({onPush:(r,e,t)=>{t.updateRenderedRows()},onRemove:(r,e,t)=>{t.updateRenderedRows()}})],qf.prototype,"rows",void 0);O([Es()],qf.prototype,"_renderedRows",void 0);class sw{constructor(e,t,i){this.column=e,this.row=t,this.data=i,this.questionValue=this.createQuestion(e,t,i),this.questionValue.updateCustomWidget(),this.updateCellQuestionTitleDueToAccessebility(t)}updateCellQuestionTitleDueToAccessebility(e){this.questionValue.locTitle.onGetTextCallback=t=>{const i=e?.getSurvey();if(!i||i.isSingleVisibleInput)return this.questionValue.title;const s=e.getAccessbilityText();return s?this.column.colOwner.getCellAriaLabel(e,this.column,s):this.questionValue.title}}locStrsChanged(){this.question.locStrsChanged()}createQuestion(e,t,i){const s=i.createQuestion(this.row,this.column);return s.readOnlyCallback=()=>!this.row.isRowEnabled(),s.validateValueCallback=function(){return i.validateCell(t,e.name,t.value)},Ei.getProperties(e.getType()).forEach(n=>{let o=n.name;e[o]!==void 0&&(s[o]=e[o])}),s}get question(){return this.questionValue}get value(){return this.question.value}set value(e){this.question.value=e}getQuestionWrapperClassName(e){return e}runCondition(e,t){this.question.runCondition(e,t)}}class IE extends sw{constructor(e,t,i){super(e,t,i),this.column=e,this.row=t,this.data=i,this.updateCellQuestion()}createQuestion(e,t,i){var s=le.createClass("expression");return s.setSurveyImpl(t),s}locStrsChanged(){this.updateCellQuestion(),super.locStrsChanged()}updateCellQuestion(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(e){delete e.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0}getQuestionWrapperClassName(e){let t=super.getQuestionWrapperClassName(e);if(!t)return t;this.question.expression&&this.question.expression!="''"&&(t+=" "+e+"--expression");let i=this.column.totalAlignment;return i==="auto"&&this.column.cellType==="dropdown"&&(i="left"),t+" "+e+"--"+i}getTotalExpression(){if(this.column.totalExpression)return this.column.totalExpression;if(this.column.totalType=="none")return"''";var e=this.column.totalType+"InArray";return qt.Instance.hasFunction(e)?e+"({self}, '"+this.column.name+"')":""}}class AE extends cv{constructor(e,t,i){super(i),this.data=e,this.row=t,this.variableName=i,this.sharedQuestions={},this.parentTextProcessor=e?.getParentTextProcessor()}getParentTextProcessor(){return this.parentTextProcessor}get survey(){return this.row.getSurvey()}getValues(){return this.row.getAllValues()}getQuestionByName(e){let t=this.row.getQuestionByName(e);if(t)return t;const i=this.row.rowIndex-1;t=i>-1?this.data.getSharedQuestionFromArray(e,i):void 0;const s=t?t.name:e;return this.sharedQuestions[s]=e,t}getQuestionDisplayText(e){const t=this.sharedQuestions[e.name];if(!t)return super.getQuestionDisplayText(e);const i=this.row.getAllValues()[t];return e.getDisplayValue(!0,i)}onCustomProcessText(e){return e.name==ii.IndexVariableName?(e.isExists=!0,e.value=this.row.rowIndex,!0):[ii.RowValueVariableName,ii.RowNameVariableName].indexOf(e.name)>-1?(e.isExists=!0,e.value=this.row.rowName,!0):e.name==ii.RowTitleVariableName?(e.isExists=!0,e.value=this.row.rowTitle,!0):!1}}class ii{static getId(){return"srow_"+ii.idCounter++}constructor(e,t){this.isSettingValue=!1,this.detailPanelValue=null,this.visibleValue=!0,this.cells=[],this.visibleIndex=-1,this.isCreatingDetailPanel=!1,this.data=e,this.subscribeToChanges(t),this.textPreProcessor=new AE(e,this,ii.RowVariableName),this.showHideDetailPanelClick=()=>{if(this.getSurvey().isDesignMode)return!0;this.showHideDetailPanel()},this.idValue=ii.getId()}get id(){return this.idValue}get rowName(){return null}get rowTitle(){return this.rowName}get dataName(){return this.rowName}get text(){return this.rowName}isRowEnabled(){return!0}isRowHasEnabledCondition(){return!1}get isVisible(){return this.visible&&this.isItemVisible()}get visible(){return this.visibleValue}set visible(e){var t;this.visible!==e&&(this.visibleValue=e,(t=this.data)===null||t===void 0||t.onRowVisibilityChanged(this))}isItemVisible(){return!0}get value(){for(var e={},t=this.questions,i=0;i<t.length;i++){var s=t[i];s.isEmpty()||(e[s.getValueName()]=s.value),s.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(e[s.getValueName()+tt.commentSuffix]=s.comment)}return e}set value(e){this.isSettingValue=!0,this.subscribeToChanges(e);for(var t=this.questions,i=0;i<t.length;i++){var s=t[i],n=this.getCellValue(e,s.getValueName()),o=s.comment,h=e?e[s.getValueName()+tt.commentSuffix]:"";h==null&&(h=""),s.updateValueFromSurvey(n),(h||this.isTwoValueEquals(o,s.comment))&&s.updateCommentFromSurvey(h),s.onSurveyValueChanged(n)}this.isSettingValue=!1}get locText(){return null}getAccessbilityText(){return this.locText&&this.locText.renderedHtml}get hasPanel(){return this.data?this.data.hasDetailPanel(this):!1}get detailPanel(){return this.detailPanelValue}get detailPanelId(){return this.detailPanel?this.detailPanel.id:""}get isDetailPanelShowing(){return this.data?this.data.getIsDetailPanelShowing(this):!1}setIsDetailPanelShowing(e){!e&&this.detailPanel&&this.detailPanel.onHidingContent(),this.data&&this.data.setIsDetailPanelShowing(this,e),e&&this.detailPanel&&this.detailPanel.onFirstRendering(),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()}showHideDetailPanel(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()}showDetailPanel(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)}hideDetailPanel(e=!1){this.setIsDetailPanelShowing(!1),e&&(this.detailPanelValue=null)}ensureDetailPanel(){if(!this.isCreatingDetailPanel&&!(this.detailPanelValue||!this.hasPanel||!this.data)){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var e=this.detailPanelValue.questions,t=this.getDataRowValue();if(!z.isValueEmpty(t))for(var i=0;i<e.length;i++){const s=e[i].getValueName(),n=this.editingObj?le.getObjPropertyValue(this.editingObj,s):t[s];z.isValueEmpty(n)||(e[i].value=n)}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}}getAllValues(){const e=this.value;if(this.data){const i=this.getDataRowValue();if(i)for(var t in i)e[t]===void 0&&(e[t]=i[t])}return e}getFilteredValues(){const e=this.data?this.data.getDataFilteredValues():{};var t=this.validationValues;if(t)for(var i in t)e[i]=t[i];return e.row=this.getAllValues(),this.applyRowVariablesToValues(e,this.rowIndex),e}getFilteredProperties(){return{survey:this.getSurvey(),row:this}}getDataRowValue(){return this.data?this.data.getRowValue(this.data.getRowIndex(this)):null}applyRowVariablesToValues(e,t){e[ii.IndexVariableName]=t,e[ii.RowValueVariableName]=this.rowName,e[ii.RowNameVariableName]=this.rowName,e[ii.RowTitleVariableName]=this.rowTitle}runCondition(e,t,i){if(!this.data)return;e[ii.OwnerVariableName]=this.data.getFilteredData();const s=this.rowIndex;this.applyRowVariablesToValues(e,s);const n=z.createCopy(t);n[ii.RowVariableName]=this;const o=s>0?this.getDataRowValue():this.value;i?(e[ii.RowVariableName]=o,this.setRowsVisibleIfValues(e),this.visible=new ar(i).run(e,t)):this.visible=!0;for(var h=0;h<this.cells.length;h++)h>0&&kl(this.value,o),e[ii.RowVariableName]=o,this.cells[h].runCondition(e,n);this.detailPanel&&this.detailPanel.runCondition(e,n),this.isRowHasEnabledCondition()&&this.onQuestionReadOnlyChanged()}updateElementVisibility(){this.cells.forEach(e=>e.question.updateElementVisibility()),this.detailPanel&&this.detailPanel.updateElementVisibility()}setRowsVisibleIfValues(e){}getNamesWithDefaultValues(){const e=[];return this.questions.forEach(t=>{t.isValueDefault&&e.push(t.getValueName())}),e}clearValue(e){for(var t=this.questions,i=0;i<t.length;i++)t[i].clearValue(e)}onAnyValueChanged(e,t){for(var i=this.questions,s=0;s<i.length;s++)i[s].onAnyValueChanged(e,t)}getDataValueCore(e,t){var i=this.getSurvey();return i?i.getDataValueCore(e,t):e[t]}getValue(e){var t=this.getQuestionByName(e);return t?t.value:null}setValue(e,t){this.setValueCore(e,t,!1)}getVariable(e){}setVariable(e,t){}getComment(e){var t=this.getQuestionByName(e);return t?t.comment:""}setComment(e,t,i){this.setValueCore(e,t,!0)}findQuestionByName(e){if(!e)return;const t=ii.RowVariableName+".";if(e.indexOf(t)===0)return this.getQuestionByName(e.substring(t.length));const i=this.getSurvey();return i?i.getQuestionByName(e):null}getEditingSurveyElement(){}setValueCore(e,t,i){if(this.isSettingValue)return;this.updateQuestionsValue(e,t,i),i||this.updateSharedQuestionsValue(e,t);var s=this.value,n=i?e+tt.commentSuffix:e,o=t,h=this.getQuestionByName(e),d=this.data.onRowChanging(this,n,s);if(h&&!this.isTwoValueEquals(d,o)&&(this.isSettingValue=!0,i?h.comment=d:h.value=d,this.isSettingValue=!1,s=this.value),this.data.isValidateOnValueChanging&&this.hasQuestonError(h))return;const f=t==null&&!h||i&&!t&&!!h;this.data.onRowChanged(this,n,s,f),n&&this.runTriggers(Yc.RowVariableName+"."+n,s),this.onAnyValueChanged(ii.RowVariableName,"")}updateQuestionsValue(e,t,i){if(this.detailPanel){var s=this.getQuestionByColumnName(e),n=this.detailPanel.getQuestionByName(e);if(!(!s||!n)){var o=this.isTwoValueEquals(t,i?s.comment:s.value),h=o?n:s;this.isSettingValue=!0,i?h.comment=t:h.value=t,this.isSettingValue=!1}}}updateSharedQuestionsValue(e,t){const i=this.getQuestionsByValueName(e);if(i.length>1)for(let s=0;s<i.length;s++)z.isTwoValueEquals(i[s].value,t)||(this.isSettingValue=!0,i[s].updateValueFromSurvey(t),this.isSettingValue=!1)}runTriggers(e,t,i){!e&&!i||this.questions.forEach(s=>s.runTriggers(e,t,i))}hasQuestonError(e){if(!e)return!1;if(e.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(e.isEmpty())return!1;var t=this.getCellByColumnName(e.name);return!t||!t.column||!t.column.isUnique?!1:this.data.checkIfValueInRowDuplicated(this,e)}get isEmpty(){var e=this.value;if(z.isValueEmpty(e))return!0;for(var t in e)if(e[t]!==void 0&&e[t]!==null)return!1;return!0}hasValueAnyQuestion(e){const t=e?this.visibleQuestions:this.questions;for(let i=0;i<t.length;i++)if(!t[i].isEmpty())return!0;return!1}getQuestionByColumn(e){var t=this.getCellByColumn(e);return t?t.question:null}getCellByColumn(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column==e)return this.cells[t];return null}getCellByColumnName(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column.name==e)return this.cells[t];return null}getQuestionByColumnName(e){var t=this.getCellByColumnName(e);return t?t.question:null}get questions(){for(var e=[],t=0;t<this.cells.length;t++)e.push(this.cells[t].question);for(var i=this.detailPanel?this.detailPanel.questions:[],t=0;t<i.length;t++)e.push(i[t]);return e}get visibleQuestions(){const e=[];return this.questions.forEach(t=>{t.isVisible&&e.push(t)}),e}getQuestionByName(e){var t=this.getQuestionByColumnName(e);return t||(this.detailPanel?this.detailPanel.getQuestionByName(e):null)}getQuestionsByName(e){let t=[],i=this.getQuestionByColumnName(e);return i&&t.push(i),this.detailPanel&&(i=this.detailPanel.getQuestionByName(e),i&&t.push(i)),t}getQuestionsByValueName(e){let t=[];for(var i=0;i<this.cells.length;i++){const s=this.cells[i];s.question&&s.question.getValueName()===e&&t.push(s.question)}return this.detailPanel&&(t=t.concat(this.detailPanel.getQuestionsByValueName(e))),t}getSharedQuestionByName(e){return this.data?this.data.getSharedQuestionByName(e,this):null}clearIncorrectValues(e){for(var t in e){var i=this.getQuestionByName(t);if(i){var s=i.value;i.clearIncorrectValues(),this.isTwoValueEquals(s,i.value)||this.setValue(t,i.value)}else!this.getSharedQuestionByName(t)&&t.indexOf(X.matrix.totalsSuffix)<0&&this.setValue(t,null)}}getLocale(){return this.data?this.data.getLocale():""}getMarkdownHtml(e,t,i){return this.data?this.data.getMarkdownHtml(e,t,i):void 0}getRenderer(e){return this.data?this.data.getRenderer(e):null}getRendererContext(e){return this.data?this.data.getRendererContext(e):e}getProcessedText(e){return this.data?this.data.getProcessedText(e):e}locStrsChanged(){for(var e=0;e<this.cells.length;e++)this.cells[e].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()}updateCellQuestionOnColumnChanged(e,t,i){var s=this.getCellByColumn(e);s&&this.updateCellOnColumnChanged(s,t,i)}updateCellQuestionOnColumnItemValueChanged(e,t,i,s,n,o){var h=this.getCellByColumn(e);h&&this.updateCellOnColumnItemValueChanged(h,t,i,s,n,o)}onQuestionReadOnlyChanged(){const e=this.questions;for(var t=0;t<e.length;t++){const i=e[t];i.setPropertyValue("isReadOnly",i.isReadOnly)}if(this.detailPanel){const i=!!this.data&&this.data.isMatrixReadOnly();this.detailPanel.readOnly=i||!this.isRowEnabled()}}hasErrors(e,t,i){var s=!1,n=this.cells;if(!n)return s;this.validationValues=t.validationValues;const o=t?.focusOnFirstError;for(var h=0;h<n.length;h++)if(n[h]){var d=n[h].question;!d||!d.visible||(d.onCompletedAsyncValidators=p=>{i()},!(t&&t.isOnValueChanged===!0&&d.isEmpty())&&(s=d.hasErrors(e,t)||s,s&&o&&!t.firstErrorQuestion&&(t.firstErrorQuestion=d)))}if(this.hasPanel){this.ensureDetailPanel();var f=this.detailPanel.hasErrors(e,!1,t);!t.hideErroredPanel&&f&&e&&(t.isSingleDetailPanel&&(t.hideErroredPanel=!0),this.showDetailPanel()),s=f||s}return this.validationValues=void 0,s}updateCellOnColumnChanged(e,t,i){t==="choices"&&Array.isArray(i)&&i.length===0&&this.data&&(i=this.data.choices),e.question[t]=i}updateCellOnColumnItemValueChanged(e,t,i,s,n,o){var h=e.question[t];if(Array.isArray(h)){var d=s==="value"?o:i.value,f=Je.getItemByValue(h,d);f&&(f[s]=n)}}buildCells(e){this.isSettingValue=!0;for(var t=this.data.columns,i=0;i<t.length;i++){var s=t[i],n=this.createCell(s);this.cells.push(n);var o=this.getCellValue(e,s.name);if(!z.isValueEmpty(o)){n.question.value=o;var h=s.name+tt.commentSuffix;e&&!z.isValueEmpty(e[h])&&(n.question.comment=e[h])}}this.isSettingValue=!1}isTwoValueEquals(e,t){return z.isTwoValueEquals(e,t,!1,!0,!1)}getCellValue(e,t){return this.editingObj?le.getObjPropertyValue(this.editingObj,t):e?e[t]:void 0}createCell(e){return new sw(e,this,this.data)}getSurveyData(){return this}getSurvey(){return this.data?this.data.getSurvey():null}getTextProcessor(){return this.textPreProcessor}get rowIndex(){return this.getRowIndex()}getRowIndex(){return this.data?this.data.getRowIndex(this)+1:-1}get editingObj(){return this.editingObjValue}dispose(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)}subscribeToChanges(e){!e||!e.getType||!e.onPropertyChanged||e!==this.editingObj&&(this.editingObjValue=e,this.onEditingObjPropertyChanged=(t,i)=>{this.updateOnSetValue(i.name,i.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}updateOnSetValue(e,t){this.isSettingValue=!0;let i=this.getQuestionsByName(e);for(let s=0;s<i.length;s++)i[s].value=t;this.isSettingValue=!1}}ii.RowVariableName="row";ii.OwnerVariableName="self";ii.IndexVariableName="rowIndex";ii.RowValueVariableName="rowValue";ii.RowNameVariableName="rowName";ii.RowTitleVariableName="rowTitle";ii.idCounter=1;class Yc extends ii{constructor(e){super(e,null),this.buildCells(null)}createCell(e){return new IE(e,this,this.data)}setValue(e,t){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()}runCondition(e,t,i){var s=0,n;do n=z.getUnbindValue(this.value),super.runCondition(e,t,""),s++;while(!z.isTwoValueEquals(n,this.value)&&s<3)}updateCellOnColumnChanged(e,t,i){e.updateCellQuestion()}}class jh extends Nf{static get defaultCellType(){return X.matrix.defaultCellType}static set defaultCellType(e){X.matrix.defaultCellType=e}static addDefaultColumns(e){for(var t=Kt.DefaultColums,i=0;i<t.length;i++)e.addColumn(t[i])}createColumnValues(){return this.createNewArray("columns",e=>{e.colOwner=this,this.onAddColumn&&this.onAddColumn(e),this.survey&&this.survey.matrixColumnAdded(this,e)},e=>{e.colOwner=null,this.onRemoveColumn&&this.onRemoveColumn(e)})}constructor(e){super(e),this.isRowChanging=!1,this.lockResetRenderedTable=!1,this.createItemValues("choices"),this.createLocalizableString("placeholder",this,!1,!0),this.createLocalizableString("keyDuplicationError",this,!1,!0),this.createLocalizableString("singleInputTitleTemplate",this,!0,this.getSingleInputTitleTemplate()).onGetTextCallback=t=>this.processSingleInputTitle(t),this.detailPanelValue=this.createNewDetailPanel(),this.detailPanel.selectedElementInDesign=this,this.detailPanel.renderWidth="100%",this.detailPanel.isInteractiveDesignElement=!1,this.detailPanel.showTitle=!1,this.registerPropertyChangedHandlers(["columns","cellType"],()=>{this.updateColumnsAndRows()}),this.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],()=>{this.clearRowsAndResetRenderedTable()}),this.registerPropertyChangedHandlers(["transposeData","addRowButtonLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode","displayMode"],()=>{this.resetRenderedTable()})}getType(){return"matrixdropdownbase"}dispose(){super.dispose(),this.clearGeneratedRows()}get hasSingleInput(){return!1}get isContainer(){return!0}get isRowsDynamic(){return!1}get isUpdateLocked(){return this.isLoadingFromJson||this.isUpdating}beginUpdate(){this.isUpdating=!0}endUpdate(){this.isUpdating=!1,this.updateColumnsAndRows()}updateColumnsAndRows(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()}itemValuePropertyChanged(e,t,i,s){super.itemValuePropertyChanged(e,t,i,s),e.ownerPropertyName==="choices"&&this.clearRowsAndResetRenderedTable()}get transposeData(){return this.getPropertyValue("transposeData")}set transposeData(e){this.setPropertyValue("transposeData",e)}get columnLayout(){return this.transposeData?"vertical":"horizontal"}set columnLayout(e){this.transposeData=e==="vertical"}get columnsLocation(){return this.columnLayout}set columnsLocation(e){this.columnLayout=e}get detailErrorLocation(){return this.getPropertyValue("detailErrorLocation")}set detailErrorLocation(e){this.setPropertyValue("detailErrorLocation",e.toLowerCase())}get cellErrorLocation(){return this.getPropertyValue("cellErrorLocation")}set cellErrorLocation(e){this.setPropertyValue("cellErrorLocation",e.toLowerCase())}getChildErrorLocation(e){const t=e.parent?this.detailErrorLocation:this.cellErrorLocation;return t!=="default"?t:super.getChildErrorLocation(e)}get isColumnLayoutHorizontal(){return this.isMobile?!0:!this.transposeData}get useCaseSensitiveComparison(){return this.useCaseSensitiveComparisonValue!==void 0?this.useCaseSensitiveComparisonValue:X.comparator.caseSensitive}set useCaseSensitiveComparison(e){this.useCaseSensitiveComparisonValue=e}get isUniqueCaseSensitive(){return this.useCaseSensitiveComparison}set isUniqueCaseSensitive(e){this.useCaseSensitiveComparison=e}get detailPanelMode(){return this.getPropertyValue("detailPanelMode")}set detailPanelMode(e){this.setPropertyValue("detailPanelMode",e)}get detailPanel(){return this.detailPanelValue}getPanel(){return this.detailPanel}get detailElements(){return this.detailPanel.elements}createNewDetailPanel(){return le.createClass("panel")}get hasRowText(){return!0}getFooterText(){return null}get canAddRow(){return!1}get canRemoveRows(){return!1}canRemoveRow(e){return!0}onPointerDown(e,t){}onRowsChanged(){this.clearVisibleRows(),this.resetRenderedTable(),super.onRowsChanged();const e=this.visibleRows;for(let t=0;t<e.length;t++)e[t].visibleIndex=t}onStartRowAddingRemoving(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly(!0)}onEndRowAdding(){if(this.lockResetRenderedTable=!1,!!this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{const e=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[e],e)}}onEndRowRemoving(e){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():e&&this.renderedTable.onRemovedRow(e)}get renderedTableValue(){return this.getPropertyValue("renderedTable",null)}set renderedTableValue(e){this.setPropertyValue("renderedTable",e)}clearRowsAndResetRenderedTable(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)}resetRenderedTable(e){this.renderedTableValue&&(this.lockResetRenderedTable||this.isUpdateLocked?e&&this.renderedTableValue.requireReset():(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback)))}clearGeneratedRows(){if(this.clearVisibleRows(),!!this.generatedVisibleRows){for(var e=0;e<this.generatedVisibleRows.length;e++)this.generatedVisibleRows[e].dispose();super.clearGeneratedRows()}}get isRendredTableCreated(){return!!this.renderedTableValue}get renderedTable(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue}createRenderedTable(){return new qf(this)}getRowByQuestion(e){if(e)return e.data}onMatrixRowCreated(e){if(this.survey)for(var t={rowValue:e.value,row:e,column:null,columnName:null,cell:null,cellQuestion:null,value:null},i=0;i<this.columns.length;i++){t.column=this.columns[i],t.columnName=t.column.name;var s=e.cells[i];t.cell=s,t.cellQuestion=s.question,t.value=s.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(t),this.survey.matrixCellCreated(this,t)}}get cellType(){return this.getPropertyValue("cellType",X.matrix.defaultCellType)}set cellType(e){e=e.toLowerCase(),this.setPropertyValue("cellType",e)}isSelectCellType(){return le.isDescendantOf(this.cellType,"selectbase")}updateColumnsCellType(){for(var e=0;e<this.columns.length;e++)this.columns[e].defaultCellTypeChanged()}updateColumnsIndexes(e){for(var t=0;t<e.length;t++)e[t].setIndex(t)}get columnColCount(){return this.getPropertyValue("columnColCount")}set columnColCount(e){e<0||e>4||this.setPropertyValue("columnColCount",e)}get horizontalScroll(){return this.getPropertyValue("horizontalScroll")}set horizontalScroll(e){this.setPropertyValue("horizontalScroll",e)}get allowAdaptiveActions(){return this.getPropertyValue("allowAdaptiveActions")}set allowAdaptiveActions(e){this.setPropertyValue("allowAdaptiveActions",e),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=e)}hasChoices(){return this.choices.length>0}onColumnPropertyChanged(e,t,i){if(this.updateHasFooter(),!!this.generatedVisibleRows){for(var s=0;s<this.generatedVisibleRows.length;s++)this.generatedVisibleRows[s].updateCellQuestionOnColumnChanged(e,t,i);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(e,t,i),this.onColumnsChanged(),t=="isRequired"&&this.resetRenderedTable()}}onColumnNestedPropertyChanged(e,t,i,s){if(this.generatedVisibleRows)for(var n=0;n<this.generatedVisibleRows.length;n++){const h=this.generatedVisibleRows[n].getQuestionByColumn(e);h&&h[t]&&(h[t][i]=s)}}onColumnItemValuePropertyChanged(e,t,i,s,n,o){if(this.generatedVisibleRows)for(var h=0;h<this.generatedVisibleRows.length;h++)this.generatedVisibleRows[h].updateCellQuestionOnColumnItemValueChanged(e,t,i,s,n,o)}onShowInMultipleColumnsChanged(e){this.resetTableAndRows()}onColumnVisibilityChanged(e){this.resetTableAndRows()}onColumnCellTypeChanged(e){this.updateDefaultRowValue(e),this.resetTableAndRows()}updateDefaultRowValue(e){let t=this.defaultRowValue;t&&e.cellType==="file"&&t[e.name]&&(delete t[e.name],Object.keys(t).length===0&&(t=void 0),this.defaultRowValue=t)}resetTableAndRows(){this.clearGeneratedRows(),this.resetRenderedTable()}getRowTitleWidth(){return""}get hasFooter(){return this.getPropertyValue("hasFooter",!1)}getAddRowLocation(){return"default"}getShowColumnsIfEmpty(){return!1}updateShowTableAndAddRow(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()}updateHasFooter(){this.setPropertyValue("hasFooter",this.hasTotal)}get hasTotal(){for(var e=0;e<this.columns.length;e++)if(this.columns[e].hasTotal)return!0;return!1}getCellType(){return this.cellType}getCustomCellType(e,t,i){if(!this.survey)return i;var s={rowValue:t.value,row:t,column:e,columnName:e.name,cellType:i};return this.survey.matrixCellCreating(this,s),s.cellType}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);let i="";for(let o=t.length-1;o>=0&&t[o]!=".";o--)i=t[o]+i;let s,n=this.getColumnByName(i);return n?s=n.createCellQuestion(null):this.detailPanelMode!=="none"&&(s=this.detailPanel.getQuestionByName(i)),s?s.getConditionJson(e):null}clearIncorrectValues(){if(!Array.isArray(this.visibleRows))return;const e=this.generatedVisibleRows;for(let t=0;t<e.length;t++)e[t].clearIncorrectValues(this.getRowValue(t))}clearErrors(){super.clearErrors(),this.runFuncForCellQuestions(e=>{e.clearErrors()})}localeChanged(){super.localeChanged(),this.runFuncForCellQuestions(e=>{e.localeChanged()})}runFuncForCellQuestions(e){const t=this.generatedVisibleRows;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(s.isVisible)for(let n=0;n<s.cells.length;n++)e(s.cells[n].question)}}runConditionCore(e,t){const i=e[ii.RowVariableName];super.runConditionCore(e,t);var s=0,n;do n=z.getUnbindValue(this.totalValue),this.runCellsCondition(e,t),this.runTotalsCondition(e,t),s++;while(!z.isTwoValueEquals(n,this.totalValue)&&s<3);this.updateVisibilityBasedOnRows(),e[ii.RowVariableName]=i}runTriggers(e,t,i){super.runTriggers(e,t,i),this.runFuncForCellQuestions(s=>{s.runTriggers(e,t,i)})}updateElementVisibility(){super.updateElementVisibility();const e=this.generatedVisibleRows;e&&e.forEach(t=>t.updateElementVisibility()),this.updateShowTableAndAddRow()}shouldRunColumnExpression(){return!1}runCellsCondition(e,t){if(this.isDesignMode)return;const i=this.generatedVisibleRows;if(i){const n=this.getRowConditionValues(e);for(var s=0;s<i.length;s++)i[s].runCondition(n,t,this.rowsVisibleIf)}this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}runConditionsForColumns(e,t){return this.columns.forEach(i=>{if(!this.columnsVisibleIf)i.isColumnsVisibleIf=!0;else{const s=new ar(this.columnsVisibleIf);e.item=i.name,i.isColumnsVisibleIf=s.run(e,t)===!0}}),!1}checkColumnsVisibility(){if(!this.isDesignMode){for(var e=!1,t=0;t<this.columns.length;t++){const i=this.columns[t],s=!!i.visibleIf||i.isFilteredMultipleColumns;!s&&!this.columnsVisibleIf&&i.isColumnVisible||(e=this.isColumnVisibilityChanged(i,s)||e)}e&&this.resetRenderedTable(!0)}}checkColumnsRenderedRequired(){const e=this.generatedVisibleRows;if(e)for(var t=0;t<this.columns.length;t++){const s=this.columns[t];if(!s.requiredIf||!s.isColumnVisible)continue;let n=e.length>0;for(var i=0;i<e.length;i++)if(!e[i].cells[t].question.isRequired){n=!1;break}s.updateIsRenderedRequired(n)}}isColumnVisibilityChanged(e,t){const i=e.isColumnVisible;let s=!t;const n=this.generatedVisibleRows,o=t&&n,h=o&&e.isFilteredMultipleColumns,d=h?e.getVisibleChoicesInCell:[],f=new Array;if(o)for(let p=0;p<n.length;p++){const y=n[p].cells[e.index],b=y?.question;if(b&&b.isVisible)if(s=!0,h)this.updateNewVisibleChoices(b,f);else break}return e.hasVisibleCell=s&&e.isColumnsVisibleIf,h&&(e.setVisibleChoicesInCell(f),!z.isArraysEqual(d,f,!0,!1,!1))?!0:i!==e.isColumnVisible}updateNewVisibleChoices(e,t){const i=e.visibleChoices;if(Array.isArray(i))for(let s=0;s<i.length;s++){const n=i[s];t.indexOf(n.value)<0&&t.push(n.value)}}runTotalsCondition(e,t){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(e),t)}getRowConditionValues(e){var t=e;t||(t={});var i={};return this.isValueEmpty(this.totalValue)||(i=JSON.parse(JSON.stringify(this.totalValue))),t.row={},t.totalRow=i,t}IsMultiplyColumn(e){return e.isShowInMultipleColumns&&!this.isMobile}locStrsChanged(){super.locStrsChanged();for(var e=this.columns,t=0;t<e.length;t++)e[t].locStrsChanged();var i=this.generatedVisibleRows;if(i){for(var t=0;t<i.length;t++)i[t].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}}getColumnByName(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].name==e)return this.columns[t];return null}getColumnName(e){return this.getColumnByName(e)}getColumnWidth(e){var t;return e.minWidth?e.minWidth:this.columnMinWidth?this.columnMinWidth:((t=X.matrix.columnWidthsByType[e.cellType])===null||t===void 0?void 0:t.minWidth)||""}get choices(){return this.getPropertyValue("choices")}set choices(e){this.setPropertyValue("choices",e)}get placeholder(){return this.getLocalizableStringText("placeholder")}set placeholder(e){this.setLocalizableStringText("placeholder",e)}get locPlaceholder(){return this.getLocalizableString("placeholder")}get optionsCaption(){return this.placeholder}set optionsCaption(e){this.placeholder=e}get keyDuplicationError(){return this.getLocalizableStringText("keyDuplicationError")}set keyDuplicationError(e){this.setLocalizableStringText("keyDuplicationError",e)}get locKeyDuplicationError(){return this.getLocalizableString("keyDuplicationError")}get singleInputTitleTemplate(){return this.getLocalizableStringText("singleInputTitleTemplate")}set singleInputTitleTemplate(e){this.setLocalizableStringText("singleInputTitleTemplate",e)}get locSingleInputTitleTemplate(){return this.getLocalizableString("singleInputTitleTemplate")}getSingleQuestionLocTitleCore(){return this.locSingleInputTitleTemplate}getSingleInputTitleTemplate(){return""}processSingleInputTitle(e){const t=this.getRowByQuestion(this.singleInputQuestion);return t?t.getTextProcessor().processText(e,!0):""}singleInputMoveToFirstCore(){var e;const t=(e=this.singleInputQuestion)===null||e===void 0?void 0:e.data;this.singleInputEditRow(t)}singleInputEditRow(e){if(!e)return;const t=e.visibleQuestions;Array.isArray(t)&&t.length>0&&this.setSingleInputQuestion(t[0])}get storeOthersAsComment(){return this.survey?this.survey.storeOthersAsComment:!1}addColumn(e,t){var i=new df(e,t,this);return this.columns.push(i),i}clearVisibleRows(){this.visibleRowsArray=null}isColumnVisible(e){return e.isColumnVisible}getVisibleRows(){return this.isUpdateLocked?null:this.isGenereatingRows?[]:this.visibleRowsArray?this.visibleRowsArray:(this.generateVisibleRowsIfNeeded(),this.visibleRowsArray=this.getVisibleFromGenerated(this.generatedVisibleRows),this.visibleRowsArray)}generateVisibleRowsIfNeeded(){if(!this.isUpdateLocked&&!this.generatedVisibleRows){this.isGenereatingRows=!0,this.generatedVisibleRows=this.generateRows(),this.isGenereatingRows=!1;for(var e=0;e<this.generatedVisibleRows.length;e++){const t=this.generatedVisibleRows[e];t.visibleIndex=e,this.onMatrixRowCreated(t)}this.data&&(this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.isValueChangedWithoutRows&&(this.isValueChangedWithoutRows=!1,this.runTriggersOnNewRows())),this.generatedVisibleRows&&(this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered())}}runTriggersOnNewRows(){const e=this.value;this.generatedVisibleRows.forEach(t=>{const i=this.getRowValueCore(t,e);if(!z.isValueEmpty(i)){const s=z.createCopyWithPrefix(i,ii.RowVariableName+".");t.runTriggers("",void 0,s)}})}getVisibleFromGenerated(e){const t=[];return e?(e.forEach(i=>{i.isVisible&&t.push(i)}),t.length===e.length?e:t):t}updateValueOnRowsGeneration(e){for(var t=this.createNewValue(!0),i=this.createNewValue(),s=0;s<e.length;s++){var n=e[s];if(!n.editingObj){var o=this.getRowValue(s),h=n.value;this.isTwoValueEquals(o,h)||(i=this.getNewValueOnRowChanged(n,"",h,!1,i).value)}}this.isTwoValueEquals(t,i)||(this.isRowChanging=!0,this.setNewValue(i),this.isRowChanging=!1)}get totalValue(){return!this.hasTotal||!this.visibleTotalRow?{}:this.visibleTotalRow.value}getVisibleTotalRow(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var e={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),e)}}else this.generatedTotalRow=null;return this.generatedTotalRow}get visibleTotalRow(){return this.getVisibleTotalRow()}onSurveyLoad(){super.onSurveyLoad(),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()}getRowValue(e){if(e<0||!Array.isArray(this.visibleRows))return null;var t=this.generatedVisibleRows;if(e>=t.length)return null;const i=this.value,s=this.getRowValueCore(t[e],i);return this.isValueSurveyElement(i)?s:z.getUnbindValue(s)}checkIfValueInRowDuplicated(e,t){return this.generatedVisibleRows?this.isValueInColumnDuplicated(t.name,!0,e):!1}setRowValue(e,t){if(e<0)return null;var i=this.visibleRows;if(e>=i.length)return null;i[e].value=t,this.onRowChanged(i[e],"",t,!1)}generateRows(){return null}generateTotalRow(){return new Yc(this)}createNewValue(e=!1){var t=this.value?this.createValueCopy():{};return e&&this.isMatrixValueEmpty(t)?null:t}getRowValueCore(e,t,i=!1){var s=t&&t[e.rowName]?t[e.rowName]:null;return!s&&i&&(s={},t&&(t[e.rowName]=s)),s}getRowObj(e){var t=this.getRowValueCore(e,this.value);return t&&t.getType?t:null}getRowDisplayValue(e,t,i){if(!i||t.editingObj)return i;for(var s=Object.keys(i),n=0;n<s.length;n++){var o=s[n],h=t.getQuestionByName(o);if(h||(h=this.getSharedQuestionByName(o,t)),h){var d=h.getDisplayValue(e,i[o]);e&&h.title&&h.title!==o?(i[h.title]=d,delete i[o]):i[o]=d}}return i}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t){t.isNode=!0;const i=Array.isArray(t.data)?[].concat(t.data):[];t.data=this.visibleRows.map(s=>{var n={name:s.dataName,title:s.text,value:s.value,displayValue:this.getRowDisplayValue(!1,s,s.value),getString:o=>typeof o=="object"?JSON.stringify(o):o,isNode:!0,data:s.cells.map(o=>o.question.getPlainData(e)).filter(o=>!!o)};return(e.calculations||[]).forEach(o=>{n[o.propertyName]=s[o.propertyName]}),n}),t.data=t.data.concat(i)}return t}addConditionObjectsByContext(e,t){let i=[].concat(this.columns);this.detailPanelMode!=="none"&&(i=i.concat(this.detailPanel.questions));const s=!!t&&i.indexOf(t)>-1,n=t===!0||s,o=this.getConditionObjectsRowIndeces();n&&o.push(-1);for(var h=0;h<o.length;h++){const f=o[h],p=f>-1?this.getConditionObjectRowName(f):"row";if(!p)continue;const y=f>-1?this.getConditionObjectRowText(f):"row",b=f>-1||t===!0,w=b&&f===-1?".":"",T=(b?this.getValueName():"")+w+p+".",P=(b?this.processedTitle:"")+w+y+".";for(var d=0;d<i.length;d++){const D=i[d];if(f===-1&&t===D)continue;const L={name:T+D.name,text:P+D.fullTitle,question:this};f===-1&&t===!0?L.context=this:s&&T.startsWith("row.")&&(L.context=t),e.push(L)}}}onHidingContent(){if(super.onHidingContent(),!this.generatedVisibleRows)return;const e=[];this.collectNestedQuestions(e,!0),e.forEach(t=>t.onHidingContent())}getIsReadyNestedQuestions(){if(!this.generatedVisibleRows)return[];const e=new Array;return this.collectNestedQuestonsInRows(this.generatedVisibleRows,e,!1,!0,!1),this.generatedTotalRow&&this.collectNestedQuestonsInRows([this.generatedTotalRow],e,!1,!0,!1),e}collectNestedQuestionsCore(e,t,i,s){s&&e.push(this),this.collectNestedQuestonsInRows(this.visibleRows,e,t,i,s)}collectNestedQuestonsInRows(e,t,i,s,n){Array.isArray(e)&&e.forEach(o=>{o.questions.forEach(h=>h.addNestedQuestion(t,i,s,n))})}getConditionObjectRowName(e){return""}getConditionObjectRowText(e){return this.getConditionObjectRowName(e)}getConditionObjectsRowIndeces(){return[]}getProgressInfo(){if(this.getIsRequireToGenerateRows()&&this.generateVisibleRowsIfNeeded(),this.generatedVisibleRows)return ai.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);const e=tt.createProgressInfo();return this.updateProgressInfoByValues(e),e.requiredQuestionCount===0&&this.isRequired&&(e.requiredQuestionCount=1,e.requiredAnsweredQuestionCount=this.isEmpty()?0:1),e}getIsRequireToGenerateRows(){return!!this.rowsVisibleIf}updateProgressInfoByValues(e){}updateProgressInfoByRow(e,t){for(var i=0;i<this.columns.length;i++){const s=this.columns[i];if(!s.templateQuestion.hasInput)continue;const n=!z.isValueEmpty(t[s.name]);!n&&s.templateQuestion.visibleIf||(e.questionCount+=1,e.requiredQuestionCount+=s.isRequired,e.answeredQuestionCount+=n?1:0,e.requiredAnsweredQuestionCount+=n&&s.isRequired?1:0)}}getCellQuestions(){const e=[];return this.runFuncForCellQuestions(t=>{e.push(t)}),e}onBeforeValueChanged(e){}onSetQuestionValue(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0))){this.isRowChanging=!0;for(var e=this.createNewValue(),t=0;t<this.generatedVisibleRows.length;t++){var i=this.generatedVisibleRows[t];this.generatedVisibleRows[t].value=this.getRowValueCore(i,e)}this.isRowChanging=!1}}setQuestionValue(e){super.setQuestionValue(e,!1),this.onSetQuestionValue(),this.updateIsAnswered()}supportAutoAdvance(){var e=this.generatedVisibleRows;if(e||(e=this.visibleRows),!e)return!0;for(var t=0;t<e.length;t++){var i=this.generatedVisibleRows[t].cells;if(i)for(var s=0;s<i.length;s++){var n=i[s].question;if(n&&(!n.supportAutoAdvance()||!n.value))return!1}}return!0}getContainsErrors(){return super.getContainsErrors()||this.checkForAnswersOrErrors(e=>e.containsErrors,!1)}getIsAnswered(){return super.getIsAnswered()&&this.checkForAnswersOrErrors(e=>e.isAnswered,!0)}checkForAnswersOrErrors(e,t=!1){var i=this.generatedVisibleRows;if(!i)return!1;for(var s=0;s<i.length;s++){var n=i[s].cells;if(n){for(var o=0;o<n.length;o++)if(n[o]){var h=n[o].question;if(h&&h.isVisible){if(e(h)){if(!t)return!0}else if(t)return!1}}}}return!!t}hasErrors(e=!0,t=null){var i=this.hasErrorInRows(e,t),s=this.isValueDuplicated();return super.hasErrors(e,t)||i||s}getIsRunningValidators(){if(super.getIsRunningValidators())return!0;if(!this.generatedVisibleRows)return!1;for(var e=0;e<this.generatedVisibleRows.length;e++){var t=this.generatedVisibleRows[e].cells;if(t){for(var i=0;i<t.length;i++)if(t[i]){var s=t[i].question;if(s&&s.isRunningValidators)return!0}}}return!1}getAllErrors(){var e=super.getAllErrors(),t=this.generatedVisibleRows;if(t===null)return e;for(var i=0;i<t.length;i++)for(var s=t[i],n=0;n<s.cells.length;n++){var o=s.cells[n].question.getAllErrors();o&&o.length>0&&(e=e.concat(o))}return e}hasErrorInRows(e,t){let i=this.generatedVisibleRows;this.generatedVisibleRows||(i=this.visibleRows);var s=!1;if(t||(t={}),!i)return t;t.validationValues=this.getDataFilteredValues(),t.isSingleDetailPanel=this.detailPanelMode==="underRowSingle";for(var n=0;n<i.length;n++)i[n].isVisible&&(s=i[n].hasErrors(e,t,()=>{this.raiseOnCompletedAsyncValidators()})||s);return s}isValueDuplicated(){if(!this.generatedVisibleRows)return!1;for(var e=this.getUniqueColumnsNames(),t=!1,i=0;i<e.length;i++)t=this.isValueInColumnDuplicated(e[i],!0)||t;return t}getUniqueColumnsNames(){for(var e=new Array,t=0;t<this.columns.length;t++)this.columns[t].isUnique&&e.push(this.columns[t].name);return e}isValueInColumnDuplicated(e,t,i){const s=this.getDuplicatedRows(e);return t&&this.showDuplicatedErrorsInRows(s,e),this.removeDuplicatedErrorsInRows(s,e),i?s.indexOf(i)>-1:s.length>0}getDuplicatedRows(e){const t={},i=[],s=this.generatedVisibleRows;for(var n=0;n<s.length;n++){let o;const h=s[n].getQuestionByName(e);if(h)o=h.value;else{const d=this.getRowValue(n);o=d?d[e]:void 0}this.isValueEmpty(o)||(!this.useCaseSensitiveComparison&&typeof o=="string"&&(o=o.toLocaleLowerCase()),t[o]||(t[o]=[]),t[o].push(s[n]))}for(let o in t)t[o].length>1&&t[o].forEach(h=>i.push(h));return i}showDuplicatedErrorsInRows(e,t){e.forEach(i=>{let s=i.getQuestionByName(t);const n=this.detailPanel.getQuestionByName(t);!s&&n&&(i.showDetailPanel(),i.detailPanel&&(s=i.detailPanel.getQuestionByName(t))),s&&(n&&i.showDetailPanel(),this.addDuplicationError(s))})}removeDuplicatedErrorsInRows(e,t){this.generatedVisibleRows.forEach(i=>{if(e.indexOf(i)<0){const s=i.getQuestionByName(t);s&&this.removeDuplicationError(i,s)}})}getDuplicationError(e){const t=e.errors;for(let i=0;i<t.length;i++)if(t[i].getErrorType()==="keyduplicationerror")return t[i];return null}addDuplicationError(e){this.getDuplicationError(e)||e.addError(new Yb(this.keyDuplicationError,this))}removeDuplicationError(e,t){t.removeError(this.getDuplicationError(t))&&t.errors.length===0&&e.editingObj&&(e.editingObj[t.getValueName()]=t.value)}getFirstQuestionToFocus(e){return this.getFirstCellQuestion(e)}getFirstInputElementId(){var e=this.getFirstCellQuestion(!1);return e?e.inputId:super.getFirstInputElementId()}getFirstErrorInputElementId(){var e=this.getFirstCellQuestion(!0);return e?e.inputId:super.getFirstErrorInputElementId()}getFirstCellQuestion(e){if(!this.generatedVisibleRows)return null;for(var t=0;t<this.generatedVisibleRows.length;t++)for(var i=this.generatedVisibleRows[t].cells,s=0;s<i.length;s++)if(!e||i[s].question.currentErrorCount>0)return i[s].question;return null}onReadOnlyChanged(){if(super.onReadOnlyChanged(),!!this.generateRows)for(var e=0;e<this.visibleRows.length;e++)this.visibleRows[e].onQuestionReadOnlyChanged()}createQuestion(e,t){return this.createQuestionCore(e,t)}createQuestionCore(e,t){var i=t.createCellQuestion(e);return i.setSurveyImpl(e),i.setParentQuestion(this),i.inMatrixMode=!0,i}deleteRowValue(e,t){return e&&(delete e[t.rowName],this.isObject(e)&&Object.keys(e).length==0?null:e)}onAnyValueChanged(e,t){if(!(this.isUpdateLocked||this.isDoingonAnyValueChanged)){if(!this.generatedVisibleRows){e===this.getValueName()&&(this.isValueChangedWithoutRows=!0);return}this.isDoingonAnyValueChanged=!0;for(var i=this.generatedVisibleRows,s=0;s<i.length;s++)i[s].onAnyValueChanged(e,t);var n=this.visibleTotalRow;n&&n.onAnyValueChanged(e,t),this.isDoingonAnyValueChanged=!1}}isObject(e){return e!==null&&typeof e=="object"}getOnCellValueChangedOptions(e,t,i){const s=n=>e.getQuestionByName(n);return{row:e,columnName:t,rowValue:i,value:i?i[t]:null,getCellQuestion:s,cellQuestion:e.getQuestionByName(t),column:this.getColumnByName(t)}}onCellValueChanged(e,t,i){if(this.survey){var s=this.getOnCellValueChangedOptions(e,t,i);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(s),this.survey.matrixCellValueChanged(this,s)}}validateCell(e,t,i){if(this.survey){var s=this.getOnCellValueChangedOptions(e,t,i);return this.survey.matrixCellValidate(this,s)}}get isValidateOnValueChanging(){return this.survey?this.survey.isValidateOnValueChanging:!1}get hasInvisibleRows(){const e=this.generatedVisibleRows;if(!Array.isArray(e))return!1;for(let t=0;t<e.length;t++)if(!e[t].isVisible)return!0;return!1}getFilteredData(){return this.isEmpty()||!this.generatedVisibleRows||!this.hasInvisibleRows?this.value:this.getFilteredDataCore()}getFilteredDataCore(){return this.value}onRowChanging(e,t,i){if(!this.survey&&!this.cellValueChangingCallback)return i?i[t]:null;var s=this.getOnCellValueChangedOptions(e,t,i),n=this.getRowValueCore(e,this.createNewValue(),!0);return s.oldValue=n?n[t]:null,this.cellValueChangingCallback&&(s.value=this.cellValueChangingCallback(e,t,s.value,s.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,s),s.value}getSharedQuestionFromArray(e,t){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,t):null}onRowChanged(e,t,i,s){var n=t?this.getRowObj(e):null;if(n){var o=null;i&&!s&&(o=i[t]),this.isRowChanging=!0,le.setObjPropertyValue(n,t,o),this.isRowChanging=!1,this.onCellValueChanged(e,t,n)}else{var h=this.createNewValue(!0),d=this.getNewValueOnRowChanged(e,t,i,s,this.createNewValue());if(this.isTwoValueEquals(h,d.value))return;this.isRowChanging=!0,this.setNewValue(d.value),this.isRowChanging=!1,t&&this.onCellValueChanged(e,t,d.rowValue)}this.getUniqueColumnsNames().indexOf(t)>-1&&this.isValueInColumnDuplicated(t,!!n)}getNewValueOnRowChanged(e,t,i,s,n){const o=this.getRowValueCore(e,n,!0);if(s&&delete o[t],e.questions.forEach(d=>{delete o[d.getValueName()]}),i){i=JSON.parse(JSON.stringify(i));for(var h in i)this.isValueEmpty(i[h])||(o[h]=i[h])}return this.isObject(o)&&Object.keys(o).length===0&&(n=this.deleteRowValue(n,e)),{value:n,rowValue:o}}getRowIndex(e){return Array.isArray(this.generatedVisibleRows)?this.generatedVisibleRows.indexOf(e):-1}getElementsInDesign(e=!1){let t;return this.detailPanelMode=="none"?t=super.getElementsInDesign(e):t=e?[this.detailPanel]:this.detailElements,this.columns.concat(t)}hasDetailPanel(e){return this.detailPanelMode=="none"?!1:this.isDesignMode?!0:this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(e):this.detailElements.length>0}getIsDetailPanelShowing(e){if(this.detailPanelMode=="none")return!1;if(this.isDesignMode){var t=this.visibleRows.indexOf(e)==0;return t&&(e.detailPanel||e.showDetailPanel()),t}return this.getPropertyValue("isRowShowing"+e.id,!1)}setIsDetailPanelShowing(e,t){if(t!=this.getIsDetailPanelShowing(e)&&(this.setPropertyValue("isRowShowing"+e.id,t),this.updateDetailPanelButtonCss(e),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(e,t),this.survey&&this.survey.matrixDetailPanelVisibleChanged(this,e.rowIndex-1,e,t),t&&this.detailPanelMode==="underRowSingle"))for(var i=this.visibleRows,s=0;s<i.length;s++)i[s].id!==e.id&&i[s].isDetailPanelShowing&&i[s].hideDetailPanel()}getDetailPanelButtonCss(e){const t=new fe().append(this.getPropertyValue("detailButtonCss"+e.id));return t.append(this.cssClasses.detailButton,t.toString()==="").toString()}getDetailPanelIconCss(e){const t=new fe().append(this.getPropertyValue("detailIconCss"+e.id));return t.append(this.cssClasses.detailIcon,t.toString()==="").toString()}getDetailPanelIconId(e){return this.getIsDetailPanelShowing(e)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId}updateDetailPanelButtonCss(e){const t=this.cssClasses,i=this.getIsDetailPanelShowing(e),s=new fe().append(t.detailIcon).append(t.detailIconExpanded,i);this.setPropertyValue("detailIconCss"+e.id,s.toString());const n=new fe().append(t.detailButton).append(t.detailButtonExpanded,i);this.setPropertyValue("detailButtonCss"+e.id,n.toString())}createRowDetailPanel(e){if(this.isDesignMode)return this.detailPanel;var t=this.createNewDetailPanel();t.readOnly=this.isReadOnly||!e.isRowEnabled(),t.setSurveyImpl(e);var i=this.detailPanel.toJSON();return new Ri().toObject(i,t),t.renderWidth="100%",t.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(e,t),t.questions.forEach(s=>s.setParentQuestion(this)),t.onSurveyLoad(),t}getSharedQuestionByName(e,t){if(!this.survey||!this.valueName)return null;var i=this.getRowIndex(t);return i<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,e,i)}onTotalValueChanged(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+X.matrix.totalsSuffix,this.totalValue,!1)}getDataFilteredValues(){return this.data?this.data.getFilteredValues():{}}getParentTextProcessor(){if(!this.parentQuestion||!this.parent)return null;const e=this.parent.data;return e&&e.getTextProcessor?e.getTextProcessor():null}isMatrixReadOnly(){return this.isReadOnly}onRowVisibilityChanged(e){this.clearVisibleRows(),this.resetRenderedTable(),this.resetSingleInput()}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e),this.clearInvisibleValuesInRows()}clearInvisibleValuesInRows(){var e;if(this.isEmpty()||!this.isRowsFiltered())return;(((e=this.survey)===null||e===void 0?void 0:e.questionsByValueName(this.getValueName()))||[]).length<2&&(this.value=this.getFilteredData())}isRowsFiltered(){return super.isRowsFiltered()||this.visibleRows!==this.generatedVisibleRows}getQuestionFromArray(e,t){return t>=this.visibleRows.length?null:this.visibleRows[t].getQuestionByName(e)}isMatrixValueEmpty(e){if(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(this.isObject(e[t])&&Object.keys(e[t]).length>0)return!1;return!0}return Object.keys(e).length==0}}get SurveyModel(){return this.survey}getCellTemplateData(e){return this.SurveyModel.getMatrixCellTemplateData(e)}getCellWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName(e,e.row instanceof Yc?"row-footer":"cell")}getCellWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData(e,e.row instanceof Yc?"row-footer":"cell")}getColumnHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName(e,"column-header")}getColumnHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData(e,"column-header")}getRowHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName(e,"row-header")}getRowHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData(e,"row-header")}onMobileChanged(){super.onMobileChanged(),this.resetRenderedTable()}getRootCss(){return new fe().append(super.getRootCss()).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()}afterRenderQuestionElement(e){super.afterRenderQuestionElement(e),this.setRootElement(e?.parentElement)}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.setRootElement(void 0)}setRootElement(e){this.rootElement=e}getRootElement(){return this.rootElement}}le.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn",isArray:!0},{name:"columnLayout",alternativeName:"columnsLocation",choices:["horizontal","vertical"],visible:!1,isSerializable:!1},{name:"transposeData:boolean",version:"1.9.130",oldName:"columnLayout"},{name:"detailElements",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},{name:"cellErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"detailErrorLocation",default:"default",choices:["default","top","bottom"],visibleIf:r=>!!r&&r.detailPanelMode!="none"},{name:"horizontalScroll:boolean",visible:!1},{name:"choices:itemvalue[]",uniqueProperty:"value",visibleIf:r=>r.isSelectCellType()},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"singleInputTitleTemplate",serializationProperty:"locSingleInputTitleTemplate",visibleIf(r){var e;return((e=r.survey)===null||e===void 0?void 0:e.questionsOnPageMode)==="inputPerPage"}},{name:"cellType",default:"dropdown",choices:()=>df.getColumnTypes()},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new jh("")},"matrixbase");class DE extends ii{constructor(e,t,i,s){super(i,s),this.name=e,this.item=t,this.buildCells(s)}get rowName(){return this.name}get rowTitle(){return this.text}get text(){return this.item.text}get locText(){return this.item.locText}isItemVisible(){return this.item.isVisible}isRowEnabled(){return this.item.isEnabled}isRowHasEnabledCondition(){return!!this.item.enableIf}setRowsVisibleIfValues(e){e.item=this.item.value,e.choice=this.item.value}}class rw extends jh{constructor(e){super(e),this.defaultValuesInRows={},this.createLocalizableString("totalText",this,!0),this.registerPropertyChangedHandlers(["rows"],()=>{this.generatedVisibleRows&&(this.clearGeneratedRows(),this.resetRenderedTable(),this.getVisibleRows(),this.clearIncorrectValues())}),this.registerPropertyChangedHandlers(["hideIfRowsEmpty"],()=>{this.updateVisibilityBasedOnRows()})}getType(){return"matrixdropdown"}get totalText(){return this.getLocalizableStringText("totalText","")}set totalText(e){this.setLocalizableStringText("totalText",e)}get locTotalText(){return this.getLocalizableString("totalText")}getFooterText(){return this.locTotalText}getRowTitleWidth(){return this.rowTitleWidth}get hideIfRowsEmpty(){return this.getPropertyValue("hideIfRowsEmpty")}set hideIfRowsEmpty(e){this.setPropertyValue("hideIfRowsEmpty",e)}getSingleInputTitleTemplate(){return"rowNameTemplateTitle"}getDisplayValueCore(e,t){if(!t)return t;var i=this.visibleRows,s={};if(!i)return s;for(var n=0;n<i.length;n++){var o=i[n].rowName,h=t[o];if(h){if(e){var d=Je.getTextOrHtmlByValue(this.rows,o);d&&(o=d)}s[o]=this.getRowDisplayValue(e,i[n],h)}}return s}getConditionObjectRowName(e){return"."+this.rows[e].value}getConditionObjectRowText(e){return"."+this.rows[e].calculatedText}getConditionObjectsRowIndeces(){const e=[];for(var t=0;t<this.rows.length;t++)e.push(t);return e}isNewValueCorrect(e){return z.isValueObject(e,!0)}clearIncorrectValues(){if(!this.isEmpty()){this.getVisibleRows();const e={},t=this.value;for(let i in t){const s=this.getRowByKey(i);s&&s.isVisible&&(e[i]=t[i])}this.value=e}super.clearIncorrectValues()}getRowByKey(e){const t=this.generatedVisibleRows;if(!t)return null;for(let i=0;i<t.length;i++)if(t[i].rowName===e)return t[i];return null}clearGeneratedRows(){this.generatedVisibleRows&&(this.isDisposed||this.generatedVisibleRows.forEach(e=>{this.defaultValuesInRows[e.rowName]=e.getNamesWithDefaultValues()}),super.clearGeneratedRows())}getRowValueForCreation(e,t){const i=e[t];if(!i)return i;const s=this.defaultValuesInRows[t];return!Array.isArray(s)||s.length===0||s.forEach(n=>{delete i[n]}),i}generateRows(){var e=new Array,t=this.rows;if(!t||t.length===0)return e;var i=this.value;i||(i={});for(var s=0;s<t.length;s++){const n=t[s];this.isValueEmpty(n.value)||e.push(this.createMatrixRow(n,this.getRowValueForCreation(i,n.value)))}return e}createMatrixRow(e,t){return new DE(e.value,e,this,t)}getFilteredDataCore(){const e={},t=this.createValueCopy();return this.generatedVisibleRows.forEach(i=>{const s=t[i.rowName];i.isVisible&&!z.isValueEmpty(s)&&(e[i.rowName]=s)}),e}getSearchableItemValueKeys(e){e.push("rows")}getIsRequireToGenerateRows(){if(super.getIsRequireToGenerateRows())return!0;for(let e=0;e<this.rows.length;e++)if(this.rows[e].visibleIf)return!0;return!1}updateProgressInfoByValues(e){let t=this.value;t||(t={});for(var i=0;i<this.rows.length;i++){const s=this.rows[i],n=t[s.value];this.updateProgressInfoByRow(e,n||{})}}}le.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new rw("")},"matrixdropdownbase");Kt.Instance.registerQuestion("matrixdropdown",r=>{var e=new rw(r);return e.choices=[1,2,3,4,5],e.rows=Kt.DefaultRows,jh.addDefaultColumns(e),e});typeof window<"u"&&window.addEventListener("touchmove",r=>{ql.PreventScrolling&&r.preventDefault()},{passive:!1});class ql{constructor(e,t=!0,i=!1){this.dd=e,this.longTap=t,this.fitToContainer=i,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=s=>{s.preventDefault(),this.currentX=s.pageX,this.currentY=s.pageY,!this.isMicroMovement&&(this.returnUserSelectBack(),this.stopLongTap())},this.stopLongTap=s=>{clearTimeout(this.timeoutID),this.timeoutID=null,document.removeEventListener("pointerup",this.stopLongTap),document.removeEventListener("pointermove",this.stopLongTapIfMoveEnough)},this.handlePointerCancel=s=>{this.clear()},this.handleEscapeButton=s=>{s.keyCode==27&&this.clear()},this.onContextMenu=s=>{s.preventDefault(),s.stopPropagation()},this.dragOver=s=>{this.moveShortcutElement(s),this.draggedElementShortcut.style.cursor="grabbing",this.dd.dragOver(s)},this.clear=()=>{cancelAnimationFrame(this.scrollIntervalId),document.removeEventListener("pointermove",this.dragOver),document.removeEventListener("pointercancel",this.handlePointerCancel),document.removeEventListener("keydown",this.handleEscapeButton),document.removeEventListener("pointerup",this.drop),this.draggedElementShortcut.removeEventListener("pointerup",this.drop),Hi&&this.draggedElementShortcut.removeEventListener("contextmenu",this.onContextMenu),this.draggedElementShortcut.parentElement.removeChild(this.draggedElementShortcut),this.dd.clear(),this.draggedElementShortcut=null,this.scrollIntervalId=null,Hi&&(this.savedTargetNode.style.cssText=null,this.savedTargetNode&&this.savedTargetNode.parentElement.removeChild(this.savedTargetNode),this.insertNodeToParentAtIndex(this.savedTargetNodeParent,this.savedTargetNode,this.savedTargetNodeIndex),ql.PreventScrolling=!1),this.savedTargetNode=null,this.savedTargetNodeParent=null,this.savedTargetNodeIndex=null,this.returnUserSelectBack()},this.drop=()=>{this.dd.drop(),this.clear()},this.draggedElementShortcut=null}get documentOrShadowRoot(){const e=this.rootElement.getRootNode();return e instanceof Document||e instanceof ShadowRoot?e:void 0}get rootElement(){return lf(X.environment.root)?this.rootContainer||X.environment.root:this.rootContainer||X.environment.root.documentElement||document.body}get viewRootElement(){return lf(this.rootElement)?this.rootElement.host:this.rootElement}get isMicroMovement(){const t=Math.abs(this.currentX-this.startX),i=Math.abs(this.currentY-this.startY);return t<5&&i<5}startLongTapProcessing(e,t,i,s,n=!1){this.startX=e.pageX,this.startY=e.pageY,document.body.style.setProperty("touch-action","none","important"),this.timeoutID=setTimeout(()=>{this.doStartDrag(e,t,i,s),n||(this.savedTargetNode=e.target,this.savedTargetNode.style.cssText=`
          position: absolute;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden;
          clip: rect(1px 1px 1px 1px);
          clip: rect(1px, 1px, 1px, 1px);
        `,this.savedTargetNodeParent=this.savedTargetNode.parentElement,this.savedTargetNodeIndex=this.getNodeIndexInParent(this.savedTargetNode),this.rootElement.appendChild(this.savedTargetNode)),this.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)}moveShortcutElement(e){let t=this.viewRootElement.getBoundingClientRect().x,i=this.viewRootElement.getBoundingClientRect().y,s=this.viewRootElement.scrollLeft,n=this.viewRootElement.scrollTop;this.doScroll(e.clientY,e.clientX);const o=this.draggedElementShortcut.offsetHeight,h=this.draggedElementShortcut.offsetWidth;let d=this.draggedElementShortcut.shortcutXOffset||h/2,f=this.draggedElementShortcut.shortcutYOffset||o/2;document.querySelectorAll("[dir='rtl']").length!==0&&(d=h/2,f=o/2);const p=document.documentElement.clientHeight,y=document.documentElement.clientWidth,b=e.pageX,w=e.pageY,T=e.clientX,P=e.clientY;t-=s,i-=n;const D=this.getShortcutBottomCoordinate(P,o,f);if(this.getShortcutRightCoordinate(T,h,d)>=y){this.draggedElementShortcut.style.left=y-h-t+"px",this.draggedElementShortcut.style.top=P-f-i+"px";return}if(T-d<=0){this.draggedElementShortcut.style.left=b-T-t+"px",this.draggedElementShortcut.style.top=P-i-f+"px";return}if(D>=p){this.draggedElementShortcut.style.left=T-d-t+"px",this.draggedElementShortcut.style.top=p-o-i+"px";return}if(P-f<=0){this.draggedElementShortcut.style.left=T-d-t+"px",this.draggedElementShortcut.style.top=w-P-i+"px";return}this.draggedElementShortcut.style.left=T-t-d+"px",this.draggedElementShortcut.style.top=P-i-f+"px"}getShortcutBottomCoordinate(e,t,i){return e+t-i}getShortcutRightCoordinate(e,t,i){return e+t-i}requestAnimationFrame(e){return requestAnimationFrame(e)}scrollByDrag(e,t,i){let n,o,h,d;e.tagName==="HTML"?(n=0,o=document.documentElement.clientHeight,h=0,d=document.documentElement.clientWidth):(n=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,h=e.getBoundingClientRect().left,d=e.getBoundingClientRect().right);const f=()=>{const p=t-n<=100,y=o-t<=100,b=i-h<=100,w=d-i<=100;p&&!b&&!w?e.scrollTop-=15:y&&!b&&!w?e.scrollTop+=15:w&&!p&&!y?e.scrollLeft+=15:b&&!p&&!y&&(e.scrollLeft-=15),this.scrollIntervalId=this.requestAnimationFrame(f)};this.scrollIntervalId=this.requestAnimationFrame(f)}doScroll(e,t){cancelAnimationFrame(this.scrollIntervalId);const i=this.draggedElementShortcut.style.display;this.draggedElementShortcut.style.display="none";let s=this.documentOrShadowRoot.elementFromPoint(t,e);this.draggedElementShortcut.style.display=i||"block";let n=Of(s);this.scrollByDrag(n,e,t)}doStartDrag(e,t,i,s){Hi&&(ql.PreventScrolling=!0),e.which!==3&&(this.dd.dragInit(e,t,i,s),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(e),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),Hi?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))}returnUserSelectBack(){document.body.style.setProperty("touch-action","auto"),document.body.style.setProperty("user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto")}startDrag(e,t,i,s,n=!1){if(document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),Hi){this.startLongTapProcessing(e,t,i,s,n);return}this.doStartDrag(e,t,i,s)}getNodeIndexInParent(e){return[...e.parentElement.childNodes].indexOf(e)}insertNodeToParentAtIndex(e,t,i){e.insertBefore(t,e.childNodes[i])}}ql.PreventScrolling=!1;class nw{get isBottom(){return!!this._isBottom}set isBottom(e){this._isBottom=e,this.ghostPositionChanged()}ghostPositionChanged(){this.onGhostPositionChanged.fire({},{})}get dropTargetDataAttributeName(){return`[data-sv-drop-target-${this.draggedElementType}]`}get survey(){var e;return this.surveyValue||((e=this.creator)===null||e===void 0?void 0:e.survey)}constructor(e,t,i,s){var n;this.surveyValue=e,this.creator=t,this._isBottom=null,this.onGhostPositionChanged=new Er,this.onDragStart=new Er,this.onDragEnd=new Er,this.onDragClear=new Er,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=()=>{this.allowDropHere=!1,this.doBanDropHere(),this.dropTarget=null,this.domAdapter.draggedElementShortcut.style.cursor="not-allowed",this.isBottom=null},this.doBanDropHere=()=>{},this.domAdapter=s||new ql(this,i,(n=this.survey)===null||n===void 0?void 0:n.fitToContainer)}startDrag(e,t,i,s,n=!1){this.domAdapter.rootContainer=this.getRootElement(this.survey,this.creator),this.domAdapter.startDrag(e,t,i,s,n)}getRootElement(e,t){return t?t.rootElement:e.rootElement}dragInit(e,t,i,s){this.draggedElement=t,this.parentElement=i;const n=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(n,s,e),this.onStartDrag(e);const o=this.draggedElement&&this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:o,draggedElement:this.draggedElement})}onStartDrag(e){}isDropTargetDoesntChanged(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom}getShortcutText(e){return e?.shortcutText}createDraggedElementShortcut(e,t,i){const s=Ge.createElement("div");return s&&(s.innerText=e,s.className=this.getDraggedElementClass()),s}getDraggedElementClass(){return"sv-dragged-element-shortcut"}doDragOver(){}afterDragOver(e){}findDropTargetNodeFromPoint(e,t){const i=this.domAdapter.draggedElementShortcut.style.display;if(this.domAdapter.draggedElementShortcut.style.display="none",!Ge.isAvailable())return null;let s=this.domAdapter.documentOrShadowRoot.elementsFromPoint(e,t);this.domAdapter.draggedElementShortcut.style.display=i||"block";let n=0,o=s[n];for(;o&&o.className&&typeof o.className.indexOf=="function"&&o.className.indexOf("sv-drag-target-skipped")!=-1;)n++,o=s[n];return o?this.findDropTargetNodeByDragOverNode(o):null}getDataAttributeValueByNode(e){let t="svDropTarget";return this.draggedElementType.split("-").forEach(s=>{t+=this.capitalizeFirstLetter(s)}),e.dataset[t]}getDropTargetByNode(e,t){let i=this.getDataAttributeValueByNode(e);return this.getDropTargetByDataAttributeValue(i,e,t)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}calculateVerticalMiddleOfHTMLElement(e){const t=e.getBoundingClientRect();return t.y+t.height/2}calculateHorizontalMiddleOfHTMLElement(e){const t=e.getBoundingClientRect();return t.x+t.width/2}calculateIsBottom(e,t){return!1}findDropTargetNodeByDragOverNode(e){return e.closest(this.dropTargetDataAttributeName)}dragOver(e){const t=this.findDropTargetNodeFromPoint(e.clientX,e.clientY);if(!t){this.banDropHere();return}this.dropTarget=this.getDropTargetByNode(t,e);const i=this.isDropTargetValid(this.dropTarget,t);if(this.doDragOver(),!i){this.banDropHere();return}let s=this.calculateIsBottom(e.clientY,t);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(s)&&(this.isBottom=null,this.isBottom=s,this.draggedElement!=this.dropTarget&&this.afterDragOver(t),this.prevDropTarget=this.dropTarget)}drop(){if(this.allowDropHere){const e=this.draggedElement.parent,t=this.doDrop();this.onDragEnd.fire(this,{fromElement:e,draggedElement:t,toElement:this.dropTarget})}}clear(){const e={draggedElement:this.draggedElement};this.dropTarget=null,this.prevDropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null,this.onDragClear.fire(this,e)}}class LE extends nw{constructor(){super(...arguments),this.dropIsBanned=!1,this.matrixRowMap={},this.fromIndex=null,this.toIndex=null,this.toMatrix=null,this.doBanDropHere=()=>{this.dropIsBanned||(this.removeGhost(),this.parentElement.renderedTable.rows.splice(this.initialDraggedElementIndex,0,this.draggedRenderedRow),this.dropIsBanned=!0,this.lastDropTargetParentElement=this.parentElement)},this.doDrop=()=>{if(this.parentElement==this.toMatrix)this.fromIndex<this.toIndex&&this.toIndex--,this.parentElement.moveRowByIndex(this.fromIndex,this.toIndex);else if(this.toMatrix){const e=Object.assign({},this.parentElement.value[this.fromIndex]);this.toMatrix.addRowByIndex(e,this.toIndex),this.parentElement.removeRowByIndex(this.fromIndex)}return this.parentElement}}get draggedElementType(){return"matrix-row"}patchUserSelect(){const e=Ge.getBody();e&&(this.restoreUserSelectValue=e.style.userSelect,e.style.userSelect="none")}onStartDrag(){this.patchUserSelect();const e=this.parentElement.renderedTable.rows;let t=e.findIndex(n=>n.row===this.draggedElement);t>=0&&(this.draggedRenderedRow=e[t],this.initialDraggedElementIndex=t,this.draggedRenderedRow.isGhostRow=!0,this.lastDropTargetParentElement=this.parentElement);const i=[];function s(n){n.filter(h=>h.isDescendantOf("matrixdynamic")&&h.allowRowReorder).forEach(h=>{i.push(h),h.detailPanelMode!=="none"&&h.visibleRows.forEach(d=>{d.isDetailPanelShowing&&s(d.questions)})})}this.survey.onMatrixRowDragOver.isEmpty?i.push(this.parentElement):s(this.survey.getAllQuestions()),this.matrixRowMap={},i.forEach(n=>{n.visibleRows.forEach(o=>{this.matrixRowMap[o.id]={row:o,matrix:n}}),n.visibleRows.length==0&&(this.matrixRowMap[n.id]={row:n,matrix:n})}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement)}get shortcutClass(){return new fe().append(this.parentElement.cssClasses.draggedRow).toString()}createDraggedElementShortcut(e,t,i){const s=Ge.createElement("div");if(!s)return;s.className=this.shortcutClass;const n=!0;if(t){const o=t.closest("[data-sv-drop-target-matrix-row]"),h=o.cloneNode(n);h.style.cssText=`
        width: ${o.offsetWidth}px;
      `,h.classList.remove("sv-matrix__drag-drop--moveup"),h.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,s.appendChild(h);const d=t.getBoundingClientRect();s.shortcutXOffset=i.clientX-d.x,s.shortcutYOffset=i.clientY-d.y}return s}getDropTargetByDataAttributeValue(e){const t=this.matrixRowMap[e];return t?.row||t?.matrix}canInsertIntoThisRow(e){const t=this.parentElement.lockedRowCount;return t<=0||e.rowIndex>t}isDropTargetValid(e,t){return this.canInsertIntoThisRow(e)}calculateIsBottom(e,t){const i=t.getBoundingClientRect();return e>=i.y+i.height/2}removeGhost(){const e=this.lastDropTargetParentElement.renderedTable.rows,t=e.indexOf(this.draggedRenderedRow);t>=0&&e.splice(t,1)}afterDragOver(e){if(!this.dropTarget)return;const t=this.matrixRowMap[this.dropTarget.id].matrix,i=this.matrixRowMap[this.dropTarget.id].row,s=this.isBottom?1:0;let n=0;const o={allow:t==this.parentElement,row:i,fromMatrix:this.parentElement,toMatrix:t};if(this.survey.onMatrixRowDragOver.fire(this.survey,o),!o.allow)return;this.removeGhost(),this.lastDropTargetParentElement=t;const h=t.renderedTable.rows;if(t.visibleRows.length>0){const d=h.findIndex(f=>f.row==this.dropTarget);d>=0&&h.splice(d+s,0,this.draggedRenderedRow),n=t.visibleRows.indexOf(this.dropTarget)+s}else t.renderedTable.headerRow||(h[0].cells[0].colSpans=this.draggedRenderedRow.cells.length),h.splice(0,0,this.draggedRenderedRow);this.toIndex=n,this.toMatrix=t,this.dropIsBanned=!1,super.ghostPositionChanged()}clear(){this.matrixRowMap={},this.parentElement.renderedTable.rows.forEach(i=>{i.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.toMatrix&&this.toMatrix.clearOnDrop(),this.fromIndex=null,this.toIndex=null;const t=Ge.getBody();t&&(t.style.userSelect=this.restoreUserSelectValue||"initial"),super.clear()}}class fv{constructor(e,t=!0){this.dragHandler=e,this.preventOnTouch=t,this.onPointerUp=i=>{this.clearListeners()},this.tryToStartDrag=i=>{if(this.currentX=i.pageX,this.currentY=i.pageY,!this.isMicroMovement)return this.clearListeners(),this.dragHandler(this.pointerDownEvent,this.targets,this.itemModel),!0}}onPointerDown(e,t){if(this.targets={currentTarget:e.currentTarget,target:e.target},Hi&&this.preventOnTouch){this.dragHandler(e,this.targets,t);return}this.pointerDownEvent=e,this.startX=e.pageX,this.startY=e.pageY,this.targets.currentTarget.getRootNode().addEventListener("pointermove",this.tryToStartDrag),this.targets.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=t}get isMicroMovement(){const t=Math.abs(this.currentX-this.startX),i=Math.abs(this.currentY-this.startY);return t<10&&i<10}clearListeners(){this.pointerDownEvent&&(this.targets.currentTarget.getRootNode().removeEventListener("pointermove",this.tryToStartDrag),this.targets.currentTarget.removeEventListener("pointerup",this.onPointerUp))}}class aw{constructor(e,t,i){this.locText=e,this.btnEdit=t,this.btnRemove=i}get showRemove(){return!!this.btnRemove}}class ow{constructor(e,t){this.question=e,this.noEntry=t,this.items=[]}isEmpty(){return this.items.length==0}dispose(){this.items.forEach(e=>{var t,i;(t=e.btnEdit)===null||t===void 0||t.dispose(),(i=e.btnRemove)===null||i===void 0||i.dispose()})}}class OE extends ii{constructor(e,t,i){super(t,i),this.index=e,this.buildCells(i)}getRowIndex(){const e=super.getRowIndex();return e>0?e:this.index+1}get rowName(){return this.id}get dataName(){return"row"+(this.index+1)}get text(){return"row "+(this.visibleIndex+1)}getAccessbilityText(){return(this.visibleIndex+1).toString()}get shortcutText(){const t=this.data.visibleRows.indexOf(this)+1,i=this.cells.length>1?this.cells[1].questionValue:void 0,s=this.cells.length>0?this.cells[0].questionValue:void 0;return i&&i.value||s&&s.value||""+t}}class lw extends jh{constructor(e){super(e),this.rowCounter=0,this.setRowCountValueFromData=!1,this.startDragMatrixRow=(i,s)=>{this.dragDropMatrixRows.startDrag(i,this.draggedRow,this,s.target)},this.initialRowCount=this.getDefaultPropertyValue("rowCount"),this.createLocalizableString("confirmDeleteText",this,!1,"confirmDelete");var t=this.createLocalizableString("addRowText",this);t.onGetTextCallback=i=>i||this.defaultAddRowText,this.createLocalizableString("removeRowText",this,!1,"removeRow"),this.createLocalizableString("noRowsText",this,!1,!0),this.createLocalizableString("editRowText",this,!1,"editText"),this.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],()=>{this.updateShowTableAndAddRow()}),this.registerPropertyChangedHandlers(["allowRowReorder","isReadOnly","lockedRowCount"],()=>{this.resetRenderedTable()}),this.registerPropertyChangedHandlers(["minRowCount"],()=>{this.onMinRowCountChanged()}),this.registerPropertyChangedHandlers(["maxRowCount"],()=>{this.onMaxRowCountChanged()}),this.dragOrClickHelper=new fv(this.startDragMatrixRow)}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.dragDropMatrixRows=new LE(this.survey,null,!0)}isBanStartDrag(e){const t=e.target;return t.getAttribute("contenteditable")==="true"||t.nodeName==="INPUT"||!this.isDragHandleAreaValid(t)}isDragHandleAreaValid(e){return this.survey.matrixDragHandleArea==="icon"?e.classList.contains(this.cssClasses.dragElementDecorator):!0}onPointerDown(e,t){!t||!this.isRowsDragAndDrop||this.isDesignMode||this.isBanStartDrag(e)||t.isDetailPanelShowing||(this.draggedRow=t,this.dragOrClickHelper.onPointerDown(e))}getType(){return"matrixdynamic"}get isRowsDynamic(){return!0}get confirmDelete(){return this.getPropertyValue("confirmDelete")}set confirmDelete(e){this.setPropertyValue("confirmDelete",e)}get isValueArray(){return!0}get keyName(){return this.getPropertyValue("keyName","")}set keyName(e){this.setPropertyValue("keyName",e)}get defaultRowValue(){return this.getPropertyValue("defaultRowValue")}set defaultRowValue(e){this.setPropertyValue("defaultRowValue",e)}get copyDefaultValueFromLastEntry(){return this.getPropertyValue("copyDefaultValueFromLastEntry")}set copyDefaultValueFromLastEntry(e){this.setPropertyValue("copyDefaultValueFromLastEntry",e)}get defaultValueFromLastRow(){return this.copyDefaultValueFromLastEntry}set defaultValueFromLastRow(e){this.copyDefaultValueFromLastEntry=e}isDefaultValueEmpty(){return super.isDefaultValueEmpty()&&this.isValueEmpty(this.defaultRowValue)}valueFromData(e){if(this.minRowCount<1||this.isEmpty())return super.valueFromData(e);Array.isArray(e)||(e=[]);for(var t=e.length;t<this.minRowCount;t++)e.push({});return e}isNewValueCorrect(e){return Array.isArray(e)}setDefaultValue(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){super.setDefaultValue();return}if(!(!this.isEmpty()||this.rowCount==0)){for(var e=[],t=0;t<this.rowCount;t++)e.push(this.defaultRowValue);this.value=e}}moveRowByIndex(e,t){const i=this.createNewValue();if(!Array.isArray(i)&&Math.max(e,t)>=i.length)return;const s=i[e];i.splice(e,1),i.splice(t,0,s),this.value=i}addRowByIndex(e,t){const i=this.createNewValue();!Array.isArray(i)&&t>=i.length||(i.splice(t,0,e),this.rowCount++,this.value=i)}removeRowByIndex(e){const t=this.createNewValue();!Array.isArray(t)&&e>=t.length||(t.splice(e,1),this.rowCount--,this.value=t)}clearOnDrop(){this.isEditingSurveyElement||this.resetRenderedTable()}initDataUI(){this.generatedVisibleRows||this.getVisibleRows()}get rowCount(){return this.rowCountValue}set rowCount(e){if(e=z.getNumber(e),!(e<0||e>X.matrix.maxRowCount||e===this.rowCount)){this.setRowCountValueFromData=!1;var t=this.rowCountValue;if(this.rowCountValue=e,this.value&&this.value.length>e){var i=this.value;i.splice(e),this.value=i}if(this.isUpdateLocked){this.initialRowCount=e;return}if(this.generatedVisibleRows||t==0){this.generatedVisibleRows||(this.clearGeneratedRows(),this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(e);for(var s=t;s<e;s++){var n=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(n),this.onMatrixRowCreated(n)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}}updateBindingProp(e,t){super.updateBindingProp(e,t);const i=this.generatedVisibleRows;if(e!=="rowCount"||!Array.isArray(i))return;const s=this.getUnbindValue(this.value)||[];if(s.length<i.length){let n=!1;for(let o=s.length;o<i.length;o++)n||(n=!i[o].isEmpty),s.push(i[o].value||{});n&&(this.value=s)}}updateProgressInfoByValues(e){let t=this.value;Array.isArray(t)||(t=[]);for(var i=0;i<this.rowCount;i++){const s=i<t.length?t[i]:{};this.updateProgressInfoByRow(e,s)}}getValueForNewRow(){var e=null;return this.onGetValueForNewRowCallBack&&(e=this.onGetValueForNewRowCallBack(this)),e}get allowRowReorder(){return this.getPropertyValue("allowRowReorder")}set allowRowReorder(e){this.setPropertyValue("allowRowReorder",e)}get allowRowsDragAndDrop(){return this.allowRowReorder}set allowRowsDragAndDrop(e){this.allowRowReorder=e}get allowRowDragIn(){var e,t;return!(!((t=(e=this.survey)===null||e===void 0?void 0:e.onMatrixRowDragOver)===null||t===void 0)&&t.isEmpty)}get isRowsDragAndDrop(){return this.allowRowReorder&&!this.isReadOnly}get lockedRowCount(){return this.getPropertyValue("lockedRowCount",0)}set lockedRowCount(e){this.setPropertyValue("lockedRowCount",e)}get iconDragElement(){return this.cssClasses.iconDragElement}createRenderedTable(){return new ME(this)}get rowCountValue(){return this.getPropertyValue("rowCount")}set rowCountValue(e){this.setPropertyValue("rowCount",e)}get minRowCount(){return this.getPropertyValue("minRowCount")}set minRowCount(e){e<0&&(e=0),this.setPropertyValue("minRowCount",e)}onMinRowCountChanged(){const e=this.minRowCount;e>this.maxRowCount&&(this.maxRowCount=e),this.initialRowCount<e&&(this.initialRowCount=e),this.rowCount<e&&(this.rowCount=e)}get maxRowCount(){return this.getPropertyValue("maxRowCount")}set maxRowCount(e){e<=0||(e>X.matrix.maxRowCount&&(e=X.matrix.maxRowCount),e!=this.maxRowCount&&this.setPropertyValue("maxRowCount",e))}onMaxRowCountChanged(){const e=this.maxRowCount;e<this.minRowCount&&(this.minRowCount=e),this.rowCount>e&&(this.rowCount=e)}get allowAddRows(){return this.getPropertyValue("allowAddRows")}set allowAddRows(e){this.setPropertyValue("allowAddRows",e)}get allowRemoveRows(){return this.getPropertyValue("allowRemoveRows")}set allowRemoveRows(e){this.setPropertyValue("allowRemoveRows",e),this.isUpdateLocked||this.resetRenderedTable()}get canAddRow(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount}get canRemoveRows(){var e=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(e):e}canRemoveRow(e){if(!this.survey)return!0;const t=e.rowIndex-1;return this.lockedRowCount>0&&t<this.lockedRowCount?!1:this.survey.matrixAllowRemoveRow(this,t,e)}addRowUI(){this.addRow(!0)}getQuestionToFocusOnAddingRow(){if(this.visibleRows.length===0)return null;for(var e=this.visibleRows[this.visibleRows.length-1],t=0;t<e.cells.length;t++){var i=e.cells[t].question;if(i&&i.isVisible&&!i.isReadOnly)return i}return null}addRow(e){const t=this.rowCount,i=this.canAddRow;var s={question:this,canAddRow:i,allow:i};if(this.survey&&this.survey.matrixBeforeRowAdded(s),!!(i!==s.allow?s.allow:i!==s.canAddRow?s.canAddRow:i)&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.singleInputOnAddItem(!1),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),e&&t!==this.rowCount)){const o=this.getQuestionToFocusOnAddingRow();o&&o.focus()}}get detailPanelShowOnAdding(){return this.getPropertyValue("detailPanelShowOnAdding")}set detailPanelShowOnAdding(e){this.setPropertyValue("detailPanelShowOnAdding",e)}hasRowsAsItems(){return!1}unbindValue(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,super.unbindValue()}isValueSurveyElement(e){return this.isEditingSurveyElement||super.isValueSurveyElement(e)}addRowCore(){var e=this.rowCount;this.rowCount=this.rowCount+1;var t=this.getDefaultRowValue(!0),i=null;if(this.isValueEmpty(t)||(i=this.createNewValue(),i.length==this.rowCount&&(i[i.length-1]=t,this.value=i)),this.data){this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties());const s=this.visibleRows;if(this.isValueEmpty(t)&&s.length>0){const n=s[s.length-1];this.isValueEmpty(n.value)||(i||(i=this.createNewValue()),!this.isValueSurveyElement(i)&&!this.isTwoValueEquals(i[i.length-1],n.value)&&(i[i.length-1]=n.value,this.value=i))}}if(this.survey){const s=this.visibleRows;if(e+1==this.rowCount&&s.length>0){const n=s[s.length-1];this.survey.matrixRowAdded(this,n),this.onRowsChanged()}}}getDefaultRowValue(e){for(var t=null,i=0;i<this.columns.length;i++){var s=this.columns[i].templateQuestion;s&&!this.isValueEmpty(s.getDefaultValue())&&(t=t||{},t[this.columns[i].name]=s.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var n in this.defaultRowValue)t=t||{},t[n]=this.defaultRowValue[n];if(e&&this.copyDefaultValueFromLastEntry){var o=this.value;if(o&&Array.isArray(o)&&o.length>=this.rowCount-1){var h=o[this.rowCount-2];for(var n in h)t=t||{},t[n]=h[n]}}return t}focusAddBUtton(){const e=this.getRootElement();if(e&&this.cssClasses.buttonAdd){const t=e.querySelectorAll("."+this.cssClasses.buttonAdd)[0];t&&t.focus()}}getActionCellIndex(e){const t=this.showHeader?1:0;return this.isColumnLayoutHorizontal?e.cells.length-1+t:this.visibleRows.indexOf(e)+t}removeRowUI(e){if(e&&e.rowName){var t=this.visibleRows.indexOf(e);if(t<0)return;e=t}this.removeRow(e,void 0,()=>{const i=this.visibleRows.length,s=t>=i?i-1:t,n=s>-1?this.visibleRows[s]:void 0;setTimeout(()=>{n?this.renderedTable.focusActionCell(n,this.getActionCellIndex(n)):this.focusAddBUtton()},10)})}isRequireConfirmOnRowDelete(e){if(!this.confirmDelete||e<0||e>=this.rowCount)return!1;var t=this.createNewValue();return this.isValueEmpty(t)||!Array.isArray(t)||e>=t.length?!1:!this.isValueEmpty(t[e])}removeRow(e,t,i){if(this.canRemoveRows&&!(e<0||e>=this.rowCount)){var s=this.visibleRows&&e<this.visibleRows.length?this.visibleRows[e]:null;if(t===void 0&&(t=this.isRequireConfirmOnRowDelete(e)),t){of({message:this.confirmDeleteText,funcOnYes:()=>{this.removeRowAsync(e,s),i&&i()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.removeRowAsync(e,s),i&&i()}}removeRowAsync(e,t){t&&this.survey&&!this.survey.matrixRowRemoving(this,e,t)||(this.onStartRowAddingRemoving(),this.removeRowCore(e),this.singleInputOnRemoveItem(e),this.onEndRowRemoving(t))}removeRowCore(e){var t=this.generatedVisibleRows?this.generatedVisibleRows[e]:null;if(this.generatedVisibleRows&&e<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(e,1),this.rowCountValue--,this.value){var i=[];Array.isArray(this.value)&&e<this.value.length?i=this.createValueCopy():i=this.createNewValue(),i.splice(e,1),i=this.deleteRowValue(i,null),this.isRowChanging=!0,this.value=i,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,e,t)}onSingleInputQuestionAdded(e){this.showHeader||(e.titleLocation="hidden")}getSingleInputQuestionsCore(e,t){const i=new Array,s=this.visibleRows;if(t)for(let n=0;n<s.length;n++){const o=s[n];(!o.hasValueAnyQuestion(!0)||o.hasErrors(!1,{},()=>{}))&&this.fillSingleInputQuestionsByRow(i,o)}return this.getSingleInputQuestionsForDynamic(e,i)}fillSingleInputQuestionsInContainer(e,t){const i=this.getRowByQuestion(t);this.fillSingleInputQuestionsByRow(e,i)}fillSingleInputQuestionsByRow(e,t){t&&t.questions.forEach(i=>i.addNestedQuestion(e,!0,!1,!1))}getSingleInputAddTextCore(){if(this.canAddRow)return this.addRowText}singleInputAddItemCore(){this.addRowUI()}singleInputRemoveItemCore(e){this.removeRowUI(this.getRowByQuestion(e))}getSingleQuestionOnChange(e){const t=this.visibleRows;if(t.length>0){(e<0||e>=t.length)&&(e=t.length-1);const s=t[e].visibleQuestions;if(s.length>0)return s[0]}return null}createSingleInputSummary(){const e=new ow(this,this.locNoRowsText),t=new Array,i=this.canRemoveRows;return this.visibleRows.forEach(s=>{const n=new Yi(this,!0,void 0,this.getSingleInputTitleTemplate());n.setJson(this.locSingleInputTitleTemplate.getJson()),n.onGetTextCallback=d=>s.getTextProcessor().processText(d,!0);const o=new ht({locTitle:this.getLocalizableString("editRowText"),action:()=>{this.singleInputEditRow(s)}}),h=i&&this.canRemoveRow(s)?new ht({locTitle:this.locRemoveRowText,action:()=>{this.removeRowUI(s)}}):void 0;t.push(new aw(n,o,h))}),e.items=t,e}get confirmDeleteText(){return this.getLocalizableStringText("confirmDeleteText")}set confirmDeleteText(e){this.setLocalizableStringText("confirmDeleteText",e)}get locConfirmDeleteText(){return this.getLocalizableString("confirmDeleteText")}get addRowText(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)}set addRowText(e){this.setLocalizableStringText("addRowText",e)}get locAddRowText(){return this.getLocalizableString("addRowText")}get defaultAddRowText(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")}getSingleInputTitleTemplate(){return"rowIndexTemplateTitle"}get addRowButtonLocation(){return this.getPropertyValue("addRowButtonLocation")}set addRowButtonLocation(e){this.setPropertyValue("addRowButtonLocation",e)}get addRowLocation(){return this.addRowButtonLocation}set addRowLocation(e){this.addRowButtonLocation=e}getAddRowLocation(){return this.addRowButtonLocation}get hideColumnsIfEmpty(){return this.getPropertyValue("hideColumnsIfEmpty")}set hideColumnsIfEmpty(e){this.setPropertyValue("hideColumnsIfEmpty",e)}getShowColumnsIfEmpty(){return this.hideColumnsIfEmpty}get removeRowText(){return this.getLocalizableStringText("removeRowText")}set removeRowText(e){this.setLocalizableStringText("removeRowText",e)}get locRemoveRowText(){return this.getLocalizableString("removeRowText")}get noRowsText(){return this.getLocalizableStringText("noRowsText")}set noRowsText(e){this.setLocalizableStringText("noRowsText",e)}get locNoRowsText(){return this.getLocalizableString("noRowsText")}get emptyRowsText(){return this.noRowsText}set emptyRowsText(e){this.noRowsText=e}get locEmptyRowsText(){return this.locNoRowsText}getDisplayValueCore(e,t){if(!t||!Array.isArray(t))return t;for(var i=this.getUnbindValue(t),s=this.visibleRows,n=0;n<s.length&&n<i.length;n++){var o=i[n];o&&(i[n]=this.getRowDisplayValue(e,s[n],o))}return i}getConditionObjectRowName(e){return"["+e.toString()+"]"}getConditionObjectsRowIndeces(){const e=[],t=Math.max(this.rowCount,1);for(var i=0;i<Math.min(X.matrix.maxRowCountInCondition,t);i++)e.push(i);return e}supportAutoAdvance(){return!1}get hasRowText(){return!1}onCheckForErrors(e,t,i){super.onCheckForErrors(e,t,i),!t&&this.hasErrorInMinRows()&&e.push(new uE(this.minRowCount,this))}hasErrorInMinRows(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var e=0,t=0;t<this.generatedVisibleRows.length;t++){var i=this.generatedVisibleRows[t];i.isEmpty||e++}return e<this.minRowCount}getUniqueColumnsNames(){var e=super.getUniqueColumnsNames();const t=this.keyName;return t&&e.indexOf(t)<0&&e.push(t),e}generateRows(){var e=new Array;if(this.rowCount===0)return e;for(var t=this.createNewValue(),i=0;i<this.rowCount;i++)e.push(this.createMatrixRow(this.getRowValueByIndex(t,i)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=t),e}createMatrixRow(e){return new OE(this.rowCounter++,this,e)}getInsertedDeletedIndex(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++)if(t[s]!==e[s].editingObj)return s;return i}isEditingObjectValueChanged(){const e=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(e))return!1;let t=this.lastDeletedRow;this.lastDeletedRow=void 0;const i=this.generatedVisibleRows;if(!Array.isArray(e)||Math.abs(i.length-e.length)>1||i.length===e.length)return!1;const s=this.getInsertedDeletedIndex(i,e);if(i.length>e.length){this.lastDeletedRow=i[s];const n=i[s];i.splice(s,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(n)}else{let n;t&&t.editingObj===e[s]?n=t:(t=void 0,n=this.createMatrixRow(e[s])),i.splice(s,0,n),t||this.onMatrixRowCreated(n),this.isRendredTableCreated&&this.renderedTable.onAddedRow(n,s)}return this.setPropertyValueDirectly("rowCount",e.length),!0}updateValueFromSurvey(e,t=!1){if(this.setRowCountValueFromData=!0,this.minRowCount>0&&z.isValueEmpty(e)&&!z.isValueEmpty(this.defaultRowValue)){e=[];for(let i=0;i<this.minRowCount;i++)e.push(z.createCopy(this.defaultRowValue))}super.updateValueFromSurvey(e,t),this.setRowCountValueFromData=!1}getFilteredDataCore(){const e=[],t=this.createValueCopy();if(!Array.isArray(t))return e;const i=this.generatedVisibleRows;for(let s=0;s<i.length&&s<t.length;s++){const n=t[s];i[s].isVisible&&!z.isValueEmpty(n)&&e.push(n)}return e}onBeforeValueChanged(e){if(!(!e||!Array.isArray(e))){var t=e.length;if(t!=this.rowCount&&!(!this.setRowCountValueFromData&&t<this.initialRowCount)&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=t,!!this.generatedVisibleRows)){if(t==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();const i=this.getRowValueByIndex(e,t-1),s=this.createMatrixRow(i);this.generatedVisibleRows.push(s),this.onMatrixRowCreated(s),this.onEndRowAdding()}else this.clearGeneratedRows(),this.getVisibleRows(),this.onRowsChanged();this.setRowCountValueFromData=!1}}}createNewValue(){var e=this.createValueCopy();(!e||!Array.isArray(e))&&(e=[]),e.length>this.rowCount&&e.splice(this.rowCount);var t=this.getDefaultRowValue(!1);t=t||{};for(var i=e.length;i<this.rowCount;i++)e.push(this.getUnbindValue(t));return e}deleteRowValue(e,t){if(!Array.isArray(e))return e;for(var i=!0,s=0;s<e.length;s++)if(this.isObject(e[s])&&Object.keys(e[s]).length>0){i=!1;break}return i?null:e}getRowValueByIndex(e,t){return Array.isArray(e)&&t>=0&&t<e.length?e[t]:null}getRowValueCore(e,t,i=!1){if(!this.generatedVisibleRows)return{};var s=this.getRowValueByIndex(t,this.generatedVisibleRows.indexOf(e));return!s&&i&&(s={}),s}getAddRowButtonCss(e=!1){return new fe().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,e).toString()}getRemoveRowButtonCss(){return new fe().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()}getRootCss(){var e;return new fe().append(super.getRootCss()).append(this.cssClasses.empty,!(!((e=this.renderedTable)===null||e===void 0)&&e.showTable)).toString()}}class ME extends qf{setDefaultRowActions(e,t){super.setDefaultRowActions(e,t)}}le.addClass("matrixdynamic",[{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:X.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue",{name:"copyDefaultValueFromLastEntry:boolean",alternativeName:"defaultValueFromLastRow"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(r){return!r||r.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowButtonLocation",alternativeName:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"noRowsText:text",alternativeName:"emptyRowsText",serializationProperty:"locNoRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(r){return!r||r.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(r){return r.detailPanelMode!=="none"}},{name:"allowRowReorder:switch",alternativeName:"allowRowsDragAndDrop"}],function(){return new lw("")},"matrixdropdownbase");Kt.Instance.registerQuestion("matrixdynamic",r=>{var e=new lw(r);return e.choices=[1,2,3,4,5],jh.addDefaultColumns(e),e});var Al={currentType:"default",getCss:function(){var r=this.currentType?this[this.currentType]:Hm;return r||(r=Hm),r},getAvailableThemes:function(){return Object.keys(this).filter(r=>["currentType","getCss","getAvailableThemes"].indexOf(r)===-1)}},Hm={root:"sd-root-modern",rootProgress:"sd-progress",rootMobile:"sd-root-modern--mobile",rootAnimationDisabled:"sd-root-modern--animation-disabled",rootReadOnly:"sd-root--readonly",rootCompact:"sd-root--compact",rootFitToContainer:"sd-root-modern--full-container",rootWrapper:"sd-root-modern__wrapper",rootWrapperFixed:"sd-root-modern__wrapper--fixed",rootWrapperHasImage:"sd-root-modern__wrapper--has-image",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",bodyLoading:"sd-body--loading",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",completedBeforePage:"sd-completed-before-page",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:"sd-btn sd-btn--small"},panel:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-element__content sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredMark:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",nested:"sd-element--nested sd-element--nested-with-borders",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact",errorsContainer:"sd-panel__errbox sd-element__erbox sd-element__erbox--above-element"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",iconRemove:"sd-hidden",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",nested:"sd-element--nested sd-element--nested-with-borders",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelsContainer:"sd-paneldynamic__panels-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",panelWrapperEnter:"sd-paneldynamic__panel-wrapper--enter",panelWrapperLeave:"sd-paneldynamic__panel-wrapper--leave",panelWrapperList:"sd-paneldynamic__panel-wrapper--list",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsContainer:"sd-paneldynamic__tabs-container",tabsContainerWithHeader:"sd-paneldynamic__tabs-container--with-header",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsRoot:"sd-progress-buttons",progressButtonsNumbered:"sd-progress-buttons--numbered",progressButtonsFitSurveyWidth:"sd-progress-buttons--fit-survey-width",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsConnector:"sd-progress-buttons__connector",progressButtonsButton:"sd-progress-buttons__button",progressButtonsButtonBackground:"sd-progress-buttons__button-background",progressButtonsButtonContent:"sd-progress-buttons__button-content",progressButtonsHeader:"sd-progress-buttons__header",progressButtonsFooter:"sd-progress-buttons__footer",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description",number:"sd-page__num",errorsContainer:"sd-page__errbox"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",rowEnter:"sd-row--enter",rowDelayedEnter:"sd-row--delayed-enter",rowLeave:"sd-row--leave",rowReplace:"sd-row--replace",pageRow:"sd-page__row",question:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",mobile:"sd-question--mobile",mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-element__content sd-question__content",contentSupportContainerQueries:"sd-question__content--support-container-queries",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleTopRoot:"sd-question--title-top",descriptionUnderInputRoot:"sd-question--description-under-input",titleBottomRoot:"sd-question--title-bottom",titleOnAnswer:"sd-question__title--answer",titleEmpty:"sd-question__title--empty",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleReadOnly:"sd-element__title--readonly",titleBar:"sd-action-title-bar",requiredMark:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",hasErrorTop:"sd-question--error-top",hasErrorBottom:"sd-question--error-bottom",collapsed:"sd-element--collapsed",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex sd-composite",disabled:"sd-question--disabled",readOnly:"sd-question--readonly",preview:"sd-question--preview",noPointerEventsMode:"sd-question--no-pointer-events",errorsContainer:"sd-element__erbox sd-question__erbox",errorsContainerTop:"sd-element__erbox--above-element sd-question__erbox--above-question",errorsContainerBottom:"sd-question__erbox--below-question",confirmDialog:"sd-popup--confirm sv-popup--confirm",singleInputTitle:"sd-element__title--singleinput",singleInputWrapper:"sd-question__singleinput-wrapper",breadcrumbsRoot:"sd-breadcrumbs",breadcrumbsItem:"sd-breadcrumbs-item",breadcrumbsItemButton:"sd-breadcrumbs-item__button",breadcrumbsSeparator:"sd-breadcrumbs-separator",summary:"sd-summary",summaryRow:"sd-summary-row",summaryRowContent:"sd-summary-row__content",summaryRowActions:"sd-summary-row__actions",summaryRowAction:"sd-summary-row-action",summaryRowActionEdit:"sd-summary-row-action sd-summary-row-action--edit",summaryRowActionDelete:"sd-summary-row-action sd-summary-row-action--delete"},image:{mainRoot:"sd-element sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-element sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:"",nested:"sd-element--nested sd-html--nested"},error:{root:"sd-error",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemReadOnly:"sd-item--readonly sd-checkbox--readonly",itemPreview:"sd-item--preview sd-checkbox--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-check-16x16",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemExchanged:"sd-boolean--exchanged",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemReadOnly:"sd-boolean--readonly",itemPreview:"sd-boolean--preview",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",labelTrue:"sd-boolean__label--true",labelFalse:"sd-boolean__label--false",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",labelReadOnly:"sd-checkbox__label--readonly",labelPreview:"sd-checkbox__label--preview",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioItemDisabled:"sd-item--disabled sd-radio--disabled",radioItemReadOnly:"sd-item--readonly sd-radio--readonly",radioItemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-item--disabled sd-checkbox--disabled",checkboxItemReadOnly:"sd-item--readonly sd-checkbox--readonly",checkboxItemPreview:"sd-item--preview sd-checkbox--preview",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-check-16x16"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",constrolWithCharacterCounter:"sd-text__character-counter",characterCounterBig:"sd-text__character-counter--big",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",rootMobile:"sd-multipletext--mobile",itemLabel:"sd-multipletext__item-container sd-input",itemLabelReadOnly:"sd-input--readonly",itemLabelDisabled:"sd-input--disabled",itemLabelPreview:"sd-input--preview",itemLabelOnError:"sd-multipletext__item-container--error",itemLabelAllowFocus:"sd-multipletext__item-container--allow-focus",itemLabelAnswered:"sd-multipletext__item-container--answered",itemWithCharacterCounter:"sd-multipletext-item__character-counter",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell",cellError:"sd-multipletext__cell--error",cellErrorTop:"sd-multipletext__cell--error-top",cellErrorBottom:"sd-multipletext__cell--error-bottom"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButtonIconId:"icon-cancel",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootResponsive:"sd-imagepicker--responsive",rootStatic:"sd-imagepicker--static",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemReadOnly:"sd-imagepicker__item--readonly",itemPreview:"sd-imagepicker__item--preview",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-check-24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",rowDisabled:"sd-table__row-disabled",rowReadOnly:"sd-table__row-readonly",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",itemCell:"sd-table__cell--item",row:"sd-table__row",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",expandedRow:"sd-table__row--expanded",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",columnTitleCell:"sd-table__cell--column-title",cellRequiredMark:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",row:"sd-table__row",rowEmpty:"sd-table__row--empty",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",expandedRow:"sd-table__row--expanded",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",columnTitleCell:"sd-table__cell--column-title",cellRequiredMark:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"sd-hidden",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-drag-24x24",footer:"sd-matrixdynamic__footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",noRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",draggedRow:"sv-matrixdynamic-dragged-row",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-rating--wrappable",rootLabelsTop:"sd-rating--labels-top",rootLabelsBottom:"sd-rating--labels-bottom",rootLabelsDiagonal:"sd-rating--labels-diagonal",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarReadOnly:"sd-rating__item-star--readonly",itemStarPreview:"sd-rating__item-star--preview",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyReadOnly:"sd-rating__item-smiley--readonly",itemSmileyPreview:"sd-rating__item-smiley--preview",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemReadOnly:"sd-rating__item--readonly",itemPreview:"sd-rating__item--preview",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},slider:{root:"sd-slider",rootSingleMode:"sd-slider--single",rootNegativeScaleMode:"sd-slider--negative-scale",rootDesignMode:"sd-slider--design-mode",rootAnimatedThumbMode:"sd-slider--animated-thumb-mode",visualContainer:"sd-slider-container",visualContainerSlider:"sd-slider-container__slider",rangeTrack:"sd-slider__track sd-slider__range-track",inverseTrackLeft:"sd-slider__track sd-slider__inverse-track sd-slider__inverse-track--left",inverseTrackRight:"sd-slider__track sd-slider__inverse-track sd-slider__inverse-track--right",thumbContainer:"sd-slider__thumb-container",thumbContainerIndeterminateMode:"sd-slider__thumb-container--indeterminate",thumbContainerFocusedMode:"sd-slider__thumb-container--focused",thumb:"sd-slider__thumb",thumbDot:"sd-slider__thumb-dot",tooltip:"sd-slider__tooltip",tooltipPanel:"sd-slider__tooltip-panel",tooltipOnHoverMode:"sd-slider__tooltip--on-hover",tooltipValue:"sd-slider__tooltip-value",input:"sd-slider__input",labelsContainer:"sd-slider-labels-container",label:"sd-slider__label",labelLongMod:"sd-slider__label--long",labelTick:"sd-slider__label-tick",labelText:"sd-slider__label-text",clearButton:""},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",rootDragging:"sd-file--dragging",rootAnswered:"sd-file--answered",rootDisabled:"sd-file--disabled",rootReadOnly:"sd-file--readonly",rootPreview:"sd-file--preview",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",previewItem:"sd-file__preview-item",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",controlDisabled:"sd-file__choose-file-btn--disabled",removeButton:"sd-context-btn--negative",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-close_16x16",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn--small sd-context-btn--with-border sd-context-btn--colorful sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",imageWrapperDefaultImage:"sd-file__image-wrapper--default-image",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile",videoContainer:"sd-file__video-container",contextButton:"sd-context-btn",video:"sd-file__video",actionsContainer:"sd-file__actions-container",closeCameraButton:"sd-file__close-camera-button",changeCameraButton:"sd-file__change-camera-button",takePictureButton:"sd-file__take-picture-button",loadingIndicator:"sd-file__loading-indicator",page:"sd-file__page"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas sd-signaturepad__canvas",backgroundImage:"sjs_sp__background-image sd-signaturepad__background-image",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear",loadingIndicator:"sd-signaturepad__loading-indicator"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootReadOnly:"sd-ranking--readonly",rootPreview:"sd-ranking--preview",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankEmptyValueMod:"sv-ranking--select-to-rank-empty-value",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",itemReadOnly:"sv-ranking-item--readonly",itemPreview:"sv-ranking-item--preview",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sd-button-group-scrollable-container sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden",rootDropdown:"sd-button-group-scrollable-container sd-scrollable-container--compact sd-selectbase",selectWrapper:"sv-dropdown_select-wrapper",control:"sd-input sd-dropdown",controlEmpty:"sd-dropdown--empty",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",cleanButtonIconId:"icon-cancel",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused",itemHovered:"sv-list__item--hovered sd-list__item--hovered"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-check-16x16",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",cleanButtonIconId:"icon-cancel-24x24",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlEditable:"sd-input--editable",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}};const NE="default";Al[NE]=Hm;var Ia={setTimeout:r=>Ia.safeTimeOut(r,1e3),clearTimeout:r=>{clearTimeout(r)},safeTimeOut:(r,e)=>e<=0?(r(),0):setTimeout(r,e),now(){return Date.now()}};class Aa{constructor(){this.listenerCounter=0,this.timerId=-1,this.onTimerTick=new Er,this.onTimer=this.onTimerTick}static get instance(){return Aa.instanceValue||(Aa.instanceValue=new Aa),Aa.instanceValue}start(e=null){e&&this.onTimerTick.add(e),this.prevTimeInMs=Ia.now(),this.timerId<0&&(this.timerId=Ia.setTimeout(()=>{this.doTimer()})),this.listenerCounter++}stop(e=null){e&&this.onTimerTick.remove(e),this.listenerCounter--,this.listenerCounter==0&&this.timerId>-1&&(Ia.clearTimeout(this.timerId),this.timerId=-1)}doTimer(){if((this.onTimerTick.isEmpty||this.listenerCounter==0)&&(this.timerId=-1),this.timerId<0)return;const e=Ia.now();let t=Math.floor((e-this.prevTimeInMs)/1e3);this.prevTimeInMs=e,t<0&&(t=1);const i=this.timerId;this.onTimerTick.fire(this,{seconds:t}),i===this.timerId&&(this.timerId=Ia.setTimeout(()=>{this.doTimer()}))}}Aa.instanceValue=null;class Ql extends tt{constructor(e){super(),this.timerFunc=null,this.surveyValue=e,this.onCreating()}get survey(){return this.surveyValue}onCreating(){}start(){this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(()=>{this.update()}),this.timerFunc=(e,t)=>{this.doTimer(t.seconds)},this.setIsRunning(!0),this.update(),Aa.instance.start(this.timerFunc)))}stop(){this.isRunning&&(this.setIsRunning(!1),Aa.instance.stop(this.timerFunc))}get isRunning(){return this.getPropertyValue("isRunning",!1)}setIsRunning(e){this.setPropertyValue("isRunning",e)}update(){this.updateText(),this.updateProgress()}doTimer(e){var t=this.survey.currentPage;if(t){const i=t.getMaxTimeToFinish();i>0&&i<t.timeSpent+e&&(e=i-t.timeSpent),t.timeSpent=t.timeSpent+e}this.spent=this.spent+e,this.update(),this.onTimerTick&&this.onTimerTick(t)}updateProgress(){let{spent:e,limit:t}=this.survey.timerInfo;t?(e==0?(this.progress=0,setTimeout(()=>{this.progress=Math.floor((e+1)/t*100)/100},0)):e<=t&&(this.progress=Math.floor((e+1)/t*100)/100),this.progress>1&&(this.progress=void 0)):this.progress=void 0}updateText(){let e=this.survey.timerClock;this.clockMajorText=e.majorText,this.clockMinorText=e.minorText,this.text=this.survey.timerInfoText}get showProgress(){return this.progress!==void 0}get showTimerAsClock(){return!!this.survey.getCss().clockTimerRoot}get rootCss(){return new fe().append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()}getProgressCss(){return new fe().append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()}get textContainerCss(){return this.survey.getCss().clockTimerTextContainer}get minorTextCss(){return this.survey.getCss().clockTimerMinorText}get majorTextCss(){return this.survey.getCss().clockTimerMajorText}}O([N()],Ql.prototype,"text",void 0);O([N()],Ql.prototype,"progress",void 0);O([N()],Ql.prototype,"clockMajorText",void 0);O([N()],Ql.prototype,"clockMinorText",void 0);O([N({defaultValue:0})],Ql.prototype,"spent",void 0);class Gh extends tt{constructor(e){super(),this.cssClasses=e,this.timeout=X.notifications.lifetime,this.timer=void 0,this.actionsVisibility={},this.showActions=!0,this.actionBar=new Ss,this.actionBar.updateCallback=t=>{this.actionBar.actions.forEach(i=>i.cssClasses={})},this.css=this.cssClasses.root}getCssClass(e){return new fe().append(this.cssClasses.root).append(this.cssClasses.rootWithButtons,this.actionBar.visibleActions.length>0).append(this.cssClasses.info,e!=="error"&&e!=="success").append(this.cssClasses.error,e==="error").append(this.cssClasses.success,e==="success").append(this.cssClasses.shown,this.active).toString()}updateActionsVisibility(e){this.actionBar.actions.forEach(t=>t.visible=this.showActions&&this.actionsVisibility[t.id]===e)}notify(e,t="info",i=!1){this.isDisplayed=!0,setTimeout(()=>{this.updateActionsVisibility(t),this.message=e,this.active=!0,this.css=this.getCssClass(t),this.timer&&(clearTimeout(this.timer),this.timer=void 0),i||(this.timer=setTimeout(()=>{this.timer=void 0,this.active=!1,this.css=this.getCssClass(t)},this.timeout))},1)}addAction(e,t){e.visible=!1,e.innerCss=this.cssClasses.button;const i=this.actionBar.addAction(e);this.actionsVisibility[i.id]=t}}O([N({defaultValue:!1})],Gh.prototype,"active",void 0);O([N({defaultValue:!1})],Gh.prototype,"isDisplayed",void 0);O([N()],Gh.prototype,"message",void 0);O([N()],Gh.prototype,"css",void 0);class Vo{calcRow(e){return e==="top"?1:e==="middle"?2:3}calcColumn(e){return e==="left"?1:e==="center"?2:3}calcAlignItems(e){return e==="left"?"flex-start":e==="center"?"center":"flex-end"}calcAlignText(e){return e==="left"?"start":e==="center"?"center":"end"}calcJustifyContent(e){return e==="top"?"flex-start":e==="middle"?"center":"flex-end"}calcGridRow(){const e=this.calcRow(this.positionY);if(this.cover.renderedHeight)return e;const t=this.cover.getVisibleRows(),i=t.indexOf(e);if(i===-1)return 0;const s=t.length;return s===3?e:s===1?1:i+1}constructor(e,t,i){this.cover=e,this.positionX=t,this.positionY=i}get survey(){return this.cover.survey}get css(){return new fe().append(Vo.CLASSNAME).append(`${Vo.CLASSNAME}--${this.positionX}`).append(`${Vo.CLASSNAME}--${this.positionY}`).append(Vo.CLASSNAME+"--empty",this.isEmpty).toString()}get style(){const e=this.calcGridRow(),t={};return t.gridRow=e,t.gridColumn=e!==0?this.calcColumn(this.positionX):0,t.width=this.width?this.width+"px":void 0,e===0&&(t.display="none"),t}get contentStyle(){const e={};return e.textAlign=this.calcAlignText(this.positionX),e.alignItems=this.calcAlignItems(this.positionX),e.justifyContent=this.calcJustifyContent(this.positionY),e.maxWidth=this.contentMaxWidth,e}get showLogo(){return this.survey.hasLogo&&this.positionX===this.cover.logoPositionX&&this.positionY===this.cover.logoPositionY}get showTitle(){return this.survey.hasTitle&&this.positionX===this.cover.titlePositionX&&this.positionY===this.cover.titlePositionY}get showDescription(){return this.survey.renderedHasDescription&&this.positionX===this.cover.descriptionPositionX&&this.positionY===this.cover.descriptionPositionY}get isEmpty(){return!this.showLogo&&!this.showTitle&&!this.showDescription}get textAreaWidth(){return this.cover.renderedTextAreaWidth}get width(){if(this.cover.width)return Math.ceil(this.cover.width/3)}get contentMaxWidth(){return this.cover.getContentMaxWidth(this)}}Vo.CLASSNAME="sv-header__cell";class li extends tt{calcBackgroundSize(e){return e==="fill"?"100% 100%":e==="tile"?"auto":e}updateHeaderClasses(){const e=!this.backgroundColor||this.backgroundColor==="transparent",t=this.backgroundColor==="var(--sjs-primary-backcolor)",i=!e&&!t;this.headerClasses=new fe().append("sv-header").append("sv-header--height-auto",!this.renderedHeight).append("sv-header__without-background",e&&!this.backgroundImage).append("sv-header__background-color--none",e&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--accent",t&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--custom",i&&!this.titleColor&&!this.descriptionColor).append("sv-header__overlap",this.overlapEnabled).toString()}updateContentClasses(){const e=!!this.survey&&this.survey.calculateWidthMode();if(this.maxWidth=this.inheritWidthFrom==="survey"&&!!e&&e==="static"&&this.survey.width,this.maxWidth){const t=this.maxWidth.toString();t.indexOf("px")===-1&&t.indexOf("%")===-1&&(this.maxWidth=parseFloat(t)+"px")}this.contentClasses=new fe().append("sv-header__content").append("sv-header__content--static",this.inheritWidthFrom==="survey"&&!!e&&e==="static").append("sv-header__content--responsive",this.inheritWidthFrom==="container"||!!e&&e==="responsive").toString()}updateBackgroundImageClasses(){this.backgroundImageClasses=new fe().append("sv-header__background-image").append("sv-header__background-image--contain",this.backgroundImageFit==="contain").append("sv-header__background-image--tile",this.backgroundImageFit==="tile").toString()}fromTheme(e){super.fromJSON(e.header||{}),e.cssVariables&&(this.backgroundColor=e.cssVariables["--sjs-header-backcolor"],this.titleColor=e.cssVariables["--sjs-font-headertitle-color"],this.descriptionColor=e.cssVariables["--sjs-font-headerdescription-color"]),this.init()}init(){this.renderBackgroundImage=ov(this.backgroundImage),this.updateHeaderClasses(),this.updateContentClasses(),this.updateBackgroundImageClasses()}constructor(){super(),this.cells=[],["top","middle","bottom"].forEach(e=>["left","center","right"].forEach(t=>this.cells.push(new Vo(this,t,e)))),this.init()}getType(){return"cover"}get renderedHeight(){if(this.survey&&!this.survey.isMobile||!this.survey)return this.height?this.height+"px":void 0;if(this.survey&&this.survey.isMobile)return this.mobileHeight?this.mobileHeight+"px":void 0}get renderedTextAreaWidth(){return this.textAreaWidth?this.textAreaWidth+"px":void 0}get isEmpty(){return!this.survey.hasLogo&&!this.survey.hasTitle&&!this.survey.renderedHasDescription}get survey(){return this._survey}set survey(e){this._survey!==e&&(this._survey=e,e&&(this.updateContentClasses(),this._survey.onPropertyChanged.add((t,i)=>{(i.name=="widthMode"||i.name=="width")&&this.updateContentClasses()})))}get backgroundImageStyle(){return this.backgroundImage?{opacity:this.backgroundImageOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.calcBackgroundSize(this.backgroundImageFit)}:null}propertyValueChanged(e,t,i,s,n){super.propertyValueChanged(e,t,i),(e==="height"||e==="backgroundColor"||e==="backgroundImage"||e==="overlapEnabled")&&this.updateHeaderClasses(),e==="inheritWidthFrom"&&this.updateContentClasses(),e==="backgroundImageFit"&&this.updateBackgroundImageClasses()}getVisibleRows(){const e=[];for(let t=0;t<3;t++){const i=t*3;(!this.cells[i].isEmpty||!this.cells[i+1].isEmpty||!this.cells[i+2].isEmpty)&&e.push(t+1)}return e.length!==0?e:[1,2,3]}getContentMaxWidth(e){if(e.isEmpty||e.showLogo)return;const t=this.cells.indexOf(e),i=Math.floor(t/3),s=t%3;if(s==1){if(!this.cells[i*3].isEmpty||!this.cells[i*3+2].isEmpty)return"100%"}else if(s==0){let n=0,o=s+1;for(;o<3&&this.cells[i*3+o].isEmpty;)this.cells[i*3+o].isEmpty&&n++,o++;return 100*(n+1)+"%"}else if(s==2){let n=0,o=s-1;for(;o>0&&this.cells[i*3+o].isEmpty;)this.cells[i*3+o].isEmpty&&n++,o--;return 100*(n+1)+"%"}}processResponsiveness(){if(this.survey&&this.survey.rootElement&&!this.survey.isMobile){const e=this.survey.rootElement.querySelectorAll(".sv-header__content")[0];if(!e)return;let t=e.getBoundingClientRect().width;const i=Ge.getComputedStyle(e),s=parseFloat(i.paddingLeft)||0,n=parseFloat(i.paddingRight)||0,o=parseFloat(i.columnGap)||0;this.width=t-s-n-2*o}}get hasBackground(){return!!this.backgroundImage||this.backgroundColor!=="transparent"}}O([N()],li.prototype,"height",void 0);O([N()],li.prototype,"mobileHeight",void 0);O([N()],li.prototype,"inheritWidthFrom",void 0);O([N()],li.prototype,"textAreaWidth",void 0);O([N()],li.prototype,"textGlowEnabled",void 0);O([N()],li.prototype,"overlapEnabled",void 0);O([N({defaultValue:"transparent"})],li.prototype,"backgroundColor",void 0);O([N()],li.prototype,"titleColor",void 0);O([N()],li.prototype,"descriptionColor",void 0);O([N({onSet:(r,e)=>{e.renderBackgroundImage=ov(r)}})],li.prototype,"backgroundImage",void 0);O([N()],li.prototype,"renderBackgroundImage",void 0);O([N()],li.prototype,"backgroundImageFit",void 0);O([N()],li.prototype,"backgroundImageOpacity",void 0);O([N()],li.prototype,"logoPositionX",void 0);O([N()],li.prototype,"logoPositionY",void 0);O([N()],li.prototype,"titlePositionX",void 0);O([N()],li.prototype,"titlePositionY",void 0);O([N()],li.prototype,"descriptionPositionX",void 0);O([N()],li.prototype,"descriptionPositionY",void 0);O([N()],li.prototype,"logoStyle",void 0);O([N()],li.prototype,"titleStyle",void 0);O([N()],li.prototype,"descriptionStyle",void 0);O([N()],li.prototype,"headerClasses",void 0);O([N()],li.prototype,"contentClasses",void 0);O([N()],li.prototype,"width",void 0);O([N()],li.prototype,"maxWidth",void 0);O([N()],li.prototype,"backgroundImageClasses",void 0);le.addClass("cover",[{name:"height:number",minValue:0,default:0},{name:"mobileHeight:number",minValue:0,default:0},{name:"inheritWidthFrom",default:"survey"},{name:"textAreaWidth:number",minValue:0,default:0},{name:"textGlowEnabled:boolean"},{name:"overlapEnabled:boolean"},{name:"backgroundImage:file"},{name:"backgroundImageOpacity:number",minValue:0,maxValue:1,default:1},{name:"backgroundImageFit",default:"cover",choices:["cover","fill","contain"]},{name:"logoPositionX",default:"left"},{name:"logoPositionY",default:"top"},{name:"titlePositionX",default:"left"},{name:"titlePositionY",default:"bottom"},{name:"descriptionPositionX",default:"left"},{name:"descriptionPositionY",default:"bottom"}],function(){return new li});class kE{constructor(e){this.type=e,this.timestamp=new Date}}class uw extends tt{constructor(){super(),this.taskList=[],this.onAllTasksCompleted=this.addEvent()}runTask(e,t){const i=new kE(e);return this.taskList.push(i),this.hasActiveTasks=!0,t(()=>this.taskFinished(i)),i}waitAndExecute(e){if(!this.hasActiveTasks){e();return}this.onAllTasksCompleted.add(()=>{e()})}taskFinished(e){const t=this.taskList.indexOf(e);t>-1&&this.taskList.splice(t,1),this.hasActiveTasks&&this.taskList.length==0&&(this.hasActiveTasks=!1,this.onAllTasksCompleted.fire(this,{}))}}O([N({defaultValue:!1})],uw.prototype,"hasActiveTasks",void 0);class Zh extends tt{constructor(e,t){super(),this.effectiveWidth=e,this.questionTitleWidth=t}getType(){return"panellayoutcolumn"}isEmpty(){return!this.width&&!this.questionTitleWidth}}O([N()],Zh.prototype,"width",void 0);O([N({onSet:(r,e,t)=>{r!==t&&(e.width=r)}})],Zh.prototype,"effectiveWidth",void 0);O([N()],Zh.prototype,"questionTitleWidth",void 0);le.addClass("panellayoutcolumn",[{name:"effectiveWidth:number",isSerializable:!1,minValue:0},{name:"width:number",visible:!1},"questionTitleWidth"],r=>new Zh);class kh extends tt{static getRowId(){return"pr_"+kh.rowCounter++}get allowRendering(){return!this.panel||!this.panel.survey||!this.panel.survey.isLazyRenderingSuspended}startLazyRendering(e,t=Of){if(!Ge.isAvailable())return;this._scrollableParent=t(e),this._scrollableParent===Ge.getDocumentElement()&&(this._scrollableParent=$e.getWindow());const i=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!i,i&&(this._updateVisibility=()=>{if(this.allowRendering){var s=FS(e,50);!this.isNeedRender&&s&&(this.isNeedRender=!0,this.stopLazyRendering())}},this.lazyRenderingTimeout=setTimeout(()=>{this._scrollableParent&&this._scrollableParent.addEventListener&&this._scrollableParent.addEventListener("scroll",this._updateVisibility),this.ensureVisibility()},10))}ensureVisibility(){this._updateVisibility&&this._updateVisibility()}stopLazyRendering(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),clearTimeout(this.lazyRenderingTimeout),this._scrollableParent=void 0,this._updateVisibility=void 0}constructor(e){super(),this.panel=e,this._scrollableParent=void 0,this._updateVisibility=void 0,this.visibleElementsAnimation=new So(this.getVisibleElementsAnimationOptions(),t=>{this.setWidth(t),this.setPropertyValue("visibleElements",t)},()=>this.visibleElements),this.idValue=kh.getRowId(),this.visible=e.areInvisibleElementsShowing,this.createNewArray("elements"),this.createNewArray("visibleElements")}setIsLazyRendering(e){this.isLazyRenderingValue=e,this.isNeedRender=!e}isLazyRendering(){return this.isLazyRenderingValue===!0}get id(){return this.idValue}equalsCore(e){return this==e}get elements(){return this.getPropertyValue("elements")}getIsAnimationAllowed(){var e;return super.getIsAnimationAllowed()&&this.visible&&((e=this.panel)===null||e===void 0?void 0:e.animationAllowed)}getVisibleElementsAnimationOptions(){const e=t=>{Qn(t),Mh(t,{width:Bm(t)+"px"})};return{getRerenderEvent:()=>this.onElementRerendered,isAnimationEnabled:()=>this.animationAllowed,allowSyncRemovalAddition:!1,getAnimatedElement:t=>t.getWrapperElement(),getLeaveOptions:t=>{const i=t;return{cssClass:(t.isPanel?i.cssClasses.panel:i.cssClasses).leave,onBeforeRunAnimation:e,onAfterRunAnimation:Tr}},getEnterOptions:t=>{const i=t;return{cssClass:(t.isPanel?i.cssClasses.panel:i.cssClasses).enter,onBeforeRunAnimation:e,onAfterRunAnimation:Tr}}}}set visibleElements(e){if(e.length)this.visible=!0;else{this.visible=!1,this.visibleElementsAnimation.cancel();return}this.visibleElementsAnimation.sync(e)}get visibleElements(){return this.getPropertyValue("visibleElements")}get visible(){return this.getPropertyValue("visible",!0)}set visible(e){this.setPropertyValue("visible",e),this.onVisibleChangedCallback&&this.onVisibleChangedCallback()}get isNeedRender(){return this.getPropertyValue("isneedrender",!0)}set isNeedRender(e){this.setPropertyValue("isneedrender",e)}updateVisible(){for(var e=[],t=0;t<this.elements.length;t++)this.elements[t].isVisible&&e.push(this.elements[t]),(this.elements[t].isPanel||this.elements[t].getType()==="paneldynamic")&&(this.setIsLazyRendering(!1),this.stopLazyRendering());this.visibleElements=e}addElement(e){this.elements.push(e),this.updateVisible()}get index(){return this.panel.rows.indexOf(this)}setWidth(e){var t=e.length;if(t==0)return;const i=e.length===1;for(var s=[],n=0;n<this.elements.length;n++){var o=this.elements[n];if(o.isVisible){o.isSingleInRow=i;var h=this.getElementWidth(o);h&&(o.renderWidth=this.getRenderedWidthFromWidth(h),s.push(o)),o.rightIndent=0}else o.renderWidth=""}for(var n=0;n<this.elements.length;n++){var o=this.elements[n];!o.isVisible||s.indexOf(o)>-1||(s.length==0?o.renderWidth=`${Number.parseFloat((100/t).toFixed(6))}%`:o.renderWidth=this.getRenderedCalcWidth(o,s,t))}}getRenderedCalcWidth(e,t,i){for(var s="100%",n=0;n<t.length;n++)s+=" - "+t[n].renderWidth;var o=i-t.length;return o>1&&(s="("+s+")/"+o.toString()),"calc("+s+")"}getElementWidth(e){var t=e.width;return!t||typeof t!="string"?"":t.trim()}getRenderedWidthFromWidth(e){return z.isNumber(e)?e+"px":e}dispose(){super.dispose(),this.stopLazyRendering()}getRowCss(){return new fe().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||this.panel.showPanelAsPage).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()}setRootElement(e){this.rootElement=e}getRootElement(){return this.rootElement}}kh.rowCounter=100;class cn extends ai{static getPanelId(){return"sp_"+cn.panelCounter++}get gridLayoutColumns(){let e=this.getPropertyValue("gridLayoutColumns");return this._columns||(this.generateColumns([].concat(e)),e=this._columns,this.gridLayoutColumns=e),e}set gridLayoutColumns(e){this.setPropertyValue("gridLayoutColumns",e)}onAddRow(e){this.onRowVisibleChanged(),e.onVisibleChangedCallback=()=>this.onRowVisibleChanged()}getRowsAnimationOptions(){return{getRerenderEvent:()=>this.onElementRerendered,isAnimationEnabled:()=>this.animationAllowed,getAnimatedElement:e=>e.getRootElement(),getLeaveOptions:(e,t)=>({cssClass:this.cssClasses.rowLeave,onBeforeRunAnimation:Qn,onAfterRunAnimation:Tr}),getEnterOptions:(e,t)=>{const i=this.cssClasses;return{cssClass:new fe().append(i.rowEnter).append(i.rowDelayedEnter,t.isDeletingRunning).toString(),onBeforeRunAnimation:Qn,onAfterRunAnimation:Tr}}}}get visibleRows(){return this.getPropertyValue("visibleRows")}set visibleRows(e){this.rowsAnimation.sync(e)}onRemoveRow(e){e.visibleElementsAnimation.cancel(),this.visibleRows=this.rows.filter(t=>t.visible),e.onVisibleChangedCallback=void 0}onRowVisibleChanged(){this.visibleRows=this.rows.filter(e=>e.visible)}constructor(e=""){super(e),this.isQuestionsReady=!1,this.questionsValue=new Array,this._columns=void 0,this._columnsReady=!1,this.rowsAnimation=new So(this.getRowsAnimationOptions(),t=>{this.setPropertyValue("visibleRows",t)},()=>this.visibleRows),this.isRandomizing=!1,this.onColumnPropertyValueChangedCallback=(t,i,s,n,o)=>{this._columnsReady&&(this.updateColumnWidth(this.gridLayoutColumns),this.updateRootStyle())},this.locCountRowUpdates=0,this.createNewArray("rows",(t,i)=>{this.onAddRow(t)},t=>{this.onRemoveRow(t)}),this.createNewArray("visibleRows"),this.createNewArray("gridLayoutColumns",t=>{t.onPropertyValueChangedCallback=this.onColumnPropertyValueChangedCallback}),this.elementsValue=this.createNewArray("elements",this.onAddElement.bind(this),this.onRemoveElement.bind(this)),this.setPropertyValueDirectly("id",cn.getPanelId()),this.addExpressionProperty("visibleIf",(t,i)=>{this.visible=i===!0},t=>!this.areInvisibleElementsShowing),this.addExpressionProperty("enableIf",(t,i)=>{this.readOnly=i===!1}),this.addExpressionProperty("requiredIf",(t,i)=>{this.isRequired=i===!0}),this.createLocalizableString("requiredErrorText",this),this.createLocalizableString("navigationTitle",this,!0).onGetTextCallback=t=>t||this.title||this.name,this.registerPropertyChangedHandlers(["questionTitleLocation"],()=>{this.onVisibleChanged.bind(this),this.updateElementCss(!0)}),this.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],()=>{this.updateVisibleIndexes()}),this.registerPropertyChangedHandlers(["title"],()=>{this.resetHasTextInTitle()})}getType(){return"panelbase"}setSurveyImpl(e,t){this.blockAnimations(),super.setSurveyImpl(e,t),this.isDesignMode&&this.onVisibleChanged();for(var i=0;i<this.elements.length;i++)this.elements[i].setSurveyImpl(e,t);this.releaseAnimations()}endLoadingFromJson(){super.endLoadingFromJson(),this.markQuestionListDirty(),this.onRowsChanged()}get hasTextInTitle(){return this.getPropertyValue("hasTextInTitle",void 0,()=>!!this.title)}resetHasTextInTitle(){this.resetPropertyValue("hasTextInTitle")}get hasTitle(){return this.canShowTitle(this.survey)&&(this.hasTextInTitle||this.locTitle.textOrHtml.length>0)||this.isDesignMode&&!this.isPanel&&this.showTitle&&X.designMode.showEmptyTitles}delete(e=!0){this.deletePanel(),this.removeFromParent(),e&&this.dispose()}deletePanel(){const e=this.elements;for(let t=0;t<e.length;t++){const i=e[t];i.isPanel&&i.deletePanel(),this.onRemoveElementNotifySurvey(i)}}removeFromParent(){}canShowTitle(e){return!0}getDefaultTitleTagName(){return X.titleTags.panel}get _showDescription(){return!this.hasTitle&&this.isDesignMode?!1:this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&X.designMode.showEmptyDescriptions}localeChanged(){super.localeChanged();for(var e=0;e<this.elements.length;e++)this.elements[e].localeChanged()}locStrsChanged(){super.locStrsChanged();for(var e=0;e<this.elements.length;e++)this.elements[e].locStrsChanged()}getMarkdownHtml(e,t,i){return t==="navigationTitle"&&this.locNavigationTitle.isEmpty?this.locTitle.renderedHtml||this.name:super.getMarkdownHtml(e,t,i)}get locNavigationTitle(){return this.getLocalizableString("navigationTitle")}get renderedNavigationTitle(){return this.locNavigationTitle.renderedHtml}get requiredMark(){return this.survey&&this.isRequired?this.survey.requiredMark:""}get requiredText(){return this.requiredMark}get titlePattern(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"}get isRequireTextOnStart(){return this.isRequired&&this.titlePattern=="requireNumTitle"}get isRequireTextBeforeTitle(){return this.isRequired&&this.titlePattern=="numRequireTitle"}get isRequireTextAfterTitle(){return this.isRequired&&this.titlePattern=="numTitleRequire"}get requiredErrorText(){return this.getLocalizableStringText("requiredErrorText")}set requiredErrorText(e){this.setLocalizableStringText("requiredErrorText",e)}get locRequiredErrorText(){return this.getLocalizableString("requiredErrorText")}get questionOrder(){return this.getPropertyValue("questionOrder")}set questionOrder(e){this.setPropertyValue("questionOrder",e)}get questionsOrder(){return this.questionOrder}set questionsOrder(e){this.questionOrder=e}addNoFromChild(e){return e}canRandomize(e){return e&&this.questionOrder!=="initial"||this.questionOrder==="random"}randomizeElements(e){if(!this.canRandomize(e)||this.isRandomizing)return!1;this.isRandomizing=!0;for(var t=[],i=this.elements,s=0;s<i.length;s++)t.push(i[s]);const n=z.randomizeArray(t);return this.setArrayPropertyDirectly("elements",n,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1,!0}get areQuestionsRandomized(){var e=this.questionOrder=="default"&&this.survey?this.survey.questionOrder:this.questionOrder;return e=="random"}get parent(){return this.getPropertyValue("parent",null)}set parent(e){this.setPropertyValue("parent",e)}get depth(){return this.parent==null?0:this.parent.depth+1}get visibleIf(){return this.getPropertyValue("visibleIf","")}set visibleIf(e){this.setPropertyValue("visibleIf",e)}calcCssClasses(e){var t={panel:{},error:{},row:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(t.panel,e.panel),this.copyCssClasses(t.error,e.error),e.pageRow&&(t.pageRow=e.pageRow),e.rowCompact&&(t.rowCompact=e.rowCompact),e.row&&(t.row=e.row),e.rowEnter&&(t.rowEnter=e.rowEnter),e.rowLeave&&(t.rowLeave=e.rowLeave),e.rowDelayedEnter&&(t.rowDelayedEnter=e.rowDelayedEnter),e.rowMultiple&&(t.rowMultiple=e.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,t),t}get id(){return this.getPropertyValue("id")}set id(e){this.setPropertyValue("id",e)}get isPanel(){return!1}getPanel(){return this}getLayoutType(){return"row"}isLayoutTypeSupported(e){return e!=="flow"}get questions(){if(!this.isQuestionsReady){this.questionsValue=[];for(var e=0;e<this.elements.length;e++){var t=this.elements[e];if(t.isPanel)for(var i=t.questions,s=0;s<i.length;s++)this.questionsValue.push(i[s]);else this.questionsValue.push(t)}this.isQuestionsReady=!0}return this.questionsValue}get visibleQuestions(){const e=new Array;return this.questions.forEach(t=>{t.isVisible&&e.push(t)}),e}getQuestions(e){const t=this.questions;if(!e)return t;const i=[];return t.forEach(s=>{i.push(s),s.getNestedQuestions().forEach(n=>i.push(n))}),i}getValidName(e){return e&&e.trim()}getQuestionByName(e){for(var t=this.questions,i=0;i<t.length;i++)if(t[i].name==e)return t[i];return null}getElementByName(e){for(var t=this.elements,i=0;i<t.length;i++){var s=t[i];if(s.name==e)return s;var n=s.getPanel();if(n){var o=n.getElementByName(e);if(o)return o}}return null}getQuestionByValueName(e){const t=this.getQuestionsByValueName(e);return t.length>0?t[0]:null}getQuestionsByValueName(e){const t=[];for(var i=this.questions,s=0;s<i.length;s++)i[s].getValueName()==e&&t.push(i[s]);return t}getValue(){var e={};return this.collectValues(e,0),z.getUnbindValue(e)}hasValueAnyQuestion(e){const t=e?this.visibleQuestions:this.questions;for(let i=0;i<t.length;i++)if(!t[i].isEmpty())return!0;return!1}collectValues(e,t){let i=this.elements;t===0&&(i=this.questions);for(var s=0;s<i.length;s++){const h=i[s];if(h.isPanel||h.isPage){const d={};h.collectValues(d,t-1)&&(e[h.name]=d)}else{const d=h;if(!d.isEmpty()){var n=d.getValueName();if(e[n]=d.value,this.data){var o=this.data.getComment(n);o&&(e[n+tt.commentSuffix]=o)}}}}return!0}getDisplayValue(e){for(var t={},i=this.questions,s=0;s<i.length;s++){var n=i[s];if(!n.isEmpty()){var o=e?n.title:n.getValueName();t[o]=n.getDisplayValue(e)}}return t}getComments(){var e={};if(!this.data)return e;for(var t=this.questions,i=0;i<t.length;i++){var s=t[i],n=this.data.getComment(s.getValueName());n&&(e[s.getValueName()]=n)}return e}clearIncorrectValues(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearIncorrectValues()}clearErrors(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearErrors();this.errors=[]}markQuestionListDirty(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()}get elements(){return tt.collectDependency(this,"elements"),this.elementsValue}getElementsInDesign(e=!1){return this.elements}containsElement(e){for(var t=0;t<this.elements.length;t++){var i=this.elements[t];if(i==e)return!0;var s=i.getPanel();if(s&&s.containsElement(e))return!0}return!1}get isRequired(){return this.getPropertyValue("isRequired")}set isRequired(e){this.setPropertyValue("isRequired",e)}get requiredIf(){return this.getPropertyValue("requiredIf","")}set requiredIf(e){this.setPropertyValue("requiredIf",e)}searchText(e,t){super.searchText(e,t);for(var i=0;i<this.elements.length;i++)this.elements[i].searchText(e,t)}hasErrors(e=!0,t=!1,i=null){return!this.validate(e,t,i)}validate(e=!0,t=!1,i=null){return i=i||{fireCallback:e,focusOnFirstError:t,firstErrorQuestion:null,result:!1},i.result!==!0&&(i.result=!1),this.hasErrorsCore(i),!i.result}validateContainerOnly(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()}onQuestionValueChanged(e){const t=this.questions.indexOf(e);if(t<0)return;const i=5,s=this.questions.length-1,n=t-i>0?t-i:0,o=t+i<s?t+i:s;for(let h=n;h<=o;h++){if(h===t)continue;const d=this.questions[h];d.errors.length>0&&d.validate(!1)&&d.validate(!0)}}hasErrorsInPanels(e){var t=[];this.hasRequiredError(e,t),this.survey&&(this.survey.validatePanel(this,t,e.fireCallback),t.length>0&&(e.result=!0)),e.fireCallback&&(this.errors=t)}getErrorCustomText(e,t){return this.survey?this.survey.getSurveyErrorCustomText(this,e,t):e}hasRequiredError(e,t){if(this.isRequired){var i=[];if(this.addQuestionsToList(i,!0),i.length!=0){for(var s=0;s<i.length;s++)if(!i[s].isEmpty())return;e.result=!0,t.push(new iE(this.requiredErrorText,this)),e.focusOnFirstError&&!e.firstErrorQuestion&&(e.firstErrorQuestion=i[0])}}}hasErrorsCore(e){var t;let i=(t=this.survey)===null||t===void 0?void 0:t.currentSingleQuestion;i&&this.questions.indexOf(i)<0&&(i=void 0);const s=i?[i]:this.elements;let n=null,o=null;for(var h=0;h<s.length;h++)if(n=s[h],!!n.isVisible)if(n.isPanel)n.hasErrorsCore(e);else{var d=n;d.validate(e.fireCallback,e)||(o||(o=d),e.firstErrorQuestion||(e.firstErrorQuestion=d),e.result=!0)}if(i||(this.hasErrorsInPanels(e),this.updateContainsErrors()),!o&&this.errors.length>0&&(o=this.getFirstQuestionToFocus(!1,!0),e.firstErrorQuestion||(e.firstErrorQuestion=o)),e.fireCallback&&o){const f=i&&e.firstErrorQuestion||o;e.focusOnFirstError?f.focus(!0):f.expandAllParents()}}getContainsErrors(){var e=super.getContainsErrors();if(e)return e;for(var t=this.elements,i=0;i<t.length;i++)if(t[i].containsErrors)return!0;return!1}updateElementVisibility(){for(let e=0;e<this.elements.length;e++)this.elements[e].updateElementVisibility();super.updateElementVisibility()}getFirstQuestionToFocus(e=!1,t=!1){if(!e&&!t&&this.isCollapsed)return null;for(var i=this.elements,s=0;s<i.length;s++){var n=i[s];if(!(!n.isVisible||!t&&n.isCollapsed))if(n.isPanel){var o=n.getFirstQuestionToFocus(e,t);if(o)return o}else{const h=n.getFirstQuestionToFocus(e);if(h)return h}}return null}getFirstVisibleQuestion(){const e=this.questions;for(let t=0;t<e.length;t++)if(e[t].isVisible)return e[t];return null}getFirstVisibleElement(){const e=this.elements;for(let t=0;t<e.length;t++)if(e[t].isVisible)return e[t];return null}focusFirstQuestion(){const e=this.getFirstQuestionToFocus();e&&e.focus()}focusFirstErrorQuestion(){var e=this.getFirstQuestionToFocus(!0);e&&e.focus()}addQuestionsToList(e,t=!1,i=!1){this.addElementsToList(e,t,i,!1)}addPanelsIntoList(e,t=!1,i=!1){this.addElementsToList(e,t,i,!0)}addElementsToList(e,t,i,s){t&&!this.visible||this.addElementsToListCore(e,this.elements,t,i,s)}addElementsToListCore(e,t,i,s,n){for(var o=0;o<t.length;o++){var h=t[o];i&&!h.visible||((n&&h.isPanel||!n&&!h.isPanel)&&e.push(h),h.isPanel?h.addElementsToListCore(e,h.elements,i,s,n):s&&this.addElementsToListCore(e,h.getElementsInDesign(!1),i,s,n))}}calcMaxRowColSpan(){let e=0;return this.rows.forEach(t=>{let i=0,s=!1;t.elements.forEach(n=>{n.width&&(s=!0),i+=n.colSpan||1}),!s&&i>e&&(e=i)}),e}updateColumnWidth(e){let t=0,i=0;if(e.forEach(s=>{s.width?(t+=s.width,s.setPropertyValue("effectiveWidth",s.width)):i++}),i){const s=JS((100-t)/i);for(let n=0;n<e.length;n++)e[n].width||e[n].setPropertyValue("effectiveWidth",s)}}updateColumns(){this._columns=void 0,this.updateRootStyle()}updateRootStyle(){var e;super.updateRootStyle(),(e=this.elements)===null||e===void 0||e.forEach(t=>t.updateRootStyle())}updateCustomWidgets(){for(var e=0;e<this.elements.length;e++)this.elements[e].updateCustomWidgets()}get questionTitleLocation(){return this.getPropertyValue("questionTitleLocation")}set questionTitleLocation(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase())}getQuestionTitleLocation(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():this.questionTitleLocation!="default"?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"}availableQuestionTitleWidth(){return this.getQuestionTitleLocation()==="left"||this.hasElementWithTitleLocationLeft()}hasElementWithTitleLocationLeft(){return this.elements.some(t=>{if(t instanceof cn)return t.hasElementWithTitleLocationLeft();if(t instanceof Ii)return t.getTitleLocation()==="left"})}getQuestionTitleWidth(){return(this.onGetQuestionTitleWidth?this.onGetQuestionTitleWidth():this.questionTitleWidth)||this.parent&&this.parent.getQuestionTitleWidth()}get columns(){return this._columns||(this.generateColumns(this.gridLayoutColumns),this.gridLayoutColumns=this._columns),this._columns||[]}generateColumns(e){var t;const i=(t=this.survey)===null||t===void 0?void 0:t.gridLayoutEnabled;let s=[].concat(e);if(i){let n=this.calcMaxRowColSpan();if(n<=e.length)s=e.slice(0,n);else for(let o=e.length;o<n;o++){const h=new Zh;s.push(h)}}this._columns=s;try{this._columnsReady=!1,this.updateColumnWidth(s)}finally{this._columnsReady=!0}}createGridLayoutColumns(){return this.generateColumns([]),this._columns}updateGridColumns(){this.updateColumns(),this.elements.forEach(e=>{e.isPanel&&e.updateGridColumns()})}getColumsForElement(e){const t=this.findRowByElement(e);if(!t||!this.survey||!this.survey.gridLayoutEnabled)return[];let i=t.elements.length-1;for(;i>=0&&t.elements[i].getPropertyValueWithoutDefault("colSpan");)i--;const s=t.elements.indexOf(e);let n=0;for(let d=0;d<s;d++)n+=t.elements[d].colSpan;let o=e.getPropertyValueWithoutDefault("colSpan");if(!o&&s===i){let d=0;for(let f=0;f<t.elements.length;f++)f!==i&&(d+=t.elements[f].colSpan);o=this.columns.length-d}const h=this.columns.slice(n,n+(o||1));return e.setPropertyValueDirectly("effectiveColSpan",h.length),h}getStartIndex(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""}getQuestionStartIndex(){return this.getStartIndex()}getChildrenLayoutType(){return"row"}getProgressInfo(){return ai.getProgressInfoByElements(this.elements,this.isRequired)}get root(){for(var e=this;e.parent;)e=e.parent;return e}childVisibilityChanged(){var e=this.getIsPageVisible(null),t=this.getPropertyValue("isVisible",!0);e!==t&&this.onVisibleChanged()}canRenderFirstRows(){return this.isPage}isLazyRenderInRow(e){return!this.survey||!this.survey.isLazyRendering?!1:e>=this.survey.lazyRenderFirstBatchSize||!this.canRenderFirstRows()}createRowAndSetLazy(e){const t=this.createRow();return t.setIsLazyRendering(this.isLazyRenderInRow(e)),t}createRow(){return new kh(this)}onSurveyLoad(){this.blockAnimations(),super.onSurveyLoad();for(var e=0;e<this.elements.length;e++)this.elements[e].onSurveyLoad();this.onElementVisibilityChanged(this),this.releaseAnimations()}onFirstRenderingCore(){super.onFirstRenderingCore(),this.onRowsChanged(),this.elements.forEach(e=>e.onFirstRendering())}updateRows(){this.isLoadingFromJson||(this.getElementsForRows().forEach(e=>{e.isPanel&&e.updateRows()}),this.onRowsChanged())}get rows(){return this.getPropertyValue("rows")}ensureRowsVisibility(){this.rows.forEach(e=>{e.ensureVisibility()})}onRowsChanged(){this.isLoadingFromJson||(this.blockAnimations(),this.setArrayPropertyDirectly("rows",this.buildRows()),this.updateColumns(),this.releaseAnimations())}blockRowsUpdates(){this.locCountRowUpdates++}releaseRowsUpdates(){this.locCountRowUpdates--}updateRowsBeforeElementRemoved(e){const t=this.findRowByElement(e),i=this.rows.indexOf(t),s=t.elements.indexOf(e);t.elements.splice(s,1),t.elements.length==0?this.rows.splice(i,1):!t.elements[0].startWithNewLine&&this.rows[i-1]?(t.elements.forEach(n=>this.rows[i-1].addElement(n)),this.rows.splice(i,1)):t.updateVisible()}updateRowsOnElementAdded(e){const t=this.elements.indexOf(e),i=this.elements[t+1],s=f=>{const p=this.createRowAndSetLazy(f);return this.isDesignMode&&p.setIsLazyRendering(!1),this.rows.splice(f,0,p),p},n=(f,p,y,...b)=>{const w=f.elements.splice(p,y,...b);return f.updateVisible(),w};if(!i){t==0||e.startWithNewLine?n(s(this.rows.length),0,0,e):this.rows[this.rows.length-1].addElement(e);return}const o=this.findRowByElement(i);if(!o)return;const h=this.rows.indexOf(o),d=o.elements.indexOf(i);d==0?i.startWithNewLine?e.startWithNewLine||h<1?s(h).addElement(e):this.rows[h-1].addElement(e):n(o,0,0,e):e.startWithNewLine?n(s(h+1),0,0,...[e].concat(n(o,d,o.elements.length))):n(o,d,0,e)}canFireAddRemoveNotifications(e){return!!this.survey&&e.prevSurvey!==this.survey}onAddElement(e,t){const i=this.survey,s=this.canFireAddRemoveNotifications(e);this.surveyImpl&&e.setSurveyImpl(this.surveyImpl),e.parent=this,this.markQuestionListDirty(),this.canBuildRows()&&this.updateRowsOnElementAdded(e),s&&(e.isPanel?i.panelAdded(e,t,this,this.root):i.questionAdded(e,t,this,this.root)),this.addElementCallback&&this.addElementCallback(e),e.registerPropertyChangedHandlers(["visible","isVisible"],()=>{this.onElementVisibilityChanged(e)},this.id),e.registerPropertyChangedHandlers(["startWithNewLine"],()=>{this.onElementStartWithNewLineChanged(e)},this.id),this.onElementVisibilityChanged(this)}onRemoveElement(e){e.parent=null,this.unregisterElementPropertiesChanged(e),this.markQuestionListDirty(),this.updateRowsOnElementRemoved(e),!this.isRandomizing&&(this.onRemoveElementNotifySurvey(e),this.removeElementCallback&&this.removeElementCallback(e),this.onElementVisibilityChanged(this))}unregisterElementPropertiesChanged(e){e.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id)}onRemoveElementNotifySurvey(e){this.canFireAddRemoveNotifications(e)&&(e.isPanel?this.survey.panelRemoved(e):this.survey.questionRemoved(e))}onElementVisibilityChanged(e){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(e),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))}onElementStartWithNewLineChanged(e){this.locCountRowUpdates>0||(this.blockAnimations(),this.updateRowsBeforeElementRemoved(e),this.updateRowsOnElementAdded(e),this.releaseAnimations())}updateRowsVisibility(e){for(var t=this.rows,i=0;i<t.length;i++){var s=t[i];if(s.elements.indexOf(e)>-1){s.updateVisible(),s.visible&&!s.isNeedRender&&(s.isNeedRender=!0);break}}}canBuildRows(){return!this.isLoadingFromJson&&this.getChildrenLayoutType()=="row"}buildRows(){if(!this.canBuildRows())return[];const e=new Array,t=this.getElementsForRows();for(let i=0;i<t.length;i++){const s=t[i],n=i==0||s.startWithNewLine,o=n?this.createRowAndSetLazy(e.length):e[e.length-1];n&&e.push(o),o.addElement(s)}return e.forEach(i=>i.updateVisible()),e}getElementsForRows(){return this.elements}getDragDropInfo(){const e=this.getPage(this.parent);return e?e.getDragDropInfo():void 0}updateRowsOnElementRemoved(e){this.canBuildRows()&&(this.updateRowsRemoveElementFromRow(e,this.findRowByElement(e)),this.updateColumns())}updateRowsRemoveElementFromRow(e,t){if(!(!t||!t.panel)){var i=t.elements.indexOf(e);i<0||(t.elements.splice(i,1),t.elements.length>0?(this.blockRowsUpdates(),t.elements[0].startWithNewLine=!0,this.releaseRowsUpdates(),t.updateVisible()):t.index>=0&&t.panel.rows.splice(t.index,1))}}getAllRows(){const e=[];return this.rows.forEach(t=>{const i=[];t.elements.forEach(s=>{s.isPanel?i.push(...s.getAllRows()):s.getType()=="paneldynamic"&&(this.isDesignMode?i.push(...s.template.getAllRows()):s.panels.forEach(n=>i.push(...n.getAllRows())))}),e.push(t),e.push(...i)}),e}findRowAndIndexByElement(e,t){if(!e)return{row:void 0,index:this.rows.length-1};t=t||this.rows;for(var i=0;i<t.length;i++)if(t[i].elements.indexOf(e)>-1)return{row:t[i],index:i};return{row:null,index:-1}}forceRenderRow(e){e&&!e.isNeedRender&&(e.isNeedRender=!0,e.stopLazyRendering())}forceRenderElement(e,t=()=>{},i=0){const s=this.getAllRows(),{row:n,index:o}=this.findRowAndIndexByElement(e,s);if(o>=0&&o<s.length){const h=[];h.push(n);for(let d=o-1;d>=o-i&&d>=0;d--)h.push(s[d]);this.forceRenderRows(h,t)}}forceRenderRows(e,t=()=>{}){const i=(s=>()=>{s--,s<=0&&t()})(e.length);e.forEach(s=>new OS(s.visibleElements,i)),e.forEach(s=>this.forceRenderRow(s))}findRowByElement(e){return this.findRowAndIndexByElement(e).row}elementWidthChanged(e){if(!this.isLoadingFromJson){var t=this.findRowByElement(e);t&&t.updateVisible()}}get ariaTitleId(){return this.id+"_ariaTitle"}get ariaLabelledBy(){return this.hasTitle?this.ariaTitleId:null}get ariaLabel(){return this.hasTitle?null:this.title||this.name||null}get ariaRole(){return"group"}get processedTitle(){return this.getRenderedTitle(this.locTitle.textOrHtml)}getRenderedTitle(e){return this.textProcessor!=null?this.textProcessor.processText(e,!0):e}get visible(){return this.getPropertyValue("visible",!0)}set visible(e){e!==this.visible&&(this.setPropertyValue("visible",e),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())}onHidingContent(){this.questions.forEach(e=>e.onHidingContent())}onVisibleChanged(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),!this.isLoadingFromJson)){const t=this.questions,i=this.isVisible;for(var e=0;e<t.length;e++){const s=t[e];i?s.updateValueWithDefaults():(s.clearValueIfInvisible("onHiddenContainer"),s.onHidingContent())}}}notifyStateChanged(e){super.notifyStateChanged(e),this.isCollapsed&&this.questions.forEach(t=>t.onHidingContent())}get isVisible(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)}getIsContentVisible(e){if(this.areInvisibleElementsShowing)return!0;for(var t=0;t<this.elements.length;t++)if(this.elements[t]!=e&&this.elements[t].isVisible)return!0;return!1}getIsPageVisible(e){const t=this.getIsContentVisible(e);return this.visible&&t}setVisibleIndex(e){if(!this.isVisible||e<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=e;var t=e;e+=this.beforeSetVisibleIndex(e);var i=this.getPanelStartIndex(e),s=i;const n=this.elements;for(var o=0;o<n.length;o++)s+=n[o].setVisibleIndex(s);return this.isContinueNumbering()&&(e+=s-i),e-t}updateVisibleIndexes(){this.lastVisibleIndex!==void 0&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))}resetVisibleIndexes(){const e=this.elements;for(var t=0;t<e.length;t++)e[t].setVisibleIndex(-1)}beforeSetVisibleIndex(e){return 0}getPanelStartIndex(e){return e}isContinueNumbering(){return!0}get isReadOnly(){var e=!!this.parent&&this.parent.isReadOnly,t=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||e||t}onReadOnlyChanged(){for(var e=0;e<this.elements.length;e++){var t=this.elements[e];t.setPropertyValue("isReadOnly",t.isReadOnly)}super.onReadOnlyChanged()}updateElementCss(e){super.updateElementCss(e);for(let t=0;t<this.elements.length;t++)this.elements[t].updateElementCss(e)}get enableIf(){return this.getPropertyValue("enableIf","")}set enableIf(e){this.setPropertyValue("enableIf",e)}addElement(e,t=-1){return this.canAddElement(e)?(t<0||t>=this.elements.length?this.elements.push(e):this.elements.splice(t,0,e),this.wasRendered&&e.onFirstRendering(),this.updateColumns(),!0):!1}insertElement(e,t,i="bottom"){if(!t){this.addElement(e);return}this.blockRowsUpdates();let s=this.elements.indexOf(t);const n=this.findRowByElement(t);i=="left"||i=="right"?i=="right"?(e.startWithNewLine=!1,s++):n.elements.indexOf(t)==0?(t.startWithNewLine=!1,e.startWithNewLine=!0):e.startWithNewLine=!1:(e.startWithNewLine=!0,i=="top"?s=this.elements.indexOf(n.elements[0]):s=this.elements.indexOf(n.elements[n.elements.length-1])+1),this.releaseRowsUpdates(),this.addElement(e,s)}insertElementAfter(e,t){const i=this.elements.indexOf(t);i>=0&&this.addElement(e,i+1)}insertElementBefore(e,t){const i=this.elements.indexOf(t);i>=0&&this.addElement(e,i)}canAddElement(e){return!!e&&e.isLayoutTypeSupported(this.getChildrenLayoutType())}addQuestion(e,t=-1){return this.addElement(e,t)}addPanel(e,t=-1){return this.addElement(e,t)}addNewQuestion(e,t=null,i=-1){var s=Kt.Instance.createQuestion(e,t);return this.addQuestion(s,i)?s:null}addNewPanel(e=null){var t=this.createNewPanel(e);return this.addPanel(t)?t:null}indexOf(e){return this.elements.indexOf(e)}createNewPanel(e){var t=le.createClass("panel");return t.name=e,t}removeElement(e){var t=this.elements.indexOf(e);if(t<0){for(var i=0;i<this.elements.length;i++)if(this.elements[i].removeElement(e))return!0;return!1}return this.elements.splice(t,1),this.updateColumns(),!0}removeQuestion(e){this.removeElement(e)}runCondition(e,t){if(!(this.isDesignMode||this.isLoadingFromJson)){for(var i=this.elements.slice(),s=0;s<i.length;s++)i[s].runCondition(e,t);this.runConditionCore(e,t)}}onAnyValueChanged(e,t){for(var i=this.elements,s=0;s<i.length;s++)i[s].onAnyValueChanged(e,t)}checkBindings(e,t){for(var i=this.elements,s=0;s<i.length;s++)i[s].checkBindings(e,t)}needResponsiveWidth(){let e=!1;return this.elements.forEach(t=>{t.needResponsiveWidth()&&(e=!0)}),this.rows.forEach(t=>{t.elements.length>1&&(e=!0)}),e}get hasDescriptionUnderTitle(){return this.hasDescription}get cssHeader(){return this.cssClasses.panel.header}get cssDescription(){return this.cssClasses.panel.description}get questionErrorLocation(){return this.getPropertyValue("questionErrorLocation")}set questionErrorLocation(e){this.setPropertyValue("questionErrorLocation",e)}getQuestionErrorLocation(){return this.questionErrorLocation!=="default"?this.questionErrorLocation:this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"}getTitleOwner(){return this}get no(){return""}get cssTitleNumber(){return this.cssClasses.panel.number}get cssRequiredMark(){return this.cssClasses.panel.requiredMark}get cssError(){return this.getCssError(this.cssClasses)}getCssError(e){return new fe().append(e.error.root).toString()}getSerializableColumnsValue(){let e=-1;for(let t=this.gridLayoutColumns.length-1;t>=0;t--)if(!this.gridLayoutColumns[t].isEmpty()){e=t;break}return this.gridLayoutColumns.slice(0,e+1)}afterRender(e){this.afterRenderCore(e)}dispose(){if(super.dispose(),this.rows){for(let e=0;e<this.rows.length;e++)this.rows[e].dispose();this.rows.splice(0,this.rows.length)}this.disposeElements(),this.elements.splice(0,this.elements.length)}disposeElements(){for(let e=0;e<this.elements.length;e++)this.elements[e].dispose()}}cn.panelCounter=100;O([N({defaultValue:!0})],cn.prototype,"showTitle",void 0);O([N({defaultValue:!0})],cn.prototype,"showDescription",void 0);O([N()],cn.prototype,"questionTitleWidth",void 0);class Ul extends cn{constructor(e=""){super(e),this.forcusFirstQuestionOnExpand=!0,this.createNewArray("footerActions"),this.registerPropertyChangedHandlers(["width"],()=>{this.parent&&this.parent.elementWidthChanged(this)}),this.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],()=>{this.resetIndents()}),this.registerPropertyChangedHandlers(["colSpan"],()=>{var t;(t=this.parent)===null||t===void 0||t.updateColumns()})}getType(){return"panel"}get contentId(){return this.id+"_content"}getSurvey(e=!1){return e&&this.isPanel?this.parent?this.parent.getSurvey(e):null:super.getSurvey(e)}get isPanel(){return!0}get page(){return this.getPage(this.parent)}set page(e){this.setPage(this.parent,e)}removeFromParent(){this.parent&&this.removeSelfFromList(this.parent.elements)}moveTo(e,t=null){return this.moveToBase(this.parent,e,t)}get visibleIndex(){return this.getPropertyValue("visibleIndex",-1)}get showNumber(){return this.getPropertyValue("showNumber")}set showNumber(e){this.setPropertyValue("showNumber",e),this.notifySurveyOnVisibilityChanged()}addNoFromChild(e){return this.isQuestionIndexRecursive?this.calcNo()+e:super.addNoFromChild(e)}get showQuestionNumbers(){return this.getPropertyValue("showQuestionNumbers")}set showQuestionNumbers(e){this.setPropertyValue("showQuestionNumbers",e),this.notifySurveyOnVisibilityChanged()}get questionStartIndex(){return this.getPropertyValue("questionStartIndex","")}set questionStartIndex(e){this.setPropertyValue("questionStartIndex",e)}getQuestionStartIndex(){return this.questionStartIndex?this.questionStartIndex:super.getQuestionStartIndex()}get no(){return this.getPropertyValue("no",void 0,()=>this.calcNo())}calcNo(){let e=z.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.parent&&(e=this.parent.addNoFromChild(e)),this.survey&&(e=this.survey.getUpdatedPanelNo(this,e)),e||""}notifyStateChanged(e){this.isLoadingFromJson||this.locTitle.strChanged(),super.notifyStateChanged(e)}createLocTitleProperty(){const e=super.createLocTitleProperty();return e.onGetTextCallback=t=>(!t&&this.state!=="default"&&(t=this.name),t),e}beforeSetVisibleIndex(e){if(this.isPage)return super.beforeSetVisibleIndex(e);let t=-1;return(this.showNumber||this.isQuestionIndexRecursive)&&(this.isDesignMode||!this.locTitle.isEmpty||this.hasParentInQuestionIndex())&&(t=e),this.setPropertyValue("visibleIndex",t),this.resetPropertyValue("no"),t<0?0:1}getPanelStartIndex(e){return this.showQuestionNumbers==="off"?-1:this.isQuestionIndexOnPanel?0:e}get isQuestionIndexOnPanel(){return this.showQuestionNumbers==="onpanel"||this.isQuestionIndexRecursive}get isQuestionIndexRecursive(){if(this.isPage)return!1;const e=this.showQuestionNumbers;return e!=="default"?e==="recursive":!!this.survey&&this.survey.showQuestionNumbers==="recursive"}hasParentInQuestionIndex(){if(!this.isQuestionIndexOnPanel)return!1;const e=this.questionStartIndex,t=e.indexOf(".");return t>-1&&t<e.length-1}isContinueNumbering(){return this.showQuestionNumbers!=="off"&&!this.isQuestionIndexOnPanel}notifySurveyOnVisibilityChanged(){this.survey!=null&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)}getRenderedTitle(e){if(this.isPanel&&!e){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return super.getRenderedTitle(e)}get innerIndent(){return this.getPropertyValue("innerIndent")}set innerIndent(e){this.setPropertyValue("innerIndent",e)}get startWithNewLine(){return this.getPropertyValue("startWithNewLine")}set startWithNewLine(e){this.setPropertyValue("startWithNewLine",e)}get allowAdaptiveActions(){return this.getPropertyValue("allowAdaptiveActions")}set allowAdaptiveActions(e){this.setPropertyValue("allowAdaptiveActions",e)}get innerPaddingLeft(){const e=()=>this.getIndentSize(this.innerIndent);return this.getPropertyValue("innerPaddingLeft",void 0,e)}set innerPaddingLeft(e){this.setPropertyValue("innerPaddingLeft",e)}calcPaddingLeft(){return this.getIndentSize(this.indent)}calcPaddingRight(){return this.getIndentSize(this.rightIndent)}resetIndents(){this.resetPropertyValue("innerPaddingLeft"),super.resetIndents()}getIndentSize(e){if(this.survey){if(e<1)return"";var t=this.survey.css;return!t||!t.question||!t.question.indent?"":e*t.question.indent+"px"}}clearOnDeletingContainer(){this.elements.forEach(e=>{(e instanceof Ii||e instanceof Ul)&&e.clearOnDeletingContainer()})}get footerActions(){return this.getPropertyValue("footerActions")}getFooterToolbar(){var e,t;if(!this.footerToolbarValue){var i=this.footerActions;this.hasEditButton&&i.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,component:"sv-nav-btn",action:()=>{this.cancelPreview()}}),this.onGetFooterActionsCallback?i=this.onGetFooterActionsCallback():i=(e=this.survey)===null||e===void 0?void 0:e.getUpdatedPanelFooterActions(this,i),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions);let s=this.onGetFooterToolbarCssCallback?this.onGetFooterToolbarCssCallback():"";s||(s=(t=this.cssClasses.panel)===null||t===void 0?void 0:t.footer),s&&(this.footerToolbarValue.containerCss=s),this.footerToolbarValue.setItems(i)}return this.footerToolbarValue}get hasEditButton(){return!1}cancelPreview(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)}get cssTitle(){return this.getCssPanelTitle()}getCssPanelTitle(){return this.getCssTitle(this.cssClasses.panel)}getCssTitleExpandableSvg(){return this.state==="default"?null:this.cssClasses.panel.titleExpandableSvg}get showErrorsAbovePanel(){return!this.showPanelAsPage}getCssError(e){if(this.isPage)return super.getCssError(e);const t=new fe().append(super.getCssError(e)).append(e.panel.errorsContainer);return t.append("panel-error-root",t.isEmpty()).toString()}onVisibleChanged(){super.onVisibleChanged(),this.notifySurveyOnVisibilityChanged()}needResponsiveWidth(){return this.startWithNewLine?super.needResponsiveWidth():!0}focusIn(){this.survey&&this.survey.whenPanelFocusIn(this)}getHasFrameV2(){return super.getHasFrameV2()&&!this.showPanelAsPage}getIsNested(){return super.getIsNested()&&this.parent!==void 0}get showPanelAsPage(){return!1}expand(e=!0){this.forcusFirstQuestionOnExpand=e,super.expand()}onElementExpanded(e){if(this.forcusFirstQuestionOnExpand&&this.survey!=null&&!this.isLoadingFromJson){const t=this.getFirstQuestionToFocus(!1);t&&setTimeout(()=>{!this.isDisposed&&this.survey&&this.survey.scrollElementToTop(t,t,null,t.inputId,!1,{behavior:"smooth"})},e?0:15)}}getCssRoot(e){return new fe().append(super.getCssRoot(e)).append(e.container).append(e.asPage,this.showPanelAsPage).append(e.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()}getContainerCss(){return this.getCssRoot(this.cssClasses.panel)}afterRenderCore(e){var t;super.afterRenderCore(e),this.isPanel&&((t=this.survey)===null||t===void 0||t.afterRenderPanel(this,e))}}le.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"readOnly:boolean",overridingProperty:"enableIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"questionTitleWidth",visibleIf:function(r){return!!r&&r.availableQuestionTitleWidth()}},{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"gridLayoutColumns:panellayoutcolumns",className:"panellayoutcolumn",isArray:!0,onSerializeValue:r=>r.getSerializableColumnsValue(),visibleIf:function(r){return!!r&&!!r.survey&&r.survey.gridLayoutEnabled}},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionOrder",alternativeName:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"questionErrorLocation",default:"default",choices:["default","top","bottom"]}],function(){return new cn});le.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},{name:"width"},{name:"minWidth",defaultFunc:()=>"auto"},{name:"maxWidth",defaultFunc:()=>X.maxWidth},{name:"colSpan:number",visible:!1,onSerializeValue:r=>r.getPropertyValue("colSpan")},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(r){return!!r.survey&&r.survey.gridLayoutEnabled}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3],visible:!1},{name:"page",isSerializable:!1,visibleIf:function(r){var e=r?r.survey:null;return!e||!e.pages||e.pages.length>1},choices:function(r){var e=r?r.survey:null;return e?e.pages.map(t=>({value:t.name,text:t.title})):[]}},{name:"showNumber:boolean"},{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","recursive","off"]},{name:"questionStartIndex",visibleIf:r=>r.isPanel},{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new Ul},"panelbase");Fn.Instance.registerElement("panel",r=>new Ul(r));class gv extends Ul{constructor(e=""){super(e),this.timeSpent=0,this._isReadyForClean=!0,this.createLocalizableString("navigationDescription",this,!0)}getType(){return"page"}toString(){return this.name}get isPage(){return!this.isPanel}get isPanel(){return!!this.parent}get showPanelAsPage(){return!0}get hasEditButton(){return this.isPanel&&this.survey&&this.survey.state==="preview"&&!!this.parent&&!this.parent.isPanel}getElementsForRows(){var e;if(!this.isStartPage){const t=(e=this.survey)===null||e===void 0?void 0:e.currentSingleElement;if(t)return t.page===this?[t]:[]}return super.getElementsForRows()}disposeElements(){this.isPageContainer||super.disposeElements()}onRemoveElement(e){this.isPageContainer?(e.parent=null,this.unregisterElementPropertiesChanged(e)):super.onRemoveElement(e)}getTemplate(){return this.isPanel?"panel":super.getTemplate()}get no(){if(!this.canShowPageNumber()||!this.survey)return"";let e=this.isStartPage?"":this.num+". ";return this.survey.getUpdatedPageNo(this,e)}get cssTitleNumber(){return this.isPanel?this.cssClasses.panel.number:this.cssClasses.page.number}getCssTitleExpandableSvg(){return null}get cssRequiredMark(){return""}canShowPageNumber(){return this.survey&&this.survey.showPageNumbers}canShowTitle(e){return!e||e.showPageTitles}setTitleValue(e){super.setTitleValue(e),this.navigationLocStrChanged()}getDefaultTitleTagName(){return X.titleTags.page}get navigationTitle(){return this.getLocalizableStringText("navigationTitle")}set navigationTitle(e){this.setLocalizableStringText("navigationTitle",e)}get navigationDescription(){return this.getLocalizableStringText("navigationDescription")}set navigationDescription(e){this.setLocalizableStringText("navigationDescription",e)}get locNavigationDescription(){return this.getLocalizableString("navigationDescription")}navigationLocStrChanged(){this.locNavigationTitle.isEmpty&&this.locTitle.strChanged(),this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()}getMarkdownHtml(e,t,i){const s=super.getMarkdownHtml(e,t,i);return t==="navigationTitle"&&this.canShowPageNumber()&&s?this.num+". "+s:s}get passed(){return this.getPropertyValue("passed",!1)}set passed(e){this.setPropertyValue("passed",e)}removeFromParent(){this.survey&&this.removeSelfFromList(this.survey.pages)}get visibleIndex(){return this.getPropertyValue("visibleIndex",-1)}set visibleIndex(e){this.setPropertyValue("visibleIndex",e)}canRenderFirstRows(){return!this.isDesignMode||this.visibleIndex==0}get isStartPage(){return this.survey&&this.survey.isPageStarted(this)}get isStarted(){return this.isStartPage}calcCssClasses(e){if(this.isPanel)return super.calcCssClasses(e);const t={page:{},error:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowReplace:""};return this.copyCssClasses(t.page,e.page),this.copyCssClasses(t.error,e.error),e.pageTitle&&(t.pageTitle=e.pageTitle),e.pageDescription&&(t.pageDescription=e.pageDescription),e.row&&(t.row=e.row),e.pageRow&&(t.pageRow=e.pageRow),e.rowMultiple&&(t.rowMultiple=e.rowMultiple),e.rowCompact&&(t.rowCompact=e.rowCompact),e.rowEnter&&(t.rowEnter=e.rowEnter),e.rowDelayedEnter&&(t.rowDelayedEnter=e.rowDelayedEnter),e.rowLeave&&(t.rowLeave=e.rowLeave),e.rowReplace&&(t.rowReplace=e.rowReplace),this.survey&&this.survey.updatePageCssClasses(this,t),t}getCssPanelTitle(){return this.isPanel?super.getCssPanelTitle():this.cssClasses.page?new fe().append(this.cssClasses.page.title).toString():""}get cssRoot(){return this.isPanel||!this.cssClasses.page||!this.survey?"":new fe().append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!this.survey.renderedHasHeader&&!(this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString()}getCssError(e){return this.isPanel?super.getCssError(e):new fe().append(super.getCssError(e)).append(e.page.errorsContainer).toString()}get navigationButtonsVisibility(){const e=this.showNavigationButtons;return e==null?"inherit":e?"show":"hide"}set navigationButtonsVisibility(e){typeof e=="string"&&(e=e.toLowerCase()),this.showNavigationButtons=e}get showNavigationButtons(){return this.getPropertyValue("showNavigationButtons",void 0)}set showNavigationButtons(e){this.setShowNavigationButtonsProperty(e)}setShowNavigationButtonsProperty(e){e===!0||e===!1?this.setPropertyValue("showNavigationButtons",e):e==="show"?this.setPropertyValue("showNavigationButtons",!0):e==="hide"?this.setPropertyValue("showNavigationButtons",!1):this.setPropertyValue("showNavigationButtons",void 0)}get isActive(){return!!this.survey&&this.survey.currentPage===this}get wasShown(){return this.wasRendered}get hasShown(){return this.wasRendered}setWasShown(e){e||this.resetWasRendered()}onFirstRenderingCore(){var e;if(super.onFirstRenderingCore(),!this.isDesignMode){for(var t=this.elements,i=0;i<t.length;i++)t[i].isPanel&&t[i].randomizeElements(this.areQuestionsRandomized);if(this.randomizeElements(this.areQuestionsRandomized)){const s=(e=this.survey)===null||e===void 0?void 0:e.currentSingleElement;s?.page===this&&(this.survey.currentSingleElement=this.getFirstVisibleElement())}}}scrollToTop(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id,!1,{block:"start"})}getAllPanels(e=!1,t=!1){var i=new Array;return this.addPanelsIntoList(i,e,t),i}getPanels(e=!1,t=!1){return this.getAllPanels(e,t)}get timeLimit(){return this.getPropertyValue("timeLimit",0)}set timeLimit(e){this.setPropertyValue("timeLimit",e)}get maxTimeToFinish(){return this.timeLimit}set maxTimeToFinish(e){this.timeLimit=e}getMaxTimeToFinish(){if(this.timeLimit!==0)return this.timeLimit;const e=this.survey?this.survey.timeLimitPerPage:0;return e>0?e:0}onNumChanged(e){}onVisibleChanged(){this.isRandomizing||(super.onVisibleChanged(),this.survey!=null&&this.survey.pageVisibilityChanged(this,this.isVisible))}ensureRowsVisibility(){super.ensureRowsVisibility(),this.getPanels().forEach(e=>e.ensureRowsVisibility())}get isReadyForClean(){return this._isReadyForClean}set isReadyForClean(e){const t=this._isReadyForClean;this._isReadyForClean=e,this._isReadyForClean!==t&&this.isReadyForCleanChangedCallback&&this.isReadyForCleanChangedCallback()}enableOnElementRerenderedEvent(){super.enableOnElementRerenderedEvent(),this.isReadyForClean=!1}disableOnElementRerenderedEvent(){super.disableOnElementRerenderedEvent(),this.isReadyForClean=!0}}O([N({defaultValue:-1,onSet:(r,e)=>e.onNumChanged(r)})],gv.prototype,"num",void 0);le.addClass("page",[{name:"showNavigationButtons:boolean",defaultFunc:()=>{},onSetValue:function(r,e){r&&r.setShowNavigationButtonsProperty(e)},alternativeName:"navigationButtonsVisibility"},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0,visibleIf:r=>!!r.survey&&r.survey.showTimer},{name:"navigationTitle",serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(r){return!!r.survey&&r.survey.progressBarType==="buttons"},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"state",visible:!1},{name:"isRequired",visible:!1},{name:"startWithNewLine",visible:!1},{name:"width",visible:!1},{name:"minWidth",visible:!1},{name:"maxWidth",visible:!1},{name:"colSpan",visible:!1,isSerializable:!1},{name:"effectiveColSpan:number",visible:!1,isSerializable:!1},{name:"innerIndent",visible:!1},{name:"indent",visible:!1},{name:"page",visible:!1,isSerializable:!1},{name:"showNumber",visible:!1},{name:"showQuestionNumbers",visible:!1},{name:"questionStartIndex",visible:!1},{name:"allowAdaptiveActions",visible:!1},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText",visible:!1}],function(){return new gv},"panel");class qE extends tt{constructor(e){super(),this.survey=e,this.onResize=this.addEvent()}isListElementClickable(e){return!this.survey.onServerValidateQuestions||this.survey.onServerValidateQuestions.isEmpty||this.survey.checkErrorsMode==="onComplete"?!0:e<=this.survey.currentPageNo+1}getRootCss(e="center"){let t=this.survey.css.progressButtonsContainerCenter;return this.survey.css.progressButtonsRoot&&(t+=" "+this.survey.css.progressButtonsRoot+" "+this.survey.css.progressButtonsRoot+"--"+(["footer","contentBottom"].indexOf(e)!==-1?"bottom":"top"),t+=" "+this.survey.css.progressButtonsRoot+"--"+(this.showItemTitles?"with-titles":"no-titles")),this.showItemNumbers&&this.survey.css.progressButtonsNumbered&&(t+=" "+this.survey.css.progressButtonsNumbered),this.isFitToSurveyWidth&&(t+=" "+this.survey.css.progressButtonsFitSurveyWidth),t}getListElementCss(e){if(!(e>=this.survey.visiblePages.length))return new fe().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[e].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===e).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(e)).toString()}getScrollButtonCss(e,t){return new fe().append(this.survey.css.progressButtonsImageButtonLeft,t).append(this.survey.css.progressButtonsImageButtonRight,!t).append(this.survey.css.progressButtonsImageButtonHidden,!e).toString()}clickListElement(e){e instanceof gv||(e=this.survey.visiblePages[e]),this.survey.tryNavigateToPage(e)}isListContainerHasScroller(e){const t=e.querySelector("."+this.survey.css.progressButtonsListContainer);return t?t.scrollWidth>t.offsetWidth:!1}isCanShowItemTitles(e){const t=e.querySelector("ul");if(!t||t.children.length<2)return!0;if(t.clientWidth>t.parentElement.clientWidth)return!1;const i=t.children[0].clientWidth;for(let s=0;s<t.children.length;s++)if(Math.abs(t.children[s].clientWidth-i)>5)return!1;return!0}clearConnectorsWidth(e){const t=e.querySelectorAll(".sd-progress-buttons__connector");for(let i=0;i<t.length;i++)t[i].style.width=""}adjustConnectors(e){const t=e.querySelector("ul");if(!t)return;const i=e.querySelectorAll(".sd-progress-buttons__connector"),s=this.showItemNumbers?36:20,n=(t.clientWidth-s)/(t.children.length-1)-s;for(let o=0;o<i.length;o++)i[o].style.width=n+"px"}get isFitToSurveyWidth(){return Al.currentType!=="default"?!1:this.survey.progressBarInheritWidthFrom==="survey"&&this.survey.widthMode=="static"}get progressWidth(){return this.isFitToSurveyWidth?this.survey.renderedWidth:""}get showItemNumbers(){return Al.currentType!=="default"?!1:this.survey.progressBarShowPageNumbers}get showItemTitles(){return Al.currentType!=="default"?!0:this.survey.progressBarShowPageTitles}getItemNumber(e){let t="";return this.showItemNumbers&&(t+=this.survey.visiblePages.indexOf(e)+1),t}get headerText(){return this.survey.currentPage?this.survey.currentPage.renderedNavigationTitle:""}get footerText(){return this.progressText}get progressText(){return this.getPropertyValue("progressText",void 0,()=>this.survey.getProgressText())}get progressBarAriaLabel(){return _i("progressbar",this.survey.getLocale())}resetProgressText(){this.resetPropertyValue("progressText")}processResponsiveness(e){this.onResize.fire(this,{width:e})}}class FE{constructor(e,t,i){this.model=e,this.element=t,this.viewModel=i,this.criticalProperties=["progressBarType","progressBarShowPageTitles"],this.canShowItemTitles=!0,this.processResponsiveness=(s,n)=>{if(this.viewModel.onUpdateScroller(s.isListContainerHasScroller(this.element)),this.model.clearConnectorsWidth(this.element),!s.showItemTitles){this.model.adjustConnectors(this.element);return}if(s.survey.isMobile){this.prevWidth=n.width,this.canShowItemTitles=!1,this.model.adjustConnectors(this.element),this.viewModel.onResize(this.canShowItemTitles);return}this.timer!==void 0&&clearTimeout(this.timer),this.timer=setTimeout(()=>{(this.prevWidth===void 0||this.prevWidth<n.width&&!this.canShowItemTitles||this.prevWidth>n.width&&this.canShowItemTitles)&&(this.prevWidth=n.width,this.canShowItemTitles=s.isCanShowItemTitles(this.element),this.viewModel.onResize(this.canShowItemTitles),this.timer=void 0)},10)},this.model.survey.registerFunctionOnPropertiesValueChanged(this.criticalProperties,()=>this.forceUpdate(),"ProgressButtonsResponsivityManager"+this.viewModel.container),this.model.onResize.add(this.processResponsiveness),this.forceUpdate()}forceUpdate(){this.viewModel.onUpdateSettings(),this.processResponsiveness(this.model,{})}dispose(){clearTimeout(this.timer),this.model.onResize.remove(this.processResponsiveness),this.model.survey.unRegisterFunctionOnPropertiesValueChanged(this.criticalProperties,"ProgressButtonsResponsivityManager"+this.viewModel.container),this.element=void 0,this.model=void 0}}function BE(r,e){return r.isDesignMode||e.focusFirstQuestion(),!0}function hw(r){if(r.parentQuestion)return hw(r.parentQuestion);let e=r.parent;for(;e&&e.getType()!=="page"&&e.parent;)e=e.parent;return e&&e.getType()==="page"?e:null}function zE(r,e){var t=TC(r,e);const i={items:t,searchEnabled:!1,locOwner:r,listRole:"menu",listItemRole:"menuitemradio",listAriaLabel:_i("toc",r.getLocale())};var s=new Li(i);s.allowSelection=!1;const n=(h,d)=>{s.selectedItem=!!h&&s.actions.filter(f=>f.id===h.name)[0]||d};n(r.currentPage,t[0]),r.onCurrentPageChanged.add((h,d)=>{n(r.currentPage)}),r.onFocusInQuestion.add((h,d)=>{n(hw(d.question))});const o=()=>{s.setItems(TC(r,e))};return r.registerFunctionOnPropertyValueChanged("pages",o,"toc"),r.onEndLoadingFromJson.add(o),s}function TC(r,e){var i=(r.pages||[]).map(s=>new ht({id:s.name,locTitle:s.locNavigationTitle,action:()=>{if(Ge.activeElementBlur(),e&&e(),s.isPage)return r.tryNavigateToPage(s);if(s.isPanel)return BE(r,s)},visible:new $t(()=>s.isVisible&&!s.isStartPage)}));return i}function HE(r,e=!1){let t=tr.RootStyle;return e?t+" "+tr.RootStyle+"--mobile":(t+=" "+tr.RootStyle+"--"+(r.tocLocation||"").toLowerCase(),tr.StickyPosition&&(t+=" "+tr.RootStyle+"--sticky"),t)}class tr{constructor(e){this.survey=e,this.icon="icon-navmenu_24x24",this.togglePopup=()=>{this.popupModel.toggleVisibility()},this.listModel=zE(e,()=>{this.popupModel.isVisible=!1}),this.popupModel=new ms("sv-list",{model:this.listModel}),this.popupModel.overlayDisplayMode="tablet-dropdown-overlay",this.popupModel.displayMode=new $t(()=>this.isMobile?"overlay":"popup"),tr.StickyPosition&&(e.onAfterRenderSurvey.add((t,i)=>this.initStickyTOCSubscriptions(i.htmlElement)),this.initStickyTOCSubscriptions(e.rootElement))}initStickyTOCSubscriptions(e){tr.StickyPosition&&e&&(e.addEventListener("scroll",t=>{this.updateStickyTOCSize(e)}),this.updateStickyTOCSize(e))}updateStickyTOCSize(e){if(!e)return;const t=e.querySelector("."+tr.RootStyle);if(t&&(t.style.height="",!this.isMobile&&tr.StickyPosition&&e)){const i=e.getBoundingClientRect().height,s=this.survey.findLayoutElement("advanced-header"),n=s&&s.data;let o=!n||n.hasBackground;const h=this.survey.headerView==="advanced"?".sv-header":".sv_custom_header+div div."+(this.survey.css.title||"sd-title"),d=e.querySelector(h),f=d&&o?d.getBoundingClientRect().height:0,p=e.querySelector(".sv-scroll__scroller")||e,y=p.scrollTop>f?0:f-p.scrollTop;t.style.height=i-y-1+"px"}}get isMobile(){return this.survey.isMobile}get containerCss(){return HE(this.survey,this.isMobile)}dispose(){const[e]=this.survey.unRegisterFunctionOnPropertyValueChanged("pages","toc");this.survey.onEndLoadingFromJson.remove(e),this.survey.onPageAdded.remove(e),this.popupModel.dispose(),this.listModel.dispose()}}tr.RootStyle="sv_progress-toc";tr.StickyPosition=!0;class wt extends Lf{get platformName(){return wt.platform}get commentSuffix(){return X.commentSuffix}set commentSuffix(e){X.commentSuffix=e}get commentPrefix(){return this.commentSuffix}set commentPrefix(e){this.commentSuffix=e}constructor(e=null,t=null){super(),this.valuesHash={},this.variablesHash={},this.onEndLoadingFromJson=this.addEvent(),this.onTriggerExecuted=this.addEvent(),this.onCompleting=this.addEvent(),this.onComplete=this.addEvent(),this.onShowingPreview=this.addEvent(),this.onNavigateToUrl=this.addEvent(),this.onStarted=this.addEvent(),this.onPartialSend=this.addEvent(),this.onCurrentPageChanging=this.addEvent(),this.onCurrentPageChanged=this.addEvent(),this.onValueChanging=this.addEvent(),this.onValueChanged=this.addEvent(),this.onVariableChanged=this.addEvent(),this.onQuestionVisibleChanged=this.addEvent(),this.onVisibleChanged=this.onQuestionVisibleChanged,this.onPageVisibleChanged=this.addEvent(),this.onPanelVisibleChanged=this.addEvent(),this.onQuestionCreated=this.addEvent(),this.onQuestionAdded=this.addEvent(),this.onQuestionRemoved=this.addEvent(),this.onPanelAdded=this.addEvent(),this.onPanelRemoved=this.addEvent(),this.onPageAdded=this.addEvent(),this.onValidateQuestion=this.addEvent(),this.onSettingQuestionErrors=this.addEvent(),this.onServerValidateQuestions=this.addEvent(),this.onValidatePanel=this.addEvent(),this.onErrorCustomText=this.addEvent(),this.onValidatePage=this.addEvent(),this.onValidatedErrorsOnCurrentPage=this.onValidatePage,this.onProcessHtml=this.addEvent(),this.onGetQuestionDisplayValue=this.addEvent(),this.onGetQuestionTitle=this.addEvent(),this.onGetTitleTagName=this.addEvent(),this.onGetQuestionNumber=this.addEvent(),this.onGetQuestionNo=this.onGetQuestionNumber,this.onGetPanelNumber=this.addEvent(),this.onGetPageNumber=this.addEvent(),this.onGetProgressText=this.addEvent(),this.onProgressText=this.onGetProgressText,this.onTextMarkdown=this.addEvent(),this.onTextRenderAs=this.addEvent(),this.onSendResult=this.addEvent(),this.onGetResult=this.addEvent(),this.onOpenFileChooser=this.addEvent(),this.onUploadFiles=this.addEvent(),this.onDownloadFile=this.addEvent(),this.onClearFiles=this.addEvent(),this.onChoicesLoaded=this.addEvent(),this.onLoadChoicesFromServer=this.onChoicesLoaded,this.onLoadedSurveyFromService=this.addEvent(),this.onProcessDynamicText=this.addEvent(),this.onProcessTextValue=this.onProcessDynamicText,this.onUpdateQuestionCssClasses=this.addEvent(),this.onUpdatePanelCssClasses=this.addEvent(),this.onUpdatePageCssClasses=this.addEvent(),this.onUpdateChoiceItemCss=this.addEvent(),this.onAfterRenderSurvey=this.addEvent(),this.onAfterRenderHeader=this.addEvent(),this.onAfterRenderPage=this.addEvent(),this.onAfterRenderQuestion=this.addEvent(),this.onAfterRenderQuestionInput=this.addEvent(),this.onAfterRenderPanel=this.addEvent(),this.onFocusInQuestion=this.addEvent(),this.onFocusInPanel=this.addEvent(),this.onShowingChoiceItem=this.addEvent(),this.onChoicesLazyLoad=this.addEvent(),this.onChoicesSearch=this.addEvent(),this.onGetChoiceDisplayValue=this.addEvent(),this.onMatrixRowAdded=this.addEvent(),this.onMatrixRowAdding=this.addEvent(),this.onMatrixBeforeRowAdded=this.onMatrixRowAdding,this.onMatrixRowRemoving=this.addEvent(),this.onMatrixRowRemoved=this.addEvent(),this.onMatrixRenderRemoveButton=this.addEvent(),this.onMatrixAllowRemoveRow=this.onMatrixRenderRemoveButton,this.onMatrixDetailPanelVisibleChanged=this.addEvent(),this.onMatrixCellCreating=this.addEvent(),this.onMatrixCellCreated=this.addEvent(),this.onAfterRenderMatrixCell=this.addEvent(),this.onMatrixAfterCellRender=this.onAfterRenderMatrixCell,this.onMatrixCellValueChanged=this.addEvent(),this.onMatrixCellValueChanging=this.addEvent(),this.onMatrixCellValidate=this.addEvent(),this.onMatrixColumnAdded=this.addEvent(),this.onMultipleTextItemAdded=this.addEvent(),this.onDynamicPanelAdded=this.addEvent(),this.onDynamicPanelRemoved=this.addEvent(),this.onDynamicPanelRemoving=this.addEvent(),this.onTimerTick=this.addEvent(),this.onTimer=this.onTimerTick,this.onTimerPanelInfoText=this.addEvent(),this.onDynamicPanelValueChanged=this.addEvent(),this.onDynamicPanelItemValueChanged=this.onDynamicPanelValueChanged,this.onDynamicPanelValueChanging=this.addEvent(),this.onGetDynamicPanelTabTitle=this.addEvent(),this.onDynamicPanelCurrentIndexChanged=this.addEvent(),this.onCheckAnswerCorrect=this.addEvent(),this.onIsAnswerCorrect=this.onCheckAnswerCorrect,this.onDragDropAllow=this.addEvent(),this.onMatrixRowDragOver=this.addEvent(),this.onScrollToTop=this.addEvent(),this.onScrollingElementToTop=this.onScrollToTop,this.onLocaleChangedEvent=this.addEvent(),this.onGetQuestionTitleActions=this.addEvent(),this.onGetPanelTitleActions=this.addEvent(),this.onGetPageTitleActions=this.addEvent(),this.onGetPanelFooterActions=this.addEvent(),this.onGetMatrixRowActions=this.addEvent(),this.onElementContentVisibilityChanged=this.addEvent(),this.onGetExpressionDisplayValue=this.addEvent(),this.onCheckSingleInputPerPageMode=this.addEvent(),this.onPopupVisibleChanged=this.addEvent(),this.onOpenDropdownMenu=this.addEvent(),this.onElementWrapperComponentName=this.addEvent(),this.onElementWrapperComponentData=this.addEvent(),this.onCreateCustomChoiceItem=this.addEvent(),this.jsonErrors=null,this.cssValue=null,this.showHeaderOnCompletePage="auto",this._isLazyRenderingSuspended=!1,this.hideRequiredErrors=!1,this.cssVariables={},this._isMobile=!1,this._isCompact=!1,this.setValueOnExpressionCounter=0,this._isDesignMode=!1,this.validationAllowSwitchPages=!1,this.validationAllowComplete=!1,this.isNavigationButtonPressed=!1,this.mouseDownPage=null,this.isSmoothScrollEnabled=!1,this.onResize=new Er,this.isCurrentPageRendering=!0,this.isCurrentPageRendered=void 0,this.skeletonHeight=void 0,this.isTriggerIsRunning=!1,this.triggerValues=null,this.triggerKeys=null,this.conditionValues=null,this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes=!1,this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.isEndLoadingFromJson=null,this.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},this.setValueFromTriggerCounter=0,this.isMovingPage=!1,this.needRenderIcons=!0,this.skippedPages=[],this.skeletonComponentName="sv-skeleton",this.taskManager=new uw,this.questionErrorComponent="sv-question-error",this.onBeforeRunConstructor(),this.createHtmlLocString("completedHtml","completingSurvey"),this.createHtmlLocString("completedBeforeHtml","completingSurveyBefore","completed-before"),this.createHtmlLocString("loadingHtml","loadingSurvey","loading"),this.createLocalizableString("emptySurveyText",this,!0,"emptySurvey"),this.createLocalizableString("logo",this,!1),this.createLocalizableString("startSurveyText",this,!1,!0),this.createLocalizableString("pagePrevText",this,!1,!0),this.createLocalizableString("pageNextText",this,!1,!0),this.createLocalizableString("completeText",this,!1,!0),this.createLocalizableString("previewText",this,!1,!0),this.createLocalizableString("editText",this,!1,!0),this.createLocalizableString("questionTitleTemplate",this,!0),this.timerModelValue=new Ql(this),this.timerModelValue.onTimerTick=i=>{this.doTimer(i)},this.createNewArray("pages",i=>{i.isReadyForCleanChangedCallback&&i.isReadyForCleanChangedCallback(),this.doOnPageAdded(i)},i=>{i.isReadyForClean?this.doOnPageRemoved(i):i.isReadyForCleanChangedCallback=()=>{this.doOnPageRemoved(i),i.isReadyForCleanChangedCallback=void 0}}),this.createNewArray("triggers",i=>{i.setOwner(this)}),this.createNewArray("calculatedValues",i=>{i.setOwner(this)}),this.createNewArray("completedHtmlOnCondition",i=>{i.locOwner=this}),this.createNewArray("navigateToUrlOnCondition",i=>{i.locOwner=this}),this.registerPropertyChangedHandlers(["locale"],()=>{this.onSurveyLocaleChanged()}),this.registerPropertyChangedHandlers(["firstPageIsStartPage"],()=>{this.onFirstPageIsStartedChanged()}),this.registerPropertyChangedHandlers(["readOnly"],()=>{this.onReadOnlyChanged()}),this.registerPropertyChangedHandlers(["progressBarType"],()=>{this.updateProgressText()}),this.registerPropertyChangedHandlers(["questionStartIndex","requiredMark","questionTitlePattern"],()=>{this.resetVisibleIndexes()}),this.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","readOnly","isStartedState","currentPage","isShowingPreview"],()=>{this.updateState()}),this.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],()=>{this.onStateAndCurrentPageChanged()}),this.registerPropertyChangedHandlers(["logo","logoPosition"],()=>{this.resetHasLogo()}),this.registerPropertyChangedHandlers(["backgroundImage"],()=>{this.resetPropertyValue("renderBackgroundImage")}),this.registerPropertyChangedHandlers(["backgroundImage","backgroundOpacity","backgroundImageFit","fitToContainer","backgroundImageAttachment"],()=>{this.resetPropertyValue("backgroundImageStyle")}),this.registerPropertyChangedHandlers(["showPrevButton","showCompleteButton"],()=>{this.updateButtonsVisibility()}),this.onGetQuestionNumber.onCallbacksChanged=()=>{this.resetVisibleIndexes()},this.onGetPanelNumber.onCallbacksChanged=()=>{this.resetVisibleIndexes()},this.onGetProgressText.onCallbacksChanged=()=>{this.updateProgressText()},this.onTextMarkdown.onCallbacksChanged=()=>{this.locStrsChanged()},this.onProcessHtml.onCallbacksChanged=()=>{this.locStrsChanged()},this.onGetQuestionTitle.onCallbacksChanged=()=>{this.locStrsChanged()},this.onUpdatePageCssClasses.onCallbacksChanged=()=>{this.currentPage&&this.currentPage.updateElementCss()},this.onUpdatePanelCssClasses.onCallbacksChanged=()=>{this.currentPage&&this.currentPage.updateElementCss()},this.onUpdateQuestionCssClasses.onCallbacksChanged=()=>{this.currentPage&&this.currentPage.updateElementCss()},this.onShowingChoiceItem.onCallbacksChanged=()=>{this.rebuildQuestionChoices()},this.locTitle.onStringChanged.add(()=>this.resetPropertyValue("titleIsEmpty")),this.onBeforeCreating(),e&&((typeof e=="string"||e instanceof String)&&(e=JSON.parse(e)),e&&e.clientId&&(this.clientId=e.clientId),this.fromJSON(e),this.surveyId&&this.loadSurveyFromService(this.surveyId,this.clientId)),this.onCreating(),t&&this.render(t),this.updateCss(),this.setCalculatedWidthModeUpdater(),this.notifier=new Gh(this.css.saveData),this.notifier.addAction(this.createTryAgainAction(),"error"),this.onPopupVisibleChanged.add((i,s)=>{s.visible?this.onScrollCallback=()=>{s.popup.hide()}:this.onScrollCallback=void 0}),this.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:this.timerModel}),this.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",getData:()=>this.progressBar,processResponsiveness:i=>this.progressBar.processResponsiveness&&this.progressBar.processResponsiveness(i)}),this.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:this}),this.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:this}),this.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:this}),this.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:this}),this.addLayoutElement({id:"toc-navigation",component:"sv-navigation-toc",getData:()=>this.tocModel,processResponsiveness:i=>this.tocModel.updateStickyTOCSize(this.rootElement)}),this.layoutElements.push({id:"buttons-navigation",component:"sv-action-bar",getData:()=>this.navigationBar})}get tocModel(){return this.tocModelValue||(this.tocModelValue=new tr(this)),this.tocModelValue}get sjsVersion(){return this.getPropertyValue("sjsVersion")}set sjsVersion(e){this.setPropertyValue("sjsVersion",e)}processClosedPopup(e,t){throw new Error("Method not implemented.")}createTryAgainAction(){return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:()=>{this.isCompleted?this.saveDataOnComplete():this.doComplete()}}}createHtmlLocString(e,t,i){const s=this.createLocalizableString(e,this,!1,t);i&&(s.onGetTextCallback=n=>this.processHtml(n,i))}getType(){return"survey"}onPropertyValueChanged(e,t,i){e==="questionsOnPageMode"&&this.onQuestionsOnPageModeChanged(t)}get pages(){return this.getPropertyValue("pages")}render(e=null){this.renderCallback&&this.renderCallback()}updateSurvey(e,t){for(var i in e)if(!(i=="model"||i=="children"))if(i.indexOf("on")==0&&this[i]&&this[i].add){let s=e[i],n=function(o,h){s(o,h)};this[i].add(n)}else this[i]=e[i];e&&e.data&&this.onValueChanged.add((s,n)=>{e.data[n.name]=n.value})}getCss(){return this.css}updateCompletedPageCss(){this.containerCss=this.css.container,this.completedCss=new fe().append(this.css.body).append(this.css.completedPage).toString(),this.completedBeforeCss=new fe().append(this.css.body).append(this.css.completedBeforePage).toString(),this.loadingBodyCss=new fe().append(this.css.body).append(this.css.bodyLoading).toString()}updateCss(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss(),this.updateWrapperFormCss()}get css(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,Al.getCss())),this.cssValue}set css(e){this.setCss(e)}setCss(e,t=!0){t?this.mergeValues(e,this.css):this.cssValue=e,this.updateElementCss(!1)}get cssTitle(){return this.css.title}get cssNavigationComplete(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)}get cssNavigationPreview(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)}get cssNavigationEdit(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)}get cssNavigationPrev(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)}get cssNavigationStart(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)}get cssNavigationNext(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)}get cssSurveyNavigationButton(){return new fe().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()}get bodyCss(){return new fe().append(this.css.body).append(this.css.bodyWithTimer,this.showTimer&&this.state==="running").append(this.css.body+"--"+this.calculatedWidthMode).toString()}get bodyContainerCss(){return this.css.bodyContainer}insertAdvancedHeader(e){e.survey=this,this.layoutElements.push({id:"advanced-header",container:"header",component:"sv-header",index:-100,data:e,processResponsiveness:t=>e.processResponsiveness()})}getNavigationCss(e,t){return new fe().append(e).append(t).toString()}get lazyRenderEnabled(){return this.lazyRenderEnabledValue===!0}set lazyRenderEnabled(e){if(this.lazyRenderEnabled===e)return;this.lazyRenderEnabledValue=e;const t=this.currentPage;t&&t.updateRows()}get lazyRendering(){return this.lazyRenderEnabled}set lazyRendering(e){this.lazyRenderEnabled=e}get isLazyRendering(){return this.lazyRenderEnabled||X.lazyRender.enabled}get lazyRenderFirstBatchSize(){return this.lazyRenderFirstBatchSizeValue||X.lazyRender.firstBatchSize}set lazyRenderFirstBatchSize(e){this.lazyRenderFirstBatchSizeValue=e}get isLazyRenderingSuspended(){return this._isLazyRenderingSuspended}suspendLazyRendering(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!0)}releaseLazyRendering(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!1)}updateLazyRenderingRowsOnRemovingElements(){var e,t;if(this.isLazyRendering){var i=this.currentPage;if(i){const s=(t=this.rootElement||((e=this.creator)===null||e===void 0?void 0:e.rootElement))===null||t===void 0?void 0:t.querySelector(`#${i.id}`);gm(s)}}}get triggers(){return this.getPropertyValue("triggers")}set triggers(e){this.setPropertyValue("triggers",e)}get calculatedValues(){return this.getPropertyValue("calculatedValues")}set calculatedValues(e){this.setPropertyValue("calculatedValues",e)}get surveyId(){return this.getPropertyValue("surveyId","")}set surveyId(e){this.setPropertyValue("surveyId",e)}get surveyPostId(){return this.getPropertyValue("surveyPostId","")}set surveyPostId(e){this.setPropertyValue("surveyPostId",e)}get clientId(){return this.getPropertyValue("clientId","")}set clientId(e){this.setPropertyValue("clientId",e)}get cookieName(){return this.getPropertyValue("cookieName","")}set cookieName(e){this.setPropertyValue("cookieName",e)}get partialSendEnabled(){return this.getPropertyValue("partialSendEnabled")}set partialSendEnabled(e){this.setPropertyValue("partialSendEnabled",e)}get sendResultOnPageNext(){return this.partialSendEnabled}set sendResultOnPageNext(e){this.partialSendEnabled=e}get surveyShowDataSaving(){return this.getPropertyValue("surveyShowDataSaving")}set surveyShowDataSaving(e){this.setPropertyValue("surveyShowDataSaving",e)}get autoFocusFirstQuestion(){return this.getPropertyValue("autoFocusFirstQuestion")}set autoFocusFirstQuestion(e){this.setPropertyValue("autoFocusFirstQuestion",e)}get focusFirstQuestionAutomatic(){return this.autoFocusFirstQuestion}set focusFirstQuestionAutomatic(e){this.autoFocusFirstQuestion=e}get autoFocusFirstError(){return this.getPropertyValue("autoFocusFirstError")}set autoFocusFirstError(e){this.setPropertyValue("autoFocusFirstError",e)}get focusOnFirstError(){return this.autoFocusFirstError}set focusOnFirstError(e){this.autoFocusFirstError=e}get showNavigationButtons(){return this.getPropertyValue("showNavigationButtons")}set showNavigationButtons(e){e===!0||e===!1?this.setPropertyValue("showNavigationButtons",e):e==="none"?this.setPropertyValue("showNavigationButtons",!1):["top","bottom","both","topBottom"].indexOf(e)>-1&&(this.setPropertyValue("showNavigationButtons",!0),this.navigationButtonsLocation=e)}get navigationButtonsLocation(){return this.getPropertyValue("navigationButtonsLocation")}set navigationButtonsLocation(e){this.setPropertyValue("navigationButtonsLocation",e)}get showPrevButton(){return this.getPropertyValue("showPrevButton")}set showPrevButton(e){this.setPropertyValue("showPrevButton",e)}get showCompleteButton(){return this.getPropertyValue("showCompleteButton",!0)}set showCompleteButton(e){this.setPropertyValue("showCompleteButton",e)}get showTOC(){return this.getPropertyValue("showTOC")}set showTOC(e){this.setPropertyValue("showTOC",e)}get tocLocation(){return this.getPropertyValue("tocLocation")}set tocLocation(e){this.setPropertyValue("tocLocation",e)}get showTitle(){return this.getPropertyValue("showTitle")}set showTitle(e){this.setPropertyValue("showTitle",e)}get showPageTitles(){return this.getPropertyValue("showPageTitles")}set showPageTitles(e){this.setPropertyValue("showPageTitles",e)}get showCompletePage(){return this.getPropertyValue("showCompletePage")}set showCompletePage(e){this.setPropertyValue("showCompletePage",e)}get showCompletedPage(){return this.showCompletePage}set showCompletedPage(e){this.showCompletePage=e}get navigateToUrl(){return this.getPropertyValue("navigateToUrl")}set navigateToUrl(e){this.setPropertyValue("navigateToUrl",e)}get navigateToUrlOnCondition(){return this.getPropertyValue("navigateToUrlOnCondition")}set navigateToUrlOnCondition(e){this.setPropertyValue("navigateToUrlOnCondition",e)}getNavigateToUrl(){var e=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),t=e?e.url:this.navigateToUrl;return t&&(t=this.processText(t,!1)),t}navigateTo(){var e=this.getNavigateToUrl(),t={url:e,allow:!0};this.onNavigateToUrl.fire(this,t),!(!t.url||!t.allow)&&BS(t.url)}get requiredMark(){return this.getPropertyValue("requiredMark")}set requiredMark(e){this.setPropertyValue("requiredMark",e)}get requiredText(){return this.requiredMark}set requiredText(e){this.requiredMark=e}beforeSettingQuestionErrors(e,t){this.makeRequiredErrorsInvisible(t),this.onSettingQuestionErrors.fire(this,{question:e,errors:t})}makeRequiredErrorsInvisible(e){if(this.hideRequiredErrors)for(var t=0;t<e.length;t++){var i=e[t].getErrorType();(i=="required"||i=="requireoneanswer")&&(e[t].visible=!1)}}get questionStartIndex(){return this.getPropertyValue("questionStartIndex","")}set questionStartIndex(e){this.setPropertyValue("questionStartIndex",e)}get storeOthersAsComment(){return this.getPropertyValue("storeOthersAsComment")}set storeOthersAsComment(e){this.setPropertyValue("storeOthersAsComment",e)}get maxTextLength(){return this.getPropertyValue("maxTextLength")}set maxTextLength(e){this.setPropertyValue("maxTextLength",e)}get maxCommentLength(){return this.getPropertyValue("maxCommentLength")}set maxCommentLength(e){this.setPropertyValue("maxCommentLength",e)}get maxOthersLength(){return this.maxCommentLength}set maxOthersLength(e){this.maxCommentLength=e}get autoAdvanceEnabled(){return this.getPropertyValue("autoAdvanceEnabled")}set autoAdvanceEnabled(e){this.setPropertyValue("autoAdvanceEnabled",e)}get goNextPageAutomatic(){return this.autoAdvanceEnabled}set goNextPageAutomatic(e){this.autoAdvanceEnabled=e}get autoAdvanceAllowComplete(){return this.getPropertyValue("autoAdvanceAllowComplete")}set autoAdvanceAllowComplete(e){this.setPropertyValue("autoAdvanceAllowComplete",e)}get allowCompleteSurveyAutomatic(){return this.autoAdvanceAllowComplete}set allowCompleteSurveyAutomatic(e){this.autoAdvanceAllowComplete=e}get checkErrorsMode(){return this.getPropertyValue("checkErrorsMode")}set checkErrorsMode(e){this.setPropertyValue("checkErrorsMode",e)}get validateVisitedEmptyFields(){return this.getPropertyValue("validateVisitedEmptyFields")}set validateVisitedEmptyFields(e){this.setPropertyValue("validateVisitedEmptyFields",e)}getValidateVisitedEmptyFields(){return this.validateVisitedEmptyFields&&this.isValidateOnValueChange}get autoGrowComment(){return this.getPropertyValue("autoGrowComment")}set autoGrowComment(e){this.setPropertyValue("autoGrowComment",e)}get allowResizeComment(){return this.getPropertyValue("allowResizeComment")}set allowResizeComment(e){this.setPropertyValue("allowResizeComment",e)}get commentAreaRows(){return this.getPropertyValue("commentAreaRows")}set commentAreaRows(e){this.setPropertyValue("commentAreaRows",e)}get textUpdateMode(){return this.getPropertyValue("textUpdateMode")}set textUpdateMode(e){this.setPropertyValue("textUpdateMode",e)}get clearInvisibleValues(){return this.getPropertyValue("clearInvisibleValues")}set clearInvisibleValues(e){e===!0&&(e="onComplete"),e===!1&&(e="none"),this.setPropertyValue("clearInvisibleValues",e)}clearIncorrectValues(e=!1){for(var t=0;t<this.pages.length;t++)this.pages[t].clearIncorrectValues();if(e){var i=this.data,s=!1;for(var n in i)if(!this.getQuestionByValueName(n)&&!(this.iscorrectValueWithPostPrefix(n,X.commentSuffix)||this.iscorrectValueWithPostPrefix(n,X.matrix.totalsSuffix))){var o=this.getCalculatedValueByName(n);o&&o.includeIntoResult||(s=!0,delete i[n])}s&&(this.data=i)}}iscorrectValueWithPostPrefix(e,t){return e.indexOf(t)!==e.length-t.length?!1:!!this.getQuestionByValueName(e.substring(0,e.indexOf(t)))}get keepIncorrectValues(){return this.getPropertyValue("keepIncorrectValues")}set keepIncorrectValues(e){this.setPropertyValue("keepIncorrectValues",e)}get locale(){return this.getPropertyValueWithoutDefault("locale")||er.currentLocale}set locale(e){e===er.defaultLocale&&!er.currentLocale&&(e=""),this.setPropertyValue("locale",e)}onSurveyLocaleChanged(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)}get localeDir(){return er.localeDirections[this.locale]}getUsedLocales(){var e=new Array;this.addUsedLocales(e);var t=e.indexOf("default");if(t>-1){var i=er.defaultLocale,s=e.indexOf(i);s>-1&&e.splice(s,1),t=e.indexOf("default"),e[t]=i}return e}localeChanged(){for(var e=0;e<this.pages.length;e++)this.pages[e].localeChanged()}getLocale(){return this.locale}locStrsChanged(){if(!this.isClearingUnsedValues&&(super.locStrsChanged(),!!this.currentPage)){if(this.isDesignMode)this.pages.forEach(i=>i.locStrsChanged());else{var e=this.activePage;e&&e.locStrsChanged();const i=this.visiblePages;for(var t=0;t<i.length;t++)i[t].navigationLocStrChanged()}this.isStartPageActive||this.updateProgressText(),this.navigationBarValue&&this.navigationBar.locStrsChanged()}}getMarkdownHtml(e,t,i){return this.getSurveyMarkdownHtml(this,e,t,i)}getRenderer(e){return this.getRendererForString(this,e)}getRendererContext(e){return this.getRendererContextForString(this,e)}getRendererForString(e,t){let i=this.getBuiltInRendererForString(e,t);i=this.elementWrapperComponentNameCore(i,e,"string",t);const s={element:e,name:t,renderAs:i};return this.onTextRenderAs.fire(this,s),s.renderAs}getRendererContextForString(e,t){return this.elementWrapperDataCore(t,e,"string")}getExpressionDisplayValue(e,t,i){const s={question:e,value:t,displayValue:i};return this.onGetExpressionDisplayValue.fire(this,s),s.displayValue}getBuiltInRendererForString(e,t){if(this.isDesignMode)return Yi.editableRenderer}getProcessedText(e){return this.processText(e,!0)}getLocString(e){return this.getLocalizationString(e)}getErrorCustomText(e,t){return this.getSurveyErrorCustomText(this,e,t)}getSurveyErrorCustomText(e,t,i){const s={text:t,name:i.getErrorType(),obj:e,error:i};return this.onErrorCustomText.fire(this,s),s.text}getQuestionDisplayValue(e,t){const i={question:e,displayValue:t};return this.onGetQuestionDisplayValue.fire(this,i),i.displayValue}get emptySurveyText(){return this.getLocalizableStringText("emptySurveyText")}set emptySurveyText(e){this.setLocalizableStringText("emptySurveyText",e)}get logo(){return this.getLocalizableStringText("logo")}set logo(e){this.setLocalizableStringText("logo",e)}get locLogo(){return this.getLocalizableString("logo")}get logoWidth(){return this.getPropertyValue("logoWidth")}set logoWidth(e){this.setPropertyValue("logoWidth",e)}get renderedLogoWidth(){return this.logoWidth?Eo(this.logoWidth):void 0}get renderedStyleLogoWidth(){return this.logoWidth?uf(this.logoWidth):void 0}get logoHeight(){return this.getPropertyValue("logoHeight")}set logoHeight(e){this.setPropertyValue("logoHeight",e)}get renderedLogoHeight(){return this.logoHeight?Eo(this.logoHeight):void 0}get renderedStyleLogoHeight(){return this.logoHeight?uf(this.logoHeight):void 0}get logoPosition(){return this.getPropertyValue("logoPosition")}set logoPosition(e){this.setPropertyValue("logoPosition",e)}get hasLogo(){return this.getPropertyValue("hasLogo",void 0,()=>!!this.logo&&this.logoPosition!=="none")}resetHasLogo(){this.resetPropertyValue("hasLogo")}get isLogoBefore(){return this.isDesignMode?!1:this.renderedHasLogo&&(this.logoPosition==="left"||this.logoPosition==="top")}get isLogoAfter(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&(this.logoPosition==="right"||this.logoPosition==="bottom")}get logoClassNames(){const e={left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"};return new fe().append(this.css.logo).append(e[this.logoPosition]).toString()}get titleIsEmpty(){return this.getPropertyValue("titleIsEmpty",void 0,()=>this.locTitle.isEmpty)}get renderedHasTitle(){return this.isDesignMode?this.isPropertyVisible("title"):!this.titleIsEmpty&&this.showTitle}get renderedHasDescription(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription&&this.showTitle}get hasTitle(){return this.renderedHasTitle}get renderedHasLogo(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo}get renderedHasHeader(){return this.renderedHasTitle||this.renderedHasLogo}get logoFit(){return this.getPropertyValue("logoFit")}set logoFit(e){this.setPropertyValue("logoFit",e)}get themeVariables(){return Object.assign({},this.cssVariables)}setIsMobile(e=!0){this._isMobile!==e&&(this._isMobile=e,this.updateCss(),this.getAllQuestions().forEach(t=>t.setIsMobile(e)))}get isMobile(){return this._isMobile&&!this.isDesignMode}set isCompact(e){e!==this._isCompact&&(this._isCompact=e,this.updateElementCss(),this.triggerResponsiveness(!0))}get isCompact(){return this._isCompact}isLogoImageChoosen(){return this.locLogo.renderedHtml}get titleMaxWidth(){return""}get renderBackgroundImage(){return this.getPropertyValue("renderBackgroundImage",void 0,()=>ov(this.backgroundImage))}get backgroundOpacity(){return this.getPropertyValue("backgroundOpacity")}set backgroundOpacity(e){this.setPropertyValue("backgroundOpacity",e)}get backgroundImageStyle(){return this.getPropertyValue("backgroundImageStyle",void 0,()=>this.calcBackgroundImageStyle())}calcBackgroundImageStyle(){return{opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.fitToContainer?void 0:this.backgroundImageAttachment}}updateWrapperFormCss(){this.wrapperFormCss=new fe().append(this.css.rootWrapper).append(this.css.rootWrapperHasImage,!!this.backgroundImage).append(this.css.rootWrapperFixed,!this.formScrollDisabled).toString()}get completedHtml(){return this.getLocalizableStringText("completedHtml")}set completedHtml(e){this.setLocalizableStringText("completedHtml",e)}get locCompletedHtml(){return this.getLocalizableString("completedHtml")}get completedHtmlOnCondition(){return this.getPropertyValue("completedHtmlOnCondition")}set completedHtmlOnCondition(e){this.setPropertyValue("completedHtmlOnCondition",e)}runExpression(e,t){if(!e)return null;var i=this.getFilteredValues(),s=this.getFilteredProperties();const n=new Nl(e);let o;return n.onRunComplete=h=>{o=h,t&&t(h)},n.run(i,s)||o}get isSettingValueOnExpression(){return this.setValueOnExpressionCounter>0}startSetValueOnExpression(){this.setValueOnExpressionCounter++}finishSetValueOnExpression(){this.setValueOnExpressionCounter--}runCondition(e){if(!e)return!1;var t=this.getFilteredValues(),i=this.getFilteredProperties();return new ar(e).run(t,i)}runTriggers(){this.checkTriggers(this.getFilteredValues(),!1)}get renderedCompletedHtml(){var e=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return e?e.html:this.completedHtml}getExpressionItemOnRunCondition(e){if(e.length==0)return null;for(var t=this.getFilteredValues(),i=this.getFilteredProperties(),s=0;s<e.length;s++)if(e[s].runCondition(t,i))return e[s];return null}get completedBeforeHtml(){return this.getLocalizableStringText("completedBeforeHtml")}set completedBeforeHtml(e){this.setLocalizableStringText("completedBeforeHtml",e)}get locCompletedBeforeHtml(){return this.getLocalizableString("completedBeforeHtml")}get loadingHtml(){return this.getLocalizableStringText("loadingHtml")}set loadingHtml(e){this.setLocalizableStringText("loadingHtml",e)}get locLoadingHtml(){return this.getLocalizableString("loadingHtml")}get navigationBar(){return this.navigationBarValue||(this.navigationBarValue=this.createNavigationBar(),this.updateNavigationCss()),this.navigationBarValue}addNavigationItem(e){return e.component||(e.component="sv-nav-btn"),e.innerCss||(e.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(e)}removeNavigationItem(e){const t=this.navigationBar.getActionById(e);if(t){const i=this.navigationBar.actions;i.splice(i.indexOf(t),1)}}get startSurveyText(){return this.getLocalizableStringText("startSurveyText")}set startSurveyText(e){this.setLocalizableStringText("startSurveyText",e)}get locStartSurveyText(){return this.getLocalizableString("startSurveyText")}get pagePrevText(){return this.getLocalizableStringText("pagePrevText")}set pagePrevText(e){this.setLocalizableStringText("pagePrevText",e)}get locPagePrevText(){return this.getLocalizableString("pagePrevText")}get pageNextText(){return this.getLocalizableStringText("pageNextText")}set pageNextText(e){this.setLocalizableStringText("pageNextText",e)}get locPageNextText(){return this.getLocalizableString("pageNextText")}get completeText(){return this.getLocalizableStringText("completeText")}set completeText(e){this.setLocalizableStringText("completeText",e)}get locCompleteText(){return this.getLocalizableString("completeText")}get previewText(){return this.getLocalizableStringText("previewText")}set previewText(e){this.setLocalizableStringText("previewText",e)}get locPreviewText(){return this.getLocalizableString("previewText")}get editText(){return this.getLocalizableStringText("editText")}set editText(e){this.setLocalizableStringText("editText",e)}get locEditText(){return this.getLocalizableString("editText")}getElementTitleTagName(e,t){if(this.onGetTitleTagName.isEmpty)return t;const i={element:e,tagName:t};return this.onGetTitleTagName.fire(this,i),i.tagName}get questionTitlePattern(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")}set questionTitlePattern(e){e!=="numRequireTitle"&&e!=="requireNumTitle"&&e!="numTitle"&&(e="numTitleRequire"),this.setPropertyValue("questionTitlePattern",e)}getQuestionTitlePatternOptions(){const e=new Array,t=this.getLocalizationString("questionTitlePatternText"),i=this.questionStartIndex?this.questionStartIndex:"1.";return e.push({value:"numTitleRequire",text:i+" "+t+" "+this.requiredMark}),e.push({value:"numRequireTitle",text:i+" "+this.requiredMark+" "+t}),e.push({value:"numTitle",text:i+" "+t}),e}get questionTitleTemplate(){return this.getLocalizableStringText("questionTitleTemplate")}set questionTitleTemplate(e){this.setLocalizableStringText("questionTitleTemplate",e),this.questionTitlePattern=this.getNewTitlePattern(e),this.questionStartIndex=this.getNewQuestionTitleElement(e,"no",this.questionStartIndex,"1"),this.requiredMark=this.getNewQuestionTitleElement(e,"require",this.requiredMark,"*")}getNewTitlePattern(e){if(e){for(var t=[];e.indexOf("{")>-1;){e=e.substring(e.indexOf("{")+1);var i=e.indexOf("}");if(i<0)break;t.push(e.substring(0,i)),e=e.substring(i+1)}if(t.length>1){if(t[0]=="require")return"requireNumTitle";if(t[1]=="require"&&t.length==3)return"numRequireTitle";if(t.indexOf("require")<0)return"numTitle"}if(t.length==1&&t[0]=="title")return"numTitle"}return"numTitleRequire"}getNewQuestionTitleElement(e,t,i,s){if(t="{"+t+"}",!e||e.indexOf(t)<0)return i;for(var n=e.indexOf(t),o="",h="",d=n-1;d>=0&&e[d]!="}";d--);for(d<n-1&&(o=e.substring(d+1,n)),n+=t.length,d=n;d<e.length&&e[d]!="{";d++);for(d>n&&(h=e.substring(n,d)),d=0;d<o.length&&o.charCodeAt(d)<33;)d++;for(o=o.substring(d),d=h.length-1;d>=0&&h.charCodeAt(d)<33;)d--;if(h=h.substring(0,d+1),!o&&!h)return i;var f=i||s;return o+f+h}get locQuestionTitleTemplate(){return this.getLocalizableString("questionTitleTemplate")}getUpdatedQuestionTitle(e,t){if(this.onGetQuestionTitle.isEmpty)return t;const i={question:e,title:t};return this.onGetQuestionTitle.fire(this,i),i.title}getUpdatedQuestionNo(e,t){if(this.onGetQuestionNumber.isEmpty)return t;const i={question:e,number:t,no:t};return this.onGetQuestionNumber.fire(this,i),i.no===t?i.number:i.no}getUpdatedPanelNo(e,t){if(this.onGetPanelNumber.isEmpty)return t;const i={panel:e,number:t};return this.onGetPanelNumber.fire(this,i),i.number}getUpdatedPageNo(e,t){if(this.onGetPageNumber.isEmpty)return t;const i={page:e,number:t};return this.onGetPageNumber.fire(this,i),i.number}get showPageNumbers(){return this.getPropertyValue("showPageNumbers")}set showPageNumbers(e){e!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",e),this.updateVisibleIndexes())}get showQuestionNumbers(){return this.getPropertyValue("showQuestionNumbers")}set showQuestionNumbers(e){e===!0&&(e="on"),e===!1&&(e="off"),e=e.toLowerCase(),e=e==="onpage"?"onPage":e,e!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",e),this.updateVisibleIndexes())}get progressBar(){return this.progressBarValue||(this.progressBarValue=new qE(this)),this.progressBarValue}get showProgressBar(){return this.getPropertyValue("showProgressBar")}set showProgressBar(e){this.setShowProgressBar(e)}setShowProgressBar(e){e==="off"&&(e=!1),e===!0||e===!1?this.setPropertyValue("showProgressBar",e):(this.setPropertyValue("showProgressBar",!0),this.progressBarLocation=e)}get progressBarLocation(){return this.getPropertyValue("progressBarLocation")}set progressBarLocation(e){this.setPropertyValue("progressBarLocation",e.toLowerCase())}get progressBarType(){return this.getPropertyValue("progressBarType")}set progressBarType(e){e==="correctquestion"&&(e="correctQuestion"),e==="requiredquestion"&&(e="requiredQuestion"),this.setPropertyValue("progressBarType",e)}get progressBarComponentName(){let e=this.progressBarType;return!X.legacyProgressBarView&&Al.currentType==="default"&&Ea(e,"pages")&&(e="buttons"),"progress-"+e}get isShowProgressBarOnTop(){return!this.canShowProgressBar()||!this.showProgressBar?!1:["auto","aboveheader","belowheader","topbottom","top","both"].indexOf(this.progressBarLocation)!==-1}get isShowProgressBarOnBottom(){return!this.canShowProgressBar()||!this.showProgressBar?!1:this.progressBarLocation==="bottom"||this.progressBarLocation==="both"||this.progressBarLocation==="topbottom"}getProgressTypeComponent(){return"sv-progress-"+this.progressBarType.toLowerCase()}getProgressCssClasses(e=""){return new fe().append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop&&(!e||e=="header")).append(this.css.progressBottom,this.isShowProgressBarOnBottom&&(!e||e=="footer")).toString()}canShowProgressBar(){return!this.isShowingPreview||!this.showPreviewBeforeComplete||this.previewMode!="allQuestions"}get processedTitle(){return this.locTitle.renderedHtml}get questionTitleLocation(){return this.getPropertyValue("questionTitleLocation")}set questionTitleLocation(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)}updateElementCss(e){this.startPage&&this.startPage.updateElementCss(e);for(var t=this.visiblePages,i=0;i<t.length;i++)t[i].updateElementCss(e);this.updateCss()}get questionErrorLocation(){return this.getPropertyValue("questionErrorLocation")}set questionErrorLocation(e){this.setPropertyValue("questionErrorLocation",e.toLowerCase())}get questionDescriptionLocation(){return this.getPropertyValue("questionDescriptionLocation")}set questionDescriptionLocation(e){this.setPropertyValue("questionDescriptionLocation",e)}get mode(){return this.readOnly?"display":"edit"}set mode(e){e=e.toLowerCase(),e!=this.mode&&(e!="edit"&&e!="display"||(this.readOnly=e=="display"))}get readOnly(){return this.getPropertyValue("readOnly")}set readOnly(e){this.setPropertyValue("readOnly",e)}onReadOnlyChanged(){for(var e=0;e<this.pages.length;e++){var t=this.pages[e];t.setPropertyValue("isReadOnly",t.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()}get data(){for(var e={},t=this.getValuesKeys(),i=0;i<t.length;i++){var s=t[i],n=this.getDataValueCore(this.valuesHash,s);n!==void 0&&(e[s]=n)}return this.setCalculatedValuesIntoResult(e),e}set data(e){this.valuesHash={},this.setDataCore(e,!e)}mergeData(e){if(!e)return;const t=this.data;this.mergeValues(e,t),this.setDataCore(t)}setDataCore(e,t=!1){if(t&&(this.valuesHash={}),e)for(var i in e){const s=typeof i=="string"?i.trim():i;this.setDataValueCore(this.valuesHash,s,e[i])}this.updateAllQuestionsValue(t),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue(t)}get isSurvey(){return!0}getData(e){const t=e||{includePages:!1,includePanels:!1};return!t.includePages&&!t.includePanels?this.data:this.getStructuredData(!!t.includePages,t.includePanels?-1:t.includePages?1:0)}getStructuredData(e=!0,t=-1){if(t===0)return this.data;const i={};return this.pages.forEach(s=>{if(e){const n={};s.collectValues(n,t-1)&&(i[s.name]=n)}else s.collectValues(i,t)}),i}setStructuredData(e,t=!1){if(!e)return;const i={};for(let s in e)if(this.getQuestionByValueName(s))i[s]=e[s];else{let o=this.getPageByName(s);o||(o=this.getPanelByName(s)),o&&this.collectDataFromPanel(o,i,e[s])}t?this.mergeData(i):this.data=i}collectDataFromPanel(e,t,i){for(let s in i){let n=e.getElementByName(s);n&&(n.isPanel?this.collectDataFromPanel(n,t,i[s]):t[s]=i[s])}}get editingObj(){return this.editingObjValue}set editingObj(e){if(this.editingObj!=e&&(this.unConnectEditingObj(),this.editingObjValue=e,!this.isDisposed)){if(!e)for(var t=this.getAllQuestions(),i=0;i<t.length;i++)t[i].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=(s,n)=>{le.hasOriginalProperty(this.editingObj,n.name)&&(n.name==="locale"&&this.setDataCore({}),this.updateOnSetValue(n.name,this.editingObj[n.name],n.oldValue))},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}}unConnectEditingObj(){this.editingObj&&!this.editingObj.isDisposed&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged)}get isEditingSurveyElement(){return!!this.editingObj}setCalculatedValuesIntoResult(e){for(var t=0;t<this.calculatedValues.length;t++){var i=this.calculatedValues[t];i.includeIntoResult&&i.name&&this.getVariable(i.name)!==void 0&&(e[i.name]=this.getVariable(i.name))}}getAllValues(){return this.data}getPlainData(e){e||(e={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});const t=[],i=[];if(this.getAllQuestions().forEach(h=>{var d=h.getPlainData(e);d&&(t.push(d),i.push(h.valueName||h.name))}),e.includeValues){const h=this.getValuesKeys();for(var s=0;s<h.length;s++){var n=h[s];if(i.indexOf(n)==-1){var o=this.getDataValueCore(this.valuesHash,n);o&&t.push({name:n,title:n,value:o,displayValue:o,isNode:!1,getString:d=>typeof d=="object"?JSON.stringify(d):d})}}}return t}getFilteredValues(){const e={};for(var t in this.variablesHash)e[t]=this.variablesHash[t];if(this.addCalculatedValuesIntoFilteredValues(e),!this.isDesignMode){const s=this.getValuesKeys();for(var i=0;i<s.length;i++){var t=s[i];e[t]=this.getDataValueCore(this.valuesHash,t)}this.getAllQuestions().forEach(n=>{n.hasFilteredValue&&(e[n.getFilteredName()]=n.getFilteredValue())})}return e}addCalculatedValuesIntoFilteredValues(e){for(var t=this.calculatedValues,i=0;i<t.length;i++)e[t[i].name]=t[i].value}getFilteredProperties(){return{survey:this}}getValuesKeys(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var e=le.getPropertiesByObj(this.editingObj),t=[],i=0;i<e.length;i++)t.push(e[i].name);return t}getDataValueCore(e,t){return this.editingObj?le.getObjPropertyValue(this.editingObj,t):this.getDataFromValueHash(e,t)}setDataValueCore(e,t,i){this.editingObj?le.setObjPropertyValue(this.editingObj,t,i):this.setDataToValueHash(e,t,i)}deleteDataValueCore(e,t){this.editingObj?this.editingObj[t]=null:this.deleteDataFromValueHash(e,t)}getDataFromValueHash(e,t){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(e,t):e[t]}setDataToValueHash(e,t,i){this.valueHashSetDataCallback?this.valueHashSetDataCallback(e,t,i):e[t]=i}deleteDataFromValueHash(e,t){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(e,t):delete e[t]}get comments(){for(var e={},t=this.getValuesKeys(),i=0;i<t.length;i++){var s=t[i];s.indexOf(this.commentSuffix)>0&&(e[s]=this.getDataValueCore(this.valuesHash,s))}return e}get visiblePages(){if(this.isDesignMode)return this.pages;if(this.pageContainerValue&&(this.isShowingPreview||this.isSinglePage))return[this.pageContainerValue];for(var e=new Array,t=0;t<this.pages.length;t++)this.isPageInVisibleList(this.pages[t])&&e.push(this.pages[t]);return e}isPageInVisibleList(e){return this.isDesignMode||e.isVisible&&!e.isStartPage}get isEmpty(){return this.pages.length==0}get PageCount(){return this.pageCount}get pageCount(){return this.pages.length}get visiblePageCount(){return this.visiblePages.length}get startPage(){var e=this.firstPageIsStartPage&&this.pages.length>1?this.pages[0]:null;return e&&e.onFirstRendering(),e}get startedPage(){return this.startPage}get currentPage(){return this.getPropertyValue("currentPage",null)}set currentPage(e){if(this.isLoadingFromJson)return;var t=this.getPageByObject(e);if(e&&!t||!t&&this.isCurrentPageAvailable)return;var i=this.visiblePages;if(t!=null&&i.indexOf(t)<0||t==this.currentPage)return;const s=this.currentSingleElement;if(!this.isShowingPreview&&s&&t!==s.page){this.currentSingleElement=t.getFirstVisibleElement();return}var n=this.currentPage;!this.isShowingPreview&&!s&&!this.currentPageChanging(t,n)||(this.setPropertyValue("currentPage",t),t&&(t.onFirstRendering(),t.updateCustomWidgets()),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(t,n))}get currentElementName(){var e;return((e=this.currentElement)===null||e===void 0?void 0:e.name)||""}set currentElementName(e){e&&(this.currentElement=this.getElementByName(e))}get currentElement(){return this.currentSingleElement||this.currentPage}set currentElement(e){if(e)if(e.isPage)this.currentPage=e;else{const t=e.page;t&&!this.isSingleVisibleQuestion?this.currentPage=t:this.currentSingleElement=e}}getElementByName(e){return e?this.getPageByName(e)||this.getPanelByName(e)||this.getQuestionByName(e):null}tryNavigateToPage(e){if(!this.performValidationOnPageChanging(e))return!1;const i=this.visiblePages.indexOf(e)<this.currentPageNo||!this.doServerValidation(!1,!1,e);return i&&(this.currentPage=e),i}performValidationOnPageChanging(e){if(this.isDesignMode)return!1;if(this.canGoTroughValidation())return!0;const t=this.visiblePages.indexOf(e);if(t<0||t>=this.visiblePageCount||t===this.currentPageNo)return!1;if(t<this.currentPageNo||this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages)return!0;if(!this.validateCurrentPage())return!1;for(let i=this.currentPageNo+1;i<t;i++){const s=this.visiblePages[i];if(!s.validate(!0,!0))return!1;s.passed=!0}return!0}updateCurrentPage(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)}get isCurrentPageAvailable(){const e=this.currentPage;return!!e&&this.isPageInVisibleList(e)&&this.isPageExistsInSurvey(e)}isPageExistsInSurvey(e){return this.pages.indexOf(e)>-1?!0:!!this.onContainsPageCallback&&this.onContainsPageCallback(e)}get activePage(){return this.getPropertyValue("activePage")}get isStartPageActive(){return this.state==="starting"}get isShowStartingPage(){return this.isStartPageActive}get matrixDragHandleArea(){return this.getPropertyValue("matrixDragHandleArea","entireItem")}set matrixDragHandleArea(e){this.setPropertyValue("matrixDragHandleArea",e)}get isShowingPage(){return this.state=="running"||this.state=="preview"||this.isStartPageActive}updateActivePage(){const e=this.isStartPageActive?this.startPage:this.currentPage;e!==this.activePage&&this.setPropertyValue("activePage",e)}onStateAndCurrentPageChanged(){this.updateActivePage(),this.updateButtonsVisibility()}getPageByObject(e){if(!e)return null;if(e.getType&&e.getType()=="page")return e;if(typeof e=="string"||e instanceof String)return this.getPageByName(String(e));if(!isNaN(e)){var t=Number(e),i=this.visiblePages;return e<0||e>=i.length?null:i[t]}return e}get currentPageNo(){return this.visiblePages.indexOf(this.currentPage)}set currentPageNo(e){var t=this.visiblePages;e<0||e>=t.length||(this.currentPage=t[e])}get questionOrder(){return this.getPropertyValue("questionOrder")}set questionOrder(e){this.setPropertyValue("questionOrder",e)}get questionsOrder(){return this.questionOrder}set questionsOrder(e){this.questionOrder=e}focusFirstQuestion(){if(!this.focusingQuestionInfo){var e=this.activePage;e&&(e.scrollToTop(),e.focusFirstQuestion())}}scrollToTopOnPageChange(e=!0){var t=this.activePage;t&&(e&&t.scrollToTop(),this.isCurrentPageRendering&&this.autoFocusFirstQuestion&&!this.focusingQuestionInfo&&(t.focusFirstQuestion(),this.isCurrentPageRendering=!1))}get state(){return this.getPropertyValue("state","empty")}updateState(){this.setPropertyValue("state",this.calcState())}calcState(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"}get isCompleted(){return this.getPropertyValue("isCompleted",!1)}set isCompleted(e){this.setPropertyValue("isCompleted",e)}get isShowingPreview(){return this.getPropertyValue("isShowingPreview",!1)}set isShowingPreview(e){this.isShowingPreview!=e&&(this.setPropertyValue("isShowingPreview",e),this.onShowingPreviewChanged())}get isStartedState(){return this.getPropertyValue("isStartedState",!1)}set isStartedState(e){this.setPropertyValue("isStartedState",e)}get isCompletedBefore(){return this.getPropertyValue("isCompletedBefore",!1)}set isCompletedBefore(e){this.setPropertyValue("isCompletedBefore",e)}get isLoading(){return this.getPropertyValue("isLoading",!1)}set isLoading(e){this.setPropertyValue("isLoading",e)}beginLoading(){this.isLoading=!0}endLoading(){this.isLoading=!1}get completedState(){return this.getPropertyValue("completedState","")}get completedStateText(){return this.getPropertyValue("completedStateText","")}setCompletedState(e,t){this.setPropertyValue("completedState",e),t||(e=="saving"&&(t=this.getLocalizationString("savingData")),e=="error"&&(t=this.getLocalizationString("savingDataError")),e=="success"&&(t=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",t),this.state==="completed"&&this.showCompletePage&&this.completedState&&this.notify(this.completedStateText,this.completedState,e==="error")}notify(e,t,i=!1){this.notifier.showActions=i,this.notifier.notify(e,t,i)}clear(e=!0,t=!0){this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,this.skippedPages=[],e&&this.setDataCore(null,!0),this.timerModel.spent=0;for(var i=0;i<this.pages.length;i++)this.pages[i].timeSpent=0,this.pages[i].setWasShown(!1),this.pages[i].passed=!1;if(this.onFirstPageIsStartedChanged(),t&&(this.currentPage=this.firstVisiblePage,this.currentSingleElement)){const s=this.getSingleElements();this.currentSingleElement=s.length>0?s[0]:void 0}e&&this.updateValuesWithDefaults()}mergeValues(e,t){kl(e,t)}updateValuesWithDefaults(){if(!(this.isDesignMode||this.isLoading))for(var e=0;e<this.pages.length;e++)for(var t=this.pages[e].questions,i=0;i<t.length;i++)t[i].updateValueWithDefaults()}updateCustomWidgets(e){e&&e.updateCustomWidgets()}currentPageChanging(e,t,i,s){const n=this.createPageChangeEventOptions(e,t,i,s);return this.currentPageChangingFromOptions(n)}currentPageChangingFromOptions(e){e.allow=!0,e.allowChanging=!0,this.onCurrentPageChanging.fire(this,e);const t=e.allowChanging&&e.allow;return t&&e.newCurrentPage!==e.oldCurrentPage&&(this.isCurrentPageRendering=!0),t}currentPageChanged(e,t){if(this.notifyQuestionsOnHidingContent(t),t&&!t.isDisposed&&!t.passed&&t.validate(!1)&&(t.passed=!0),this.isCurrentPageRendered===!0&&(this.isCurrentPageRendered=!1),!this.currentSingleElement){const i=this.createPageChangeEventOptions(e,t);this.onCurrentPageChanged.fire(this,i)}}notifyQuestionsOnHidingContent(e){e&&!e.isDisposed&&e.questions.forEach(t=>t.onHidingContent())}createPageChangeEventOptions(e,t,i,s){const n=e&&t?e.visibleIndex-t.visibleIndex:0;let o=n;return o===0&&s&&i&&(o=e.elements.indexOf(i)-e.elements.indexOf(s)),{oldCurrentQuestion:s,newCurrentQuestion:i,oldCurrentPage:t,newCurrentPage:e,isNextPage:n===1,isPrevPage:n===-1,isGoingForward:o>0,isGoingBackward:o<0,isAfterPreview:this.changeCurrentPageFromPreview===!0}}getProgress(){if(this.currentPage==null)return 0;if(this.progressBarType!=="pages"){var e=this.getProgressInfo();return this.progressBarType==="requiredQuestions"?e.requiredQuestionCount>=1?Math.ceil(e.requiredAnsweredQuestionCount*100/e.requiredQuestionCount):100:e.questionCount>=1?Math.ceil(e.answeredQuestionCount*100/e.questionCount):100}const t=this.visiblePages;var i=t.indexOf(this.currentPage);return Math.ceil(i*100/t.length)}get isNavigationButtonsShowing(){if(this.isDesignMode)return"none";var e=this.activePage;return!e||e.navigationButtonsVisibility==="hide"?"none":e.navigationButtonsVisibility==="show"?this.showNavigationButtons?this.navigationButtonsLocation:"bottom":this.showNavigationButtons?this.navigationButtonsLocation:"none"}get isNavigationButtonsShowingOnTop(){return this.getIsNavigationButtonsShowingOn("top")}get isNavigationButtonsShowingOnBottom(){return this.getIsNavigationButtonsShowingOn("bottom")}getIsNavigationButtonsShowingOn(e){var t=this.isNavigationButtonsShowing;return t=="both"||t=="topBottom"||t==e}get isEditMode(){return!this.readOnly}get isDisplayMode(){return this.readOnly&&!this.isDesignMode||this.state=="preview"}get isUpdateValueTextOnTyping(){return this.textUpdateMode=="onTyping"}get isDesignMode(){return this._isDesignMode}setDesignMode(e){!!this._isDesignMode!=!!e&&(this._isDesignMode=!!e,this.onQuestionsOnPageModeChanged("standard"))}get showInvisibleElements(){return this.getPropertyValue("showInvisibleElements",!1)}set showInvisibleElements(e){var t=this.visiblePages;this.setPropertyValue("showInvisibleElements",e),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(t))}updateAllElementsVisibility(e){for(var t=0;t<this.pages.length;t++){var i=this.pages[t];i.updateElementVisibility(),e.indexOf(i)>-1!=i.isVisible&&this.onPageVisibleChanged.fire(this,{page:i,visible:i.isVisible})}}get areInvisibleElementsShowing(){return this.isDesignMode||this.showInvisibleElements}get areEmptyElementsHidden(){return this.isShowingPreview&&this.showPreviewBeforeComplete&&this.previewMode=="answeredQuestions"&&this.isAnyQuestionAnswered}get isAnyQuestionAnswered(){const e=this.getAllQuestions(!0);for(let t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}get hasCookie(){if(!this.cookieName)return!1;var e=Ge.getCookie();return e&&e.indexOf(this.cookieName+"=true")>-1}setCookie(){this.cookieName&&Ge.setCookie(this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")}deleteCookie(){this.cookieName&&Ge.setCookie(this.cookieName+"=;")}get ignoreValidation(){return!this.validationEnabled}set ignoreValidation(e){this.validationEnabled=!e}nextPage(){return this.currentSingleElement?this.performNext():this.isLastPage?!1:this.doCurrentPageComplete(!1)}performNext(){const e=this.currentSingleElement;if(!e)return this.nextPage();if(this.resetNavigationButton(),this.isSingleVisibleInput){if(!e.validateSingleInput())return!1;if(e.nextSingleInput())return this.updateButtonsVisibility(),!0}if(this.validationEnabled&&!e.validate(!0))return!1;this.sendPartialResult();const t=this.getSingleElements(),i=t.indexOf(e);if(i<0||i===t.length-1)return!1;let s={};return e.isQuestion?s[e.name]=e.value:e.isPanel&&(s=e.getValue()),this.checkTriggers(s,!0,!1,!0,e.name),e===this.currentSingleElement&&(this.currentSingleElement=t[i+1]),!0}performPrevious(){return this.prevPage()}hasErrorsOnNavigate(e){if(this.canGoTroughValidation())return!1;const t=e&&this.validationAllowComplete||!e&&this.validationAllowSwitchPages,i=s=>{(!s||t)&&this.doCurrentPageCompleteCore(e)};return this.isValidateOnComplete?this.isLastPage?this.validate(!0,this.autoFocusFirstError,i,!0)!==!0&&!t:!1:this.validateCurrentPage(i)!==!0&&!t}canGoTroughValidation(){return!this.isEditMode||!this.validationEnabled}checkForAsyncQuestionValidation(e,t){this.clearAsyncValidationQuesitons();for(var i=0;i<e.length;i++)if(e[i].isRunningValidators){let s=e[i];s.onCompletedAsyncValidators=n=>{this.onCompletedAsyncQuestionValidators(s,t,n)},this.asyncValidationQuesitons.push(e[i])}return this.asyncValidationQuesitons.length>0}clearAsyncValidationQuesitons(){if(this.asyncValidationQuesitons)for(var e=this.asyncValidationQuesitons,t=0;t<e.length;t++)e[t].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]}onCompletedAsyncQuestionValidators(e,t,i){if(i){if(this.clearAsyncValidationQuesitons(),t(!0),this.autoFocusFirstError&&e&&e.page&&e.page===this.currentPage){const o=this.currentPage.questions;for(let h=0;h<o.length;h++)if(o[h]!==e&&o[h].errors.length>0)return;e.focus(!0)}return}for(var s=this.asyncValidationQuesitons,n=0;n<s.length;n++)if(s[n].isRunningValidators)return;t(!1)}get isCurrentPageHasErrors(){return this.checkIsCurrentPageHasErrors()}get isCurrentPageValid(){return!this.checkIsCurrentPageHasErrors()}hasCurrentPageErrors(e){return this.hasPageErrors(void 0,e)}validateCurrentPage(e){return this.validatePage(void 0,e)}hasPageErrors(e,t){const i=this.validatePage(e,t);return i===void 0?i:!i}validatePage(e,t){return e||(e=this.activePage),e?this.checkIsPageHasErrors(e)?!1:t&&this.checkForAsyncQuestionValidation(e.questions,i=>t(i))?void 0:!0:!0}hasErrors(e=!0,t=!1,i){const s=this.validate(e,t,i);return s===void 0?s:!s}validate(e=!0,t=!1,i,s){i&&(e=!0);var n=this.visiblePages,o=!0;const h={fireCallback:e,focusOnFirstError:t,firstErrorQuestion:null,result:!1};for(var d=0;d<n.length;d++)n[d].validate(e,t,h)||(o=!1);return h.firstErrorQuestion&&(t||s)&&(t?h.firstErrorQuestion.focus(!0):this.currentPage=h.firstErrorQuestion.page),!o||!i?o:this.checkForAsyncQuestionValidation(this.getAllQuestions(),f=>i(f))?void 0:!0}ensureUniqueNames(e=null){if(e==null)for(var t=0;t<this.pages.length;t++)this.ensureUniqueName(this.pages[t]);else this.ensureUniqueName(e)}ensureUniqueName(e){if(e.isPage&&this.ensureUniquePageName(e),e.isPanel&&this.ensureUniquePanelName(e),e.isPage||e.isPanel)for(var t=e.elements,i=0;i<t.length;i++)this.ensureUniqueNames(t[i]);else this.ensureUniqueQuestionName(e)}ensureUniquePageName(e){return this.ensureUniqueElementName(e,t=>this.getPageByName(t))}ensureUniquePanelName(e){return this.ensureUniqueElementName(e,t=>this.getPanelByName(t))}ensureUniqueQuestionName(e){return this.ensureUniqueElementName(e,t=>this.getQuestionByName(t))}ensureUniqueElementName(e,t){var i=t(e.name);if(!(!i||i==e)){for(var s=this.getNewName(e.name);t(s);)var s=this.getNewName(e.name);e.name=s}}getNewName(e){for(var t=e.length;t>0&&e[t-1]>="0"&&e[t-1]<="9";)t--;var i=e.substring(0,t),s=0;return t<e.length&&(s=parseInt(e.substring(t))),s++,i+s}checkIsCurrentPageHasErrors(e=void 0){return this.checkIsPageHasErrors(this.activePage,e)}checkIsPageHasErrors(e,t=void 0){if(t===void 0&&(t=this.focusOnFirstError),!e)return!0;const i=!e.validate(!0,t);return this.fireValidatedErrorsOnPage(e),i}fireValidatedErrorsOnPage(e){if(this.onValidatePage.isEmpty||!e)return;const t=this.getNestedQuestionsByQuestionArray(e.questions,!0);for(var i=new Array,s=new Array,n=0;n<t.length;n++){var o=t[n];if(o.errors.length>0){i.push(o);for(var h=0;h<o.errors.length;h++)s.push(o.errors[h])}}this.onValidatePage.fire(this,{questions:i,errors:s,page:e})}prevPage(){if(this.isFirstPage||this.state==="starting")return!1;this.resetNavigationButton();const e=this.currentSingleElement;if(this.doSkipOnPrevPage(e))return!0;if(e)return this.prevPageSingleElement(e);const t=this.visiblePages,i=t.indexOf(this.currentPage);return this.currentPage=t[i-1],!0}doSkipOnPrevPage(e){const t=e||this.currentPage,i=this.skippedPages.find(n=>n.to===t);let s;if(i){this.skippedPages.splice(this.skippedPages.indexOf(i),1);const n=i.from;!n.isDisposed&&n.isVisible&&(s=n)}return s&&(e?this.currentSingleElement=s:this.currentPage=s),!!s}prevPageSingleElement(e){if(this.isSingleVisibleInput&&e.prevSingleInput())return this.updateButtonsVisibility(),!0;const t=this.getSingleElements(),i=t.indexOf(e);return i===0?!1:(this.currentSingleElement=t[i-1],!0)}tryComplete(){this.isValidateOnComplete&&this.cancelPreview();let e=this.doCurrentPageComplete(!0);return e&&this.cancelPreview(),e}completeLastPage(){return this.tryComplete()}navigationMouseDown(){return this.isNavigationButtonPressed=!0,!0}resetNavigationButton(){this.isNavigationButtonPressed=!1}nextPageUIClick(){return this.mouseDownPage&&this.mouseDownPage!==this.activePage?!1:(this.mouseDownPage=null,this.performNext())}nextPageMouseDown(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()}showPreview(){return this.resetNavigationButton(),!this.isValidateOnComplete&&(this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0))?!1:(this.showPreviewCore(),this.isShowingPreview)}showPreviewCore(){var e={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,e),this.isShowingPreview=e.allowShowPreview&&e.allow}cancelPreview(e=null){var t;if(!this.isShowingPreview)return;this.gotoPageFromPreview=e,this.isShowingPreview=!1;const i=(t=this.currentSingleElement)===null||t===void 0?void 0:t.page;i&&(i.updateRows(),this.currentPage=i)}cancelPreviewByPage(e){this.cancelPreview(e)}doCurrentPageComplete(e){return this.isValidatingOnServer||(this.resetNavigationButton(),this.hasErrorsOnNavigate(e))?!1:this.doCurrentPageCompleteCore(e)}doCurrentPageCompleteCore(e){return this.doServerValidation(e)?!1:e?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger)):(this.doNextPage(),!0)}get isSinglePage(){return this.questionsOnPageMode=="singlePage"}set isSinglePage(e){this.questionsOnPageMode=e?"singlePage":"standard"}get isSingleVisibleQuestion(){return!this.isDesignMode&&(this.isSingleVisibleQuestionVal(this.questionsOnPageMode)||this.isSingleVisibleInput)}get isSingleVisibleInput(){return!this.isDesignMode&&this.questionsOnPageMode=="inputPerPage"}isSingleVisibleQuestionVal(e){return e==="questionPerPage"||e==="questionOnPage"}get questionsOnPageMode(){return this.getPropertyValue("questionsOnPageMode")}set questionsOnPageMode(e){this.setPropertyValue("questionsOnPageMode",e)}get firstPageIsStartPage(){return this.getPropertyValue("firstPageIsStartPage")}set firstPageIsStartPage(e){this.setPropertyValue("firstPageIsStartPage",e)}get firstPageIsStarted(){return this.firstPageIsStartPage}set firstPageIsStarted(e){this.firstPageIsStartPage=e}isPageStarted(e){return this.firstPageIsStartPage&&this.pages.length>1&&this.pages[0]===e}get showPreviewBeforeComplete(){return this.getPropertyValue("showPreviewBeforeComplete")}set showPreviewBeforeComplete(e){this.setShowPreviewBeforeComplete(e)}setShowPreviewBeforeComplete(e){e===void 0||e==="noPreview"||e===!1?this.setPropertyValue("showPreviewBeforeComplete",!1):(this.setPropertyValue("showPreviewBeforeComplete",!0),e==="showAllQuestions"&&(this.previewMode="allQuestions"),e==="showAnsweredQuestions"&&(this.previewMode="answeredQuestions"))}get previewMode(){return this.getPropertyValue("previewMode")}set previewMode(e){this.setPropertyValue("previewMode",e)}onFirstPageIsStartedChanged(){this.isStartedState=this.firstPageIsStartPage&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)}onShowingPreviewChanged(){this.updatePagesContainer()}createRootPage(e,t){const i=le.createClass("page");return i.name=e,i.isPageContainer=!0,t.forEach(s=>{s.isStartPage||i.addElement(s)}),i}disposeContainerPage(){let e=this.pageContainerValue;[].concat(e.elements).forEach(i=>e.removeElement(i)),e.dispose(),this.pageContainerValue=void 0}updatePagesContainer(){if(this.isDesignMode)return;this.getAllQuestions().forEach(s=>s.updateElementVisibility()),this.setPropertyValue("currentPage",void 0);const e="single-page",t="preview-page";let i;if(this.isSinglePage){const s=this.pageContainerValue;s&&s.name===t?(i=s.elements[0],this.disposeContainerPage()):i=this.createRootPage(e,this.pages)}if(this.isShowingPreview&&(i=this.createRootPage(t,i?[i]:this.pages)),i&&(i.setSurveyImpl(this),this.pageContainerValue=i,this.currentPage=i,this.currentSingleElementValue&&this.visiblePages.forEach(s=>s.updateRows())),!this.isSinglePage&&!this.isShowingPreview){this.disposeContainerPage();let s=this.gotoPageFromPreview;this.gotoPageFromPreview=null,z.isValueEmpty(s)&&this.visiblePageCount>0&&(s=this.visiblePages[this.visiblePageCount-1]),s&&(this.changeCurrentPageFromPreview=!0,this.currentPage=s,this.changeCurrentPageFromPreview=!1)}!this.currentPage&&this.visiblePageCount>0&&(this.currentPage=this.visiblePages[0]),this.isShowingPreview&&this.pages.forEach(s=>{s.onFirstRendering()}),this.pages.forEach(s=>{s.wasRendered&&s.updateElementCss(!0)}),this.updateButtonsVisibility()}getSingleElements(e){const t=new Array,i=this.pages,s=this.isSingleVisibleInput;for(var n=0;n<i.length;n++){const o=i[n];if(!o.isStartPage&&o.isVisible){const h=[];s?o.addQuestionsToList(h,!0):o.elements.forEach(d=>h.push(d)),h.forEach(d=>{(d===e||d.isVisible)&&t.push(d)})}}return t}get currentSingleElement(){return this.isShowingPreview?void 0:this.currentSingleElementValue}set currentSingleElement(e){const t=this.currentSingleElement;if(e!==t&&!this.isCompleted){const i=e?.isQuestion?e:void 0,s=t?.isQuestion?t:void 0,n=e?.page,o=n&&t?this.createPageChangeEventOptions(n,t.page,i,s):void 0;if(o&&!this.currentPageChangingFromOptions(o))return;this.currentSingleElementValue=e,e?(this.isSingleVisibleInput&&e.isQuestion&&e.onSetAsSingleInput(),n.updateRows(),n!==this.currentPage?this.currentPage=n:i&&this.autoFocusFirstQuestion&&i.focus(),this.updateButtonsVisibility(),o&&this.onCurrentPageChanged.fire(this,o)):this.visiblePages.forEach(h=>h.updateRows())}}get currentSingleQuestion(){const e=this.currentSingleElement;return e&&e.isQuestion?e:void 0}set currentSingleQuestion(e){this.currentSingleElement=e}supportsNestedSingleInput(e){const t={question:e,enabled:!0};return this.onCheckSingleInputPerPageMode.fire(this,t),t.enabled}changeCurrentSingleElementOnVisibilityChanged(){const e=this.currentSingleElement;if(!e||e.isVisible)return;const t=this.getSingleElements(e),i=t.indexOf(e),s=i>0?t[i-1]:i<t.length-1?t[i+1]:void 0;this.currentSingleElement=s}onQuestionsOnPageModeChanged(e){if(!(this.isShowingPreview||this.isDesignMode)&&(this.skippedPages=[],this.currentSingleElement=void 0,e==="singlePage"&&this.updatePagesContainer(),e==="inputPerPage"&&this.getAllQuestions().forEach(t=>t.resetSingleInput()),this.isSinglePage&&this.updatePagesContainer(),this.setupSingleInputNavigationActions(),this.isSingleVisibleQuestion)){const t=this.getSingleElements();t.length>0&&(this.currentSingleElement=t[0])}}setupSingleInputNavigationActions(){const e="sv-singleinput-add";if(this.isSingleVisibleInput){const t=()=>{this.currentSingleQuestion.singleInputAddItem(!0),this.resetNavigationButton()};this.addNavigationItem({id:e,visible:!1,action:()=>t()})}else this.removeNavigationItem(e)}getPageStartIndex(){return this.firstPageIsStartPage&&this.pages.length>0?1:0}get isFirstPage(){return this.getPropertyValue("isFirstPage")}get isLastPage(){return this.getPropertyValue("isLastPage")}updateNavigationElements(){this.updateButtonsVisibility()}updateButtonsVisibility(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible()),this.updateSingleInputActions()}updateSingleInputActions(){if(!this.isSingleVisibleInput)return;const e=this.currentSingleQuestion;if(!e)return;const t=this.navigationBar.getActionById("sv-singleinput-add");t&&(t.title=e.getSingleInputAddText(),t.visible=!!t.title)}get isShowPrevButton(){return this.getPropertyValue("isShowPrevButton")}get isShowNextButton(){return this.getPropertyValue("isShowNextButton")}get isCompleteButtonVisible(){return this.getPropertyValue("isCompleteButtonVisible")}get isPreviewButtonVisible(){return this.getPropertyValue("isPreviewButtonVisible")}get isCancelPreviewButtonVisible(){return this.getPropertyValue("isCancelPreviewButtonVisible")}get isFirstElement(){return this.getPropertyValue("isFirstElement")}get isLastElement(){return this.getPropertyValue("isLastElement")}updateIsFirstLastPageState(){const e=this.currentPage;let t,i;const s=this.currentSingleElement;if(s){let n=!0,o=!0;if(this.isSingleVisibleInput){const f=s.getSingleInputElementPos();f!==0&&(n=f===-1,o=f===1)}const h=this.getSingleElements(),d=h.indexOf(s);d>=0&&(t=n&&d===0,i=o&&d===h.length-1)}this.setPropertyValue("isFirstPage",!!e&&e===this.firstVisiblePage&&(!s||t===!0)),this.setPropertyValue("isLastPage",!!e&&e===this.lastVisiblePage&&(!s||i===!0)),this.setPropertyValue("isFirstElement",t),this.setPropertyValue("isLastElement",i)}get isLastPageOrElement(){return this.isLastElement!==void 0?this.isLastElement:this.isLastPage}get isFirstPageOrElement(){return this.isFirstElement!==void 0?this.isFirstElement:this.isFirstPage}calcIsShowPrevButton(){if(this.isFirstPageOrElement||!this.showPrevButton||this.state!=="running")return!1;if(this.isFirstElement!==void 0)return!0;const e=this.visiblePages[this.currentPageNo-1];return e&&e.getMaxTimeToFinish()<=0}calcIsShowNextButton(){return this.state==="running"&&!this.isLastPageOrElement&&!this.canBeCompletedByTrigger}calcIsCompleteButtonVisible(){const e=this.state;return this.isEditMode&&(this.state==="running"&&(this.isLastPageOrElement&&!this.showPreviewBeforeComplete||this.canBeCompletedByTrigger)||e==="preview")&&this.showCompleteButton}calcIsPreviewButtonVisible(){return this.isEditMode&&this.showPreviewBeforeComplete&&this.state=="running"&&this.isLastPageOrElement}calcIsCancelPreviewButtonVisible(){return this.isEditMode&&this.showPreviewBeforeComplete&&this.state=="preview"}get firstVisiblePage(){if(this.visiblePageCount===1)return this.visiblePages[0];const e=this.pages;for(let t=0;t<e.length;t++)if(this.isPageInVisibleList(e[t]))return e[t];return null}get lastVisiblePage(){if(this.visiblePageCount===1)return this.visiblePages[0];const e=this.pages;for(let t=e.length-1;t>=0;t--)if(this.isPageInVisibleList(e[t]))return e[t];return null}doComplete(e=!1,t){if(!this.isCompleted)return this.checkOnCompletingEvent(e,t)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.notifyQuestionsOnHidingContent(this.currentPage),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(e,t),this.setCookie(),!0):(this.isCompleted=!1,!1)}saveDataOnComplete(e=!1,t){let i=this.hasCookie;const s=p=>{d=!0,this.setCompletedState("saving",p)},n=p=>{this.setCompletedState("error",p)},o=p=>{this.setCompletedState("success",p),this.navigateTo()},h=p=>{this.setCompletedState("","")};var d=!1,f={isCompleteOnTrigger:e,completeTrigger:t,showSaveInProgress:s,showSaveError:n,showSaveSuccess:o,clearSaveMessages:h,showDataSaving:s,showDataSavingError:n,showDataSavingSuccess:o,showDataSavingClear:h};this.onComplete.fire(this,f),!i&&this.surveyPostId&&this.sendResult(),d||this.navigateTo()}checkOnCompletingEvent(e,t){var i={allowComplete:!0,allow:!0,isCompleteOnTrigger:e,completeTrigger:t};return this.onCompleting.fire(this,i),i.allowComplete&&i.allow}start(){return!this.firstPageIsStartPage||(this.isCurrentPageRendering=!0,this.checkIsPageHasErrors(this.startPage,!0))?!1:(this.isStartedState=!1,this.notifyQuestionsOnHidingContent(this.pages[0]),this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPageNo=0,this.currentPage&&this.currentPage.locStrsChanged(),!0)}get isValidatingOnServer(){return this.getPropertyValue("isValidatingOnServer",!1)}setIsValidatingOnServer(e){e!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",e),this.onIsValidatingOnServerChanged())}createServerValidationOptions(e,t,i){var s=this;const n={data:{},errors:{},survey:this,complete:function(){s.completeServerValidation(n,t,i)}};if(e&&this.isValidateOnComplete)n.data=this.data;else for(var o=this.activePage.questions,h=0;h<o.length;h++){var d=o[h];if(d.visible){var f=this.getValue(d.getValueName());this.isValueEmpty(f)||(n.data[d.getValueName()]=f)}}return n}onIsValidatingOnServerChanged(){}doServerValidation(e,t=!1,i){if(!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!e&&this.isValidateOnComplete)return!1;this.setIsValidatingOnServer(!0);const s=typeof this.onServerValidateQuestions=="function";return this.serverValidationEventCount=s?1:this.onServerValidateQuestions.length,s?this.onServerValidateQuestions(this,this.createServerValidationOptions(e,t,i)):this.onServerValidateQuestions.fireByCreatingOptions(this,()=>this.createServerValidationOptions(e,t,i)),!0}completeServerValidation(e,t,i){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,e&&e.errors&&Object.keys(e.errors).length===0))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),!(!e&&!e.survey))){var s=e.survey,n=!1;if(e.errors){var o=this.autoFocusFirstError;for(var h in e.errors){var d=s.getQuestionByName(h);d&&d.errors&&(n=!0,d.addError(new Gr(e.errors[h],this)),o&&(o=!1,d.page&&(this.currentPage=d.page),d.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}n||(t?this.showPreviewCore():i?this.currentPage=i:s.isLastPage?s.doComplete():s.doNextPage())}}doNextPage(){var e=this.currentPage;if(this.checkOnPageTriggers(!1),this.sendPartialResult(),this.isCompleted)this.doComplete(!0);else if(e===this.currentPage){var t=this.visiblePages,i=t.indexOf(this.currentPage);this.currentPage=t[i+1]}}setCompleted(e){this.doComplete(!0,e)}sendPartialResult(){this.partialSendEnabled&&!this.isCompleted&&this.sendResult(this.surveyPostId,this.clientId,!0)}canBeCompleted(e,t){var i;if(!X.triggers.changeNavigationButtonsOnComplete)return;const s=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),t?this.completedByTriggers[e.id]={trigger:e,pageId:(i=this.currentPage)===null||i===void 0?void 0:i.id}:delete this.completedByTriggers[e.id],s!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}get canBeCompletedByTrigger(){var e;if(!this.completedByTriggers)return!1;const t=Object.keys(this.completedByTriggers);if(t.length===0)return!1;const i=(e=this.currentPage)===null||e===void 0?void 0:e.id;if(!i)return!0;for(let s=0;s<t.length;s++)if(i===this.completedByTriggers[t[s]].pageId)return!0;return!1}get completedTrigger(){if(!this.canBeCompletedByTrigger)return;const e=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[e].trigger}get processedCompletedHtml(){var e=this.renderedCompletedHtml;return e?this.processHtml(e,"completed"):""}get processedCompletedBeforeHtml(){return this.locCompletedBeforeHtml.textOrHtml}get processedLoadingHtml(){return this.locLoadingHtml.textOrHtml}getProgressInfo(){var e=this.isDesignMode?this.pages:this.visiblePages;return ai.getProgressInfoByElements(e,!1)}get progressBarAriaLabel(){return _i("progressbar",this.getLocale())}get progressText(){return this.progressBar.progressText}get progressValue(){return this.getPropertyValue("progressValue",void 0,()=>this.getProgress())}updateProgressText(e=!1){this.isShowingPreview||e&&this.progressBarType=="pages"&&this.onGetProgressText.isEmpty||(this.progressBarValue&&this.progressBarValue.resetProgressText(),this.resetPropertyValue("progressValue"))}getProgressText(){if(!this.isDesignMode&&this.currentPage==null)return"";const e={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""};var t=this.progressBarType.toLowerCase();if(t==="questions"||t==="requiredquestions"||t==="correctquestions"||!this.onGetProgressText.isEmpty){var i=this.getProgressInfo();e.questionCount=i.questionCount,e.answeredQuestionCount=i.answeredQuestionCount,e.requiredQuestionCount=i.requiredQuestionCount,e.requiredAnsweredQuestionCount=i.requiredAnsweredQuestionCount}return e.text=this.getProgressTextCore(e),this.onGetProgressText.fire(this,e),e.text}getProgressTextCore(e){var t=this.progressBarType.toLowerCase();if(t==="questions")return this.getLocalizationFormatString("questionsProgressText",e.answeredQuestionCount,e.questionCount);if(t==="requiredquestions")return this.getLocalizationFormatString("questionsProgressText",e.requiredAnsweredQuestionCount,e.requiredQuestionCount);if(t==="correctquestions"){var i=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",i,e.questionCount)}var s=this.isDesignMode?this.pages:this.visiblePages,n=s.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",n,s.length)}getRootCss(){return new fe().append(this.css.root).append(this.css.rootProgress+"--"+this.progressBarType).append(this.css.rootMobile,this.isMobile).append(this.css.rootAnimationDisabled,!X.animationEnabled).append(this.css.rootReadOnly,this.readOnly&&!this.isDesignMode).append(this.css.rootCompact,this.isCompact).append(this.css.rootFitToContainer,this.fitToContainer).toString()}afterRenderSurvey(e){if(!$e.isAvailable())return;this.destroyResizeObserver(),Array.isArray(e)&&(e=ai.GetFirstNonTextElement(e));let t=e;const i=this.css.variables;if(i){const s=Number.parseFloat(Ge.getComputedStyle(t).getPropertyValue(i.mobileWidth));if(s){let n=!1;this.resizeObserver=new ResizeObserver(o=>{$e.requestAnimationFrame(()=>{n||!uv(t)?n=!1:n=this.processResponsiveness(t.offsetWidth,s,t.offsetHeight)})}),this.resizeObserver.observe(t)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:e}),this.rootElement=e,this.scrollerElement=e.getElementsByClassName("sv-scroll__scroller")[0],this.addScrollEventListener()}beforeDestroySurveyElement(){this.destroyResizeObserver(),this.removeScrollEventListener(),this.rootElement=void 0,this.scrollerElement=void 0}processResponsiveness(e,t,i){const s=e<t,n=this.isMobile!==s;this.setIsMobile(s),this.layoutElements.forEach(h=>h.processResponsiveness&&h.processResponsiveness(e));const o={height:i,width:e};return this.onResize.fire(this,o),n}triggerResponsiveness(e){this.getAllQuestions().forEach(t=>{t.triggerResponsiveness(e)})}destroyResizeObserver(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}updateQuestionCssClasses(e,t){this.onUpdateQuestionCssClasses.fire(this,{question:e,cssClasses:t})}updatePanelCssClasses(e,t){this.onUpdatePanelCssClasses.fire(this,{panel:e,cssClasses:t})}updatePageCssClasses(e,t){this.onUpdatePageCssClasses.fire(this,{page:e,cssClasses:t})}updateChoiceItemCss(e,t){t.question=e,this.onUpdateChoiceItemCss.fire(this,t)}afterRenderPage(e){if(!this.isDesignMode&&!this.focusingQuestionInfo){const t=this.isCurrentPageRendered===!1;setTimeout(()=>this.scrollToTopOnPageChange(t),1)}this.focusQuestionInfo(),this.isCurrentPageRendered=!0,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:e})}afterRenderHeader(e){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:e})}afterRenderQuestion(e,t){this.onAfterRenderQuestion.fire(this,{question:e,htmlElement:t})}afterRenderQuestionInput(e,t){if(this.onAfterRenderQuestionInput.isEmpty)return;let i=e.inputId;const{root:s}=X.environment;if(i&&(!t||t.id!==i)&&typeof s<"u"){let n=s.getElementById(i);n&&(t=n)}this.onAfterRenderQuestionInput.fire(this,{question:e,htmlElement:t})}afterRenderPanel(e,t){this.onAfterRenderPanel.fire(this,{panel:e,htmlElement:t})}whenQuestionFocusIn(e){this.onFocusInQuestion.fire(this,{question:e})}whenPanelFocusIn(e){this.onFocusInPanel.fire(this,{panel:e})}rebuildQuestionChoices(){this.getAllQuestions().forEach(e=>e.surveyChoiceItemVisibilityChange())}canChangeChoiceItemsVisibility(){return!this.onShowingChoiceItem.isEmpty}getChoiceItemVisibility(e,t,i){const s={question:e,item:t,visible:i};return this.onShowingChoiceItem.fire(this,s),s.visible}loadQuestionChoices(e){this.onChoicesLazyLoad.fire(this,e)}getChoiceDisplayValue(e){this.onGetChoiceDisplayValue.isEmpty?e.setItems(null):this.onGetChoiceDisplayValue.fire(this,e)}matrixBeforeRowAdded(e){this.onMatrixRowAdding.fire(this,e)}matrixRowAdded(e,t){this.onMatrixRowAdded.fire(this,{question:e,row:t})}matrixColumnAdded(e,t){this.onMatrixColumnAdded.fire(this,{question:e,column:t})}multipleTextItemAdded(e,t){this.onMultipleTextItemAdded.fire(this,{question:e,item:t})}getQuestionByValueNameFromArray(e,t,i){var s=this.getQuestionsByValueName(e);if(s){for(var n=0;n<s.length;n++){var o=s[n].getQuestionFromArray(t,i);if(o)return o}return null}}matrixRowRemoved(e,t,i){this.onMatrixRowRemoved.fire(this,{question:e,rowIndex:t,row:i})}matrixRowRemoving(e,t,i){var s={question:e,rowIndex:t,row:i,allow:!0};return this.onMatrixRowRemoving.fire(this,s),s.allow}matrixAllowRemoveRow(e,t,i){const s={question:e,rowIndex:t,row:i,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,s),s.allow}matrixDetailPanelVisibleChanged(e,t,i,s){const n={question:e,rowIndex:t,row:i,visible:s,detailPanel:i.detailPanel};this.onMatrixDetailPanelVisibleChanged.fire(this,n)}matrixCellCreating(e,t){t.question=e,this.onMatrixCellCreating.fire(this,t)}matrixCellCreated(e,t){t.question=e,this.onMatrixCellCreated.fire(this,t)}matrixAfterCellRender(e){var t;const i=this.onAfterRenderMatrixCell;i.isEmpty||(e.question=(t=e.cellQuestion)===null||t===void 0?void 0:t.parentQuestion,i.fire(this,e))}matrixCellValueChanged(e,t){t.question=e,this.onMatrixCellValueChanged.fire(this,t)}matrixCellValueChanging(e,t){t.question=e,this.onMatrixCellValueChanging.fire(this,t)}get isValidateOnValueChanging(){return this.checkErrorsMode==="onValueChanging"}get isValidateOnValueChanged(){return this.checkErrorsMode==="onValueChanged"}get isValidateOnValueChange(){return this.isValidateOnValueChanged||this.isValidateOnValueChanging}get isValidateOnComplete(){return this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages&&!this.validationAllowComplete}matrixCellValidate(e,t){return t.question=e,this.onMatrixCellValidate.fire(this,t),t.error?new Gr(t.error,this):null}dynamicPanelAdded(e,t,i,s){!this.isLoadingFromJson&&s&&this.updateVisibleIndexes(e.page),this.onDynamicPanelAdded.fire(this,{question:e,panel:i,panelIndex:t})}dynamicPanelRemoved(e,t,i,s){for(var n=i?i.questions:[],o=0;o<n.length;o++)n[o].clearOnDeletingContainer();s&&this.updateVisibleIndexes(e.page),this.onDynamicPanelRemoved.fire(this,{question:e,panelIndex:t,panel:i})}dynamicPanelRemoving(e,t,i){const s={question:e,panelIndex:t,panel:i,allow:!0};return this.onDynamicPanelRemoving.fire(this,s),s.allow}dynamicPanelItemValueChanged(e,t){t.question=e,this.onDynamicPanelValueChanged.fire(this,t)}dynamicPanelItemValueChanging(e,t){t.question=e,this.onDynamicPanelValueChanging.fire(this,t)}dynamicPanelGetTabTitle(e,t){t.question=e,this.onGetDynamicPanelTabTitle.fire(this,t)}dynamicPanelCurrentIndexChanged(e,t){t.question=e,this.onDynamicPanelCurrentIndexChanged.fire(this,t)}dragAndDropAllow(e){return this.onDragDropAllow.fire(this,e),e.allow}elementContentVisibilityChanged(e){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:e})}getUpdatedPanelFooterActions(e,t,i){const s={question:i,panel:e,actions:t};return this.onGetPanelFooterActions.fire(this,s),s.actions}getUpdatedElementTitleActions(e,t){return e.isPage?this.getUpdatedPageTitleActions(e,t):e.isPanel?this.getUpdatedPanelTitleActions(e,t):this.getUpdatedQuestionTitleActions(e,t)}getTitleActionsResult(e,t){return e!=t.actions?t.actions:e!=t.titleActions?t.titleActions:e}getUpdatedQuestionTitleActions(e,t){const i={question:e,actions:t,titleActions:t};return this.onGetQuestionTitleActions.fire(this,i),this.getTitleActionsResult(t,i)}getUpdatedPanelTitleActions(e,t){const i={panel:e,actions:t,titleActions:t};return this.onGetPanelTitleActions.fire(this,i),this.getTitleActionsResult(t,i)}getUpdatedPageTitleActions(e,t){var i={page:e,actions:t,titleActions:t};return this.onGetPageTitleActions.fire(this,i),this.getTitleActionsResult(t,i)}getUpdatedMatrixRowActions(e,t,i){const s={question:e,actions:i,row:t};return this.onGetMatrixRowActions.fire(this,s),s.actions}scrollElementToTop(e,t,i,s,n,o,h,d){const f={element:e,question:t,page:i,elementId:s,cancel:!1,allow:!0};if(this.onScrollToTop.fire(this,f),!f.cancel&&f.allow){const p=this.getPageByElement(e),{rootElement:y}=X.environment,b=this.rootElement||h||y;if(this.isLazyRendering&&p){let w=1;this.skeletonHeight&&b&&typeof b.getBoundingClientRect=="function"&&(w=b.getBoundingClientRect().height/this.skeletonHeight-1),p.forceRenderElement(e,()=>{const T=b?.querySelector(`#${f.elementId}`);this.suspendLazyRendering(),ai.ScrollElementToTop(T,n,o,()=>{this.releaseLazyRendering();const P=b.querySelector(`#${p.id}`);gm(P),d&&d()})},w)}else if(e.isPage&&!this.isSinglePage&&!this.isDesignMode&&this.rootElement){const w=b.querySelector(ir(this.css.rootWrapper));ai.ScrollElementToViewCore(w,!1,n,o,d)}else{const w=b?.querySelector(`#${f.elementId}`);this.suspendLazyRendering(),ai.ScrollElementToTop(w,n,o,()=>{this.releaseLazyRendering(),gm(w),d&&d()})}}}chooseFiles(e,t,i){this.onOpenFileChooser.isEmpty?KS(e,t):this.onOpenFileChooser.fire(this,{input:e,element:i&&i.element||this.survey,elementType:i&&i.elementType,item:i&&i.item,propertyName:i&&i.propertyName,callback:t,context:i})}uploadFiles(e,t,i,s){this.onUploadFiles.isEmpty?s("error",this.getLocString("noUploadFilesHandler")):this.taskManager.runTask("file",n=>{this.onUploadFiles.fire(this,{question:e,name:t,files:i||[],callback:(o,h)=>{s(o,h),n()}})}),this.surveyPostId&&this.uploadFilesCore(t,i,s)}downloadFile(e,t,i,s){this.onDownloadFile.isEmpty&&s&&s("skipped",i.content||i),this.onDownloadFile.fire(this,{question:e,name:t,content:i.content||i,fileValue:i,callback:s})}clearFiles(e,t,i,s,n){this.onClearFiles.isEmpty&&n&&n("success",i),this.onClearFiles.fire(this,{question:e,name:t,value:i,fileName:s,callback:n})}updateChoicesFromServer(e,t,i){var s={question:e,choices:t,serverResult:i};return this.onChoicesLoaded.fire(this,s),s.choices}loadedChoicesFromServer(e){this.locStrsChanged()}uploadFilesCore(e,t,i){this.reportWarningOnUsingService()}getPage(e){return this.pages[e]}addPage(e,t=-1){e!=null&&(t<0||t>=this.pages.length?this.pages.push(e):this.pages.splice(t,0,e))}addNewPage(e=null,t=-1){var i=this.createNewPage(e);return this.addPage(i,t),i}removePage(e){var t=this.pages.indexOf(e);t<0||(this.pages.splice(t,1),this.currentPage==e&&(this.currentPage=this.pages.length>0?this.pages[0]:null))}getQuestionByName(e,t=!1){if(!e)return null;t&&(e=e.toLowerCase());var i=t?this.questionHashes.namesInsensitive:this.questionHashes.names,s=i[e];return s?s[0]:null}findQuestionByName(e){return this.getQuestionByName(e)}getEditingSurveyElement(){return this.editingObjValue}getQuestionByValueName(e,t=!1){var i=this.getQuestionsByValueName(e,t);return i?i[0]:null}getQuestionsByValueName(e,t=!1){var i=t?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames,s=i[e];return s||null}getCalculatedValueByName(e){for(var t=0;t<this.calculatedValues.length;t++)if(e==this.calculatedValues[t].name)return this.calculatedValues[t];return null}getQuestionsByNames(e,t=!1){var i=[];if(!e)return i;for(var s=0;s<e.length;s++)if(e[s]){var n=this.getQuestionByName(e[s],t);n&&i.push(n)}return i}getPageByElement(e){for(var t=0;t<this.pages.length;t++){var i=this.pages[t];if(i.containsElement(e))return i}return null}getPageByQuestion(e){return this.getPageByElement(e)}getPageByName(e){for(var t=0;t<this.pages.length;t++)if(this.pages[t].name==e)return this.pages[t];return null}getPagesByNames(e){var t=[];if(!e)return t;for(var i=0;i<e.length;i++)if(e[i]){var s=this.getPageByName(e[i]);s&&t.push(s)}return t}getAllQuestions(e=!1,t=!1,i=!1){i&&(t=!1,(e?this.visiblePages:this.pages).forEach(h=>h.onFirstRendering()));for(var s=[],n=0;n<this.pages.length;n++)this.pages[n].addQuestionsToList(s,e,t);return i?this.getNestedQuestionsByQuestionArray(s,e):s}getNestedQuestionsByQuestionArray(e,t){const i=[];return e.forEach(s=>{s.getNestedQuestions(t,!0,!0).forEach(n=>i.push(n))}),i}getQuizQuestions(){for(var e=new Array,t=this.getPageStartIndex(),i=t;i<this.pages.length;i++)if(this.pages[i].isVisible)for(var s=this.pages[i].questions,n=0;n<s.length;n++){var o=s[n];o.quizQuestionCount>0&&e.push(o)}return e}getPanelByName(e,t=!1){var i=this.getAllPanels();t&&(e=e.toLowerCase());for(var s=0;s<i.length;s++){var n=i[s].name;if(t&&(n=n.toLowerCase()),n==e)return i[s]}return null}getAllPanels(e=!1,t=!1){for(var i=new Array,s=0;s<this.pages.length;s++)this.pages[s].addPanelsIntoList(i,e,t);return i}createNewPage(e){const t=le.createClass("page");return t.name=e,t}getValueChangeReason(){return this.isSettingValueOnExpression?"expression":this.isSettingValueFromTrigger?"trigger":void 0}questionOnValueChanging(e,t,i){if(this.editingObj){const n=le.findProperty(this.editingObj.getType(),e);n&&(t=n.settingValue(this.editingObj,t))}if(this.onValueChanging.isEmpty)return t;var s={name:e,question:this.getQuestionByValueName(i||e),value:this.getUnbindValue(t),oldValue:this.getValue(e),reason:this.getValueChangeReason()};return this.onValueChanging.fire(this,s),s.value}updateQuestionValue(e,t){if(!this.isLoadingFromJson){var i=this.getQuestionsByValueName(e);if(i)for(var s=0;s<i.length;s++){var n=i[s].value;(n===t&&Array.isArray(n)&&this.editingObj||!this.isTwoValueEquals(n,t))&&i[s].updateValueFromSurvey(t,!1)}}}checkQuestionErrorOnValueChanged(e){!this.isNavigationButtonPressed&&(this.isValidateOnValueChanged||e.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(e)}checkQuestionErrorOnValueChangedCore(e){var t=e.getAllErrors().length,i=!e.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging});return e.page&&this.isValidateOnValueChange&&(t>0||e.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(e.page),i}checkErrorsOnValueChanging(e,t){if(this.isLoadingFromJson)return!1;var i=this.getQuestionsByValueName(e);if(!i)return!1;for(var s=!1,n=0;n<i.length;n++){var o=i[n];this.isTwoValueEquals(o.valueForSurvey,t)||(o.value=t),this.checkQuestionErrorOnValueChangedCore(o)&&(s=!0),s=s||o.errors.length>0}return s}fireOnValueChanged(e,t,i){this.onValueChanged.fire(this,{name:e,question:i,value:t,reason:this.getValueChangeReason()})}notifyQuestionOnValueChanged(e,t,i){if(!this.isLoadingFromJson){var s=this.getQuestionsByValueName(e);if(s)for(var n=0;n<s.length;n++){var o=s[n];this.checkQuestionErrorOnValueChanged(o),o.onSurveyValueChanged(t)}this.updateProgressText(!0),this.fireOnValueChanged(e,t,i?this.getQuestionByName(i):void 0),!this.isDisposed&&(this.checkElementsBindings(e,t),this.notifyElementsOnAnyValueOrVariableChanged(e,i))}}checkElementsBindings(e,t){this.isRunningElementsBindings=!0;for(var i=0;i<this.pages.length;i++)this.pages[i].checkBindings(e,t);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)}notifyElementsOnAnyValueOrVariableChanged(e,t){if(this.isEndLoadingFromJson!=="processing"){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var i=0;i<this.pages.length;i++)this.pages[i].onAnyValueChanged(e,t);this.isEndLoadingFromJson||this.locStrsChanged()}}updateAllQuestionsValue(e){for(var t=this.getAllQuestions(),i=0;i<t.length;i++){var s=t[i],n=s.getValueName();s.updateValueFromSurvey(this.getValue(n),e),s.requireUpdateCommentValue&&s.updateCommentFromSurvey(this.getComment(n))}}notifyAllQuestionsOnValueChanged(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].onSurveyValueChanged(this.getValue(e[t].getValueName()))}checkOnPageTriggers(e){for(var t=this.getCurrentPageQuestions(!0),i={},s=0;s<t.length;s++){var n=t[s],o=n.getValueName();i[o]=this.getValue(o)}this.addCalculatedValuesIntoFilteredValues(i),this.checkTriggers(i,!0,e)}getCurrentPageQuestions(e=!1){var t=[],i=this.currentPage;if(!i)return t;for(var s=0;s<i.questions.length;s++){var n=i.questions[s];!e&&!n.visible||!n.name||t.push(n)}return t}checkTriggers(e,t,i=!1,s=!1,n){if(this.isCompleted||this.triggers.length==0||this.isDisplayMode)return;if(this.isTriggerIsRunning){this.triggerValues=this.getFilteredValues();for(var o in e)this.triggerKeys[o]=e[o];return}let h=!1;if(!i&&n&&this.hasRequiredValidQuestionTrigger){const p=this.getQuestionByValueName(n);h=p&&!p.validate(!1)}this.isTriggerIsRunning=!0,this.triggerKeys=e,this.triggerValues=this.getFilteredValues();var d=this.getFilteredProperties();let f=this.canBeCompletedByTrigger;for(let p=0;p<this.triggers.length;p++){const y=this.triggers[p];if(h&&y.requireValidQuestion)continue;const b={isOnNextPage:t,isOnComplete:i,isOnNavigation:s,keys:this.triggerKeys,values:this.triggerValues,properties:d};y.checkExpression(b)}f!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}checkTriggersAndRunConditions(e,t,i){var s={};s[e]={newValue:t,oldValue:i},this.runConditionOnValueChanged(e,t),this.checkTriggers(s,!1,!1,!1,e)}get hasRequiredValidQuestionTrigger(){for(let e=0;e<this.triggers.length;e++)if(this.triggers[e].requireValidQuestion)return!0;return!1}doElementsOnLoad(){for(var e=0;e<this.pages.length;e++)this.pages[e].onSurveyLoad()}get isRunningConditions(){return!!this.conditionValues}runExpressions(){this.runConditions()}runConditions(){if(!(this.isCompleted||this.isEndLoadingFromJson==="processing"||this.isRunningConditions)){this.conditionValues=this.getFilteredValues();var e=this.getFilteredProperties(),t=this.pages.indexOf(this.currentPage);this.runConditionsCore(e),this.checkIfNewPagesBecomeVisible(t),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<X.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}}runConditionOnValueChanged(e,t){this.isRunningConditions?(this.conditionValues[e]=t,this.questionTriggersKeys&&(this.questionTriggersKeys[e]=t),this.isValueChangedOnRunningCondition=!0):(this.questionTriggersKeys={},this.questionTriggersKeys[e]=t,this.runConditions(),this.runQuestionsTriggers(e,t),this.questionTriggersKeys=void 0)}runConditionsCore(e){for(var t=this.pages,i=0;i<this.calculatedValues.length;i++)this.calculatedValues[i].resetCalculation();for(var i=0;i<this.calculatedValues.length;i++)this.calculatedValues[i].doCalculation(this.calculatedValues,this.conditionValues,e);super.runConditionCore(this.conditionValues,e);for(let s=0;s<t.length;s++)t[s].runCondition(this.conditionValues,e)}runQuestionsTriggers(e,t){if(this.isDisplayMode||this.isDesignMode)return;this.getAllQuestions().forEach(s=>{s.runTriggers(e,t,this.questionTriggersKeys)})}checkIfNewPagesBecomeVisible(e){var t=this.pages.indexOf(this.currentPage);if(!(t<=e+1)){for(var i=e+1;i<t;i++)if(this.pages[i].isVisible){this.currentPage=this.pages[i];break}}}sendResult(e=null,t=null,i=!1){this.isEditMode&&(i&&this.onPartialSend&&this.onPartialSend.fire(this,null),!e&&this.surveyPostId&&(e=this.surveyPostId),e&&(t&&(this.clientId=t),!(i&&!this.clientId)&&this.reportWarningOnUsingService()))}getResult(e,t){this.reportWarningOnUsingService()}loadSurveyFromService(e=null,t=null){e&&(this.surveyId=e),t&&(this.clientId=t),this.reportWarningOnUsingService()}reportWarningOnUsingService(){Ir.warn("Self-hosted Form Library no longer supports integration with SurveyJS Demo Service. Learn more: https://surveyjs.io/stay-updated/release-notes/v2.0.0#form-library-removes-apis-for-integration-with-surveyjs-demo-service")}loadSurveyFromServiceJson(e){e&&(this.fromJSON(e),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))}onLoadingSurveyFromService(){}onLoadSurveyFromService(){}resetVisibleIndexes(){for(var e=this.getAllQuestions(!0),t=0;t<e.length;t++)e[t].setVisibleIndex(-1);this.updateVisibleIndexes()}updateVisibleIndexes(e){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson)){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}this.updatePageVisibleIndexes(),this.updatePageElementsVisibleIndexes(e),this.updateProgressText(!0)}}updatePageElementsVisibleIndexes(e){if(this.showQuestionNumbers=="onPage")for(var t=e?[e]:this.visiblePages,i=0;i<t.length;i++)t[i].setVisibleIndex(0);else{let s=this.getStartVisibleIndex();const n=this.pages;for(let o=0;o<n.length;o++)s+=n[o].setVisibleIndex(s)}}getStartVisibleIndex(){const e=this.showQuestionNumbers;return e==="on"||e==="recursive"?0:-1}updatePageVisibleIndexes(){this.updateButtonsVisibility();for(var e=0,t=0;t<this.pages.length;t++){const i=this.pages[t],s=i.isVisible&&(t>0||!i.isStartPage);i.visibleIndex=s?e++:-1,i.num=s?i.visibleIndex+1:-1}}fromJSON(e,t){if(!e)return;this.resetHasLogo(),this.resetPropertyValue("titleIsEmpty"),this.questionHashesClear(),this.jsonErrors=null,this.sjsVersion=void 0;const i=new Ri;i.toObject(e,this,t),i.errors.length>0&&(this.jsonErrors=i.errors),this.onStateAndCurrentPageChanged(),this.endLoading(),this.updateState(),this.sjsVersion&&X.version&&z.compareVerions(this.sjsVersion,X.version)>0&&Ir.warn("The version of the survey JSON schema (v"+this.sjsVersion+") is newer than your current Form Library version ("+X.version+"). Please update the Form Library to make sure that all survey features work as expected.")}startLoadingFromJson(e){super.startLoadingFromJson(e),e&&e.locale&&(this.locale=e.locale)}setJsonObject(e){this.fromJSON(e)}endLoadingFromJson(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),super.endLoadingFromJson(),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.onQuestionsOnPageModeChanged("standard"),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateCurrentPage(),this.setCalculatedWidthModeUpdater(),this.onEndLoadingFromJson.fire(this,{})}updateNavigationCss(){const e=this.navigationBarValue;e&&(e.cssClasses=this.css.actionBar,e.containerCss=this.css.footer,this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())}createNavigationBar(){const e=new Ss;return e.setItems(this.createNavigationActions()),e.locOwner=this,e}createNavigationActions(){const e="sv-nav-btn",t=new ht({id:"sv-nav-start",visible:new $t(()=>this.isStartPageActive),visibleIndex:10,locTitle:this.locStartSurveyText,action:()=>this.start(),component:e}),i=new ht({id:"sv-nav-prev",visible:new $t(()=>this.isShowPrevButton),visibleIndex:20,data:{mouseDown:()=>this.navigationMouseDown()},locTitle:this.locPagePrevText,action:()=>this.performPrevious(),component:e}),s=new ht({id:"sv-nav-next",visible:new $t(()=>this.isShowNextButton),visibleIndex:30,data:{mouseDown:()=>this.nextPageMouseDown()},locTitle:this.locPageNextText,action:()=>this.nextPageUIClick(),component:e}),n=new ht({id:"sv-nav-preview",visible:new $t(()=>this.isPreviewButtonVisible),visibleIndex:40,data:{mouseDown:()=>this.navigationMouseDown()},locTitle:this.locPreviewText,action:()=>this.showPreview(),component:e}),o=new ht({id:"sv-nav-complete",visible:new $t(()=>this.isCompleteButtonVisible),visibleIndex:50,data:{mouseDown:()=>this.navigationMouseDown()},locTitle:this.locCompleteText,action:()=>this.taskManager.waitAndExecute(()=>this.tryComplete()),component:e});return this.updateNavigationItemCssCallback=()=>{t.innerCss=this.cssNavigationStart,i.innerCss=this.cssNavigationPrev,s.innerCss=this.cssNavigationNext,n.innerCss=this.cssNavigationPreview,o.innerCss=this.cssNavigationComplete},[t,i,s,n,o]}onBeforeRunConstructor(){}onBeforeCreating(){}onCreating(){}getProcessedTextValue(e){if(this.getProcessedTextValueCore(e),!this.onProcessDynamicText.isEmpty){var t=this.isValueEmpty(e.value);this.onProcessDynamicText.fire(this,e),e.isExists=e.isExists||t&&!this.isValueEmpty(e.value)}}getBuiltInVariableValue(e){if(e==="pageno"){var t=this.currentPage;return t!=null?this.visiblePages.indexOf(t)+1:0}if(e==="pagecount")return this.visiblePageCount;if(e==="correctedanswers"||e==="correctanswers"||e==="correctedanswercount")return this.getCorrectedAnswerCount();if(e==="incorrectedanswers"||e==="incorrectanswers"||e==="incorrectedanswercount")return this.getInCorrectedAnswerCount();if(e==="questioncount")return this.getQuizQuestionCount()}getProcessedTextValueCore(e){var t=e.name.toLocaleLowerCase();if(["no","require","title"].indexOf(t)!==-1)return;const i=this.getBuiltInVariableValue(t);if(i!==void 0){e.isExists=!0,e.value=i;return}if(t==="locale"){e.isExists=!0,e.value=this.locale?this.locale:er.defaultLocale;return}var s=this.getVariable(t);if(s!==void 0){e.isExists=!0,e.value=s;return}var n=this.getFirstName(t);if(n){const h=n.useDisplayValuesInDynamicTexts;e.isExists=!0;const d=n.getValueName().toLowerCase();t=d+t.substring(d.length),t=t.toLocaleLowerCase();var o={};o[d]=e.returnDisplayValue&&h?n.getDisplayValue(!1,void 0):n.value,e.value=new xr().getValue(t,o);return}this.getProcessedValuesWithoutQuestion(e)}getProcessedValuesWithoutQuestion(e){var t=this.getValue(e.name);if(t!==void 0){e.isExists=!0,e.value=t;return}const i=new xr,s=i.getFirstName(e.name);if(s===e.name)return;const n={};let o=this.getValue(s);z.isValueEmpty(o)&&(o=this.getVariable(s)),!z.isValueEmpty(o)&&(n[s]=o,e.value=i.getValue(e.name,n),e.isExists=i.hasValue(e.name,n))}getFirstName(e){e=e.toLowerCase();var t;do t=this.getQuestionByValueName(e,!0),e=this.reduceFirstName(e);while(!t&&e);return t}reduceFirstName(e){var t=e.lastIndexOf("."),i=e.lastIndexOf("[");if(t<0&&i<0)return"";var s=Math.max(t,i);return e.substring(0,s)}clearUnusedValues(){this.isClearingUnsedValues=!0;for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].clearUnusedValues();this.clearInvisibleQuestionValues(),this.isClearingUnsedValues=!1}hasVisibleQuestionByValueName(e){var t=this.getQuestionsByValueName(e);if(!t)return!1;for(var i=0;i<t.length;i++){const s=t[i];if(s.isVisible&&s.isParentVisible&&!s.parentQuestion)return!0}return!1}questionsByValueName(e){var t=this.getQuestionsByValueName(e);return t||[]}clearInvisibleQuestionValues(){const e=this.clearInvisibleValues==="none"?"none":"onComplete",t=this.getAllQuestions();for(var i=0;i<t.length;i++)t[i].clearValueIfInvisible(e)}getVariable(e){if(!e)return null;e=e.toLowerCase();var t=this.variablesHash[e];return this.isValueEmpty(t)&&(e.indexOf(".")>-1||e.indexOf("[")>-1)&&new xr().hasValue(e,this.variablesHash)?new xr().getValue(e,this.variablesHash):t}setVariable(e,t){if(!e)return;const i=this.getVariable(e);this.valuesHash&&delete this.valuesHash[e],e=e.toLowerCase(),this.variablesHash[e]=t,this.notifyElementsOnAnyValueOrVariableChanged(e),z.isTwoValueEquals(i,t)||(this.checkTriggersAndRunConditions(e,t,i),this.onVariableChanged.fire(this,{name:e,value:t}))}getVariableNames(){var e=[];for(var t in this.variablesHash)e.push(t);return e}getUnbindValue(e){return this.editingObj?e:z.getUnbindValue(e)}getValue(e){if(!e||e.length==0)return null;var t=this.getDataValueCore(this.valuesHash,e);return this.getUnbindValue(t)}setValue(e,t,i=!1,s=!0,n){var o=t;if(s&&(o=this.questionOnValueChanging(e,t)),!(this.isValidateOnValueChanging&&this.checkErrorsOnValueChanging(e,o))&&!(!this.editingObj&&this.isValueEqual(e,o)&&this.isTwoValueEquals(o,t))){var h=this.getValue(e);this.isValueEmpyOnSetValue(e,o)?this.deleteDataValueCore(this.valuesHash,e):(o=this.getUnbindValue(o),this.setDataValueCore(this.valuesHash,e,o)),this.updateOnSetValue(e,o,h,i,s,n)}}isValueEmpyOnSetValue(e,t){return this.isValueEmpty(t,!1)?!this.editingObj||t===null||t===void 0?!0:this.editingObj.getDefaultPropertyValue(e)===t:!1}updateOnSetValue(e,t,i,s=!1,n=!0,o){this.updateQuestionValue(e,t),!(s===!0||this.isDisposed||this.isRunningElementsBindings)&&(o=o||e,this.checkTriggersAndRunConditions(e,t,i),n&&this.notifyQuestionOnValueChanged(e,t,o),s!=="text"&&this.tryGoNextPageAutomatic(e))}isValueEqual(e,t){(t===""||t===void 0)&&(t=null);var i=this.getValue(e);return(i===""||i===void 0)&&(i=null),t===null||i===null?t===i:this.isTwoValueEquals(t,i)}doOnPageAdded(e){if(e.setSurveyImpl(this),e.name||(e.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),!this.runningPages&&(this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage()),this.canFireAddPage())){var t={page:e};this.onPageAdded.fire(this,t)}}canFireAddPage(){return!this.isMovingPage}doOnPageRemoved(e){e.setSurveyImpl(null),!this.runningPages&&(e===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())}generateNewName(e,t){for(var i={},s=0;s<e.length;s++)i[e[s].name]=!0;for(var n=1;i[t+n];)n++;return t+n}tryGoNextPageAutomatic(e){if(this.isEndLoadingFromJson||!this.autoAdvanceEnabled||!this.currentPage)return;const t=this.getQuestionByValueName(e);if(!t||t&&(!t.visible||!t.supportAutoAdvance())||!t.validate(!1)&&!t.supportGoNextPageError())return;if(this.currentSingleElement){const h=this.currentSingleElement,d=()=>{h===this.currentSingleElement&&(this.isLastElement?this.autoAdvanceAllowComplete&&this.tryCompleteOrShowPreview():this.performNext())};Ia.safeTimeOut(d,X.autoAdvanceDelay)}var i=this.getCurrentPageQuestions();if(i.indexOf(t)<0)return;for(var s=0;s<i.length;s++)if(i[s].hasInput&&i[s].isEmpty())return;if(this.isLastPage&&(this.autoAdvanceEnabled!==!0||!this.autoAdvanceAllowComplete)||this.checkIsCurrentPageHasErrors(!1))return;const n=this.currentPage,o=()=>{n===this.currentPage&&(this.isLastPage?this.tryCompleteOrShowPreview():this.nextPage())};Ia.safeTimeOut(o,X.autoAdvanceDelay)}tryCompleteOrShowPreview(){this.showPreviewBeforeComplete?this.showPreview():this.tryComplete()}getComment(e){return this.getValue(e+this.commentSuffix)||""}setComment(e,t,i=!1){if(t||(t=""),this.isTwoValueEquals(t,this.getComment(e)))return;const s=e+this.commentSuffix;t=this.questionOnValueChanging(s,t,e),this.isValueEmpty(t)?this.deleteDataValueCore(this.valuesHash,s):this.setDataValueCore(this.valuesHash,s,t);var n=this.getQuestionsByValueName(e);if(n)for(var o=0;o<n.length;o++)n[o].updateCommentFromSurvey(t),this.checkQuestionErrorOnValueChanged(n[o]);i||this.checkTriggersAndRunConditions(e,this.getValue(e),void 0),i!=="text"&&this.tryGoNextPageAutomatic(e);var h=this.getQuestionByValueName(e);h&&(this.fireOnValueChanged(s,t,h),h.comment=t,h.comment!=t&&(h.comment=t))}clearValue(e){this.setValue(e,null),this.setComment(e,null)}get clearDisabledChoices(){return this.getPropertyValue("clearDisabledChoices",!1)}set clearDisabledChoices(e){this.setPropertyValue("clearDisabledChoices",e)}get clearValueOnDisableItems(){return this.clearDisabledChoices}set clearValueOnDisableItems(e){this.clearDisabledChoices=e}getQuestionClearIfInvisible(e){return this.isShowingPreview||this.runningPages?"none":e!=="default"?e:this.clearInvisibleValues}questionVisibilityChanged(e,t,i){i&&this.updateVisibleIndexes(e.page),t||this.changeCurrentSingleElementOnVisibilityChanged(),this.onQuestionVisibleChanged.fire(this,{question:e,name:e.name,visible:t})}pageVisibilityChanged(e,t){if(this.isLoadingFromJson)return;(t&&!this.currentPage||e===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),t||this.changeCurrentSingleElementOnVisibilityChanged();const i=this.currentSingleElement,s=this.currentPage;i&&s&&i.page!==s&&(this.currentSingleElement=s.getFirstVisibleElement()),this.onPageVisibleChanged.fire(this,{page:e,visible:t})}panelVisibilityChanged(e,t){e.page&&(this.updateVisibleIndexes(e.page),t||this.changeCurrentSingleElementOnVisibilityChanged()),this.onPanelVisibleChanged.fire(this,{panel:e,visible:t})}questionCreated(e){this.onQuestionCreated.fire(this,{question:e})}questionAdded(e,t,i,s){e.name||(e.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),e.page&&this.questionHashesAdded(e),this.isLoadingFromJson||(this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(e.page),this.setCalculatedWidthModeUpdater()),this.canFireAddElement()&&this.onQuestionAdded.fire(this,{question:e,name:e.name,index:t,parent:i,page:s,parentPanel:i,rootPanel:s})}canFireAddElement(){return!this.isMovingQuestion}questionRemoved(e){this.questionHashesRemoved(e,e.name,e.getValueName()),this.updateVisibleIndexes(e.page),this.onQuestionRemoved.fire(this,{question:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()}questionRenamed(e,t,i){this.questionHashesRemoved(e,t,i),this.questionHashesAdded(e)}questionHashesClear(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}}questionHashesPanelAdded(e){if(!this.isLoadingFromJson)for(var t=e.questions,i=0;i<t.length;i++)this.questionHashesAdded(t[i])}questionHashesAdded(e){this.questionHashAddedCore(this.questionHashes.names,e,e.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,e,e.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,e,e.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,e,e.getValueName().toLowerCase())}questionHashesRemoved(e,t,i){t&&(this.questionHashRemovedCore(this.questionHashes.names,e,t),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,e,t.toLowerCase())),i&&(this.questionHashRemovedCore(this.questionHashes.valueNames,e,i),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,e,i.toLowerCase()))}questionHashAddedCore(e,t,i){var s=e[i];if(s){var s=e[i];s.indexOf(t)<0&&s.push(t)}else e[i]=[t]}questionHashRemovedCore(e,t,i){var s=e[i];if(s){var n=s.indexOf(t);n>-1&&s.splice(n,1),s.length==0&&delete e[i]}}panelAdded(e,t,i,s){e.name||(e.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(e.page),this.canFireAddElement()&&this.onPanelAdded.fire(this,{panel:e,name:e.name,index:t,parent:i,page:s,parentPanel:i,rootPanel:s})}panelRemoved(e){this.updateVisibleIndexes(e.page),this.onPanelRemoved.fire(this,{panel:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()}validateQuestion(e,t,i){if(!this.onValidateQuestion.isEmpty){var s={name:e.name,question:e,value:e.value,errors:t,error:null};this.onValidateQuestion.fire(this,s),s.error&&t.push(new Gr(s.error,this))}i&&this.beforeSettingQuestionErrors(e,t)}validatePanel(e,t,i){if(e.isPanel&&!this.onValidatePanel.isEmpty){const s={name:e.name,panel:e,error:null,errors:t};this.onValidatePanel.fire(this,s),s.error&&t.push(new Gr(s.error,this))}i&&this.makeRequiredErrorsInvisible(t)}processHtml(e,t){t||(t="");var i={html:e,reason:t};return this.onProcessHtml.fire(this,i),this.processText(i.html,!0)}processText(e,t){return this.processTextEx({text:e,returnDisplayValue:t,doEncoding:!1}).text}processTextEx(e){const t=e.doEncoding===void 0?X.web.encodeUrlParams:e.doEncoding;let i=e.text;(e.runAtDesign||!this.isDesignMode)&&(i=this.textPreProcessor.process(i,e.returnDisplayValue===!0,t,e.replaceUndefinedValues));const s={text:i,hasAllValuesOnLastRun:!0};return s.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,s}get textPreProcessor(){return this.textPreProcessorValue||(this.textPreProcessorValue=new $b,this.textPreProcessorValue.onProcess=e=>{this.getProcessedTextValue(e)}),this.textPreProcessorValue}getSurveyMarkdownHtml(e,t,i,s){const n={element:e,text:t,name:i,item:s,html:null};return this.onTextMarkdown.fire(this,n),n.html}getCorrectedAnswerCount(){return this.getCorrectAnswerCount()}getCorrectAnswerCount(){return this.getCorrectedAnswerCountCore(!0)}getQuizQuestionCount(){for(var e=this.getQuizQuestions(),t=0,i=0;i<e.length;i++)t+=e[i].quizQuestionCount;return t}getInCorrectedAnswerCount(){return this.getIncorrectAnswerCount()}getInCorrectAnswerCount(){return this.getIncorrectAnswerCount()}getIncorrectAnswerCount(){return this.getCorrectedAnswerCountCore(!1)}onCorrectQuestionAnswer(e,t){this.onIsAnswerCorrect.isEmpty||(t.question=e,this.onIsAnswerCorrect.fire(this,t))}getCorrectedAnswerCountCore(e){var t=this.getQuizQuestions(),i=0;for(let s=0;s<t.length;s++){const n=t[s],o=n.correctAnswerCount;e?i+=o:i+=n.quizQuestionCount-o}return i}getCorrectedAnswers(){return this.getCorrectedAnswerCount()}getInCorrectedAnswers(){return this.getInCorrectedAnswerCount()}get showTimerPanel(){return this.showTimer?this.timerLocation:"none"}set showTimerPanel(e){this.showTimer=e!=="none",this.showTimer&&(this.timerLocation=e)}get showTimer(){return this.getPropertyValue("showTimer")}set showTimer(e){this.setPropertyValue("showTimer",e)}get timerLocation(){return this.getPropertyValue("timerLocation")}set timerLocation(e){this.setPropertyValue("timerLocation",e)}get isTimerPanelShowingOnTop(){return this.showTimer&&this.timerLocation==="top"}get isTimerPanelShowingOnBottom(){return this.showTimer&&this.timerLocation==="bottom"}get timerInfoMode(){return this.getTimerInfoVal(this.getPropertyValue("timerInfoMode"))}set timerInfoMode(e){this.setPropertyValue("timerInfoMode",e)}getTimerInfoVal(e){return e==="all"?"combined":e}get showTimerPanelMode(){const e=this.timerInfoMode;return e==="combined"?"all":e}set showTimerPanelMode(e){this.timerInfoMode=this.getTimerInfoVal(e)}updateGridColumns(){this.pages.forEach(e=>e.updateGridColumns())}get widthMode(){return this.getPropertyValue("widthMode")}set widthMode(e){this.setPropertyValue("widthMode",e)}setCalculatedWidthModeUpdater(){this.isLoadingFromJson||(this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new $t(()=>this.calculateWidthMode()),this.calculatedWidthMode=this.calculatedWidthModeUpdater)}calculateWidthMode(){if(this.widthMode=="auto"){let e=!1;return this.questionsOnPageMode!="inputPerPage"&&this.pages.forEach(t=>{t.needResponsiveWidth()&&(e=!0)}),e?"responsive":"static"}return this.widthMode}get width(){return this.getPropertyValue("width")}set width(e){this.setPropertyValue("width",e)}get renderedWidth(){const e=this.getPropertyValue("calculatedWidthMode")=="static";let t=this.getPropertyValue("width");if(this.isScaled&&this.responsiveStartWidth>1){let i=this.responsiveStartWidth;try{t=t||this.staticStartWidth,i=isNaN(t)?parseFloat(t.toString().replace("px","")):t}catch{}return(e?i:this.responsiveStartWidth)*this.widthScale/100+"px"}return t&&!isNaN(t)&&(t=t+"px"),e&&t||void 0}setStaticStartWidth(e){this.staticStartWidth=e}setResponsiveStartWidth(e){this.responsiveStartWidth=e}get isScaled(){return Math.abs(this.widthScale-100)>.001}get timerInfo(){return this.getTimerInfo()}get timerClock(){let e,t;if(this.currentPage){let{spent:i,limit:s,minorSpent:n,minorLimit:o}=this.getTimerInfo();s>0?e=this.getDisplayClockTime(s-i):e=this.getDisplayClockTime(i),n!==void 0&&(o>0?t=this.getDisplayClockTime(o-n):t=this.getDisplayClockTime(n))}return{majorText:e,minorText:t}}get timerInfoText(){const e={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,e);var t=new Yi(this,!0);return t.text=e.text,t.textOrHtml}getTimerInfo(){let e=this.currentPage;if(!e)return{spent:0,limit:0};let t=e.timeSpent,i=this.timeSpent,s=e.getMaxTimeToFinish(),n=this.timeLimit;return this.timerInfoMode=="page"?{spent:t,limit:s}:this.timerInfoMode=="survey"?{spent:i,limit:n}:s>0&&n>0?{spent:t,limit:s,minorSpent:i,minorLimit:n}:s>0?{spent:t,limit:s,minorSpent:i}:n>0?{spent:i,limit:n,minorSpent:t}:{spent:t,minorSpent:i}}getTimerInfoText(){var e=this.currentPage;if(!e)return"";var t=this.getDisplayTime(e.timeSpent),i=this.getDisplayTime(this.timeSpent),s=e.getMaxTimeToFinish(),n=this.getDisplayTime(s),o=this.getDisplayTime(this.timeLimit);if(this.timerInfoMode=="page")return this.getTimerInfoPageText(e,t,n);if(this.timerInfoMode=="survey")return this.getTimerInfoSurveyText(i,o);if(this.timerInfoMode=="combined"){if(s<=0&&this.timeLimit<=0)return this.getLocalizationFormatString("timerSpentAll",t,i);if(s>0&&this.timeLimit>0)return this.getLocalizationFormatString("timerLimitAll",t,n,i,o);let h=this.getTimerInfoPageText(e,t,n),d=this.getTimerInfoSurveyText(i,o);return h+" "+d}return""}getTimerInfoPageText(e,t,i){return e&&e.getMaxTimeToFinish()>0?this.getLocalizationFormatString("timerLimitPage",t,i):this.getLocalizationFormatString("timerSpentPage",t,i)}getTimerInfoSurveyText(e,t){const i=this.timeLimit>0?"timerLimitSurvey":"timerSpentSurvey";return this.getLocalizationFormatString(i,e,t)}getDisplayClockTime(e){e<0&&(e=0);const t=Math.floor(e/60),i=e%60;let s=i.toString();return i<10&&(s="0"+s),`${t}:${s}`}getDisplayTime(e){const t=Math.floor(e/60),i=e%60;let s="";return t>0&&(s+=t+" "+this.getLocalizationString("timerMin")),s&&i==0?s:(s&&(s+=" "),s+i+" "+this.getLocalizationString("timerSec"))}get timerModel(){return this.timerModelValue}startTimer(){this.isEditMode&&this.timerModel.start()}startTimerFromUI(){this.showTimer&&this.state==="running"&&this.startTimer()}stopTimer(){this.timerModel.stop()}get timeSpent(){return this.timerModel.spent}set timeSpent(e){this.timerModel.spent=e}get timeLimit(){return this.getPropertyValue("timeLimit",0)}set timeLimit(e){this.setPropertyValue("timeLimit",e)}get maxTimeToFinish(){return this.timeLimit}set maxTimeToFinish(e){this.timeLimit=e}get timeLimitPerPage(){return this.getPropertyValue("timeLimitPerPage",0)}set timeLimitPerPage(e){this.setPropertyValue("timeLimitPerPage",e)}get maxTimeToFinishPage(){return this.timeLimitPerPage}set maxTimeToFinishPage(e){this.timeLimitPerPage=e}doTimer(e){if(this.onTimerTick.fire(this,{}),this.timeLimit>0&&this.timeLimit<=this.timeSpent&&(this.timeSpent=this.timeLimit,this.tryComplete()),e){var t=e.getMaxTimeToFinish();t>0&&t==e.timeSpent&&(this.isLastPage?this.tryComplete():this.nextPage())}}get inSurvey(){return!0}getSurveyData(){return this}getSurvey(){return this}getTextProcessor(){return this}getObjects(e,t){var i=[];return Array.prototype.push.apply(i,this.getPagesByNames(e)),Array.prototype.push.apply(i,this.getQuestionsByNames(t)),i}setTriggerValue(e,t,i){if(e)if(i)this.setVariable(e,t);else{var s=this.getQuestionByName(e);if(this.startSetValueFromTrigger(),s)s.value=t;else{var n=new xr,o=n.getFirstName(e);if(o==e)this.setValue(e,t);else{if(!this.getQuestionByName(o))return;var h=this.getUnbindValue(this.getFilteredValues());n.setValue(h,e,t),this.setValue(o,h[o])}}this.finishSetValueFromTrigger()}}copyTriggerValue(e,t,i){if(!e||!t)return;let s;i?s=this.processText("{"+t+"}",!0):s=new xr().getValue(t,this.getFilteredValues()),this.setTriggerValue(e,s,!1)}triggerExecuted(e){this.onTriggerExecuted.fire(this,{trigger:e})}get isSettingValueFromTrigger(){return this.setValueFromTriggerCounter>0}startSetValueFromTrigger(){this.setValueFromTriggerCounter++}finishSetValueFromTrigger(){this.setValueFromTriggerCounter--}startMovingQuestion(){this.isMovingQuestion=!0}stopMovingQuestion(){this.isMovingQuestion=!1}get isQuestionDragging(){return this.isMovingQuestion}startMovingPage(){this.isMovingPage=!0}stopMovingPage(){this.isMovingPage=!1}focusQuestion(e){return this.focusQuestionByInstance(this.getQuestionByName(e,!0))}focusQuestionByInstance(e,t=!1){var i;if(!e||!e.isVisible||!e.page||((i=this.focusingQuestionInfo)===null||i===void 0?void 0:i.question)===e)return!1;this.focusingQuestionInfo={question:e,onError:t};const n=this.currentSingleElement;this.skippedPages.push({from:n||this.currentPage,to:n?e:e.page});const o=this.activePage!==e.page&&!e.page.isStartPage;return o&&(this.currentPage=e.page),this.isSingleVisibleQuestion&&!this.isDesignMode&&(this.currentSingleElement=e),o||this.focusQuestionInfo(),!0}focusQuestionInfo(){var e;const t=(e=this.focusingQuestionInfo)===null||e===void 0?void 0:e.question;t&&!t.isDisposed&&t.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0}questionEditFinishCallback(e,t){const i=this.enterKeyAction||X.enterKeyAction;if(i=="loseFocus"&&t.target.blur(),i=="moveToNextEditor"){const s=this.currentPage.questions,n=s.indexOf(e);n>-1&&n<s.length-1?s[n+1].focus():t.target.blur()}}elementWrapperComponentNameCore(e,t,i,s,n){if(this.onElementWrapperComponentName.isEmpty)return e;const o={componentName:e,element:t,wrapperName:i,reason:s,item:n};return this.onElementWrapperComponentName.fire(this,o),o.componentName}elementWrapperDataCore(e,t,i,s,n){if(this.onElementWrapperComponentData.isEmpty)return e;const o={data:e,element:t,wrapperName:i,reason:s,item:n};return this.onElementWrapperComponentData.fire(this,o),o.data}getElementWrapperComponentName(e,t){const i=t==="logo-image"?"sv-logo-image":wt.TemplateRendererComponentName;return this.elementWrapperComponentNameCore(i,e,"component",t)}getQuestionContentWrapperComponentName(e){return this.elementWrapperComponentNameCore(wt.TemplateRendererComponentName,e,"content-component")}getRowWrapperComponentName(e){return this.elementWrapperComponentNameCore(wt.TemplateRendererComponentName,e,"row")}getItemValueWrapperComponentName(e,t){return this.elementWrapperComponentNameCore(wt.TemplateRendererComponentName,t,"itemvalue",void 0,e)}getElementWrapperComponentData(e,t){return this.elementWrapperDataCore(e,e,"component",t)}getRowWrapperComponentData(e){return this.elementWrapperDataCore(e,e,"row")}getItemValueWrapperComponentData(e,t){return this.elementWrapperDataCore(e,t,"itemvalue",void 0,e)}getMatrixCellTemplateData(e){const t=e.question;return this.elementWrapperDataCore(t,t,"cell")}searchText(e){e&&(e=e.toLowerCase());for(var t=[],i=0;i<this.pages.length;i++)this.pages[i].searchText(e,t);return t}getSkeletonComponentName(e){return this.skeletonComponentName}addLayoutElement(e){const t=this.removeLayoutElement(e.id);return this.layoutElements.push(e),t}findLayoutElement(e){return this.layoutElements.filter(i=>i.id===e)[0]}removeLayoutElement(e){const t=this.findLayoutElement(e);if(t){const i=this.layoutElements.indexOf(t);this.layoutElements.splice(i,1)}return t}getContainerContent(e){const t=new Array;for(let i of this.layoutElements)if(this.mode!=="display"&&Ea(i.id,"timerpanel"))e==="header"&&this.isTimerPanelShowingOnTop&&!this.isStartPageActive&&t.push(i),e==="footer"&&this.isTimerPanelShowingOnBottom&&!this.isStartPageActive&&t.push(i);else if(this.state==="running"&&Ea(i.id,this.progressBarComponentName)){if(this.questionsOnPageMode!="singlePage"||this.progressBarType=="questions"){const s=this.findLayoutElement("advanced-header"),n=s&&s.data;let o=!n||n.hasBackground;Ea(this.progressBarLocation,"aboveHeader")&&(o=!1),Ea(this.progressBarLocation,"belowHeader")&&(o=!0),this.showTOC&&!(n&&n.hasBackground)&&this.isShowProgressBarOnTop&&!this.isStartPageActive?e==="center"&&(o?delete i.index:i.index=-150,t.push(i)):(e==="header"&&!o&&(i.index=-150,this.isShowProgressBarOnTop&&!this.isStartPageActive&&t.push(i)),e==="center"&&o&&(i.index&&delete i.index,this.isShowProgressBarOnTop&&!this.isStartPageActive&&t.push(i))),e==="footer"&&this.isShowProgressBarOnBottom&&!this.isStartPageActive&&t.push(i)}}else if(Ea(i.id,"buttons-navigation"))e==="contentTop"&&this.isNavigationButtonsShowingOnTop&&t.push(i),e==="contentBottom"&&this.isNavigationButtonsShowingOnBottom&&t.push(i);else if(this.state==="running"&&Ea(i.id,"toc-navigation")&&this.showTOC)e==="left"&&["left","both"].indexOf(this.tocLocation)!==-1&&t.push(i),e==="right"&&["right","both"].indexOf(this.tocLocation)!==-1&&t.push(i);else if(Ea(i.id,"advanced-header")){if(this.state==="running"||this.state==="starting"||this.showHeaderOnCompletePage===!0&&this.state==="completed"){const s=i&&i.data;this.showTOC&&!(s&&s.hasBackground)?e==="contentTop"&&t.push(i):i.container===e&&t.push(i)}}else(Array.isArray(i.container)&&i.container.indexOf(e)!==-1||i.container===e)&&t.push(i);return t.sort((i,s)=>(i.index||0)-(s.index||0)),t.forEach(i=>{i.getData&&(i.data=i.getData())}),t}processPopupVisiblityChanged(e,t,i){this.onPopupVisibleChanged.fire(this,{question:e,popup:t,visible:i})}processOpenDropdownMenu(e,t){const i=Object.assign({question:e},t);this.onOpenDropdownMenu.fire(this,i),t.menuType=i.menuType}getCssTitleExpandableSvg(){return null}createCustomChoiceItem(e){this.onCreateCustomChoiceItem.fire(this,e)}applyTheme(e){if(e){if(Object.keys(e).forEach(t=>{t!=="header"&&(t==="isPanelless"?this.isCompact=e[t]:this[t]=e[t])}),"header"in e&&!e.headerView&&(this.headerView="advanced"),this.headerView!=="basic"){this.removeLayoutElement("advanced-header");const t=new li;t.fromTheme(e),this.insertAdvancedHeader(t)}this.themeChanged(e)}}themeChanged(e){this.getAllQuestions().forEach(t=>t.themeChanged(e))}dispose(){if(this.unConnectEditingObj(),this.removeScrollEventListener(),this.destroyResizeObserver(),this.rootElement=void 0,this.layoutElements){for(var e=0;e<this.layoutElements.length;e++)this.layoutElements[e].data&&this.layoutElements[e].data!==this&&this.layoutElements[e].data.dispose&&this.layoutElements[e].data.dispose();this.layoutElements.splice(0,this.layoutElements.length)}if(super.dispose(),this.editingObj=null,!!this.pages){this.currentPage=null;for(var e=0;e<this.pages.length;e++)this.pages[e].setSurveyImpl(void 0),this.pages[e].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}}_isElementShouldBeSticky(e){var t;if(!e)return!1;const i=(t=this.scrollerElement)===null||t===void 0?void 0:t.querySelector(e);return i?!!this.scrollerElement&&this.scrollerElement.scrollTop>0&&i.getBoundingClientRect().y<=this.scrollerElement.getBoundingClientRect().y:!1}get rootScrollDisabled(){return!(this.fitToContainer&&this.formScrollDisabled)}get formScrollDisabled(){return!this.backgroundImage||this.backgroundImageAttachment!=="fixed"}onScroll(){this.rootElement&&(this._isElementShouldBeSticky(".sv-components-container-center")?this.rootElement.classList&&this.rootElement.classList.add("sv-root--sticky-top"):this.rootElement.classList&&this.rootElement.classList.remove("sv-root--sticky-top"),this.tocModel&&this.tocModel.updateStickyTOCSize(this.rootElement)),this.onScrollCallback&&this.onScrollCallback()}addScrollEventListener(){this.scrollHandler=()=>{this.onScroll()},this.rootElement.addEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].addEventListener("scroll",this.scrollHandler),this.scrollerElement&&this.scrollerElement.addEventListener("scroll",this.scrollHandler)}removeScrollEventListener(){this.rootElement&&this.scrollHandler&&(this.rootElement.removeEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].removeEventListener("scroll",this.scrollHandler),this.scrollerElement&&this.scrollerElement.removeEventListener("scroll",this.scrollHandler))}}wt.TemplateRendererComponentName="sv-template-renderer";wt.platform="unknown";O([N()],wt.prototype,"completedCss",void 0);O([N()],wt.prototype,"completedBeforeCss",void 0);O([N()],wt.prototype,"loadingBodyCss",void 0);O([N()],wt.prototype,"containerCss",void 0);O([N({onSet:(r,e)=>{e.updateCss()}})],wt.prototype,"fitToContainer",void 0);O([N({onSet:(r,e)=>{if(r==="basic")e.removeLayoutElement("advanced-header");else if(!e.findLayoutElement("advanced-header")){const i=new li;e.insertAdvancedHeader(i)}}})],wt.prototype,"headerView",void 0);O([N()],wt.prototype,"showBrandInfo",void 0);O([N()],wt.prototype,"enterKeyAction",void 0);O([N()],wt.prototype,"lazyRenderFirstBatchSizeValue",void 0);O([N({defaultValue:{}})],wt.prototype,"cssVariables",void 0);O([N()],wt.prototype,"_isMobile",void 0);O([N()],wt.prototype,"_isCompact",void 0);O([N({onSet:(r,e)=>{e.updateCss()}})],wt.prototype,"backgroundImage",void 0);O([N()],wt.prototype,"backgroundImageFit",void 0);O([N({onSet:(r,e)=>{e.updateCss()}})],wt.prototype,"backgroundImageAttachment",void 0);O([N()],wt.prototype,"wrapperFormCss",void 0);O([N({getDefaultValue:r=>r.progressBarType==="buttons"})],wt.prototype,"progressBarShowPageTitles",void 0);O([N()],wt.prototype,"progressBarShowPageNumbers",void 0);O([N()],wt.prototype,"progressBarInheritWidthFrom",void 0);O([N({defaultValue:!0})],wt.prototype,"validationEnabled",void 0);O([N()],wt.prototype,"rootCss",void 0);O([N({onSet:(r,e)=>{e.updateGridColumns()}})],wt.prototype,"gridLayoutEnabled",void 0);O([N()],wt.prototype,"calculatedWidthMode",void 0);O([N({defaultValue:100,onSet(r,e,t){e.pages.forEach(i=>i.updateRootStyle())}})],wt.prototype,"widthScale",void 0);O([N()],wt.prototype,"staticStartWidth",void 0);O([N()],wt.prototype,"responsiveStartWidth",void 0);O([Es()],wt.prototype,"layoutElements",void 0);function Ea(r,e){return!r||!e?!1:r.toUpperCase()===e.toUpperCase()}le.addClass("survey",[{name:"locale",choices:()=>er.getLocales(!0),onGetValue:r=>r.locale==er.defaultLocale?null:r.locale},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo:file",serializationProperty:"locLogo"},{name:"logoWidth",default:"auto",minValue:0},{name:"logoHeight",default:"40px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"autoFocusFirstQuestion:boolean",alternativeName:"focusFirstQuestionAutomatic"},{name:"autoFocusFirstError:boolean",default:!0,alternativeName:"focusOnFirstError"},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem",isArray:!0},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page",isArray:!0,onSerializeValue:r=>r.originalPages||r.pages},{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(r){return null},onSetValue:function(r,e,t){r.pages.splice(0,r.pages.length);var i=r.addNewPage("");t.toObject({questions:e},i,t?.options)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue",isArray:!0},{name:"sjsVersion",visible:!1},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName",{name:"partialSendEnabled:boolean",alternativeName:"sendResultOnPageNext"},{name:"showNavigationButtons:boolean",default:!0},{name:"navigationButtonsLocation",default:"bottom",choices:["top","bottom","topBottom"]},{name:"showPrevButton:boolean",default:!0,visibleIf:r=>r.showNavigationButtons!=="none"},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletePage:boolean",default:!0,alternativeName:"showCompletedPage"},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem",isArray:!0},{name:"questionOrder",alternativeName:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"off",choices:["on","onPage","recursive","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar:boolean",default:!1,onSetValue:(r,e,t)=>{r&&r.setShowProgressBar(e)}},{name:"progressBarLocation",default:"auto",choices:["auto","aboveheader","belowheader","bottom","topbottom"],visibleIf:r=>r.showProgressBar},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions"],visibleIf:r=>r.showProgressBar},{name:"progressBarShowPageTitles:switch",category:"navigation",visibleIf:r=>r.showProgressBar&&r.progressBarType==="pages"},{name:"progressBarShowPageNumbers:switch",default:!1,category:"navigation",visibleIf:r=>r.showProgressBar&&r.progressBarType==="pages"},{name:"progressBarInheritWidthFrom",default:"container",choices:["container","survey"],category:"navigation",visibleIf:r=>r.showProgressBar&&r.progressBarType==="pages"},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"],dependsOn:["showTOC"],visibleIf:r=>!!r&&r.showTOC},{name:"readOnly:boolean",default:!1},{name:"mode",default:"edit",choices:["edit","display"],visible:!1},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxCommentLength:number",default:0,minValue:0,alternativeName:"maxOthersLength"},{name:"autoAdvanceEnabled:boolean",alternativeName:"goNextPageAutomatic",onSetValue:function(r,e){e!=="autogonext"&&(e=z.isTwoValueEquals(e,!0)),e==="autogonext"&&(e=!0),r.setPropertyValue("autoAdvanceEnabled",e)}},{name:"autoAdvanceAllowComplete:boolean",default:!0,alternativeName:"allowCompleteSurveyAutomatic",visibleIf:r=>r.autoAdvanceEnabled===!0},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onComplete"]},{name:"validateVisitedEmptyFields:boolean",dependsOn:"checkErrorsMode",visibleIf:r=>r.checkErrorsMode==="onValueChanged"},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"commentAreaRows:number",minValue:1},{name:"startSurveyText",serializationProperty:"locStartSurveyText",visibleIf:r=>r.firstPageIsStartPage},{name:"pagePrevText",serializationProperty:"locPagePrevText",visibleIf:r=>r.showNavigationButtons!=="none"&&r.showPrevButton},{name:"pageNextText",serializationProperty:"locPageNextText",visibleIf:r=>r.showNavigationButtons!=="none"},{name:"completeText",serializationProperty:"locCompleteText",visibleIf:r=>r.showNavigationButtons!=="none"},{name:"previewText",serializationProperty:"locPreviewText",visibleIf:r=>r.showPreviewBeforeComplete},{name:"editText",serializationProperty:"locEditText",visibleIf:r=>r.showPreviewBeforeComplete},{name:"requiredMark",default:"*",alternativeName:"requiredText"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:r=>!r||r.showQuestionNumbers!=="off"},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredMark"],choices:r=>r?r.getQuestionTitlePatternOptions():[]},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStartPage:boolean",default:!1,alternativeName:"firstPageIsStarted"},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["standard","singlePage","questionPerPage","inputPerPage"]},{name:"showPreviewBeforeComplete:boolean",default:!1,onSetValue:(r,e,t)=>{r&&r.setShowPreviewBeforeComplete(e)}},{name:"previewMode",default:"allQuestions",choices:["allQuestions","answeredQuestions"],visibleIf:r=>r.showPreviewBeforeComplete},{name:"showTimer:boolean"},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0,enableIf:r=>r.showTimer},{name:"timeLimitPerPage:number",alternativeName:"maxTimeToFinishPage",default:0,minValue:0,enableIf:r=>r.showTimer},{name:"timerLocation",default:"top",choices:["top","bottom"],enableIf:r=>r.showTimer},{name:"timerInfoMode",alternativeName:"showTimerPanelMode",default:"combined",choices:["page","survey","combined"],enableIf:r=>r.showTimer},{name:"showTimerPanel",visible:!1,isSerializable:!1},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"gridLayoutEnabled:boolean",default:!1},{name:"width",visibleIf:r=>r.widthMode==="static"},{name:"fitToContainer:boolean",default:!0,visible:!1},{name:"headerView",default:"basic",choices:["basic","advanced"],visible:!1},{name:"backgroundImage:file",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}]);class pv extends Ii{get waitingChoicesByURL(){return!this.isChoicesLoaded&&this.hasChoicesUrl}get selectedItemValues(){return this.getPropertyValue("selectedItemValues")}set selectedItemValues(e){this.setPropertyValue("selectedItemValues",e)}constructor(e){super(e),this.isSettingDefaultValue=!1,this.isSettingComment=!1,this.isRunningChoices=!1,this.isFirstLoadChoicesFromUrl=!0,this.isUpdatingChoicesDependedQuestions=!1,this._renderedChoices=[],this.renderedChoicesAnimation=new So(this.getRenderedChoicesAnimationOptions(),i=>{this._renderedChoices=i,this.renderedChoicesChangedCallback&&this.renderedChoicesChangedCallback()},()=>this._renderedChoices),this.headItemsCount=0,this.footItemsCount=0,this.prevIsOtherSelected=!1,this.otherItemValue=this.createItemValue("other"),this.noneItemValue=this.createNoneItem(X.noneItemValue,"noneText","noneItemText"),this.refuseItemValue=this.createNoneItem(X.refuseItemValue,"refuseText","refuseItemText"),this.dontKnowItemValue=this.createNoneItem(X.dontKnowItemValue,"dontKnowText","dontKnowItemText"),this.createItemValues("choices"),this.registerPropertyChangedHandlers(["choices"],()=>{this.filterItems()||this.onVisibleChoicesChanged()}),this.createItemValues("customChoices"),this.registerPropertyChangedHandlers(["customChoices"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","choiceValuesFromQuestion","choiceTextsFromQuestion","showNoneItem","showRefuseItem","showDontKnowItem","isUsingRestful","isMessagePanelVisible"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],()=>{this.onVisibleChanged()}),this.registerPropertyChangedHandlers(["selecteditemValues"],i=>{this.onSelectedItemValuesChangedHandler(i)}),this.createNewArray("visibleChoices",()=>this.updateRenderedChoices(),()=>this.updateRenderedChoices()),this.setNewRestfulProperty();var t=this.createLocalizableString("otherText",this.otherItemValue,!0,"otherItemText");this.createLocalizableString("otherErrorText",this,!0,"otherRequiredError"),this.createLocalizableString("otherPlaceholder",this,!1,!0),this.otherItemValue.locOwner=this,this.otherItemValue.setLocText(t),this.choicesByUrl.createItemValue=i=>this.createItemValue(i),this.choicesByUrl.beforeSendRequestCallback=()=>{this.onBeforeSendRequest()},this.choicesByUrl.getResultCallback=i=>{this.onLoadChoicesFromUrl(i)},this.choicesByUrl.updateResultCallback=(i,s)=>this.survey?this.survey.updateChoicesFromServer(this,i,s):i}getType(){return"selectbase"}dispose(){super.dispose();const e=this.getQuestionWithChoices();e&&e.removeDependedQuestion(this)}get otherTextAreaModel(){return this.otherTextAreaModelValue||(this.otherTextAreaModelValue=new hv(this.getOtherTextAreaOptions())),this.otherTextAreaModelValue}getOtherTextAreaOptions(){return{question:this,id:()=>this.otherId,propertyNames:["otherValue","comment"],className:()=>this.cssClasses.other,placeholder:()=>this.otherPlaceholder,isDisabledAttr:()=>this.isInputReadOnly||!1,rows:()=>this.commentAreaRows,maxLength:()=>this.getOthersMaxLength(),autoGrow:()=>this.survey&&this.survey.autoGrowComment,ariaRequired:()=>this.ariaRequired||this.a11y_input_ariaRequired,ariaLabel:()=>this.ariaLabel||this.a11y_input_ariaLabel,getTextValue:()=>this.otherValue,onTextAreaChange:t=>{this.onOtherValueChange(t)},onTextAreaInput:t=>{this.onOtherValueInput(t)}}}resetDependedQuestion(){this.choicesFromQuestion=""}get otherId(){return this.id+"_other"}getCommentElementsId(){return[this.commentId,this.otherId]}getItemValueType(){return"itemvalue"}createItemValue(e,t){const i=le.createClass(this.getItemValueType(),{value:e});return i.locOwner=this,t&&(i.text=t),i}hasErrors(e=!0,t=null){return(!t||t.isOnValueChanged!==!0)&&this.clearIncorrectValues(),super.hasErrors(e,t)}get isUsingCarryForward(){return!!this.carryForwardQuestionType}get carryForwardQuestionType(){return this.getPropertyValue("carryForwardQuestionType")}setCarryForwardQuestionType(e,t){const i=e?"select":t?"array":void 0;this.setPropertyValue("carryForwardQuestionType",i)}get isUsingRestful(){return this.getPropertyValueWithoutDefault("isUsingRestful")||!1}updateIsUsingRestful(){this.setPropertyValueDirectly("isUsingRestful",this.hasChoicesUrl)}supportGoNextPageError(){return!this.isOtherSelected||!!this.otherValue}isLayoutTypeSupported(e){return!0}localeChanged(){super.localeChanged(),this.choicesOrder!=="none"&&(this.updateVisibleChoices(),this.onVisibleChoicesChanged())}locStrsChanged(){super.locStrsChanged(),this.choicesFromUrl&&(Je.locStrsChanged(this.choicesFromUrl),Je.locStrsChanged(this.visibleChoices)),this.isUsingCarryForward&&Je.locStrsChanged(this.visibleChoices)}updatePrevOtherErrorValue(e){const t=this.otherValue;e!==t&&(this.prevOtherErrorValue=t)}get otherValue(){return this.showCommentArea?this.otherValueCore:this.comment}set otherValue(e){this.updatePrevOtherErrorValue(e),this.showCommentArea?this.setOtherValueInternally(e):this.comment=e}get otherValueCore(){return this.getPropertyValue("otherValue")}set otherValueCore(e){this.setPropertyValue("otherValue",e)}get otherItem(){return this.otherItemValue}get isOtherSelected(){return this.hasOther&&this.getHasOther(this.renderedValue)}get isNoneSelected(){return this.showNoneItem&&this.getIsItemValue(this.renderedValue,this.noneItem)}get showNoneItem(){return this.getPropertyValue("showNoneItem")}set showNoneItem(e){this.setPropertyValue("showNoneItem",e)}get hasNone(){return this.showNoneItem}set hasNone(e){this.showNoneItem=e}get noneItem(){return this.noneItemValue}get noneText(){return this.getLocalizableStringText("noneText")}set noneText(e){this.setLocalizableStringText("noneText",e)}get locNoneText(){return this.getLocalizableString("noneText")}get showRefuseItem(){return this.getPropertyValue("showRefuseItem")}set showRefuseItem(e){this.setPropertyValue("showRefuseItem",e)}get refuseItem(){return this.refuseItemValue}get refuseText(){return this.getLocalizableStringText("refuseText")}set refuseText(e){this.setLocalizableStringText("refuseText",e)}get locRefuseText(){return this.getLocalizableString("refuseText")}get showDontKnowItem(){return this.getPropertyValue("showDontKnowItem")}set showDontKnowItem(e){this.setPropertyValue("showDontKnowItem",e)}get dontKnowItem(){return this.dontKnowItemValue}get dontKnowText(){return this.getLocalizableStringText("dontKnowText")}set dontKnowText(e){this.setLocalizableStringText("dontKnowText",e)}get locDontKnowText(){return this.getLocalizableString("dontKnowText")}createNoneItem(e,t,i){const s=this.createItemValue(e);s.isExclusive=!0;const n=this.createLocalizableString(t,s,!0,i);return s.locOwner=this,s.setLocText(n),s}get choicesVisibleIf(){return this.getPropertyValue("choicesVisibleIf","")}set choicesVisibleIf(e){this.setPropertyValue("choicesVisibleIf",e),this.filterItems()}get choicesEnableIf(){return this.getPropertyValue("choicesEnableIf","")}set choicesEnableIf(e){this.setPropertyValue("choicesEnableIf",e),this.filterItems()}surveyChoiceItemVisibilityChange(){this.filterItems()}runConditionCore(e,t){super.runConditionCore(e,t),this.runItemsEnableCondition(e,t),this.runItemsCondition(e,t),this.choices.forEach(i=>{i.runConditionCore(e,t)})}isTextValue(){return!0}setDefaultValue(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0;const e=this.comment;super.setDefaultValue(),this.isSettingDefaultValue=!1,this.comment&&this.getStoreOthersAsComment()&&e!==this.comment&&(this.setValueCore(this.setOtherValueIntoValue(this.value)),this.setCommentIntoData(this.comment))}getIsMultipleValue(){return!1}convertDefaultValue(e){if(e==null||e==null)return e;if(this.getIsMultipleValue()){if(!Array.isArray(e))return[e]}else if(Array.isArray(e)&&e.length>0)return e[0];return e}filterItems(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var e=this.getDataFilteredValues(),t=this.getDataFilteredProperties();return this.runItemsEnableCondition(e,t),this.runItemsCondition(e,t)}runItemsCondition(e,t){this.setConditionalChoicesRunner();var i=this.runConditionsForItems(e,t);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),i&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),i}runItemsEnableCondition(e,t){this.setConditionalEnableChoicesRunner();var i=Je.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,e,t,(s,n)=>n&&this.onEnableItemCallBack(s));i&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()}onAfterRunItemsEnableCondition(){}onEnableItemCallBack(e){return!0}onSelectedItemValuesChangedHandler(e){var t;(t=this.survey)===null||t===void 0||t.loadedChoicesFromServer(this)}getItemIfChoicesNotContainThisValue(e,t){return this.waitingChoicesByURL?this.createItemValue(e,t):null}getSingleSelectedItem(){const e=this.selectedItemValues;if(this.isEmpty())return null;const t=Je.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(t),!t&&(!e||this.value!=e.id)&&this.updateSelectedItemValues(),t||e||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))}onGetSingleSelectedItem(e){}getMultipleSelectedItems(){return[]}setConditionalChoicesRunner(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new ar(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null}setConditionalEnableChoicesRunner(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new ar(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null}canSurveyChangeItemVisibility(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()}changeItemVisibility(){return this.canSurveyChangeItemVisibility()?(e,t)=>this.survey.getChoiceItemVisibility(this,e,t):null}runConditionsForItems(e,t){this.filteredChoicesValue=[];const i=this.changeItemVisibility();return Je.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,e,t,!this.survey||!this.survey.areInvisibleElementsShowing,(s,n)=>i?i(s,n):n)}getHasOther(e){return this.getIsItemValue(e,this.otherItem)}getIsItemValue(e,t){return e===t.value}get validatedValue(){return this.rendredValueToDataCore(this.value)}createRestful(){return new qi}setNewRestfulProperty(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this}get autoOtherMode(){return this.getPropertyValue("autoOtherMode")}set autoOtherMode(e){this.setPropertyValue("autoOtherMode",e)}getQuestionComment(){return this.showCommentArea?super.getQuestionComment():this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?super.getQuestionComment():this.otherValueCore}selectOtherValueFromComment(e){e&&(this.prevIsOtherSelected=!0),this.value=e?this.otherItem.value:void 0}setQuestionComment(e){if(this.updatePrevOtherErrorValue(e),this.showCommentArea){super.setQuestionComment(e);return}this.onUpdateCommentOnAutoOtherMode(e),this.getStoreOthersAsComment()?super.setQuestionComment(e):this.setOtherValueInternally(e),this.updateChoicesDependedQuestions()}onUpdateCommentOnAutoOtherMode(e){if(!this.autoOtherMode)return;this.prevOtherValue=void 0;const t=this.isOtherSelected;(!t&&e||t&&!e)&&this.selectOtherValueFromComment(!!e)}setOtherValueInternally(e){!this.isSettingComment&&e!=this.otherValueCore&&(this.isSettingComment=!0,this.otherValueCore=e,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.getValueOnSettingOther(e)),this.isSettingComment=!1)}getValueOnSettingOther(e){const t=this.rendredValueToData(this.renderedValue);if(this.showCommentArea||this.getStoreOthersAsComment())return t;const i=Je.getItemByValue(this.visibleChoices,e);if(!i||i===this.otherItem)return t;if(this.otherValueCore="",!Array.isArray(t))return e;const s=t.indexOf(this.otherItem.value);return s>-1&&t.splice(s,1),t.indexOf(e)<0&&t.push(e),t}clearValue(e){super.clearValue(e),this.prevOtherValue=void 0,this.selectedItemValues=void 0}updateCommentFromSurvey(e){super.updateCommentFromSurvey(e),this.prevOtherValue=void 0}get renderedValue(){return this.getPropertyValue("renderedValue",null)}set renderedValue(t){if(!this.isReadOnlyAttr){this.setPropertyValue("renderedValue",t);var t=this.rendredValueToData(t);this.isTwoValueEquals(t,this.value)||(this.value=t)}}setQuestionValue(e,t=!0,i=!0){if(!(this.isLoadingFromJson||this.isTwoValueEquals(this.value,e))&&(super.setQuestionValue(e,t),this.setPropertyValue("renderedValue",this.rendredValueFromData(e)),this.updateChoicesDependedQuestions(),!(this.hasComment||!i))){var s=this.isOtherSelected;if(s&&this.prevOtherValue){var n=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=n}!s&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.makeCommentEmpty=!0,this.otherValueCore="",this.setPropertyValue("comment",""))}}setValueCore(e){super.setValueCore(e),this.makeCommentEmpty&&(this.setCommentIntoData(""),this.makeCommentEmpty=!1)}setNewValue(e){e=this.valueFromData(e),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(e))&&(this.cachedValueForUrlRequests=e),super.setNewValue(e)}valueFromData(e){let t=Je.getItemByValue(this.activeChoices,e);return t?t.value:super.valueFromData(e)}rendredValueFromData(e){return this.getStoreOthersAsComment()?e:this.renderedValueFromDataCore(e)}rendredValueToData(e){return this.getStoreOthersAsComment()?e:this.rendredValueToDataCore(e)}renderedValueFromDataCore(e){return this.hasUnknownValue(e,!0,!1)?(this.otherValue=e,this.otherItem.value):this.valueFromData(e)}rendredValueToDataCore(e){return e==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(e=this.otherValue),e}needConvertRenderedOtherToDataValue(){let e=this.otherValue;return!e||(e=e.trim(),!e)?!1:this.hasUnknownValue(e,!0,!1)}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.waitingChoicesByURL&&!this.waitingGetChoiceDisplayValueResponse}updateSelectedItemValues(){if(this.waitingGetChoiceDisplayValueResponse||!this.survey||this.isEmpty())return;const e=this.value,t=Array.isArray(e)?e:[e];t.some(s=>!Je.getItemByValue(this.choices,s))&&(this.choicesLazyLoadEnabled||this.hasChoicesUrl)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.updateIsReady(),this.survey.getChoiceDisplayValue({question:this,values:t,setItems:(s,...n)=>{if(this.waitingGetChoiceDisplayValueResponse=!1,!s||!s.length){this.updateIsReady();return}const o=s.map((h,d)=>this.createItemValue(t[d],h));this.setCustomValuesIntoItems(o,n),Array.isArray(e)?this.selectedItemValues=o:this.selectedItemValues=o[0],this.updateIsReady()}}))}setCustomValuesIntoItems(e,t){!Array.isArray(t)||t.length===0||t.forEach(i=>{const s=i.values,n=i.propertyName;if(Array.isArray(s))for(let o=0;o<e.length&&o<s.length;o++)e[o][n]=s[o]})}hasUnknownValue(e,t=!1,i=!0,s=!1){if(!Array.isArray(e))return this.hasUnknownValueItem(e,t,i,s);for(let n=0;n<e.length;n++)if(this.hasUnknownValueItem(e,t,i,s))return!0;return!1}hasUnknownValueItem(e,t=!1,i=!0,s=!1){if(!s&&this.isValueEmpty(e)||t&&e==this.otherItem.value||this.showNoneItem&&e==this.noneItem.value||this.showRefuseItem&&e==this.refuseItem.value||this.showDontKnowItem&&e==this.dontKnowItem.value)return!1;var n=i?this.getFilteredChoices():this.activeChoices;return Je.getItemByValue(n,e)==null}isValueDisabled(e){var t=Je.getItemByValue(this.getFilteredChoices(),e);return!!t&&!t.isEnabled}endLoadingFromJson(){super.endLoadingFromJson(),this.updateVisibleChoices()}get customChoices(){return this.getPropertyValue("customChoices")}set customChoices(e){this.setPropertyValue("customChoices",e)}get choicesByUrl(){return this.getPropertyValue("choicesByUrl")}set choicesByUrl(e){e&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(e.toJSON()))}get choices(){return this.getPropertyValue("choices")}set choices(e){this.setPropertyValue("choices",e)}get choicesFromQuestion(){return this.getPropertyValue("choicesFromQuestion")}set choicesFromQuestion(e){var t=this.getQuestionWithChoices();this.isLockVisibleChoices=!!t&&t.name===e,t&&t.name!==e&&(t.removeDependedQuestion(this),this.isInDesignMode&&!this.isLoadingFromJson&&e&&this.setPropertyValue("choicesFromQuestion",void 0)),this.setPropertyValue("choicesFromQuestion",e),this.isLockVisibleChoices=!1}get choicesFromQuestionMode(){return this.getPropertyValue("choicesFromQuestionMode")}set choicesFromQuestionMode(e){this.setPropertyValue("choicesFromQuestionMode",e)}get choiceValuesFromQuestion(){return this.getPropertyValue("choiceValuesFromQuestion")}set choiceValuesFromQuestion(e){this.setPropertyValue("choiceValuesFromQuestion",e)}get choiceTextsFromQuestion(){return this.getPropertyValue("choiceTextsFromQuestion")}set choiceTextsFromQuestion(e){this.setPropertyValue("choiceTextsFromQuestion",e)}get hideIfChoicesEmpty(){return this.getPropertyValue("hideIfChoicesEmpty")}set hideIfChoicesEmpty(e){this.setPropertyValue("hideIfChoicesEmpty",e)}get keepIncorrectValues(){return this.getPropertyValue("keepIncorrectValues",!1)}set keepIncorrectValues(e){this.setPropertyValue("keepIncorrectValues",e)}get storeOthersAsComment(){return this.getPropertyValue("storeOthersAsComment")}set storeOthersAsComment(e){this.setPropertyValue("storeOthersAsComment",e)}get choicesOrder(){return this.getPropertyValue("choicesOrder")}set choicesOrder(e){e=e.toLowerCase(),e!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",e),this.onVisibleChoicesChanged())}get otherText(){return this.getLocalizableStringText("otherText")}set otherText(e){this.setLocalizableStringText("otherText",e),this.onVisibleChoicesChanged()}get locOtherText(){return this.getLocalizableString("otherText")}get separateSpecialChoices(){return this.getPropertyValue("separateSpecialChoices")}set separateSpecialChoices(e){this.setPropertyValue("separateSpecialChoices",e)}get otherPlaceholder(){return this.getLocalizableStringText("otherPlaceholder")}set otherPlaceholder(e){this.setLocalizableStringText("otherPlaceholder",e)}get locOtherPlaceholder(){return this.getLocalizableString("otherPlaceholder")}get otherPlaceHolder(){return this.otherPlaceholder}set otherPlaceHolder(e){this.otherPlaceholder=e}get otherErrorText(){return this.getLocalizableStringText("otherErrorText")}set otherErrorText(e){this.setLocalizableStringText("otherErrorText",e)}get locOtherErrorText(){return this.getLocalizableString("otherErrorText")}get visibleChoices(){return this.getPropertyValue("visibleChoices")}get enabledChoices(){for(var e=[],t=this.visibleChoices,i=0;i<t.length;i++)t[i].isEnabled&&e.push(t[i]);return e}updateVisibleChoices(){if(this.isLoadingFromJson||this.isDisposed)return;var e=this.calcVisibleChoices(),t=new Array;(e||[]).forEach(s=>t.push(s));const i=this.visibleChoices;(!this.isTwoValueEquals(i,t)||this.choicesLazyLoadEnabled)&&(this.setArrayPropertyDirectly("visibleChoices",t),this.updateRenderedChoices())}calcVisibleChoices(){let e=new Array;return this.customChoices.forEach(t=>e.push(t)),this.getFilteredChoices().forEach(t=>e.push(t)),e=this.sortArrayByChoicesOrder(e),this.addToVisibleChoices(e,this.isAddDefaultItems),e}setCanShowOptionItemCallback(e){this.canShowOptionItemCallback=e,e&&this.onVisibleChoicesChanged()}get newItem(){return this.newItemValue}addToVisibleChoices(e,t){this.headItemsCount=0,this.footItemsCount=0,this.isEmptyActiveChoicesInDesign||this.addNewItemToVisibleChoices(e,t);const i=new Array;this.addNonChoicesItems(i,t),i.sort((s,n)=>s.index===n.index?0:s.index<n.index?-1:1);for(let s=0;s<i.length;s++){const n=i[s];n.index<0?(e.splice(s,0,n.item),this.headItemsCount++):(e.push(n.item),this.footItemsCount++)}}addNewItemToVisibleChoices(e,t){t&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0,this.newItemValue.registerFunctionOnPropertyValueChanged("isVisible",()=>{this.updateVisibleChoices()})),this.newItemValue.isVisible&&!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,t,!1)&&(this.footItemsCount=1,e.push(this.newItemValue)))}addNonChoicesItems(e,t){this.supportNone()&&this.addNonChoiceItem(e,this.noneItem,t,this.showNoneItem,X.specialChoicesOrder.noneItem),this.supportRefuse()&&this.addNonChoiceItem(e,this.refuseItem,t,this.showRefuseItem,X.specialChoicesOrder.refuseItem),this.supportDontKnow()&&this.addNonChoiceItem(e,this.dontKnowItem,t,this.showDontKnowItem,X.specialChoicesOrder.dontKnowItem),this.supportOther()&&this.addNonChoiceItem(e,this.otherItem,t,this.hasOther,X.specialChoicesOrder.otherItem)}addNonChoiceItem(e,t,i,s,n){this.canShowOptionItem(t,i,s)&&n.forEach(o=>e.push({index:o,item:t}))}canShowOptionItem(e,t,i){let s=t&&(this.canShowOptionItemCallback?this.canShowOptionItemCallback(e):!0)||i;return this.canSurveyChangeItemVisibility()?this.changeItemVisibility()(e,s):s}isItemInList(e){return e===this.otherItem?this.hasOther:e===this.noneItem?this.showNoneItem:e===this.refuseItem?this.showRefuseItem:e===this.dontKnowItem?this.showDontKnowItem:e!==this.newItemValue}get isAddDefaultItems(){return X.showDefaultItemsInCreator&&this.isInDesignMode&&!this.customWidget}getPlainData(e={includeEmpty:!0,includeQuestionTypes:!1}){var t=super.getPlainData(e);if(t){var i=Array.isArray(this.value)?this.value:[this.value];t.isNode=!0,t.data=(t.data||[]).concat(i.map((s,n)=>{var o=Je.getItemByValue(this.visibleChoices,s),h={name:n,title:this.getLocalizationString("choices_Choice"),value:s,displayValue:this.getChoicesDisplayValue(this.visibleChoices,s),getString:d=>typeof d=="object"?JSON.stringify(d):d,isNode:!1};return o&&(e.calculations||[]).forEach(d=>{h[d.propertyName]=o[d.propertyName]}),this.isOtherSelected&&this.otherItemValue===o&&(h.isOther=!0,h.displayValue=this.otherValue),h}))}return t}getDisplayValueCore(e,t){return this.useDisplayValuesInDynamicTexts?this.getChoicesDisplayValue(this.visibleChoices,t):t}getDisplayValueEmpty(){return Je.getTextOrHtmlByValue(this.visibleChoices,void 0)}getChoicesDisplayValue(e,t){if(t==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;const i=this.getSingleSelectedItem();if(i&&this.isTwoValueEquals(i.value,t))return i.locText.textOrHtml;var s=Je.getTextOrHtmlByValue(e,t);return s==""&&t?t:s}getDisplayArrayValue(e,t,i){var s=this.visibleChoices,n=[];const o=[];for(var h=0;h<t.length;h++)o.push(i?i(h):t[h]);if(z.isTwoValueEquals(this.value,o)&&this.getMultipleSelectedItems().forEach((d,f)=>n.push(this.getItemDisplayValue(d,o[f]))),n.length===0)for(var h=0;h<o.length;h++){let f=this.getChoicesDisplayValue(s,o[h]);f&&n.push(f)}return n.join(X.choicesSeparator)}getItemDisplayValue(e,t){if(e===this.otherItem){if(this.hasOther&&this.showCommentArea&&t)return t;if(this.comment)return this.comment}return e.locText.textOrHtml}getFilteredChoices(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices}get activeChoices(){const e=this.getCarryForwardQuestion();return this.carryForwardQuestionType==="select"?(e.addDependedQuestion(this),this.getChoicesFromSelectQuestion(e)):this.carryForwardQuestionType==="array"?(e.addDependedQuestion(this),this.getChoicesFromArrayQuestion(e)):this.isEmptyActiveChoicesInDesign?[]:this.choicesFromUrl?this.choicesFromUrl:this.getChoices()}get isMessagePanelVisible(){return this.getPropertyValue("isMessagePanelVisible",!1)}set isMessagePanelVisible(e){this.setPropertyValue("isMessagePanelVisible",e)}get isEmptyActiveChoicesInDesign(){return this.isInDesignMode&&(this.hasChoicesUrl||this.isMessagePanelVisible)}getCarryForwardQuestion(e){const t=this.findCarryForwardQuestion(e),i=this.getQuestionWithChoicesCore(t),s=i?null:this.getQuestionWithArrayValue(t);return this.setCarryForwardQuestionType(!!i,!!s),i||s?t:null}getIsReadyDependsOn(){const e=super.getIsReadyDependsOn();return this.carryForwardQuestion&&e.push(this.carryForwardQuestion),e}getQuestionWithChoices(){return this.getQuestionWithChoicesCore(this.findCarryForwardQuestion())}findCarryForwardQuestion(e){var t;return e||(e=this.data||((t=this.parentQuestion)===null||t===void 0?void 0:t.data)),this.carryForwardQuestion=null,this.choicesFromQuestion&&e&&(this.carryForwardQuestion=e.findQuestionByName(this.choicesFromQuestion)),this.carryForwardQuestion}getQuestionWithChoicesCore(e){return e&&e.visibleChoices&&le.isDescendantOf(e.getType(),"selectbase")&&e!==this?e:null}getQuestionWithArrayValue(e){return e&&e.isValueArray?e:null}getChoicesFromArrayQuestion(e){if(this.isInDesignMode)return[];const t=e.value;if(!Array.isArray(t))return[];const i=[];for(var s=0;s<t.length;s++){const n=t[s];if(!z.isValueObject(n))continue;const o=this.getValueKeyName(n);if(o&&!this.isValueEmpty(n[o])){const h=this.choiceTextsFromQuestion?n[this.choiceTextsFromQuestion]:void 0;i.push(this.createItemValue(n[o],h))}}return i}getValueKeyName(e){if(this.choiceValuesFromQuestion)return this.choiceValuesFromQuestion;const t=Object.keys(e);return t.length>0?t[0]:void 0}getChoicesFromSelectQuestion(e){if(this.isInDesignMode)return[];const t=[];var i=this.choicesFromQuestionMode=="selected"?!0:this.choicesFromQuestionMode=="unselected"?!1:void 0;const s=e.visibleChoices;for(var n=0;n<s.length;n++)if(!e.isBuiltInChoice(s[n])){if(i===void 0){t.push(this.copyChoiceItem(s[n]));continue}var o=e.isItemSelected(s[n]);(o&&i||!o&&!i)&&t.push(this.copyChoiceItem(s[n]))}return this.choicesFromQuestionMode==="selected"&&!this.showOtherItem&&e.isOtherSelected&&e.comment&&t.push(this.createItemValue(e.otherItem.value,e.comment)),t}copyChoiceItem(e){const t=this.createItemValue(e.value);return t.setData(e),t}get hasActiveChoices(){var e=this.visibleChoices;(!e||e.length==0)&&(this.onVisibleChoicesChanged(),e=this.visibleChoices);for(var t=0;t<e.length;t++)if(!this.isBuiltInChoice(e[t]))return!0;return!1}isBuiltInChoice(e){return[this.otherItem,this.noneItem,this.refuseItem,this.dontKnowItem,this.newItemValue].indexOf(e)>-1}isNoneItem(e){return e.isExclusive===!0}getChoices(){return this.choices}get showOtherItem(){return this.getPropertyValue("showOtherItem",!1)}set showOtherItem(e){!this.supportOther()||this.showOtherItem==e||(this.setPropertyValue("showOtherItem",e),this.onVisibleChoicesChanged())}get hasOther(){return this.showOtherItem}set hasOther(e){this.showOtherItem=e}get requireUpdateCommentValue(){return this.hasComment||this.showOtherItem}supportOther(){return this.isSupportProperty("showOtherItem")}supportNone(){return this.isSupportProperty("showNoneItem")}supportRefuse(){return this.isSupportProperty("showRefuseItem")}supportDontKnow(){return this.isSupportProperty("showDontKnowItem")}isSupportProperty(e){return!this.isDesignMode||this.getPropertyByName(e).visible}onCheckForErrors(e,t,i){if(super.onCheckForErrors(e,t,i),!this.hasOther||!this.isOtherSelected||this.otherValue||t&&!this.prevOtherErrorValue)return;const s=new aE(this.otherErrorText,this);s.onUpdateErrorTextCallback=n=>{n.text=this.otherErrorText},e.push(s)}setSurveyImpl(e,t){this.isRunningChoices=!0,super.setSurveyImpl(e,t),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()}setSurveyCore(e){super.setSurveyCore(e),e&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()}getStoreOthersAsComment(){return this.isSettingDefaultValue||this.showCommentArea?!1:this.storeOthersAsComment===!0||this.storeOthersAsComment=="default"&&(this.survey!=null?this.survey.storeOthersAsComment:!0)||this.hasChoicesUrl&&!this.choicesFromUrl}onSurveyLoad(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),super.onSurveyLoad()}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t),e!=this.getValueName()&&this.runChoicesByUrl();const i=this.choicesFromQuestion;e&&i&&(e===i||t===i)&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues())}updateValueFromSurvey(e,t){var i="";this.hasOther&&this.activeChoices.length>0&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(e)&&!this.getHasOther(e)?(i=this.getCommentFromValue(e),e=this.setOtherValueIntoValue(e)):this.data&&(i=this.data.getComment(this.getValueName()))),super.updateValueFromSurvey(e,t),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),i&&this.setNewComment(i)}getCommentFromValue(e){return e}setOtherValueIntoValue(e){return this.otherItem.value}onOtherValueInput(e){this.isInputTextUpdate?e.target&&(this.otherValue=e.target.value):this.updateCommentElements()}onOtherValueChange(e){this.otherValue=e.target.value,this.otherValue!==e.target.value&&(e.target.value=this.otherValue)}runChoicesByUrl(){if(this.updateIsUsingRestful(),!(!this.choicesByUrl||this.isLoadingFromJson||this.isRunningChoices||this.isInDesignMode)){var e=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;e||(e=this.survey),e&&(this.updateIsReady(),this.isRunningChoices=!0,this.choicesByUrl.run(e),this.isRunningChoices=!1)}}onBeforeSendRequest(){X.web.disableQuestionWhileLoadingChoices===!0&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)}onLoadChoicesFromUrl(e){this.enableOnLoadingChoices&&(this.readOnly=!1);const t=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&t.push(this.choicesByUrl.error);var i=null,s=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,s=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value);var n=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,s);if(e&&(e.length>0||this.choicesByUrl.allowEmptyResponse)&&(i=new Array,Je.setData(i,e)),i)for(var o=0;o<i.length;o++)i[o].locOwner=this;this.setChoicesFromUrl(i,t,n)}canAvoidSettChoicesFromUrl(e){return this.isFirstLoadChoicesFromUrl||(!e||Array.isArray(e)&&e.length===0)&&!this.isEmpty()?!1:z.isTwoValueEquals(this.choicesFromUrl,e)}setChoicesFromUrl(e,t,i){if(!this.canAvoidSettChoicesFromUrl(e)){if(this.isFirstLoadChoicesFromUrl=!1,this.choicesFromUrl=e,this.filterItems(),this.onVisibleChoicesChanged(),e){var s=this.updateCachedValueForUrlRequests(i,e);if(s&&!this.isReadOnly){var n=!this.isTwoValueEquals(this.value,s.value);try{this.isValueEmpty(s.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=n,n?this.value=s.value:this.setQuestionValue(s.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!e&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=t,this.choicesLoaded()}}createCachedValueForUrlRequests(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var i=[],s=0;s<e.length;s++)i.push(this.createCachedValueForUrlRequests(e[s],!0));return i}var n=t?!this.hasUnknownValue(e):!0;return{value:e,isExists:n}}updateCachedValueForUrlRequests(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var i=[],s=0;s<e.length;s++){var n=this.updateCachedValueForUrlRequests(e[s],t);if(n&&!this.isValueEmpty(n.value)){var o=n.value,d=Je.getItemByValue(t,n.value);d&&(o=d.value),i.push(o)}}return{value:i}}var h=e.isExists&&this.hasUnknownValue(e.value)?null:e.value,d=Je.getItemByValue(t,h);return d&&(h=d.value),{value:h}}updateChoicesDependedQuestions(){this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning||(this.isUpdatingChoicesDependedQuestions=!0,this.updateDependedQuestions(),this.isUpdatingChoicesDependedQuestions=!1)}updateDependedQuestion(){this.onVisibleChoicesChanged(),this.clearIncorrectValues()}onSurveyValueChanged(e){super.onSurveyValueChanged(e),this.updateChoicesDependedQuestions()}onVisibleChoicesChanged(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())}isVisibleCore(){const e=super.isVisibleCore();if(!this.hideIfChoicesEmpty||!e)return e;var t=this.isUsingCarryForward?this.visibleChoices:this.getFilteredChoices();return!t||t.length>0}sortArrayByChoicesOrder(e){const t=e.slice();if(this.isInDesignMode)return t;const i=this.choicesOrder.toLowerCase();return i=="asc"?this.sortArray(t,1):i=="desc"?this.sortArray(t,-1):i=="random"?this.randomizeArray(t):t}sortArray(e,t){return e.sort(function(i,s){return z.compareStrings(i.calculatedText,s.calculatedText)*t})}randomizeArray(e){return z.randomizeArray(e)}get hasChoicesUrl(){return this.choicesByUrl&&!!this.choicesByUrl.url}clearIncorrectValues(){!this.canClearIncorrectValues()||!this.hasValueToClearIncorrectValues()||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())}canClearIncorrectValues(){return!(this.canAddCustomChoices()||this.carryForwardQuestion&&!this.carryForwardQuestion.isReady||this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1||this.hasChoicesUrl&&(!this.choicesFromUrl||this.choicesFromUrl.length==0))}canAddCustomChoices(){return!1}hasValueToClearIncorrectValues(){return this.survey&&this.survey.keepIncorrectValues?!1:!this.keepIncorrectValues&&!this.isEmpty()}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e),this.clearIncorrectValues()}isItemSelected(e){return e===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(e)}isItemSelectedCore(e){return e.value===this.value}clearDisabledValues(){!this.survey||!this.survey.clearDisabledChoices||this.clearDisabledValuesCore()}clearIncorrectValuesCore(){var e=this.value;this.canClearValueAnUnknown(e)&&this.clearValue(!0)}canClearValueAnUnknown(e){return!this.getStoreOthersAsComment()&&this.isOtherSelected?!1:this.hasUnknownValue(e,!0,!0,!0)}clearDisabledValuesCore(){this.isValueDisabled(this.value)&&this.clearValue(!0)}clearUnusedValues(){super.clearUnusedValues(),this.isOtherSelected||(this.otherValue=""),!this.showCommentArea&&!this.getStoreOthersAsComment()&&!this.isOtherSelected&&(this.comment="")}getColumnClass(){return new fe().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()}getItemIndex(e){return this.visibleChoices.indexOf(e)}getItemClass(e){const t={item:e};var i=this.getItemClassCore(e,t);return t.css=i,this.survey&&this.survey.updateChoiceItemCss(this,t),t.css}getCurrentColCount(){return this.colCount}getItemClassCore(e,t){const i=new fe().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&this.colCount===0).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&this.colCount!==0).append(this.cssClasses.itemOnError,this.hasCssError()),s=this.getIsDisableAndReadOnlyStyles(!e.isEnabled),n=s[0],o=s[1],h=this.isItemSelected(e)||this.isOtherSelected&&this.otherItem.value===e.value,d=!o&&!h&&!(this.survey&&this.survey.isDesignMode),f=e===this.noneItem;return t.isDisabled=o||n,t.isChecked=h,t.isNone=f,i.append(this.cssClasses.itemDisabled,o).append(this.cssClasses.itemReadOnly,n).append(this.cssClasses.itemPreview,this.isPreviewStyle).append(this.cssClasses.itemChecked,h).append(this.cssClasses.itemHover,d).append(this.cssClasses.itemNone,f).toString()}getLabelClass(e){return new fe().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(e)).toString()}getControlLabelClass(e){return new fe().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(e)).toString()||void 0}updateRenderedChoices(){this.renderedChoices=this.onGetRenderedChoicesCallback?this.onGetRenderedChoicesCallback(this.visibleChoices):this.visibleChoices}getRenderedChoicesAnimationOptions(){return{isAnimationEnabled:()=>this.animationAllowed,getRerenderEvent:()=>this.onElementRerendered,getKey:e=>e!=this.newItemValue?e.value:this.newItemValue,getLeaveOptions:e=>{let t=this.cssClasses.itemLeave;if(this.hasColumns){const i=this.bodyItems.indexOf(e);i!==-1&&i!==this.bodyItems.length-1&&(t="")}return{cssClass:t,onBeforeRunAnimation:Qn,onAfterRunAnimation:Tr}},getAnimatedElement:e=>e.getRootElement(),getEnterOptions:e=>{let t=this.cssClasses.itemEnter;if(this.hasColumns){const i=this.bodyItems.indexOf(e);i!==-1&&i!==this.bodyItems.length-1&&(t="")}return{cssClass:t,onBeforeRunAnimation:i=>{if(this.getCurrentColCount()==0&&this.bodyItems.indexOf(e)>=0){const s=i.parentElement.firstElementChild.offsetLeft;i.offsetLeft>s&&Mh(i,{moveAnimationDuration:"0s",fadeAnimationDelay:"0s"},"--")}Qn(i)},onAfterRunAnimation:Tr}}}}get renderedChoices(){return this._renderedChoices}set renderedChoices(e){this.renderedChoicesAnimation.sync(e)}get headItems(){const e=this.separateSpecialChoices||this.isInDesignMode?this.headItemsCount:0,t=[];for(let i=0;i<e;i++)this.renderedChoices[i]&&t.push(this.renderedChoices[i]);return t}get footItems(){const e=this.separateSpecialChoices||this.isInDesignMode?this.footItemsCount:0,t=[],i=this.renderedChoices;for(let s=0;s<e;s++)this.renderedChoices[i.length-e+s]&&t.push(this.renderedChoices[i.length-e+s]);return t}get dataChoices(){return this.renderedChoices.filter(e=>!this.isBuiltInChoice(e))}get bodyItems(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.renderedChoices}get hasHeadItems(){return this.headItems.length>0}get hasFootItems(){return this.footItems.length>0}get itemFlowDirection(){return X.itemFlowDirection}get columns(){if(!this.hasColumns||this.renderedChoices.length===0)return[];const e=this.getCurrentColCount();let t=!this.separateSpecialChoices&&!this.isInDesignMode?this.renderedChoices:this.dataChoices;return this.itemFlowDirection==="column"?this.getColumnsWithColumnItemFlow(t,e):this.getColumnsWithRowItemFlow(t,e)}getColumnsWithColumnItemFlow(e,t){const i=[];let s=Math.floor(e.length/t);e.length%t&&(s+=1);let n=e.length,o=t,h=0;for(let d=0;d<t;d++){const f=[];for(let p=0;p<s;p++){n<=o&&(s=1);const y=e[p+h];y&&(f.push(y),n--)}i.push(f),o--,h+=f.length}return i}getColumnsWithRowItemFlow(e,t){const i=[];for(let s=0;s<t;s++){const n=[];for(let o=s;o<e.length;o+=t)n.push(e[o]);i.push(n)}return i}getItemsColumnKey(e){return(e||[]).map(t=>t.value||"").join("")}get hasColumns(){return!this.isMobile&&this.getCurrentColCount()>1}get rowLayout(){return this.getCurrentColCount()==0&&!(this.hasFootItems||this.hasHeadItems)}get blockedRow(){return this.getCurrentColCount()==0&&(this.hasFootItems||this.hasHeadItems)}choicesLoaded(){this.isChoicesLoaded=!0,this.updateIsReady(),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()}getItemValueWrapperComponentName(e){const t=this.survey;return t?t.getItemValueWrapperComponentName(e,this):wt.TemplateRendererComponentName}getItemValueWrapperComponentData(e){const t=this.survey;return t?t.getItemValueWrapperComponentData(e,this):e}ariaItemChecked(e){return this.renderedValue===e.value?"true":"false"}isOtherItem(e){return this.hasOther&&e.value==this.otherItem.value}get itemSvgIcon(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId}getSelectBaseRootCss(){return new fe().append(this.getQuestionRootCss()).append(this.cssClasses.rootRow,this.rowLayout).toString()}allowMobileInDesignMode(){return!0}getAriaItemLabel(e){return e.locText.renderedHtml}getItemId(e){return this.inputId+"_"+this.getItemIndex(e)}get questionName(){return this.name+"_"+this.id}getItemEnabled(e){return!this.isDisabledAttr&&e.isEnabled}focusOtherComment(){var e;ai.FocusElement(this.otherId,!1,(e=this.survey)===null||e===void 0?void 0:e.rootElement)}onValueChanged(){super.onValueChanged(),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&!this.isSettingDefaultValue&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected}getDefaultItemComponent(){return""}get itemComponent(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())}set itemComponent(e){this.setPropertyValue("itemComponent",e)}}O([Es()],pv.prototype,"_renderedChoices",void 0);class Ff extends pv{constructor(e){super(e)}get colCount(){return this.getPropertyValue("colCount",this.isFlowLayout?0:void 0)}set colCount(e){e<0||e>5||this.isFlowLayout||(this.setPropertyValue("colCount",e),this.fireCallback(this.colCountChangedCallback))}onParentChanged(){super.onParentChanged(),this.isFlowLayout&&this.setPropertyValue("colCount",null)}onParentQuestionChanged(){this.onVisibleChoicesChanged()}getSearchableItemValueKeys(e){e.push("choices")}}function pm(r,e){var t;if(!r)return!1;if(r.templateQuestion){const i=(t=r.colOwner)===null||t===void 0?void 0:t.data;if(r=r.templateQuestion,!r.getCarryForwardQuestion(i))return!1}return r.carryForwardQuestionType===e}le.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_carryforward",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return _i("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:r=>!r.choicesFromQuestion},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:r=>pm(r,"select")},{name:"choiceValuesFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:r=>pm(r,"array")},{name:"choiceTextsFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:r=>pm(r,"array")},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:r=>!r.choicesFromQuestion},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(r){return r.choicesByUrl.getData()},onSetValue:function(r,e){r.choicesByUrl.setData(e)}},"hideIfChoicesEmpty:boolean","choicesVisibleIf:condition",{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:r=>!r.choicesFromQuestion},{name:"defaultValue:value",visibleIf:r=>!r.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"correctAnswer:value",visibleIf:r=>!r.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"showRefuseItem:boolean",visible:!1,version:"1.9.128"},{name:"showDontKnowItem:boolean",visible:!1,version:"1.9.128"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(r){return r.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(r){return r.showNoneItem}},{name:"refuseText",serializationProperty:"locRefuseText",dependsOn:"showRefuseItem",visibleIf:function(r){return r.showRefuseItem}},{name:"dontKnowText",serializationProperty:"locDontKnowText",dependsOn:"showDontKnowItem",visibleIf:function(r){return r.showDontKnowItem}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(r){return r.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(r){return r.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question");le.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase");class Ts extends tt{get focusFirstInputSelector(){return this.getFocusFirstInputSelector()}getFocusFirstInputSelector(){return Hi?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""}resetItemsSettings(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]}setItems(e,t){this.itemsSettings.items=[].concat(this.itemsSettings.items,e),this.itemsSettings.totalCount=t,this.listModel.isAllDataLoaded=this.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items}_loadQuestionChoices(e){const t=this.filterString;this.setIsChoicesLoading(!0),this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:(i,s)=>{this.setItems(i||[],s||0),this.popupRecalculatePosition(this.itemsSettings.skip===this.itemsSettings.take),e&&e(),this.processCustomValue(t),this.setIsChoicesLoading(!1)}}),this.itemsSettings.skip+=this.itemsSettings.take}setIsChoicesLoading(e){this.question.setIsChoicesLoading&&this.question.setIsChoicesLoading(e)}processCustomValue(e){if(!this.allowCustomChoices)return;const t=e||this.filterString;this.listModel.visibleActions.filter(s=>z.isTwoValueEquals(s.text,t,!1,!1))[0]?this.customValue=void 0:(this.customValue=t,this.updateItems(),this.listModel.focusFirstVisibleItem())}updateQuestionChoices(e){const t=this.itemsSettings.skip+1<this.itemsSettings.totalCount;(!this.itemsSettings.skip||t)&&(this.resetTimer(),this.filterString&&X.dropdownSearchDelay>0?this.timer=setTimeout(()=>{this._loadQuestionChoices(e)},X.dropdownSearchDelay):this._loadQuestionChoices(e))}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=void 0)}updatePopupFocusFirstInputSelector(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector}getDropdownMenuOptions(){const e=$e.getInnerWidth(),t=$e.getInnerHeight(),i=TS(e,t);let s="dropdown",n="desktop";return Hi&&(s="popup",n=i?"tablet":"mobile"),{menuType:s,deviceType:n,hasTouchScreen:Hi,screenHeight:t,screenWidth:e}}checkFocusRemainsWithinComponent(e){if(!this.question.cssClasses.root||!e?.target)return!1;const t=e.target.closest(ir(this.question.cssClasses.root));return t&&t.contains(e.relatedTarget)}createButtons(){this.editorButtons=new Ss,this.editorButtons.containerCss="sd-dropdown-action-bar",this.chevronButton=new ht({id:"chevron",css:"sd-editor-chevron-button",iconName:this.question.cssClasses.chevronButtonIconId||"icon-chevron",iconSize:"auto",showTitle:!1,locTitle:this.locSelectCaption,disableTabStop:!0,enabled:new $t(()=>!this.question.isInputReadOnly),visible:new $t(()=>!this.question.isPreviewStyle),action:e=>{this.onClick()}}),this.clearButton=new ht({id:"clear",css:"sd-editor-clean-button",iconName:this.question.cssClasses.cleanButtonIconId||"icon-cancel-24x24",iconSize:"auto",showTitle:!1,locTitle:this.locClearCaption,disableTabStop:!0,enabled:new $t(()=>!this.question.isInputReadOnly),visible:new $t(()=>{const e=this.question.isEmpty(),t=this.question.isReadOnly;return this.question.allowClear&&!e&&!t}),action:e=>{this.onClear()}}),this.editorButtons.setItems([this.clearButton,this.chevronButton]),this.editorButtons.actions.forEach(e=>e.cssClasses={item:"sd-editor-button-item",itemIcon:"sv-editor-button-item__icon",itemPressed:"sd-editor-button-item--pressed"})}createPopup(){const e={verticalPosition:"bottom",horizontalPosition:"center",showPointer:!1};this._popupModel=new ms("sv-list",{model:this.listModel},e),this._popupModel.displayMode=Hi?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=Hi,this._popupModel.setWidthByTarget=!Hi,this._popupModel.locale=this.question.getLocale(),this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],()=>{this.updatePopupFocusFirstInputSelector()}),this._popupModel.onVisibilityChanged.add((t,i)=>{this.popupVisibilityChanged(i.isVisible),this.chevronButton.pressed=i.isVisible})}popupVisibilityChanged(e){if(e&&(this.listModel.renderElements=!0),e&&this.choicesLazyLoadEnabled&&(this.listModel.actions=[],this.resetItemsSettings(),this.updateQuestionChoices()),e){this.updatePopupFocusFirstInputSelector();const t=this.getDropdownMenuOptions();this.question.processOpenDropdownMenu(t),this._popupModel.updateDisplayMode(t.menuType)&&this.listModel.setSearchEnabled(this.inputAvailable&&t.menuType!=="dropdown"),this.question.onOpenedCallBack&&this.question.onOpenedCallBack()}e||this.onHidePopup(),this.ariaExpanded=e?"true":"false",this.question.processPopupVisiblilityChanged(this.popupModel,e)}setFilterStringToListModel(e){if(this.listModel.filterString=e,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(e)>=0){this.listModel.focusedItem=this.getAvailableItems().filter(t=>t.id==this.question.selectedItem.value)[0],this.listModel.filterString&&this.listModel.actions.map(t=>t.selectedValue=!1);return}(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()}setTextWrapEnabled(e){this.listModel.textWrapEnabled=e}popupRecalculatePosition(e){setTimeout(()=>{this.popupModel.recalculatePosition(e)},1)}onHidePopup(){this.resetFilterString(),this.question.suggestedItem=null,this.choicesLazyLoadEnabled&&this.resetItemsSettings(),this.customValue=void 0,this.resetCustomItemValue()}getAvailableItems(){return this.allowCustomChoices?[].concat(this.question.visibleChoices,[this.customItemValue]):this.question.visibleChoices}setOnTextSearchCallbackForListModel(e){e.setOnTextSearchCallback((t,i)=>{if(t.id===this.customItemValue.id)return t.visible;if(this.filteredItems)return this.filteredItems.indexOf(t)>=0;let s=t.text.toLocaleLowerCase();s=X.comparator.normalizeTextCallback(s,"filter");const n=s.indexOf(i.toLocaleLowerCase());return this.question.searchMode=="startsWith"?n==0:n>-1})}createListModel(){const e=this.getAvailableItems();let t=this.onSelectionChanged;t||(t=n=>{this.setQuestionValue(n),this.popupModel.hide()});const i={items:e,onSelectionChanged:t,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},s=new Li(i);return this.setOnTextSearchCallbackForListModel(s),s.renderElements=!1,s.forceShowFilter=this.question.choicesLazyLoadEnabled,s.areSameItemsCallback=(n,o)=>n===o,s}setQuestionValue(e){if(this.allowCustomChoices&&e.id===this.customItemValue.id){const t=this.createCustomItem();t&&(this.question.value=t.id,this.hintString="")}else this.question.value=e.id,this.searchEnabled&&this.applyInputString(e)}createCustomItem(){const e=new Je(this.customValue),t={item:e,question:this.question,allow:!0};return this.question.survey.createCustomChoiceItem(t),t.allow?(this.question.customChoices.push(e),this.customValue=void 0,this.updateItems(),e):(this.clear(),null)}updateAfterListModelCreated(e){e.isItemSelected=t=>!!t.selected,e.onPropertyChanged.add((t,i)=>{i.name=="hasVerticalScroller"&&(this.hasScroll=i.newValue)}),e.isAllDataLoaded=!this.choicesLazyLoadEnabled,e.actions.forEach(t=>t.disableTabStop=!0),e.setOnFilterStringChangedCallback(this.listModelFilterStringChanged)}getPopupCssClasses(){return"sv-single-select-list"}updateCssClasses(e,t){this.popupModel.cssClass=new fe().append(e).append(this.getPopupCssClasses()).toString(),this.listModel.cssClasses=t}resetFilterString(){this.filterString&&(this.filterString=void 0)}clear(){this.customValue=void 0,this.inputString=null,this.hintString="",this.resetFilterString()}onSetFilterString(){if(this.filteredItems=void 0,!this.filterString&&!this.popupModel.isVisible)return;const e={question:this.question,choices:this.getAvailableItems(),filter:this.filterString,filteredChoices:void 0};this.question.survey.onChoicesSearch.fire(this.question.survey,e),this.filteredItems=e.filteredChoices,this.filterString&&!this.popupModel.isVisible&&this.popupModel.show();const t=()=>{this.setFilterStringToListModel(this.filterString),this.filterString&&this.applyHintString(),this.popupRecalculatePosition(!0)};this.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(t)):t()}get isAllDataLoaded(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount}loadQuestionChoices(e){this.isAllDataLoaded||this._loadQuestionChoices(e)}get canShowSelectedItem(){return!this.focused||this._markdownMode||!this.searchEnabled}get needRenderInput(){return!this.question.isInputReadOnly||!!this.placeholderRendered}updateCustomItemValue(){this.customValue?(this.customItemValue.text=this.getLocalizationFormatString("createCustomItem",this.customValue),this.customItemValue.visible=!0):this.resetCustomItemValue()}resetCustomItemValue(){this.customItemValue.text="",this.customItemValue.visible=!1}get customItemValue(){return this._customItemValue||(this._customItemValue=new Je("newCustomItem",this.getLocalizationFormatString("createCustomItem",this.customValue)),this._customItemValue.css="sv-list-item--custom-value"),this._customItemValue}applyInputString(e){e?.locText.hasHtml||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString=this.cleanHtml(e?.locText.getHtmlValue()),this.hintString=""):(this.inputString=e?.title,this.hintString=e?.title)}cleanHtml(e){return this.htmlCleanerElement?(this.htmlCleanerElement.innerHTML=e,this.htmlCleanerElement.textContent):""}fixInputCase(){const e=this.hintStringMiddle;e&&this.inputString!=e&&(this.inputString=e)}applyHintString(){const e=this.listModel.focusedItem||this.question.selectedItem;e?.locText.hasHtml||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):e===this.customItemValue?this.hintString="":this.hintString=e?.title}get inputStringRendered(){return this.inputString||""}set inputStringRendered(e){var t;this.inputString=e,this.filterString=e,this.choicesLazyLoadEnabled||this.processCustomValue(),(!e||!this.searchEnabled||((t=this.listModel.focusedItem)===null||t===void 0?void 0:t.id)===this.customItemValue.id)&&(this.hintString="")}get placeholderRendered(){return this.hintString||this.question.readOnly||!this.question.isEmpty()?"":this.inputPlaceholder}get listElementId(){return this.question.inputId+"_list"}get hintStringLC(){var e;return((e=this.hintString)===null||e===void 0?void 0:e.toLowerCase())||""}get inputStringLC(){var e;return((e=this.inputString)===null||e===void 0?void 0:e.toLowerCase())||""}get showHintPrefix(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0}get hintStringPrefix(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null}get showHintString(){return!!this.searchEnabled&&!!(this.hintStringLC||this.inputStringLC)||!this.searchEnabled&&this.hintStringLC&&this.question.isEmpty()}get hintStringSuffix(){return this.hintStringLC.indexOf(this.inputStringLC)>=0?this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length):""}get hintStringMiddle(){const e=this.hintStringLC.indexOf(this.inputStringLC);return e==-1?null:this.hintString.substring(e,e+this.inputStringLC.length)}constructor(e,t){super(),this.question=e,this.onSelectionChanged=t,this.minPageSize=25,this.loadingItemHeight=40,this.timer=void 0,this._markdownMode=!1,this.filteredItems=void 0,this.selectedItemSelector=".sv-list__item--selected",this.itemSelector=".sv-list__item",this.itemsSettings={skip:0,take:0,totalCount:0,items:[]},this.listModelFilterStringChanged=s=>{this.filterString!==s&&(this.filterString=s,this.choicesLazyLoadEnabled||this.processCustomValue())},this.questionPropertyChangedHandler=(s,n)=>{this.onPropertyChangedHandler(s,n)},this.ariaExpanded="false",this.createLocalizableString("clearCaption",this.question,!1,!0),this.createLocalizableString("selectCaption",this.question,!1,!0),this.htmlCleanerElement=Ge.createElement("div"),e.onPropertyChanged.add(this.questionPropertyChangedHandler),this.showInputFieldComponent=this.question.showInputFieldComponent,this.listModel=this.createListModel(),this.setChoicesLazyLoadEnabled(this.question.choicesLazyLoadEnabled),this.setInputPlaceholder(this.question.placeholder),this.updateAfterListModelCreated(this.listModel),this.setSearchEnabled(this.question.searchEnabled),this.setAllowCustomChoices(this.question.allowCustomChoices),this.setTextWrapEnabled(this.question.textWrapEnabled),this.createPopup(),this.createButtons(),this.resetItemsSettings();const i=e.cssClasses;this.updateCssClasses(i.popup,i.list)}get popupModel(){return this._popupModel}get clearCaption(){return this.getLocalizableStringText("clearCaption")}set clearCaption(e){this.setLocalizableStringText("clearCaption",e)}get locClearCaption(){return this.getLocalizableString("clearCaption")}get selectCaption(){return this.getLocalizableStringText("selectCaption")}set selectCaption(e){this.setLocalizableStringText("selectCaption",e)}get locSelectCaption(){return this.getLocalizableString("selectCaption")}get inputAvailable(){return this.searchEnabled||this.allowCustomChoices}get noTabIndex(){return this.question.isInputReadOnly||this.inputAvailable}get filterReadOnly(){return!this.filterStringEnabled||!this.focused}get filterStringEnabled(){return!this.question.isInputReadOnly&&this.inputAvailable}get inputMode(){return Hi?"none":"text"}get popupEnabled(){return!this.question.isInputReadOnly}get ariaQuestionRole(){return this.filterStringEnabled?void 0:"combobox"}get ariaQuestionRequired(){return this.ariaQuestionRole?this.question.a11y_input_ariaRequired:void 0}get ariaQuestionInvalid(){return this.ariaQuestionRole?this.question.a11y_input_ariaInvalid:void 0}get ariaQuestionErrorMessage(){return this.ariaQuestionRole?this.question.a11y_input_ariaErrormessage:void 0}get ariaQuestionLabel(){return this.ariaQuestionRole?this.question.a11y_input_ariaLabel:void 0}get ariaQuestionLabelledby(){return this.ariaQuestionRole?this.question.a11y_input_ariaLabelledBy:void 0}get ariaQuestionDescribedby(){return this.ariaQuestionRole?this.question.a11y_input_ariaDescribedBy:void 0}get ariaQuestionControls(){return this.ariaQuestionRole&&this.popupEnabled?this.listElementId:void 0}get ariaQuestionExpanded(){return this.ariaQuestionRole?this.popupEnabled?this.ariaExpanded:"false":void 0}get ariaQuestionActivedescendant(){return this.ariaQuestionRole?this.ariaActivedescendant:void 0}get ariaInputRole(){return this.filterStringEnabled?"combobox":void 0}get ariaInputRequired(){return this.ariaInputRole?this.question.a11y_input_ariaRequired:void 0}get ariaInputInvalid(){return this.ariaInputRole?this.question.a11y_input_ariaInvalid:void 0}get ariaInputErrorMessage(){return this.ariaInputRole?this.question.a11y_input_ariaErrormessage:void 0}get ariaInputLabel(){return this.ariaInputRole?this.question.a11y_input_ariaLabel:void 0}get ariaInputLabelledby(){return this.ariaInputRole?this.question.a11y_input_ariaLabelledBy:void 0}get ariaInputDescribedby(){return this.ariaInputRole?this.question.a11y_input_ariaDescribedBy:void 0}get ariaInputControls(){return this.ariaInputRole&&this.popupEnabled?this.listElementId:void 0}get ariaInputExpanded(){return this.ariaInputRole?this.popupEnabled?this.ariaExpanded:"false":void 0}get ariaInputActivedescendant(){return this.ariaInputRole?this.ariaActivedescendant:void 0}setSearchEnabled(e){this.listModel.setSearchEnabled(Hi&&(e||this.question.allowCustomChoices)),this.searchEnabled=e}setAllowCustomChoices(e){this.allowCustomChoices=e,e&&(this.searchEnabled=e)}setChoicesLazyLoadEnabled(e){this.choicesLazyLoadEnabled=e}setInputPlaceholder(e){this.inputPlaceholder=e}updateItems(){this.listModel.setItems(this.getAvailableItems())}onClick(e){this.question.readOnly||this.question.isDesignMode||this.question.isPreviewStyle||this.question.isReadOnlyAttr||(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.question.focusInputElement(!1))}chevronPointerDown(e){this._popupModel.isVisible&&e.preventDefault()}onPropertyChangedHandler(e,t){t.name=="value"&&(this.showInputFieldComponent=this.question.showInputFieldComponent),t.name=="textWrapEnabled"&&this.setTextWrapEnabled(t.newValue)}focusItemOnClickAndPopup(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)}onClear(e){this.question.clearValue(!0),this._popupModel.hide(),e&&(e.preventDefault(),e.stopPropagation())}getSelectedAction(){return this.question.selectedItem||null}changeSelectionWithKeyboard(e){var t;let i=this.listModel.focusedItem;!i&&this.question.selectedItem?Je.getItemByValue(this.question.visibleChoices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):e?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(i),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=(t=this.listModel.focusedItem)===null||t===void 0?void 0:t.elementId}beforeScrollToFocusedItem(e){this.question.value&&e&&(e.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)}afterScrollToFocusedItem(){var e;this.question.value&&!this.listModel.filterString&&this.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(),this.fixInputCase(),this.ariaActivedescendant=(e=this.listModel.focusedItem)===null||e===void 0?void 0:e.elementId}keyHandler(e){let t=!1;const i=e.which||e.keyCode;if(this.popupModel.isVisible&&e.keyCode===38)this.changeSelectionWithKeyboard(!0),t=!0;else if(e.keyCode===40)this.popupModel.show(),this.changeSelectionWithKeyboard(!1),t=!0;else if(!this.popupModel.isVisible&&e.keyCode===32)this.popupModel.show(),this.changeSelectionWithKeyboard(!1),t=!0;else if(!this.popupModel.isVisible&&e.keyCode===13)this.question.survey.questionEditFinishCallback(this.question,e),t=!0;else if(this.popupModel.isVisible&&(e.keyCode===13||e.keyCode===32&&(!this.searchEnabled||!this.inputString)))e.keyCode===13&&this.searchEnabled&&!this.inputString&&this.question instanceof hr&&!this._markdownMode&&this.question.value?(this._popupModel.hide(),this.onClear(e)):(this.listModel.selectFocusedItem(),this.onFocus(e)),t=!0;else if(i===46||i===8)this.inputAvailable||this.onClear(e);else if(e.keyCode===27)this._popupModel.hide(),this.hintString="",this.onEscape();else{if((e.keyCode===38||e.keyCode===40||e.keyCode===32&&!this.searchEnabled)&&(t=!0),e.keyCode===32&&this.searchEnabled)return;lv(e,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}t&&(e.preventDefault(),e.stopPropagation())}onEscape(){this.searchEnabled&&this.applyInputString(this.question.selectedItem)}onScroll(e){const t=e.target;t.scrollHeight-(t.scrollTop+t.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()}onBlur(e){this.checkFocusRemainsWithinComponent(e)||(this.focused=!1,!(this.popupModel.isVisible&&this.popupModel.displayMode=="overlay")&&(Xb(e),this._popupModel.hide(),this.resetFilterString(),this.inputString=null,this.hintString="",e.stopPropagation()))}onFocus(e){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)}setInputStringFromSelectedItem(e){this.focused&&(this.searchEnabled&&e?this.applyInputString(e):this.inputString=null)}dispose(){super.dispose(),this.question&&this.question.onPropertyChanged.remove(this.questionPropertyChangedHandler),this.questionPropertyChangedHandler=void 0,this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose(),this.htmlCleanerElement=void 0}scrollToFocusedItem(){this.listModel.scrollToFocusedItem()}}O([N({defaultValue:!1})],Ts.prototype,"focused",void 0);O([N({defaultValue:!1})],Ts.prototype,"allowCustomChoices",void 0);O([N({onSet:(r,e)=>{e.updateCustomItemValue()}})],Ts.prototype,"customValue",void 0);O([N({defaultValue:!0})],Ts.prototype,"searchEnabled",void 0);O([N()],Ts.prototype,"choicesLazyLoadEnabled",void 0);O([N({defaultValue:"",onSet:(r,e)=>{e.onSetFilterString()}})],Ts.prototype,"filterString",void 0);O([N({defaultValue:"",onSet:(r,e)=>{e.question.inputHasValue=!!r}})],Ts.prototype,"inputString",void 0);O([N({})],Ts.prototype,"showInputFieldComponent",void 0);O([N()],Ts.prototype,"ariaActivedescendant",void 0);O([N()],Ts.prototype,"ariaExpanded",void 0);O([N()],Ts.prototype,"inputPlaceholder",void 0);O([N({defaultValue:!1,onSet:(r,e)=>{r?e.listModel.addScrollEventListener(t=>{e.onScroll(t)}):e.listModel.removeScrollEventListener()}})],Ts.prototype,"hasScroll",void 0);O([N({defaultValue:""})],Ts.prototype,"hintString",void 0);class hr extends pv{constructor(e){super(e),this.lastSelectedItemValue=null,this.minMaxChoices=[],this.onOpened=this.addEvent(),this.createLocalizableString("placeholder",this,!1,!0),this.createLocalizableString("readOnlyText",this,!0),this.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],()=>{this.getSingleSelectedItem(),this.updateReadOnlyText()}),this.updateReadOnlyText()}locStrsChanged(){super.locStrsChanged(),this.updateReadOnlyText(),this.updateInputPlaceholder(this.placeholder)}updateReadOnlyText(){this.readOnlyText=this.calculateReadOnlyText()}updateInputPlaceholder(e){this.dropdownListModelValue&&this.dropdownListModel.setInputPlaceholder(e)}get showOptionsCaption(){return this.allowClear}set showOptionsCaption(e){this.allowClear=e}get showClearButton(){return this.allowClear&&!this.isEmpty()}get optionsCaption(){return this.placeholder}set optionsCaption(e){this.placeholder=e}get placeholder(){return this.getLocalizableStringText("placeholder")}set placeholder(e){this.setLocalizableStringText("placeholder",e),this.updateInputPlaceholder(e)}get locPlaceholder(){return this.getLocalizableString("placeholder")}getType(){return"dropdown"}get isNewA11yStructure(){return!0}get a11yQuestionAriaRole(){return this.searchEnabled?null:"combobox"}get a11yInputAriaRole(){return this.searchEnabled?"combobox":null}get selectedItem(){return this.getSingleSelectedItem()}onGetSingleSelectedItem(e){e&&(this.lastSelectedItemValue=e)}supportAutoAdvance(){return!this.isOtherSelected}getChoices(){var e=super.getChoices();if(this.choicesMax<=this.choicesMin)return e;for(var t=[],i=0;i<e.length;i++)t.push(e[i]);if(this.minMaxChoices.length===0||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var i=this.choicesMin;i<=this.choicesMax;i+=this.choicesStep)this.minMaxChoices.push(this.createItemValue(i))}return t=t.concat(this.minMaxChoices),t}get choicesMin(){return this.getPropertyValue("choicesMin")}set choicesMin(e){this.setPropertyValue("choicesMin",e)}get choicesMax(){return this.getPropertyValue("choicesMax")}set choicesMax(e){this.setPropertyValue("choicesMax",e)}get choicesStep(){return this.getPropertyValue("choicesStep")}set choicesStep(e){e<1&&(e=1),this.setPropertyValue("choicesStep",e)}get autocomplete(){return this.getPropertyValue("autocomplete")}set autocomplete(e){this.setPropertyValue("autocomplete",e)}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}calculateReadOnlyText(){if(this.renderAs=="select"){if(this.isOtherSelected)return this.otherText;if(this.isNoneSelected)return this.noneText;if(this.selectedItem)return this.selectedItemText}return this.selectedItem?this.selectedItemText:this.placeholder}getControlClass(){return new fe().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()}updateCssClasses(e,t){super.updateCssClasses(e,t),this.useDropdownList&&Mf(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModel.updateCssClasses(t.popup,t.list),t}get selectedItemLocText(){const e=this.suggestedItem||this.selectedItem;return e?.locText}get inputFieldComponentName(){return this.inputFieldComponent||this.itemComponent}get showSelectedItemLocText(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText&&this.dropdownListModel.canShowSelectedItem}get showInputFieldComponent(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()}get selectedItemText(){const e=this.selectedItem;return e?e.text:""}get useDropdownList(){return this.renderAs!=="select"}get dropdownListModel(){return this.useDropdownList&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new Ts(this)),this.dropdownListModelValue}set dropdownListModel(e){this.dropdownListModelValue=e}get popupModel(){return this.dropdownListModel.popupModel}onOpenedCallBack(){this.onOpened.fire(this,{question:this,choices:this.choices})}onSelectedItemValuesChangedHandler(e){var t;(t=this.dropdownListModelValue)===null||t===void 0||t.setInputStringFromSelectedItem(e),super.onSelectedItemValuesChangedHandler(e)}hasUnknownValue(e,t,i,s){return this.choicesLazyLoadEnabled?!1:super.hasUnknownValue(e,t,i,s)}needConvertRenderedOtherToDataValue(){var e;const t=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return t?super.hasUnknownValue(t,!0,!1):!1}getItemIfChoicesNotContainThisValue(e,t){return this.choicesLazyLoadEnabled?this.createItemValue(e,t):super.getItemIfChoicesNotContainThisValue(e,t)}onVisibleChoicesChanged(){super.onVisibleChoicesChanged(),this.dropdownListModelValue&&this.dropdownListModel.updateItems()}canAddCustomChoices(){return this.allowCustomChoices}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.isChoicesLoading}ensureQuestionIsReady(){super.ensureQuestionIsReady(),this.dropdownListModel&&this.choicesLazyLoadEnabled&&this.dropdownListModel.loadQuestionChoices()}setIsChoicesLoading(e){this.isChoicesLoading=e,this.updateIsReady()}getFirstInputElementId(){return this.inputId+(this.searchEnabled||this.allowCustomChoices?"_0":"")}getInputId(){return this.inputId+"_0"}clearValue(e){var t;super.clearValue(e),this.lastSelectedItemValue=null,(t=this.dropdownListModelValue)===null||t===void 0||t.clear()}afterRenderCore(e){super.afterRenderCore(e),this.dropdownListModelValue&&this.dropdownListModelValue.clear()}onClick(e){this.onOpenedCallBack&&this.onOpenedCallBack()}onKeyUp(e){(e.which||e.keyCode)===46&&(this.clearValue(!0),e.preventDefault(),e.stopPropagation())}supportEmptyValidation(){return!0}onBlurCore(e){this.dropdownListModel.onBlur(e),super.onBlurCore(e)}onFocusCore(e){this.dropdownListModel.onFocus(e),super.onFocusCore(e)}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}}O([N()],hr.prototype,"allowClear",void 0);O([N({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setSearchEnabled(r)}})],hr.prototype,"searchEnabled",void 0);O([N()],hr.prototype,"searchMode",void 0);O([N({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setAllowCustomChoices(r)}})],hr.prototype,"allowCustomChoices",void 0);O([N()],hr.prototype,"textWrapEnabled",void 0);O([N({defaultValue:!1})],hr.prototype,"inputHasValue",void 0);O([N({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setChoicesLazyLoadEnabled(r)}})],hr.prototype,"choicesLazyLoadEnabled",void 0);O([N()],hr.prototype,"choicesLazyLoadPageSize",void 0);O([N()],hr.prototype,"suggestedItem",void 0);le.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:X.questions.dataList},{name:"textWrapEnabled:boolean",default:!0},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"allowCustomChoices:boolean",default:!1,visibleIf:r=>!r.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"searchMode",default:"contains",choices:["contains","startsWith"]},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new hr("")},"selectbase");Kt.Instance.registerQuestion("dropdown",r=>{var e=new hr(r);return e.choices=Kt.DefaultChoices,e});class QE extends tt{constructor(e,t,i,s){super(),this.item=e,this.fullName=t,this.data=i,this.setValueDirectly(s),this.cellClick=n=>{this.value=n.value},this.registerPropertyChangedHandlers(["value"],()=>{this.data&&this.data.onMatrixRowChanged(this)}),this.data&&this.data.hasErrorInRow(this)&&(this.hasError=!0)}get name(){return this.item.value}get text(){return this.item.text}get locText(){return this.item.locText}get value(){return this.getPropertyValue("value")}set value(e){this.isReadOnly||this.setValueDirectly(this.data.getCorrectedRowValue(e))}setValueDirectly(e){this.setPropertyValue("value",e)}get isReadOnly(){return!this.item.enabled||this.data.isInputReadOnly}get isReadOnlyAttr(){return this.data.isReadOnlyAttr}get isDisabledAttr(){return!this.item.enabled||this.data.isDisabledAttr}get rowTextClasses(){return new fe().append(this.data.cssClasses.rowTextCell).toString()}get hasError(){return this.getPropertyValue("hasError",!1)}set hasError(e){this.setPropertyValue("hasError",e)}get rowClasses(){const e=this.data.cssClasses;return new fe().append(e.row).append(e.rowError,this.hasError).append(e.rowReadOnly,this.isReadOnly).append(e.rowDisabled,this.data.isDisabledStyle).toString()}}class UE extends tt{constructor(e){super(),this.cellsOwner=e,this.values={},this.locs={}}getType(){return"cells"}get isEmpty(){return Object.keys(this.values).length==0}valuesChanged(){!this.locNotification&&this.onValuesChanged&&this.onValuesChanged()}getDefaultCellLocText(e){return this.getCellLocCore(this.defaultRowValue,e)}getCellDisplayLocText(e,t){return this.getCellLocCore(e,t)}getCellLocCore(e,t){if(e=this.getCellRowColumnValue(e,this.rows),t=this.getCellRowColumnValue(t,this.columns),z.isValueEmpty(e)||z.isValueEmpty(t))return null;this.locs[e]||(this.locs[e]={});let i=this.locs[e][t];return i||(i=this.createString(),i.setJson(this.getCellLocData(e,t)),i.onGetTextCallback=s=>{if(!s){const n=Je.getItemByValue(this.columns,t);if(n)return n.locText.getJson()||n.value}return s},i.onStrChanged=(s,n)=>{this.updateValues(e,t,n)},this.locs[e][t]=i),i}get defaultRowValue(){return X.matrix.defaultRowName}getCellLocData(e,t){let i=this.getCellLocDataFromValue(e,t);return i||this.getCellLocDataFromValue(this.defaultRowValue,t)}getCellLocDataFromValue(e,t){return!this.values[e]||!this.values[e][t]?null:this.values[e][t]}getCellText(e,t){var i=this.getCellLocCore(e,t);return i?i.calculatedText:null}setCellText(e,t,i){const s=this.getCellLocCore(e,t);s&&(s.text=i)}updateValues(e,t,i){i?(this.values[e]||(this.values[e]={}),this.values[e][t]=i,this.valuesChanged()):this.values[e]&&this.values[e][t]&&(delete this.values[e][t],Object.keys(this.values[e]).length==0&&delete this.values[e],this.valuesChanged())}getDefaultCellText(e){var t=this.getCellLocCore(this.defaultRowValue,e);return t?t.calculatedText:null}setDefaultCellText(e,t){this.setCellText(this.defaultRowValue,e,t)}getCellDisplayText(e,t){var i=this.getCellDisplayLocText(e,t);return i?i.calculatedText:null}get rows(){return this.cellsOwner?this.cellsOwner.getRows():[]}get columns(){return this.cellsOwner?this.cellsOwner.getColumns():[]}getCellRowColumnValue(e,t){if(e==null)return null;if(typeof e=="number"){if(e<0||e>=t.length)return null;e=t[e].value}return e.value?e.value:e}getJson(){if(this.isEmpty)return null;const e=this.values[this.defaultRowValue],t={};for(let i in this.values){const s={},n=this.values[i];for(let o in n)if(i===this.defaultRowValue||!e||e[o]!==n[o]){const h=this.getCellLocCore(i,o);s[o]=h?h.getJson():n[o]}t[i]=s}return t}setJson(e,t){if(this.values={},e){for(var i in e)if(i!="pos"){var s=e[i];this.values[i]={};for(var n in s)n!="pos"&&(this.values[i][n]=s[n])}}this.locNotification=!0,this.runFuncOnLocs((o,h,d)=>d.setJson(this.getCellLocData(o,h))),this.locNotification=!1,this.valuesChanged()}locStrsChanged(){this.runFuncOnLocs((e,t,i)=>i.strChanged())}runFuncOnLocs(e){for(let t in this.locs){const i=this.locs[t];for(let s in i)e(t,s,i[s])}}createString(){return new Yi(this.cellsOwner,!0)}}class dw extends Nf{constructor(e){super(e),this.isRowChanging=!1,this.emptyLocalizableString=new Yi(this),this.cellsValue=new UE(this),this.cellsValue.onValuesChanged=()=>{this.updateHasCellText(),this.propertyValueChanged("cells",this.cells,this.cells)},this.registerPropertyChangedHandlers(["columns"],()=>{this.onColumnsChanged()}),this.registerPropertyChangedHandlers(["rows"],()=>{this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.onRowsChanged()}),this.registerPropertyChangedHandlers(["hideIfRowsEmpty"],()=>{this.updateVisibilityBasedOnRows()})}getType(){return"matrix"}get cellComponent(){return this.getPropertyValue("cellComponent")}set itemComponent(e){this.setPropertyValue("cellComponent",e)}get hasSingleInput(){return!1}get eachRowRequired(){return this.getPropertyValue("eachRowRequired")}set eachRowRequired(e){this.setPropertyValue("eachRowRequired",e)}get isAllRowRequired(){return this.eachRowRequired}set isAllRowRequired(e){this.eachRowRequired=e}get eachRowUnique(){return this.getPropertyValue("eachRowUnique")}set eachRowUnique(e){this.setPropertyValue("eachRowUnique",e)}get hasRows(){return this.rows.length>0}get rowOrder(){return this.getPropertyValue("rowOrder")}set rowOrder(e){e=e.toLowerCase(),e!=this.rowOrder&&(this.setPropertyValue("rowOrder",e),this.onRowsChanged())}get rowsOrder(){return this.rowOrder}set rowsOrder(e){this.rowOrder=e}get hideIfRowsEmpty(){return this.getPropertyValue("hideIfRowsEmpty")}set hideIfRowsEmpty(e){this.setPropertyValue("hideIfRowsEmpty",e)}getRows(){return this.rows}getColumns(){return this.visibleColumns}addColumn(e,t){var i=new Je(e,t);return this.columns.push(i),i}getItemClass(e,t){const i=e.value==t.value,s=this.isReadOnly,n=!i&&!s,o=this.hasCellText,h=this.cssClasses;return new fe().append(h.cell,o).append(o?h.cellText:h.label).append(h.itemOnError,!o&&(this.eachRowRequired||this.eachRowUnique?e.hasError:this.hasCssError())).append(o?h.cellTextSelected:h.itemChecked,i).append(o?h.cellTextDisabled:h.itemDisabled,this.isDisabledStyle).append(o?h.cellTextReadOnly:h.itemReadOnly,this.isReadOnlyStyle).append(o?h.cellTextPreview:h.itemPreview,this.isPreviewStyle).append(h.itemHover,n&&!o).toString()}get itemSvgIcon(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId}locStrsChanged(){super.locStrsChanged(),this.cells.locStrsChanged()}getQuizQuestionCount(){for(var e=0,t=0;t<this.rows.length;t++)this.isValueEmpty(this.correctAnswer[this.rows[t].value])||e++;return e}getCorrectAnswerCount(){for(var e=0,t=this.value,i=0;i<this.rows.length;i++){var s=this.rows[i].value;!this.isValueEmpty(t[s])&&this.isTwoValueEquals(this.correctAnswer[s],t[s])&&e++}return e}runConditionCore(e,t){Je.runEnabledConditionsForItems(this.rows,void 0,e,t),super.runConditionCore(e,t)}createRowsVisibleIfRunner(){return this.rowsVisibleIf?new ar(this.rowsVisibleIf):null}onRowsChanged(){this.clearGeneratedRows(),super.onRowsChanged()}getVisibleRows(){if(this.generatedVisibleRows)return this.generatedVisibleRows;const e=new Array;let t=this.value;t||(t={});const i=this.filteredRows||this.rows;for(let s=0;s<i.length;s++){const n=i[s];if(this.isValueEmpty(n.value))continue;const o=this.id+"_"+n.value.toString().replace(/\s/g,"_");e.push(this.createMatrixRow(n,o,t[n.value]))}return this.generatedVisibleRows=e,e}getRowByName(e){const t=this.visibleRows;for(let i=0;i<t.length;i++)if(t[i].name===e)return t[i];return null}getSingleInputQuestionsCore(e,t){if(this.nestedQuestionsValue)return this.nestedQuestionsValue;const i=[];return this.visibleRows.forEach(s=>{const n=le.createClass("radiogroup");n.name=s.name,n.locTitle.sharedData=s.locText,n.choices=this.visibleColumns,n.value=s.value,n.isRequired=this.isAllRowRequired,n.setSurveyImpl(this),n.setParentQuestion(this),i.push(n)}),this.nestedQuestionsValue=i,i}resetSingleInput(){super.resetSingleInput(),this.nestedQuestionsValue&&(this.nestedQuestionsValue.forEach(e=>e.dispose()),this.nestedQuestionsValue=null)}getSurveyData(){return this}getTextProcessor(){var e;return(e=this.surveyImpl)===null||e===void 0?void 0:e.getTextProcessor()}getValue(e){const t=this.getRowByName(e);return t?t.value:void 0}setValue(e,t,i,s,n){this.getRowByName(e).value=t}getVariable(e){var t;return(t=this.data)===null||t===void 0?void 0:t.getVariable(e)}setVariable(e,t){var i;(i=this.data)===null||i===void 0||i.setVariable(e,t)}getComment(e){var t;return(t=this.data)===null||t===void 0?void 0:t.getComment(e)}setComment(e,t,i){var s;(s=this.data)===null||s===void 0||s.setComment(e,t,i)}getAllValues(){var e;return(e=this.data)===null||e===void 0?void 0:e.getAllValues()}getFilteredValues(){var e;return(e=this.data)===null||e===void 0?void 0:e.getFilteredValues()}getFilteredProperties(){var e;return(e=this.data)===null||e===void 0?void 0:e.getFilteredProperties()}findQuestionByName(e){var t;return(t=this.data)===null||t===void 0?void 0:t.findQuestionByName(e)}getEditingSurveyElement(){var e;return(e=this.data)===null||e===void 0?void 0:e.getEditingSurveyElement()}sortVisibleRows(e){if(this.survey&&this.survey.isDesignMode)return e;var t=this.rowOrder.toLowerCase();return t==="random"?z.randomizeArray(e):e}endLoadingFromJson(){super.endLoadingFromJson(),this.rows=this.sortVisibleRows(this.rows),this.onRowsChanged(),this.onColumnsChanged()}isNewValueCorrect(e){return z.isValueObject(e,!0)}processRowsOnSet(e){return this.sortVisibleRows(e)}get visibleRows(){return this.getVisibleRows()}get cells(){return this.cellsValue}set cells(e){this.cells.setJson(e&&e.getJson?e.getJson():null)}get hasCellText(){return this.getPropertyValue("hasCellText",!1)}updateHasCellText(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)}setCellText(e,t,i){this.cells.setCellText(e,t,i)}getCellText(e,t){return this.cells.getCellText(e,t)}setDefaultCellText(e,t){this.cells.setDefaultCellText(e,t)}getDefaultCellText(e){return this.cells.getDefaultCellText(e)}getCellDisplayText(e,t){return this.cells.getCellDisplayText(e,t)}getCellDisplayLocText(e,t){var i=this.cells.getCellDisplayLocText(e,t);return i||this.emptyLocalizableString}supportAutoAdvance(){return this.isMouseDown===!0&&this.hasValuesInAllRows()}onCheckForErrors(e,t,i){if(super.onCheckForErrors(e,t,i),!t||this.hasCssError()){const s={noValue:!1,isNotUnique:!1};this.checkErrorsAllRows(i,s),s.noValue&&e.push(new oE(null,this)),s.isNotUnique&&e.push(new lE(null,this))}}hasValuesInAllRows(){const e={noValue:!1,isNotUnique:!1};return this.checkErrorsAllRows(!1,e,!0),!e.noValue}checkErrorsAllRows(e,t,i){var s=this.generatedVisibleRows;if(s||(s=this.visibleRows),!s)return;const n=this.eachRowRequired||i,o=this.eachRowUnique;if(t.noValue=!1,t.isNotUnique=!1,e&&(this.errorsInRow=void 0),!n&&!o)return;const h={};for(var d=0;d<s.length;d++){const f=s[d].value;let p=this.isValueEmpty(f);const y=o&&!p&&h[f]===!0;p=p&&n,e&&(p||y)&&this.addErrorIntoRow(s[d]),p||(h[f]=!0),t.noValue=t.noValue||p,t.isNotUnique=t.isNotUnique||y}e&&s.forEach(f=>{f.hasError=this.hasErrorInRow(f)})}addErrorIntoRow(e){this.errorsInRow||(this.errorsInRow={}),this.errorsInRow[e.name]=!0,e.hasError=!0}refreshRowsErrors(){this.errorsInRow&&this.checkErrorsAllRows(!0,{noValue:!1,isNotUnique:!1})}getIsAnswered(){return super.getIsAnswered()&&this.hasValuesInAllRows()}createMatrixRow(e,t,i){var s=new QE(e,t,this,i);return this.onMatrixRowCreated(s),s}onMatrixRowCreated(e){}setQuestionValue(e,t=!0){if(super.setQuestionValue(e,this.isRowChanging||t),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0)){this.isRowChanging=!0;var i=this.value;if(i||(i={}),this.rows.length==0)this.generatedVisibleRows[0].setValueDirectly(i);else for(var s=0;s<this.generatedVisibleRows.length;s++){var n=this.generatedVisibleRows[s],o=i[n.name];this.isValueEmpty(o)&&(o=null),this.generatedVisibleRows[s].setValueDirectly(o)}this.refreshRowsErrors(),this.updateIsAnswered(),this.isRowChanging=!1}}getDisplayValueCore(e,t){var i={};for(var s in t){var n=e?Je.getTextOrHtmlByValue(this.rows,s):s;n||(n=s);var o=Je.getTextOrHtmlByValue(this.columns,t[s]);o||(o=t[s]),i[n]=o}return i}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t){var i=this.createValueCopy();t.isNode=!0,t.data=Object.keys(i||{}).map(s=>{var n=this.rows.filter(d=>d.value===s)[0],o={name:s,title:n?n.text:"row",value:i[s],displayValue:Je.getTextOrHtmlByValue(this.visibleColumns,i[s]),getString:d=>typeof d=="object"?JSON.stringify(d):d,isNode:!1},h=Je.getItemByValue(this.visibleColumns,i[s]);return h&&(e.calculations||[]).forEach(d=>{o[d.propertyName]=h[d.propertyName]}),o})}return t}addConditionObjectsByContext(e,t){for(var i=0;i<this.rows.length;i++){var s=this.rows[i];s.value&&e.push({name:this.getValueName()+"."+s.value,text:this.processedTitle+"."+s.calculatedText,question:this})}}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);var i=new hr(t);i.choices=this.columns;var s=new Ri().toJsonObject(i);return s.type=i.getType(),s}clearIncorrectValues(){this.clearInvisibleValuesInRowsAndColumns(!0,!0,!0),super.clearIncorrectValues()}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e),this.clearInvisibleValuesInRowsAndColumns(!0,!0,!1)}clearInvisibleColumnValues(){this.clearInvisibleValuesInRowsAndColumns(!1,!0,!1)}clearInvisibleValuesInRows(){this.clearInvisibleValuesInRowsAndColumns(!0,!1,!1)}clearInvisibleValuesInRowsAndColumns(e,t,i){if(this.isEmpty())return;let s=this.getUnbindValue(this.value);const n={};for(var o=this.rows,h=0;h<o.length;h++){var d=o[h].value;s[d]&&(e&&!o[h].isVisible||t&&!this.getVisibleColumnByValue(s[d])?delete s[d]:n[d]=s[d])}i&&(s=n),!this.isTwoValueEquals(s,this.value)&&(this.value=s)}getVisibleColumnByValue(e){const t=Je.getItemByValue(this.columns,e);return t&&t.isVisible?t:null}getFirstInputElementId(){var e=this.generatedVisibleRows;return e||(e=this.visibleRows),e.length>0&&this.visibleColumns.length>0?this.inputId+"_"+e[0].name+"_0":super.getFirstInputElementId()}onMatrixRowChanged(e){if(!this.isRowChanging){if(this.isRowChanging=!0,!this.hasRows)this.setNewValue(e.value);else{var t=this.value;t||(t={}),t[e.name]=e.value,this.setNewValue(t)}this.isRowChanging=!1}}getCorrectedRowValue(e){for(var t=0;t<this.columns.length;t++)if(e===this.columns[t].value)return e;for(var t=0;t<this.columns.length;t++)if(this.isTwoValueEquals(e,this.columns[t].value))return this.columns[t].value;return e}hasErrorInRow(e){return!!this.errorsInRow&&!!this.errorsInRow[e.name]}getSearchableItemValueKeys(e){e.push("columns"),e.push("rows")}get SurveyModel(){return this.survey}getColumnHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName({column:e},"column-header")}getColumnHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData({column:e},"column-header")}getRowHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName({row:e},"row-header")}getRowHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData({row:e},"row-header")}}le.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return _i("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return _i("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowOrder",alternativeName:"rowsOrder",default:"initial",choices:["initial","random"]},{name:"eachRowRequired:boolean",alternativeName:"isAllRowRequired"},{name:"eachRowUnique:boolean",category:"validation"},"hideIfRowsEmpty:boolean",{name:"cellComponent",visible:!1,default:"survey-matrix-cell"}],function(){return new dw("")},"matrixbase");Kt.Instance.registerQuestion("matrix",r=>{var e=new dw(r);return e.rows=Kt.DefaultRows,e.columns=Kt.DefaultColums,e});class cw extends tt{updateRemainingCharacterCounter(e,t){this.remainingCharacterCounter=z.getRemainingCharacterCounterText(e,t)}}O([N()],cw.prototype,"remainingCharacterCounter",void 0);class Bf extends Ii{constructor(e){super(e),this.characterCounter=new cw}isTextValue(){return!0}get maxLength(){return this.getPropertyValue("maxLength")}set maxLength(e){this.setPropertyValue("maxLength",e),this.updateRemainingCharacterCounter(this.value)}getMaxLength(){return z.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)}updateRemainingCharacterCounter(e){this.characterCounter.updateRemainingCharacterCounter(e,this.getMaxLength())}get placeHolder(){return this.placeholder}set placeHolder(e){this.placeholder=e}get locPlaceHolder(){return this.locPlaceholder}getType(){return"textbase"}isEmpty(){return super.isEmpty()||this.value===""}get textUpdateMode(){return this.getPropertyValue("textUpdateMode")}set textUpdateMode(e){this.setPropertyValue("textUpdateMode",e)}getIsInputTextUpdate(){return this.textUpdateMode=="default"?super.getIsInputTextUpdate():this.textUpdateMode=="onTyping"}get renderedPlaceholder(){const e=()=>this.hasPlaceholder()?this.placeHolder:void 0;return this.getPropertyValue("renderedPlaceholder",void 0,e)}onReadOnlyChanged(){super.onReadOnlyChanged(),this.resetRenderedPlaceholder()}localeChanged(){super.localeChanged(),this.resetRenderedPlaceholder()}supportEmptyValidation(){return!0}resetRenderedPlaceholder(){this.resetPropertyValue("renderedPlaceholder")}hasPlaceholder(){return!this.isReadOnly}setNewValue(e){super.setNewValue(e),this.updateRemainingCharacterCounter(e)}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),this.updateRemainingCharacterCounter(e)}convertToCorrectValue(e){return Array.isArray(e)?e.join(this.getValueSeparator()):e}getValueSeparator(){return", "}getControlCssClassBuilder(){return new fe().append(this.cssClasses.root).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle)}getControlClass(){return this.getControlCssClassBuilder().toString()}get isNewA11yStructure(){return!0}}O([N({localizable:!0,onSet:(r,e)=>e.resetRenderedPlaceholder()})],Bf.prototype,"placeholder",void 0);le.addClass("textbase",[],function(){return new Bf("")},"question");class _E{setInputValue(e){this.inputElement.maxLength>=0&&this.inputElement.maxLength<e.length&&(e=e.slice(0,this.inputElement.maxLength)),this.inputElement.value=e}constructor(e,t,i){this.inputMaskInstance=e,this.inputElement=t,this.prevUnmaskedValue=void 0,this.inputMaskInstancePropertyChangedHandler=(n,o)=>{if(o.name!=="saveMaskedValue"){const h=this.inputMaskInstance.getMaskedValue(this.prevUnmaskedValue);this.setInputValue(h)}},this.clickHandler=n=>{this.inputElement.value==this.inputMaskInstance.getMaskedValue("")&&this.inputElement.setSelectionRange(0,0)},this.beforeInputHandler=n=>{const o=this.createArgs(n),h=this.inputMaskInstance.processInput(o);this.setInputValue(h.value),this.inputElement.setSelectionRange(h.caretPosition,h.caretPosition),h.cancelPreventDefault||n.preventDefault()},this.changeHandler=n=>{const o=this.inputMaskInstance.processInput({prevValue:"",insertedChars:n.target.value,selectionStart:0,selectionEnd:0});this.setInputValue(o.value)};let s=i;s==null&&(s=""),this.setInputValue(e.saveMaskedValue?s:e.getMaskedValue(s)),this.prevUnmaskedValue=s,e.onPropertyChanged.add(this.inputMaskInstancePropertyChangedHandler),this.addInputEventListener()}createArgs(e){const t={insertedChars:e.data,selectionStart:e.target.selectionStart,selectionEnd:e.target.selectionEnd,prevValue:e.target.value,inputDirection:"forward"};return e.inputType==="deleteContentBackward"&&(t.inputDirection="backward",t.selectionStart===t.selectionEnd&&(t.selectionStart=Math.max(t.selectionStart-1,0))),e.inputType==="deleteContentForward"&&t.selectionStart===t.selectionEnd&&(t.selectionEnd+=1),t}addInputEventListener(){this.inputElement&&(this.inputElement.addEventListener("beforeinput",this.beforeInputHandler),this.inputElement.addEventListener("click",this.clickHandler),this.inputElement.addEventListener("focus",this.clickHandler),this.inputElement.addEventListener("change",this.changeHandler))}removeInputEventListener(){this.inputElement&&(this.inputElement.removeEventListener("beforeinput",this.beforeInputHandler),this.inputElement.removeEventListener("click",this.clickHandler),this.inputElement.removeEventListener("focus",this.clickHandler),this.inputElement.removeEventListener("change",this.changeHandler))}dispose(){this.removeInputEventListener(),this.inputElement=void 0,this.inputMaskInstance.onPropertyChanged.remove(this.inputMaskInstancePropertyChangedHandler)}}var Qm=/[0-9]/;function fw(){const e=(le.getChildrenClasses("masksettings")||[]).map(t=>{let i=t.name;return t.name.indexOf("mask")!==-1&&(i=i.slice(0,i.indexOf("mask"))),i});return e.unshift("none"),e}class _l extends Bf{createMaskAdapter(){this.input&&!this.maskTypeIsEmpty&&(this.maskInputAdapter=new _E(this.maskInstance,this.input,this.value))}deleteMaskAdapter(){this.maskInputAdapter&&(this.maskInputAdapter.dispose(),this.maskInputAdapter=void 0)}updateMaskAdapter(){this.deleteMaskAdapter(),this.createMaskAdapter()}onSetMaskType(e){this.setNewMaskSettingsProperty(),this.updateMaskAdapter()}get maskTypeIsEmpty(){switch(this.inputType){case"tel":case"text":return this.maskType==="none";default:return!0}}get maskSettings(){return this.getPropertyValue("maskSettings")}set maskSettings(e){if(!e)return;const t=this.maskSettings;t&&t.dispose(),this.setNewMaskSettingsProperty(),this.maskSettings.fromJSON(e.toJSON()),this.updateMaskAdapter()}setNewMaskSettingsProperty(){this.setPropertyValue("maskSettings",this.createMaskSettings())}createMaskSettings(){let e=!this.maskType||this.maskType==="none"?"masksettings":this.maskType+"mask";le.findClass(e)||(e="masksettings");const t=le.createClass(e);return t.onPropertyChanged.add((i,s)=>{this.onNestedPropertyChanged.fire(this,{name:"maskSettings",newValue:s.newValue,nestedName:s.name}),this.updateInputValue()}),t.owner=this,t}constructor(e){super(e),this._isWaitingForEnter=!1,this.onCompositionUpdate=t=>{this.isInputTextUpdate&&setTimeout(()=>{this.updateValueOnEvent(t)},1),this.updateRemainingCharacterCounter(t.target.value)},this.onKeyUp=t=>{this.updateDateValidationMessage(t),this.isInputTextUpdate?(!this._isWaitingForEnter||t.keyCode===13)&&(this.updateValueOnEvent(t),this._isWaitingForEnter=!1):t.keyCode===13&&this.updateValueOnEvent(t),this.updateRemainingCharacterCounter(t.target.value)},this.readOnlyBlocker=t=>{if(this.isReadOnlyAttr&&["color","range"].indexOf(this.inputType)>-1)return t.preventDefault(),!0},this.onKeyDown=t=>{this.readOnlyBlocker(t)||(this.onKeyDownPreprocess&&this.onKeyDownPreprocess(t),this.isInputTextUpdate&&(this._isWaitingForEnter=t.keyCode===229),this.onTextKeyDownHandler(t))},this.onChange=t=>{this.updateDateValidationMessage(t),t.target===X.environment.root.activeElement?this.isInputTextUpdate&&this.updateValueOnEvent(t):this.updateValueOnEvent(t),this.updateRemainingCharacterCounter(t.target.value)},this.createLocalizableString("minErrorText",this,!0,"minError"),this.createLocalizableString("maxErrorText",this,!0,"maxError"),this.setNewMaskSettingsProperty(),this.locDataListValue=new MS(this),this.locDataListValue.onValueChanged=(t,i)=>{this.propertyValueChanged("dataList",t,i)},this.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],()=>{this.setRenderedMinMax()}),this.registerPropertyChangedHandlers(["inputType","inputSize"],()=>{this.resetInputSize(),this.resetRenderedPlaceholder()})}isTextValue(){return this.isDateInputType||["text","number","password"].indexOf(this.inputType)>-1}getType(){return"text"}onSurveyLoad(){super.onSurveyLoad(),this.setRenderedMinMax()}get inputType(){return this.getPropertyValue("inputType")}set inputType(e){e=e.toLowerCase(),(e==="datetime_local"||e==="datetime")&&(e="datetime-local"),this.setPropertyValue("inputType",e.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0),this.updateMaskAdapter()}getMaxLength(){return this.isTextInput?super.getMaxLength():null}runConditionCore(e,t){super.runConditionCore(e,t),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(e,t)}getDisplayValueCore(e,t){return!this.maskTypeIsEmpty&&!z.isValueEmpty(t)?this.maskInstance.getMaskedValue(t):super.getDisplayValueCore(e,t)}isLayoutTypeSupported(e){return!0}get inputSize(){return this.getPropertyValue("inputSize")}set inputSize(e){this.setPropertyValue("inputSize",e)}get size(){return this.inputSize}set size(e){this.inputSize=e}get isTextInput(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1}get renderedInputSize(){return this.getPropertyValue("renderedInputSize",void 0,()=>{const e=this.calInputSize();return e>0?e:void 0})}get inputWidth(){return this.getPropertyValue("inputWidth",void 0,()=>this.calInputSize()>0?"auto":"")}calInputSize(){if(!this.isTextInput)return 0;let e=this.inputSize>0?this.inputSize:0;return e<1&&this.parent&&this.parent.inputSize&&(e=this.parent.inputSize),e}resetInputSize(){this.resetPropertyValue("renderedInputSize"),this.resetPropertyValue("inputWidth")}get autocomplete(){return this.getPropertyValue("autocomplete")}set autocomplete(e){this.setPropertyValue("autocomplete",e)}get min(){return this.getPropertyValue("min")}set min(e){if(this.isValueExpression(e)){this.minValueExpression=e.substring(1);return}this.setPropertyValue("min",e)}get max(){return this.getPropertyValue("max")}set max(e){if(this.isValueExpression(e)){this.maxValueExpression=e.substring(1);return}this.setPropertyValue("max",e)}get minValueExpression(){return this.getPropertyValue("minValueExpression","")}set minValueExpression(e){this.setPropertyValue("minValueExpression",e)}get maxValueExpression(){return this.getPropertyValue("maxValueExpression","")}set maxValueExpression(e){this.setPropertyValue("maxValueExpression",e)}get renderedMin(){return this.getPropertyValue("renderedMin")}get renderedMax(){return this.getPropertyValue("renderedMax")}get minErrorText(){return this.getLocalizableStringText("minErrorText")}set minErrorText(e){this.setLocalizableStringText("minErrorText",e)}get locMinErrorText(){return this.getLocalizableString("minErrorText")}get maxErrorText(){return this.getLocalizableStringText("maxErrorText")}set maxErrorText(e){this.setLocalizableStringText("maxErrorText",e)}get locMaxErrorText(){return this.getLocalizableString("maxErrorText")}get isMinMaxType(){return un(this)}get maskInstance(){return this.maskSettings}get inputValue(){return!this._inputValue&&!this.maskTypeIsEmpty?this.maskInstance.getMaskedValue(""):this._inputValue}set inputValue(e){let t=e;this._inputValue=e,this.maskTypeIsEmpty||(t=this.maskInstance.getUnmaskedValue(e),this._inputValue=this.maskInstance.getMaskedValue(t),t&&this.maskSettings.saveMaskedValue&&(t=this._inputValue)),this.value=t}getExpressionValue(e){return!this.maskTypeIsEmpty&&this.maskSettings.saveMaskedValue?this.maskInstance.getUnmaskedValue(e):e}convertToCorrectValue(e){return e!=null&&typeof e!="string"&&!this.maskTypeIsEmpty&&this.maskSettings.saveMaskedValue?this.maskInstance.getMaskedValue(e):super.convertToCorrectValue(e)}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.updateInputValue()}updateInputValue(){const e=this.value;this.maskTypeIsEmpty?this._inputValue=e:this.maskSettings.saveMaskedValue?this._inputValue=e??this.maskInstance.getMaskedValue(""):this._inputValue=this.maskInstance.getMaskedValue(e)}hasToConvertToUTC(e){return X.storeUtcDates&&this.isDateTimeLocaleType()&&!!e}createDate(e){return ps("question-text",e)}valueForSurveyCore(e){return this.hasToConvertToUTC(e)&&(e=this.createDate(e).toISOString()),super.valueForSurveyCore(e)}valueFromDataCore(e){if(this.hasToConvertToUTC(e)){const t=this.createDate(e);let s=this.createDate(t.getTime()-t.getTimezoneOffset()*60*1e3).toISOString();e=s.substring(0,s.length-2)}return super.valueFromDataCore(e)}onCheckForErrors(e,t,i){if(super.onCheckForErrors(e,t,i),t)return;if(this.isValueLessMin){const o=new Gr(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);o.onUpdateErrorTextCallback=h=>{h.text=this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin))},e.push(o)}if(this.isValueGreaterMax){const o=new Gr(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);o.onUpdateErrorTextCallback=h=>{h.text=this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax))},e.push(o)}this.dateValidationMessage&&e.push(new Gr(this.dateValidationMessage,this));const s=this.getValidatorTitle(),n=new Jb;if(n.errorOwner=this,this.inputType==="email"&&!this.validators.some(o=>o.getType()==="emailvalidator")){const o=n.validate(this.value,s);o&&o.error&&e.push(o.error)}}canSetValueToSurvey(){if(!this.isMinMaxType)return!0;const e=!this.isValueLessMin&&!this.isValueGreaterMax;return(!e||this.errors.length>0)&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),e}convertFuncValuetoQuestionValue(e){let t=this.maskTypeIsEmpty?this.inputType:this.maskSettings.getTypeForExpressions();return z.convertValToQuestionVal(e,t)}getMinMaxErrorText(e,t){if(z.isValueEmpty(t))return e;let i=t.toString();return this.inputType==="date"&&t.toDateString&&(i=t.toDateString()),e.replace("{0}",i)}get isValueLessMin(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)}get isValueGreaterMax(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)}get isDateInputType(){return this.inputType==="date"||this.isDateTimeLocaleType()}isDateTimeLocaleType(){return this.inputType==="datetime-local"}getCalculatedMinMax(e){return this.isValueEmpty(e)?e:this.isDateInputType?this.createDate(e):e}setRenderedMinMax(e=null,t=null){this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,i=>{!i&&this.isDateInputType&&X.minDate&&(i=X.minDate),this.setPropertyValue("renderedMin",i)},e,t),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,i=>{!i&&this.isDateInputType&&(i=X.maxDate?X.maxDate:"2999-12-31"),this.setPropertyValue("renderedMax",i)},e,t)}get step(){return this.getPropertyValue("step")}set step(e){this.setPropertyValue("step",e)}get renderedStep(){return this.isValueEmpty(this.step)?this.inputType!=="number"?void 0:"any":this.step}getIsInputTextUpdate(){return this.maskTypeIsEmpty?super.getIsInputTextUpdate():!1}supportAutoAdvance(){return!this.getIsInputTextUpdate()&&!this.isDateInputType}supportGoNextPageError(){return!this.isDateInputType}get dataList(){return this.locDataList.value}set dataList(e){this.locDataList.value=e}get locDataList(){return this.locDataListValue}get dataListId(){return this.locDataList.hasValue()?this.id+"_datalist":void 0}setNewValue(e){e=this.correctValueType(e),e&&(this.dateValidationMessage=void 0),super.setNewValue(e)}correctValueType(e){if(!e)return e;if(this.inputType==="number"||this.inputType==="range")return z.isNumber(e)?z.getNumber(e):"";if(this.inputType==="month"){const t=this.createDate(e),i=t.toISOString().indexOf(e)==0&&e.indexOf("T")==-1,s=i?t.getUTCMonth():t.getMonth(),n=i?t.getUTCFullYear():t.getFullYear(),o=s+1;return n+"-"+(o<10?"0":"")+o}return e}hasPlaceholder(){return!this.isReadOnly&&this.inputType!=="range"}getControlCssClassBuilder(){const e=this.getMaxLength();return super.getControlCssClassBuilder().append(this.cssClasses.constrolWithCharacterCounter,!!e).append(this.cssClasses.characterCounterBig,e>99)}isReadOnlyRenderDiv(){return this.isReadOnly&&X.readOnly.textRenderMode==="div"}get inputStyle(){var e={};return e.width=this.inputWidth,this.updateTextAlign(e),e}updateTextAlign(e){this.inputTextAlignment!=="auto"?e.textAlign=this.inputTextAlignment:!this.maskTypeIsEmpty&&this.maskSettings.getTextAlignment()!=="auto"&&(e.textAlign=this.maskSettings.getTextAlignment())}updateValueOnEvent(e){const t=e.target.value;this.isTwoValueEquals(this.value,t)||(this.inputValue=t)}updateDateValidationMessage(e){this.dateValidationMessage=this.isDateInputType&&e.target?e.target.validationMessage:void 0}onBlurCore(e){this.updateDateValidationMessage(e),this.updateValueOnEvent(e),this.updateRemainingCharacterCounter(e.target.value),super.onBlurCore(e)}onFocusCore(e){this.updateRemainingCharacterCounter(e.target.value),super.onFocusCore(e)}afterRenderQuestionElement(e){e&&(this.input=e instanceof HTMLInputElement?e:e.querySelector("input"),this.createMaskAdapter()),super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){this.deleteMaskAdapter(),this.input=void 0}}O([N({onSet:(r,e)=>{e.onSetMaskType(r)}})],_l.prototype,"maskType",void 0);O([N()],_l.prototype,"inputTextAlignment",void 0);O([N()],_l.prototype,"_inputValue",void 0);const WE=["number","range","date","datetime-local","month","time","week"];function un(r){const e=r?r.inputType:"";return e?WE.indexOf(e)>-1:!1}function RC(r,e){const t=r.split(e);return t.length!==2||!z.isNumber(t[0])||!z.isNumber(t[1])?-1:parseFloat(t[0])*60+parseFloat(t[1])}function jE(r,e,t){const i=RC(r,t),s=RC(e,t);return i<0||s<0?!1:i>s}function PC(r,e,t,i){let s=i?t:e;if(!un(r)||z.isValueEmpty(e)||z.isValueEmpty(t))return s;if(r.inputType.indexOf("date")===0||r.inputType==="month"){const n=r.inputType==="month",o="question-text-minmax",h=ps(o,n?e+"-01":e),d=ps(o,n?t+"-01":t);if(!h||!d)return s;if(h>d)return i?e:t}if(r.inputType==="week"||r.inputType==="time"){const n=r.inputType==="week"?"-W":":";return jE(e,t,n)?i?e:t:s}if(r.inputType==="number"){if(!z.isNumber(e)||!z.isNumber(t))return s;if(z.getNumber(e)>z.getNumber(t))return i?e:t}return typeof e=="string"||typeof t=="string"?s:e>t?i?e:t:s}function IC(r,e){r&&r.inputType&&(e.inputType=r.inputType!=="range"?r.inputType:"number",e.textUpdateMode="onBlur")}le.addClass("text",[{name:"inputType",default:"text",choices:X.questions.inputTypes},{name:"inputSize:number",alternativeName:"size",minValue:0,dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"autocomplete",alternativeName:"autoComplete",choices:X.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(r){return un(r)},onPropertyEditorUpdate:function(r,e){IC(r,e)},onSettingValue:(r,e)=>PC(r,e,r.max,!1)},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(r){return un(r)},onSettingValue:(r,e)=>PC(r,r.min,e,!0),onPropertyEditorUpdate:function(r,e){IC(r,e)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return un(r)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return un(r)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(r){return un(r)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(r){return un(r)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:r=>r.inputType==="text"||r.inputType==="tel",choices:r=>fw()},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:["inputType","maskType"],visibleIf:r=>r.inputType==="text"||r.inputType==="tel",onGetValue:function(r){return r.maskSettings.getData()},onSetValue:function(r,e){r.maskSettings.setData(e)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(r){return r?r.inputType==="number"||r.inputType==="range":!1}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(r){return r?r.inputType==="text":!1}}],function(){return new _l("")},"textbase");Kt.Instance.registerQuestion("text",r=>new _l(r));class GE extends _l{get a11y_input_ariaLabel(){return this.locTitle.renderedHtml}get a11y_input_ariaLabelledBy(){return null}get a11y_input_ariaDescribedBy(){return null}}class gw extends tt{constructor(e=null,t=null){super(),this.focusIn=()=>{this.editor.focusIn()},this.editorValue=this.createEditor(e),this.maskSettings=this.editorValue.maskSettings,this.editor.questionTitleTemplateCallback=function(){return""},this.editor.titleLocation="left",t&&(this.title=t),this.editor.onPropertyChanged.add((i,s)=>{s.name!=="maskSettings"&&this.onPropertyChanged.fire(this,s)})}getType(){return"multipletextitem"}get id(){return this.editor.id}getOriginalObj(){return this.editor}get name(){return this.editor.name}set name(e){this.editor.name=e}get question(){return this.data}get editor(){return this.editorValue}createEditor(e){return new GE(e)}addUsedLocales(e){super.addUsedLocales(e),this.editor.addUsedLocales(e)}localeChanged(){super.localeChanged(),this.editor.localeChanged()}locStrsChanged(){super.locStrsChanged(),this.editor.locStrsChanged()}setData(e){this.data=e,e&&(this.editor.defaultValue=e.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=e,this.editor.setParentQuestion(e))}get isRequired(){return this.editor.isRequired}set isRequired(e){this.editor.isRequired=e}get inputType(){return this.editor.inputType}set inputType(e){this.editor.inputType=e}get title(){return this.editor.title}set title(e){this.editor.title=e}get locTitle(){return this.editor.locTitle}get fullTitle(){return this.editor.fullTitle}get maxLength(){return this.editor.maxLength}set maxLength(e){this.editor.maxLength=e}getMaxLength(){var e=this.getSurvey();return z.getMaxLength(this.maxLength,e?e.maxTextLength:-1)}get placeholder(){return this.editor.placeholder}set placeholder(e){this.editor.placeholder=e}get locPlaceholder(){return this.editor.locPlaceholder}get placeHolder(){return this.placeholder}set placeHolder(e){this.placeholder=e}get locPlaceHolder(){return this.locPlaceholder}get requiredErrorText(){return this.editor.requiredErrorText}set requiredErrorText(e){this.editor.requiredErrorText=e}get locRequiredErrorText(){return this.editor.locRequiredErrorText}get inputSize(){return this.editor.inputSize}set inputSize(e){this.editor.inputSize=e}get size(){return this.inputSize}set size(e){this.inputSize=e}get defaultValueExpression(){return this.editor.defaultValueExpression}set defaultValueExpression(e){this.editor.defaultValueExpression=e}get minValueExpression(){return this.editor.minValueExpression}set minValueExpression(e){this.editor.minValueExpression=e}get maxValueExpression(){return this.editor.maxValueExpression}set maxValueExpression(e){this.editor.maxValueExpression=e}get validators(){return this.editor.validators}set validators(e){this.editor.validators=e}getValidators(){return this.validators}get maskType(){return this.editor.maskType}set maskType(e){this.editor.maskType=e,this.maskSettings=this.editor.maskSettings}get maskSettings(){return this.getPropertyValue("maskSettings")}set maskSettings(e){this.setPropertyValue("maskSettings",e),this.editor.maskSettings!==e&&(this.editor.maskSettings=e)}get inputTextAlignment(){return this.editor.inputTextAlignment}set inputTextAlignment(e){this.editor.inputTextAlignment=e}get value(){return this.data?this.data.getMultipleTextValue(this.name):null}set value(e){this.data!=null&&this.data.setMultipleTextValue(this.name,e)}isEmpty(){return this.editor.isEmpty()}onValueChanged(e){this.valueChangedCallback&&this.valueChangedCallback(e)}getSurveyData(){return this}getSurvey(){return this.data?this.data.getSurvey():null}getTextProcessor(){return this.data?this.data.getTextProcessor():null}getValue(e){return this.data?this.data.getMultipleTextValue(e):null}setValue(e,t){this.data&&this.data.setMultipleTextValue(e,t)}getVariable(e){}setVariable(e,t){}getComment(e){return null}setComment(e,t){}getAllValues(){return this.data?this.data.getAllValues():this.value}getFilteredValues(){return this.getAllValues()}getFilteredProperties(){return{survey:this.getSurvey()}}findQuestionByName(e){const t=this.getSurvey();return t?t.getQuestionByName(e):null}getEditingSurveyElement(){}getValidatorTitle(){return this.title}get validatedValue(){return this.value}set validatedValue(e){this.value=e}getDataFilteredValues(){return this.getFilteredValues()}getDataFilteredProperties(){return this.getFilteredProperties()}}class cf extends Ii{static addDefaultItems(e){for(var t=Kt.DefaultMutlipleTextItems,i=0;i<t.length;i++)e.addItem(t[i])}constructor(e){super(e),this.isMultipleItemValueChanging=!1,this.createNewArray("items",t=>{t.setData(this),this.survey&&this.survey.multipleTextItemAdded(this,t)}),this.registerPropertyChangedHandlers(["items","colCount","itemErrorLocation"],()=>{this.calcVisibleRows()}),this.registerPropertyChangedHandlers(["inputSize"],()=>{this.resetItemsSize()})}getType(){return"multipletext"}setSurveyImpl(e,t){super.setSurveyImpl(e,t);for(var i=0;i<this.items.length;i++)this.items[i].setData(this)}get isAllowTitleLeft(){return!1}get hasSingleInput(){return!1}get isContainer(){return!0}get id(){return this.getPropertyValue("id")}set id(e){var t;(t=this.items)===null||t===void 0||t.map((i,s)=>i.editor.id=e+"_"+s),this.setPropertyValue("id",e)}onSurveyLoad(){this.editorsOnSurveyLoad(),super.onSurveyLoad(),z.isValueEmpty(this.rows)||this.calcVisibleRows()}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),this.performForEveryEditor(i=>{i.editor.updateValueFromSurvey(i.value)}),this.updateIsAnswered()}onSurveyValueChanged(e){super.onSurveyValueChanged(e),this.performForEveryEditor(t=>{t.editor.onSurveyValueChanged(t.value)})}resetItemsSize(){this.performForEveryEditor(e=>{e.editor.resetInputSize()})}editorsOnSurveyLoad(){this.performForEveryEditor(e=>{e.editor.onSurveyLoad()})}performForEveryEditor(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];i.editor&&e(i)}}get items(){return this.getPropertyValue("items")}set items(e){this.setPropertyValue("items",e)}addItem(e,t=null){var i=this.createTextItem(e,t);return this.items.push(i),i}getItemByName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].name==e)return this.items[t];return null}getElementsInDesign(e=!1){let t;return t=super.getElementsInDesign(e),t.concat(this.items)}addConditionObjectsByContext(e,t){for(var i=0;i<this.items.length;i++){var s=this.items[i];e.push({name:this.getValueName()+"."+s.name,text:this.processedTitle+"."+s.fullTitle,question:this})}}collectNestedQuestionsCore(e,t,i,s){s&&e.push(this),this.items.forEach(n=>n.editor.addNestedQuestion(e,t,i,s))}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);var i=this.getItemByName(t);if(!i)return null;var s=new Ri().toJsonObject(i);return s.type="text",s}locStrsChanged(){super.locStrsChanged();for(var e=0;e<this.items.length;e++)this.items[e].locStrsChanged()}localeChanged(){super.localeChanged();for(var e=0;e<this.items.length;e++)this.items[e].localeChanged()}get itemErrorLocation(){return this.getPropertyValue("itemErrorLocation")}set itemErrorLocation(e){this.setPropertyValue("itemErrorLocation",e)}getQuestionErrorLocation(){return this.itemErrorLocation!=="default"?this.itemErrorLocation:this.getErrorLocation()}get showItemErrorOnTop(){return this.getQuestionErrorLocation()=="top"}get showItemErrorOnBottom(){return this.getQuestionErrorLocation()=="bottom"}getChildErrorLocation(e){return this.getQuestionErrorLocation()}isNewValueCorrect(e){return z.isValueObject(e,!0)}supportAutoAdvance(){for(var e=0;e<this.items.length;e++)if(this.items[e].isEmpty())return!1;return!0}get colCount(){return this.getPropertyValue("colCount")}set colCount(e){e<1||e>5||this.setPropertyValue("colCount",e)}get inputSize(){return this.getPropertyValue("inputSize")}set inputSize(e){this.setPropertyValue("inputSize",e)}get itemSize(){return this.inputSize}set itemSize(e){this.inputSize=e}get itemTitleWidth(){return this.getPropertyValue("itemTitleWidth")||""}set itemTitleWidth(e){this.setPropertyValue("itemTitleWidth",e)}onRowCreated(e){return e}calcVisibleRows(){const e=this.colCount,t=this.items;let i=0,s,n,o=[];for(var h=0;h<t.length;h++)i==0&&(s=this.onRowCreated(new zf),n=this.onRowCreated(new ZE),this.showItemErrorOnTop?(o.push(n),o.push(s)):(o.push(s),o.push(n))),s.cells.push(new pw(t[h],this)),n.cells.push(new KE(t[h],this)),i++,(i>=e||h==t.length-1)&&(i=0,n.onAfterCreated());this.rows=o}getRows(){return z.isValueEmpty(this.rows)&&this.calcVisibleRows(),this.rows}onValueChanged(){super.onValueChanged(),this.onItemValueChanged()}createTextItem(e,t){return new gw(e,t)}onItemValueChanged(){if(!this.isMultipleItemValueChanging)for(var e=0;e<this.items.length;e++){var t=null;this.value&&this.items[e].name in this.value&&(t=this.value[this.items[e].name]),this.items[e].onValueChanged(t)}}runConditionCore(e,t){super.runConditionCore(e,t),this.items.forEach(i=>i.editor.runCondition(e,t))}getIsRunningValidators(){if(super.getIsRunningValidators())return!0;for(var e=0;e<this.items.length;e++)if(this.items[e].editor.isRunningValidators)return!0;return!1}hasErrors(e=!0,t=null){for(var i=!1,s=0;s<this.items.length;s++)this.items[s].editor.onCompletedAsyncValidators=n=>{this.raiseOnCompletedAsyncValidators()},!(t&&t.isOnValueChanged===!0&&this.items[s].editor.isEmpty())&&(i=this.items[s].editor.hasErrors(e,t)||i);return super.hasErrors(e)||i}getAllErrors(){for(var e=super.getAllErrors(),t=0;t<this.items.length;t++){var i=this.items[t].editor.getAllErrors();i&&i.length>0&&(e=e.concat(i))}return e}clearErrors(){super.clearErrors();for(var e=0;e<this.items.length;e++)this.items[e].editor.clearErrors()}getContainsErrors(){var e=super.getContainsErrors();if(e)return e;for(var t=this.items,i=0;i<t.length;i++)if(t[i].editor.containsErrors)return!0;return!1}getIsAnswered(){if(!super.getIsAnswered())return!1;for(var e=0;e<this.items.length;e++){var t=this.items[e].editor;if(t.isVisible&&!t.isAnswered)return!1}return!0}getProgressInfo(){for(var e=[],t=0;t<this.items.length;t++)e.push(this.items[t].editor);return ai.getProgressInfoByElements(e,this.isRequired)}getDisplayValueCore(e,t){if(!t)return t;for(var i={},s=0;s<this.items.length;s++){var n=this.items[s],o=t[n.name];if(!z.isValueEmpty(o)){var h=n.name;e&&n.title&&(h=n.title),i[h]=n.editor.getDisplayValue(e,o)}}return i}allowMobileInDesignMode(){return!0}getMultipleTextValue(e){return this.value?this.value[e]:null}setMultipleTextValue(e,t){this.isMultipleItemValueChanging=!0,this.isValueEmpty(t)&&(t=void 0);var i=this.value;i||(i={}),i[e]=t,this.setNewValue(i),this.isMultipleItemValueChanging=!1}getItemDefaultValue(e){return this.defaultValue?this.defaultValue[e]:null}getTextProcessor(){return this.textProcessor}getAllValues(){return this.data?this.data.getAllValues():null}addElement(e,t){}removeElement(e){return!1}getQuestionTitleLocation(){return"left"}getQuestionTitleWidth(){}getColumsForElement(e){return[]}updateColumns(){}getQuestionStartIndex(){return this.getStartIndex()}getChildrenLayoutType(){return"row"}elementWidthChanged(e){}get elements(){return[]}indexOf(e){return-1}ensureRowsVisibility(){}validateContainerOnly(){}onQuestionValueChanged(e){}getItemLabelCss(e){return new fe().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelDisabled,this.isDisabledStyle).append(this.cssClasses.itemLabelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.itemLabelPreview,this.isPreviewStyle).append(this.cssClasses.itemLabelAnswered,e.editor.isAnswered).append(this.cssClasses.itemLabelAllowFocus,!this.isDesignMode).append(this.cssClasses.itemLabelOnError,e.editor.errors.length>0).append(this.cssClasses.itemWithCharacterCounter,!!e.getMaxLength()).toString()}getItemCss(){return new fe().append(this.cssClasses.item).toString()}getItemTitleCss(){return new fe().append(this.cssClasses.itemTitle).toString()}get ariaRole(){return"group"}get ariaRequired(){return null}get ariaInvalid(){return null}}O([Es()],cf.prototype,"rows",void 0);class zf extends tt{constructor(){super(...arguments),this.isVisible=!0,this.cells=[]}}O([N()],zf.prototype,"isVisible",void 0);O([Es()],zf.prototype,"cells",void 0);class ZE extends zf{onAfterCreated(){const e=()=>{this.isVisible=this.cells.some(t=>{var i,s;return((i=t.item)===null||i===void 0?void 0:i.editor)&&((s=t.item)===null||s===void 0?void 0:s.editor.hasVisibleErrors)})};this.cells.forEach(t=>{var i,s;!((i=t.item)===null||i===void 0)&&i.editor&&((s=t.item)===null||s===void 0||s.editor.registerFunctionOnPropertyValueChanged("hasVisibleErrors",e))}),e()}}class pw{constructor(e,t){this.item=e,this.question=t,this.isErrorsCell=!1}getClassName(){return new fe().append(this.question.cssClasses.cell).toString()}get className(){return this.getClassName()}}class KE extends pw{constructor(){super(...arguments),this.isErrorsCell=!0}getClassName(){return new fe().append(super.getClassName()).append(this.question.cssClasses.cellError).append(this.question.cssClasses.cellErrorTop,this.question.showItemErrorOnTop).append(this.question.cssClasses.cellErrorBottom,this.question.showItemErrorOnBottom).toString()}}le.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:X.questions.inputTypes},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:r=>r.inputType==="text",choices:r=>fw()},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:"inputType",visibleIf:r=>r.inputType==="text",onGetValue:function(r){return r.maskSettings.getData()},onSetValue:function(r,e){r.maskSettings.setData(e)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"inputSize:number",alternativeName:"size",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"defaultValueExpression:expression",visible:!1},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return un(r)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return un(r)}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new gw("")});le.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem",isArray:!0},{name:"inputSize:number",minValue:0,visible:!1,alternativeName:"itemSize"},{name:"colCount:number",default:1,choices:[1,2,3,4,5]},{name:"itemErrorLocation",default:"default",choices:["default","top","bottom"],visible:!1},{name:"itemTitleWidth",category:"layout"}],function(){return new cf("")},"question");Kt.Instance.registerQuestion("multipletext",r=>{var e=new cf(r);return cf.addDefaultItems(e),e});class qh extends Ul{constructor(e=""){super(e),this.createLocalizableString("content",this,!0),this.registerPropertyChangedHandlers(["content"],()=>{this.onContentChanged()})}getType(){return"flowpanel"}getChildrenLayoutType(){return"flow"}onSurveyLoad(){super.onSurveyLoad(),this.onContentChanged()}get content(){return this.getLocalizableStringText("content")}set content(e){this.setLocalizableStringText("content",e)}get locContent(){return this.getLocalizableString("content")}get html(){return this.getPropertyValue("html","")}set html(e){this.setPropertyValue("html",e)}onContentChanged(){var e="";this.onCustomHtmlProducing?e=this.onCustomHtmlProducing():e=this.produceHtml(),this.html=e,this.contentChangedCallback&&this.contentChangedCallback()}produceHtml(){for(var e=[],t=/{(.*?(element:)[^$].*?)}/g,i=this.content,s=0,n=null;(n=t.exec(i))!==null;){n.index>s&&(e.push(i.substring(s,n.index)),s=n.index);var o=this.getQuestionFromText(n[0]);o?e.push(this.getHtmlForQuestion(o)):e.push(i.substring(s,n.index+n[0].length)),s=n.index+n[0].length}return s<i.length&&e.push(i.substring(s,i.length)),e.join("").replace(new RegExp("<br>","g"),"<br/>")}getQuestionFromText(e){return e=e.substring(1,e.length-1),e=e.replace(qh.contentElementNamePrefix,"").trim(),this.getQuestionByName(e)}getHtmlForQuestion(e){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(e):""}getQuestionHtmlId(e){return this.name+"_"+e.id}onAddElement(e,t){super.onAddElement(e,t),this.addElementToContent(e),e.renderWidth=""}onRemoveElement(e){var t=this.getElementContentText(e);this.content=this.content.replace(t,""),super.onRemoveElement(e)}dragDropMoveElement(e,t,i){}addElementToContent(e){if(!this.isLoadingFromJson){var t=this.getElementContentText(e);this.insertTextAtCursor(t)||(this.content=this.content+t)}}insertTextAtCursor(e,t=null){if(!this.isDesignMode||!$e.isAvailable())return!1;let i=$e.getSelection();if(i.getRangeAt&&i.rangeCount){let o=i.getRangeAt(0);o.deleteContents();const h=new Text(e);o.insertNode(h);var s=this;if(s.getContent){var n=s.getContent(t);this.content=n}return!0}return!1}getElementContentText(e){return"{"+qh.contentElementNamePrefix+e.name+"}"}}qh.contentElementNamePrefix="element:";le.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new qh},"panel");class mv extends Ii{constructor(e){super(e)}getType(){return"nonvalue"}get hasInput(){return!1}get hasTitle(){return!1}getTitleLocation(){return""}get hasComment(){return!1}hasErrors(e=!0,t=null){return!1}getAllErrors(){return[]}supportAutoAdvance(){return!1}addConditionObjectsByContext(e,t){}getConditionJson(e=null,t=null){return null}get ariaRole(){return null}get ariaRequired(){return null}}le.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showTitle",visible:!1,isSerializable:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new mv("")},"question");class XE extends Ii{constructor(e){super(e)}getType(){return"empty"}}le.addClass("empty",[],function(){return new XE("")},"question");class YE extends Je{get isExclusive(){return this.getPropertyValue("isExclusive")}set isExclusive(e){this.setPropertyValue("isExclusive",e)}getBaseType(){return"checkboxitem"}}class Hf extends Ff{constructor(e){super(e),this.invisibleOldValues={},this.isChangingValueOnClearIncorrect=!1,this.selectAllItemValue=this.createSelectAllItem(),this.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],()=>{this.onVisibleChoicesChanged()})}getDefaultItemComponent(){return"survey-checkbox-item"}getType(){return"checkbox"}getItemValueType(){return"checkboxitem"}createSelectAllItem(){const e=this.createItemValue("");return e.value="",e.id="selectall",this.selectAllItemText=this.createLocalizableString("selectAllText",e,!0,"selectAllItemText"),e.locOwner=this,e.setLocText(this.selectAllItemText),e}onCreating(){super.onCreating(),this.createNewArray("renderedValue"),this.createNewArray("value")}getFirstInputElementId(){return this.inputId+"_0"}get valuePropertyName(){return this.getPropertyValue("valuePropertyName")}set valuePropertyName(e){this.setPropertyValue("valuePropertyName",e)}getQuestionFromArray(e,t){if(e&&e===this.valuePropertyName){const i=this.value;if(Array.isArray(i)&&t<i.length)return this}return null}getDependedQuestionsByValueName(e){return e&&this.valuePropertyName?[]:super.getDependedQuestionsByValueName(e)}get selectAllItem(){return this.selectAllItemValue}get selectAllText(){return this.getLocalizableStringText("selectAllText")}set selectAllText(e){this.setLocalizableStringText("selectAllText",e)}get locSelectAllText(){return this.getLocalizableString("selectAllText")}get showSelectAllItem(){return this.getPropertyValue("showSelectAllItem")}set showSelectAllItem(e){this.setPropertyValue("showSelectAllItem",e)}get hasSelectAll(){return this.showSelectAllItem}set hasSelectAll(e){this.showSelectAllItem=e}get isAllSelected(){return this.allElementsSelected()}set isAllSelected(e){e?this.selectAll():this.clearValue(!0)}toggleSelectAll(){this.isAllSelected=!this.isAllSelected}allElementsSelected(){if(this.isNoneItemsSelected())return!1;const e=this.getVisibleEnableItems();if(e.length===0)return!1;const t=this.value;if(!t||!Array.isArray(t)||t.length===0||t.length<e.length)return!1;const i=[];for(let s=0;s<t.length;s++)i.push(this.getRealValue(t[s]));for(let s=0;s<e.length;s++)if(i.indexOf(e[s].value)<0)return!1;return!0}isNoneItemsSelected(){const e=this.getNoneItems();for(let t=0;t<e.length;t++)if(this.isItemSelected(e[t]))return!0;return!1}getNoneItems(){const e=new Array;return this.visibleChoices.forEach(t=>{this.isNoneItem(t)&&e.push(t)}),e}selectAll(){const e=[],t=this.getVisibleEnableItems();for(let i=0;i<t.length;i++)e.push(t[i].value);this.renderedValue=e}clickItemHandler(e,t){if(!this.isReadOnlyAttr)if(e===this.selectAllItem)t===!0||t===!1?this.isAllSelected=t:this.toggleSelectAll();else if(this.isNoneItem(e))this.renderedValue=t?[e.value]:[];else{const i=[].concat(this.renderedValue||[]),s=i.indexOf(e.value);t?s<0&&i.push(e.value):s>-1&&i.splice(s,1),this.renderedValue=i}}isItemSelectedCore(e){if(e===this.selectAllItem)return this.isAllSelected;var t=this.renderedValue;if(!t||!Array.isArray(t))return!1;for(var i=0;i<t.length;i++)if(this.isTwoValueEquals(t[i],e.value))return!0;return!1}hasUnknownValueItem(e,t=!1,i=!0,s=!1){const n=this.valuePropertyName;return n&&typeof e=="object"&&e[n]!==void 0&&(e=e[n]),super.hasUnknownValueItem(e,t,i,s)}convertFuncValuetoQuestionValue(e){if(this.valuePropertyName&&Array.isArray(e)&&e.length>0){const t=[];e.forEach(i=>{const s=typeof i=="object";let n=s?i:{};s||(n[this.valuePropertyName]=i),t.push(n)}),e=t}return super.convertDefaultValue(e)}getRealValue(e){return e&&(this.valuePropertyName?e[this.valuePropertyName]:e)}get isValueArray(){return!0}get maxSelectedChoices(){return this.getPropertyValue("maxSelectedChoices")}set maxSelectedChoices(e){e<0&&(e=0),this.setPropertyValue("maxSelectedChoices",e),this.filterItems()}get minSelectedChoices(){return this.getPropertyValue("minSelectedChoices")}set minSelectedChoices(e){e<0&&(e=0),this.setPropertyValue("minSelectedChoices",e)}get selectedChoices(){const e=this.renderedValue,t=this.visibleChoices,i=this.selectedItemValues;if(this.isEmpty())return[];const s=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,t):t,n=e.map(h=>Je.getItemByValue(s,h)).filter(h=>!!h);return!n.length&&!i&&this.updateSelectedItemValues(),this.validateItemValues(n)}get selectedItems(){return this.selectedChoices}get hasFilteredValue(){return!!this.valuePropertyName}getFilteredName(){let e=super.getFilteredName();return this.hasFilteredValue&&(e+="-unwrapped"),e}getFilteredValue(){return this.hasFilteredValue?this.renderedValue:super.getFilteredValue()}getMultipleSelectedItems(){return this.selectedChoices}validateItemValues(e){if(e.length)return e;const t=this.selectedItemValues;return t&&t.length?(this.defaultSelectedItemValues=[].concat(t),t):this.renderedValue.map(s=>this.createItemValue(s))}getAnswerCorrectIgnoreOrder(){return!0}onCheckForErrors(e,t,i){if(super.onCheckForErrors(e,t,i),!t&&this.checkMinSelectedChoicesUnreached()){const s=new Gr(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);e.push(s)}}onVisibleChoicesChanged(){super.onVisibleChoicesChanged(),this.updateSelectAllItemProps()}onEnableItemCallBack(e){return this.shouldCheckMaxSelectedChoices()?this.isItemSelected(e):!0}onAfterRunItemsEnableCondition(){if(this.updateSelectAllItemProps(),this.maxSelectedChoices<1){this.otherItem.setIsEnabled(!0);return}this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)}updateSelectAllItemProps(){this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.getSelectAllEnabled())}getSelectAllEnabled(){if(!this.hasSelectAll)return!0;let e=this.getVisibleEnableItems().length;const t=this.maxSelectedChoices;return t>0&&t<e?!1:e>0}getVisibleEnableItems(){const e=new Array,t=this.visibleChoices;for(let i=0;i<t.length;i++){const s=t[i];s.isEnabled&&!this.isBuiltInChoice(s)&&!s.isExclusive&&e.push(s)}return e}shouldCheckMaxSelectedChoices(){if(this.maxSelectedChoices<1)return!1;var e=this.value,t=Array.isArray(e)?e.length:0;return t>=this.maxSelectedChoices}checkMinSelectedChoicesUnreached(){if(this.minSelectedChoices<1)return!1;var e=this.value,t=Array.isArray(e)?e.length:0;return t===1&&this.isNoneItemsSelected()?!1:t<this.minSelectedChoices}getItemClassCore(e,t){return this.value,t.isSelectAllItem=e===this.selectAllItem,new fe().append(super.getItemClassCore(e,t)).append(this.cssClasses.itemSelectAll,t.isSelectAllItem).toString()}updateValueFromSurvey(e,t){super.updateValueFromSurvey(e,t),this.invisibleOldValues={}}setDefaultValue(){super.setDefaultValue();const e=this.defaultValue;if(Array.isArray(e))for(var t=0;t<e.length;t++){const i=this.getRealValue(e[t]);this.canClearValueAnUnknown(i)&&this.addIntoInvisibleOldValues(i)}}addIntoInvisibleOldValues(e){this.invisibleOldValues[e]=e}hasValueToClearIncorrectValues(){return super.hasValueToClearIncorrectValues()||!z.isValueEmpty(this.invisibleOldValues)}setNewValue(e){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),e=this.valueFromData(e);var t=this.value;e||(e=[]),t||(t=[]),!this.isTwoValueEquals(t,e)&&(this.removeNoneItemsValues(t,e),super.setNewValue(e))}getIsMultipleValue(){return!0}getCommentFromValue(e){var t=this.getFirstUnknownIndex(e);return t<0?"":e[t]}getStoreOthersAsComment(){return this.valuePropertyName?!1:super.getStoreOthersAsComment()}setOtherValueIntoValue(e){var t=this.getFirstUnknownIndex(e);if(t<0)return e;let i=this.otherItem.value;const s=this.valuePropertyName;if(s){const n={};n[s]=i,i=n}return e.splice(t,1,i),e}getFirstUnknownIndex(e){if(!Array.isArray(e))return-1;for(var t=0;t<e.length;t++)if(this.hasUnknownValueItem(e[t],!1,!1))return t;return-1}removeNoneItemsValues(e,t){const i=this.getNoneItems().map(s=>s.value);if(i.length>0){const s=this.noneIndexInArray(e,i),n=this.noneIndexInArray(t,i);if(s.index>-1)if(s.val===n.val)t.length>0&&t.splice(n.index,1);else{const o=this.noneIndexInArray(t,[s.val]);o.index>-1&&o.index<t.length-1&&t.splice(o.index,1)}else if(n.index>-1&&t.length>1){const o=this.convertValueToObject([n.val])[0];t.splice(0,t.length,o)}}}noneIndexInArray(e,t){if(!Array.isArray(e))return{index:-1,val:void 0};for(var i=e.length-1;i>=0;i--){const s=t.indexOf(this.getRealValue(e[i]));if(s>-1)return{index:i,val:t[s]}}return{index:-1,val:void 0}}supportSelectAll(){return this.isSupportProperty("showSelectAllItem")}addNonChoicesItems(e,t){super.addNonChoicesItems(e,t),this.supportSelectAll()&&this.addNonChoiceItem(e,this.selectAllItem,t,this.hasSelectAll,X.specialChoicesOrder.selectAllItem)}isBuiltInChoice(e){return e===this.selectAllItem||super.isBuiltInChoice(e)}isItemInList(e){return e==this.selectAllItem?this.hasSelectAll:super.isItemInList(e)}getDisplayValueEmpty(){return Je.getTextOrHtmlByValue(this.visibleChoices.filter(e=>e!=this.selectAllItemValue),void 0)}getDisplayValueCore(e,t){if(!Array.isArray(t))return super.getDisplayValueCore(e,t);const i=this.valuePropertyName,s=n=>{let o=t[n];return i&&o[i]&&(o=o[i]),o};return this.getDisplayArrayValue(e,t,s)}clearIncorrectValuesCore(){this.clearIncorrectAndDisabledValues(!1)}clearDisabledValuesCore(){this.clearIncorrectAndDisabledValues(!0)}clearIncorrectAndDisabledValues(e){var t=this.value,i=!1,s=this.restoreValuesFromInvisible();if(!(!t&&s.length==0)){if(!Array.isArray(t)||t.length==0){if(this.isChangingValueOnClearIncorrect=!0,e||(this.hasComment?this.value=null:this.clearValue(!0)),this.isChangingValueOnClearIncorrect=!1,s.length==0)return;t=[]}for(var n=[],o=0;o<t.length;o++){const d=this.getRealValue(t[o]);var h=this.canClearValueAnUnknown(d);!e&&!h||e&&!this.isValueDisabled(d)?n.push(t[o]):(i=!0,h&&this.addIntoInvisibleOldValues(t[o]))}for(var o=0;o<s.length;o++)n.push(s[o]),i=!0;i&&(this.isChangingValueOnClearIncorrect=!0,n.length==0?this.clearValue(!0):this.value=n,this.isChangingValueOnClearIncorrect=!1)}}restoreValuesFromInvisible(){for(var e=[],t=this.visibleChoices,i=0;i<t.length;i++){const n=t[i];if(n!==this.selectAllItem){var s=t[i].value;z.isTwoValueEquals(s,this.invisibleOldValues[s])&&(this.isItemSelected(n)||e.push(s),delete this.invisibleOldValues[s])}}return e}getConditionJson(e=null,t=null){const i=super.getConditionJson(e,t);return(e=="contains"||e=="notcontains")&&(i.type="radiogroup"),i.maxSelectedChoices=0,i.minSelectedChoices=0,i}isAnswerCorrect(){return z.isArrayContainsEqual(this.value,this.correctAnswer)}setDefaultValueWithOthers(){this.value=this.renderedValueFromDataCore(this.defaultValue)}getIsItemValue(e,t){return!e||!Array.isArray(e)?!1:e.indexOf(t.value)>=0}valueFromData(e){if(!e)return e;if(!Array.isArray(e))return[super.valueFromData(e)];let t=[];for(let i=0;i<e.length;i++){let s=Je.getItemByValue(this.visibleChoices,e[i]);s?t.push(s.value):t.push(e[i])}return t}rendredValueFromData(e){return e=this.convertValueFromObject(e),super.rendredValueFromData(e)}rendredValueToData(e){return e=super.rendredValueToData(e),this.convertValueToObject(e)}convertValueFromObject(e){return this.valuePropertyName?z.convertArrayObjectToValue(e,this.valuePropertyName):e}convertValueToObject(e){if(!this.valuePropertyName)return e;let t;return this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1&&(t=this.data.getValue(this.getValueName())),z.convertArrayValueToObject(e,this.valuePropertyName,t)}renderedValueFromDataCore(e){if((!e||!Array.isArray(e))&&(e=[]),!this.hasActiveChoices)return e;for(var t=0;t<e.length;t++){if(e[t]==this.otherItem.value)return e;if(this.hasUnknownValueItem(e[t],!0,!1)){this.otherValue=e[t];var i=e.slice();return i[t]=this.otherItem.value,i}}return e}rendredValueToDataCore(e){if(!e||!e.length)return e;for(var t=0;t<e.length;t++)if(e[t]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var i=e.slice();return i[t]=this.otherValue,i}return e}selectOtherValueFromComment(e){var t=[];const i=this.renderedValue;if(Array.isArray(i))for(var s=0;s<i.length;s++)i[s]!==this.otherItem.value&&t.push(i[s]);e&&t.push(this.otherItem.value),this.value=t}get checkBoxSvgPath(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"group"}get a11y_input_ariaRequired(){return null}}le.addClass("checkboxitem",[{name:"isExclusive:boolean",locationInTable:"detail"}],r=>new YE(r),"itemvalue");le.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0,onSettingValue:(r,e)=>{if(e<=0)return 0;const t=r.minSelectedChoices;return t>0&&e<t?t:e}},{name:"minSelectedChoices:number",default:0,onSettingValue:(r,e)=>{if(e<=0)return 0;const t=r.maxSelectedChoices;return t>0&&e>t?t:e}},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(r){return r.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new Hf("")},"checkboxbase");le.getProperty("checkbox","choices").type="checkboxitem[]";Kt.Instance.registerQuestion("checkbox",r=>{var e=new Hf(r);return e.choices=Kt.DefaultChoices,e});class mw extends Li{updateItemState(){this.actions.forEach(e=>{const t=this.isItemSelected(e);e.visible=this.hideSelectedItems?!t:!0})}constructor(e){super(e),this.onItemClick=t=>{this.isItemDisabled(t)||(this.isExpanded=!1,this.isItemSelected(t)?(this.selectedItems.splice(this.selectedItems.indexOf(t),1)[0],this.onSelectionChanged&&this.onSelectionChanged(t,"removed")):(this.selectedItems.push(t),this.onSelectionChanged&&this.onSelectionChanged(t,"added")))},this.isItemDisabled=t=>t.enabled!==void 0&&!t.enabled,this.isItemSelected=t=>!!this.allowSelection&&this.selectedItems.filter(i=>this.areSameItems(i,t)).length>0,this.setSelectedItems(e.selectedItems||[])}updateState(){this.updateItemState(),this.isEmpty=this.renderedActions.filter(e=>this.isItemVisible(e)).length===0}setSelectedItems(e){this.selectedItems=e,this.updateState()}selectFocusedItem(){super.selectFocusedItem(),this.hideSelectedItems&&this.focusNextVisibleItem()}}O([N()],mw.prototype,"hideSelectedItems",void 0);class Kh extends Ts{get needRenderInput(){return!this.question.isInputReadOnly||!!this.filterStringPlaceholder}locStrsChanged(){super.locStrsChanged(),this.syncFilterStringPlaceholder()}updateListState(){this.listModel.updateState(),this.updateCustomItemValue(),this.syncFilterStringPlaceholder()}syncFilterStringPlaceholder(){this.getSelectedActions().length||this.question.selectedItems.length||this.listModel.focusedItem?this.filterStringPlaceholder=void 0:this.filterStringPlaceholder=this.question.placeholder}getSelectedActions(){return this.listModel.actions.filter(e=>e.selected)}getFocusFirstInputSelector(){return this.listModel.hideSelectedItems&&Hi&&!this.isValueEmpty(this.question.value)?this.itemSelector:super.getFocusFirstInputSelector()}getPopupCssClasses(){return"sv-multi-select-list"}createListModel(){const e=this.getAvailableItems();let t=this.onSelectionChanged;t||(t=(n,o)=>{this.resetFilterString(),n.id==="selectall"?this.selectAllItems():o==="added"&&n.value===X.noneItemValue?this.selectNoneItem():o==="added"?this.selectItem(n.value):o==="removed"&&this.deselectItem(n.value),this.popupRecalculatePosition(!1),this.closeOnSelect&&(this.popupModel.isVisible=!1)});const i={items:e,onSelectionChanged:t,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},s=new mw(i);return this.setOnTextSearchCallbackForListModel(s),s.forceShowFilter=this.question.choicesLazyLoadEnabled,s}resetFilterString(){super.resetFilterString(),this.inputString=null,this.hintString=""}get shouldResetAfterCancel(){return Hi&&!this.closeOnSelect}createPopup(){super.createPopup(),this.popupModel.onFooterActionsCreated.add((e,t)=>{t.actions.push({id:"sv-dropdown-done-button",title:this.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:()=>{this.popupModel.isVisible=!1},enabled:new $t(()=>!this.isTwoValueEquals(this.question.renderedValue,this.previousValue))})}),this.popupModel.onVisibilityChanged.add((e,t)=>{this.shouldResetAfterCancel&&t.isVisible&&(this.previousValue=[].concat(this.question.renderedValue||[]))}),this.popupModel.onCancel=()=>{this.shouldResetAfterCancel&&(this.question.renderedValue=this.previousValue,this.updateListState())}}selectAllItems(){this.question.toggleSelectAll(),this.question.isAllSelected&&this.question.hideSelectedItems&&this.popupModel.hide(),this.updateListState()}selectNoneItem(){this.question.renderedValue=[X.noneItemValue],this.updateListState()}selectItem(e){let t;if(this.allowCustomChoices&&e===this.customItemValue.id){const i=this.createCustomItem();i&&(t=i.id)}else t=e;if(t){let i=[].concat(this.question.renderedValue||[]);i.push(t),this.question.renderedValue=i,this.updateListState()}}deselectItem(e){let t=[].concat(this.question.renderedValue||[]);t.splice(t.indexOf(e),1),this.question.renderedValue=t,this.applyHintString(),this.updateListState()}clear(){super.clear(),this.syncFilterStringPlaceholder()}onClear(e){super.onClear(e),this.updateListState()}setHideSelectedItems(e){this.listModel.hideSelectedItems=e,this.updateListState()}removeLastSelectedItem(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)}constructor(e,t){super(e,t),this.setHideSelectedItems(e.hideSelectedItems),this.syncFilterStringPlaceholder(),this.closeOnSelect=e.closeOnSelect}inputKeyHandler(e){e.keyCode===8&&!this.filterString&&(this.removeLastSelectedItem(),e.preventDefault(),e.stopPropagation())}setInputStringFromSelectedItem(e){this.question.searchEnabled&&(this.inputString=null)}focusItemOnClickAndPopup(){}onEscape(){}beforeScrollToFocusedItem(e){}afterScrollToFocusedItem(){var e;!((e=this.listModel.focusedItem)===null||e===void 0)&&e.selected?this.hintString="":this.applyHintString(),this.syncFilterStringPlaceholder()}onPropertyChangedHandler(e,t){super.onPropertyChangedHandler(e,t),(t.name==="value"||t.name==="renderedValue"||t.name==="placeholder")&&this.syncFilterStringPlaceholder()}}O([N({defaultValue:""})],Kh.prototype,"filterStringPlaceholder",void 0);O([N({defaultValue:!0})],Kh.prototype,"closeOnSelect",void 0);O([N()],Kh.prototype,"previousValue",void 0);O([N({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],Kh.prototype,"doneButtonCaption",void 0);class Kr extends Hf{constructor(e){super(e),this.itemDisplayNameMap={},this.onOpened=this.addEvent(),this.createLocalizableString("placeholder",this,!1,!0),this.createLocalizableString("readOnlyText",this,!0),this.deselectAllItemText=this.createLocalizableString("deselectAllText",this.selectAllItem,!0,"deselectAllItemText"),this.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],()=>{this.updateReadOnlyText()}),this.updateReadOnlyText()}locStrsChanged(){var e;super.locStrsChanged(),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()}updateReadOnlyText(){this.readOnlyText=this.displayValue||this.placeholder}getDefaultItemComponent(){return""}get dropdownListModel(){return this.dropdownListModelValue||(this.dropdownListModelValue=new Kh(this)),this.dropdownListModelValue}set dropdownListModel(e){this.dropdownListModelValue=e}get placeholder(){return this.getLocalizableStringText("placeholder")}set placeholder(e){this.setLocalizableStringText("placeholder",e),this.dropdownListModelValue&&this.dropdownListModel.setInputPlaceholder(e)}get locPlaceholder(){return this.getLocalizableString("placeholder")}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}getType(){return"tagbox"}get a11yInputAriaRole(){return"combobox"}get popupModel(){return this.dropdownListModel.popupModel}getControlClass(){return new fe().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlEditable,!this.isDisabledStyle&&!this.isReadOnlyStyle&&!this.isPreviewStyle).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()}updateCssClasses(e,t){super.updateCssClasses(e,t),Mf(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModel.updateCssClasses(t.popup,t.list),t}onOpenedCallBack(){this.onOpened.fire(this,{question:this,choices:this.choices})}hasUnknownValue(e,t=!1,i=!0,s=!1){return this.choicesLazyLoadEnabled?!1:super.hasUnknownValue(e,t,i,s)}needConvertRenderedOtherToDataValue(){var e;const t=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return t?super.hasUnknownValue(t,!0,!1):!1}onVisibleChoicesChanged(){super.onVisibleChoicesChanged(),this.dropdownListModelValue&&this.dropdownListModel.updateItems()}getItemIfChoicesNotContainThisValue(e,t){return this.choicesLazyLoadEnabled?this.createItemValue(e,t):super.getItemIfChoicesNotContainThisValue(e,t)}validateItemValues(e){this.updateItemDisplayNameMap();const t=this.renderedValue;if(e.length&&e.length===t.length)return e;const i=this.selectedItemValues;if(!e.length&&i&&i.length)return this.defaultSelectedItemValues=[].concat(i),i;const s=e.map(n=>n.value);return t.filter(n=>s.indexOf(n)===-1).forEach(n=>{const o=this.getItemIfChoicesNotContainThisValue(n,this.itemDisplayNameMap[n]);o&&e.push(o)}),e.sort((n,o)=>t.indexOf(n.value)-t.indexOf(o.value)),e}updateItemDisplayNameMap(){const e=t=>{this.itemDisplayNameMap[t.value]=t.text};(this.defaultSelectedItemValues||[]).forEach(e),(this.selectedItemValues||[]).forEach(e),this.visibleChoices.forEach(e)}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.isChoicesLoading}ensureQuestionIsReady(){super.ensureQuestionIsReady(),this.dropdownListModel&&this.choicesLazyLoadEnabled&&this.dropdownListModel.loadQuestionChoices()}setIsChoicesLoading(e){this.isChoicesLoading=e,this.updateIsReady()}canAddCustomChoices(){return this.allowCustomChoices}getFirstInputElementId(){return this.inputId+(this.searchEnabled||this.allowCustomChoices?"_0":"")}getInputId(){return this.inputId+"_0"}supportEmptyValidation(){return!0}onBlurCore(e){this.dropdownListModel.onBlur(e),super.onBlurCore(e)}onFocusCore(e){this.dropdownListModel.onFocus(e),super.onFocusCore(e)}allElementsSelected(){const e=super.allElementsSelected();return this.updateSelectAllItemText(e),e}updateSelectAllItemText(e){this.selectAllItem.setLocText(e?this.deselectAllItemText:this.selectAllItemText)}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}clearValue(e){var t;super.clearValue(e),(t=this.dropdownListModelValue)===null||t===void 0||t.clear()}get showClearButton(){return this.allowClear&&!this.isEmpty()}}O([N()],Kr.prototype,"searchMode",void 0);O([N({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setAllowCustomChoices(r)}})],Kr.prototype,"allowCustomChoices",void 0);O([N()],Kr.prototype,"allowClear",void 0);O([N({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setSearchEnabled(r)}})],Kr.prototype,"searchEnabled",void 0);O([N({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setHideSelectedItems(r)}})],Kr.prototype,"hideSelectedItems",void 0);O([N({onSet:(r,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setChoicesLazyLoadEnabled(r)}})],Kr.prototype,"choicesLazyLoadEnabled",void 0);O([N()],Kr.prototype,"choicesLazyLoadPageSize",void 0);O([N({getDefaultValue:()=>X.tagboxCloseOnSelect})],Kr.prototype,"closeOnSelect",void 0);O([N()],Kr.prototype,"textWrapEnabled",void 0);le.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"allowCustomChoices:boolean",default:!1,visibleIf:r=>!r.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"textWrapEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""},{name:"searchMode",default:"contains",choices:["contains","startsWith"]}],function(){return new Kr("")},"checkbox");Kt.Instance.registerQuestion("tagbox",r=>{const e=new Kr(r);return e.choices=Kt.DefaultChoices,e});class JE extends nw{constructor(){super(...arguments),this.doDragOver=()=>{if(this.parentElement.getType()==="imagepicker")return;const e=this.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");e.style.cursor="grabbing"},this.doBanDropHere=()=>{if(this.parentElement.getType()==="imagepicker")return;const e=this.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");e.style.cursor="not-allowed"}}get draggedElementType(){return"item-value"}createDraggedElementShortcut(e,t,i){if(this.parentElement.getType()==="imagepicker")return this.createImagePickerShortcut(this.draggedElement,e,t,i);const s=Ge.createElement("div");if(!s)return;s.className="sv-drag-drop-choices-shortcut";const o=t.closest("[data-sv-drop-target-item-value]").cloneNode(!0);o.classList.add("sv-drag-drop-choices-shortcut__content");const h=o.querySelector(".svc-item-value-controls__drag-icon");h.style.visibility="visible";const d=o.querySelector(".svc-item-value-controls__remove");d.style.backgroundColor="transparent",o.classList.remove("svc-item-value--moveup"),o.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,s.appendChild(o);const f=t.getBoundingClientRect();return s.shortcutXOffset=i.clientX-f.x,s.shortcutYOffset=i.clientY-f.y,this.isBottom=null,typeof this.onShortcutCreated=="function"&&this.onShortcutCreated(s),s}createImagePickerShortcut(e,t,i,s){const n=Ge.createElement("div");if(!n)return;n.classList.add("sv-drag-drop-image-picker-shortcut");const o=i.closest("[data-sv-drop-target-item-value]");this.imagepickerControlsNode=o.querySelector(".svc-image-item-value-controls");const h=o.querySelector(".sd-imagepicker__image-container");let d=o.querySelector(e.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="none"),h.style.width=d.width+"px",h.style.height=d.height+"px",d.style.objectFit="cover",d.style.borderRadius="4px",n.appendChild(d),n}getDropTargetByDataAttributeValue(e){let t;return t=this.parentElement.choices.filter(i=>""+i.value==e)[0],t}getChoices(){const e=this.parentElement;return e.getType()==="ranking"?e.selectToRankEnabled?e.unRankingChoices:e.rankingChoices:e.visibleChoices}isDropTargetValid(e,t){const i=this.getChoices();if(this.parentElement.getType()!=="imagepicker"){const s=i.indexOf(this.dropTarget),n=i.indexOf(this.draggedElement);if(n>s&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(n<s&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return i.indexOf(e)!==-1}isDropTargetDoesntChanged(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom}calculateIsBottom(e,t){const i=t.getBoundingClientRect();return e>=i.y+i.height/2}afterDragOver(e){const t=this.getChoices(),i=t.indexOf(this.dropTarget),s=t.indexOf(this.draggedElement);if(s<i&&this.isBottom===!0)t.splice(s,1),t.splice(i,0,this.draggedElement);else if(s>i&&this.isBottom===!1)t.splice(i,1),t.splice(s,0,this.dropTarget);else return;this.parentElement.getType()!=="imagepicker"&&(s!==i&&(e.classList.remove("svc-item-value--moveup"),e.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),s>i&&(this.dropTarget.isDragDropMoveDown=!0),s<i&&(this.dropTarget.isDragDropMoveUp=!0),super.ghostPositionChanged())}doDrop(){const e=this.parentElement.choices,t=this.getChoices().filter(n=>e.indexOf(n)!==-1),i=e.indexOf(this.draggedElement);let s=t.indexOf(this.draggedElement);return e.splice(i,1),e.splice(s,0,this.draggedElement),this.parentElement}clear(){this.parentElement&&this.updateVisibleChoices(this.parentElement),this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="flex",this.imagepickerControlsNode=null),super.clear()}updateVisibleChoices(e){e.getType()==="ranking"?e.updateRankingChoices():e.updateVisibleChoices()}}class vw extends JE{constructor(){super(...arguments),this.isDragOverRootNode=!1,this.doDragOver=()=>{const e=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");e.style.cursor="grabbing"},this.reorderRankedItem=(e,t,i)=>{if(t==i)return;const s=e.rankingChoices,n=s[t];e.isValueSetByUser=!0,s.splice(t,1),s.splice(i,0,n),this.updateDraggedElementShortcut(i+1)},this.doBanDropHere=()=>{if(this.isDragOverRootNode){this.allowDropHere=!0;return}const e=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");e.style.cursor="not-allowed",Hi&&this.parentElement.updateRankingChoices(!0)}}get draggedElementType(){return"ranking-item"}createDraggedElementShortcut(e,t,i){const s=Ge.createElement("div");if(!s)return;s.className=this.shortcutClass+" sv-ranking-shortcut";const o=t.cloneNode(!0);s.appendChild(o);const h=t.getBoundingClientRect();s.style.left=h.x,s.style.top=h.y,this.domAdapter.rootElement.append(s);const d=s.offsetHeight;let f=i.clientY;return f>h.y+d&&(f=h.y+d-10),s.shortcutXOffset=i.clientX-h.x,s.shortcutYOffset=f-h.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(s.style.width=t.offsetWidth+"px",s.style.height=t.offsetHeight+"px"),s}get shortcutClass(){return new fe().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,nv).toString()}getDropTargetByDataAttributeValue(e){return this.parentElement.rankingChoices[e]}findDropTargetNodeByDragOverNode(e){return this.isDragOverRootNode=this.getIsDragOverRootNode(e),super.findDropTargetNodeByDragOverNode(e)}getIsDragOverRootNode(e){return typeof e.className=="string"&&e.className.indexOf("sv-ranking")!==-1}isDropTargetValid(e,t){return this.parentElement.rankingChoices.indexOf(e)!==-1}calculateIsBottom(e,t){return this.dropTarget instanceof Je&&this.draggedElement!==this.dropTarget?super.calculateIsBottom(e,t):!1}getIndices(e,t,i){let s=t.indexOf(this.draggedElement),n=i.indexOf(this.dropTarget);return s<0&&this.draggedElement&&(this.draggedElement=Je.getItemByValue(t,this.draggedElement.value)||this.draggedElement,s=t.indexOf(this.draggedElement)),n===-1?n=e.value.length:t==i?(!this.isBottom&&s<n&&n--,this.isBottom&&s>n&&n++):t!=i&&this.isBottom&&n++,{fromIndex:s,toIndex:n}}afterDragOver(e){const{fromIndex:t,toIndex:i}=this.getIndices(this.parentElement,this.parentElement.rankingChoices,this.parentElement.rankingChoices);this.reorderRankedItem(this.parentElement,t,i)}updateDraggedElementShortcut(e){var t;if(!((t=this.domAdapter)===null||t===void 0)&&t.draggedElementShortcut){const i=e!==null?e+"":"",s=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index");s.innerText=i}}ghostPositionChanged(){this.parentElement.currentDropTarget=this.draggedElement,super.ghostPositionChanged()}doDrop(){return this.parentElement.setValue(),this.parentElement}clear(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),super.clear()}}class $E extends vw{constructor(){super(...arguments),this.selectToRank=(e,t,i)=>{const s=[].concat(e.rankingChoices),o=e.unRankingChoices[t];s.splice(i,0,o),this.updateChoices(e,s)},this.unselectFromRank=(e,t,i)=>{const s=[].concat(e.rankingChoices);s.splice(t,1),this.updateChoices(e,s)}}findDropTargetNodeByDragOverNode(e){if(e.dataset.ranking==="from-container"||e.dataset.ranking==="to-container")return e;let t=e.closest("[data-ranking='to-container']"),i=e.closest("[data-ranking='from-container']");return this.parentElement.unRankingChoices.length===0&&i?i:this.parentElement.rankingChoices.length===0&&t?t:super.findDropTargetNodeByDragOverNode(e)}getDropTargetByDataAttributeValue(e){return this.parentElement.rankingChoices[e]||this.parentElement.unRankingChoices[e]}getDropTargetByNode(e,t){return e.dataset.ranking==="to-container"?"to-container":e.dataset.ranking==="from-container"||e.closest("[data-ranking='from-container']")?"from-container":super.getDropTargetByNode(e,t)}isDropTargetValid(e,t){return e==="to-container"||e==="from-container"?!0:super.isDropTargetValid(e,t)}afterDragOver(e){const t=this.parentElement,i=t.rankingChoices,s=t.unRankingChoices;if(this.isDraggedElementUnranked&&this.isDropTargetRanked){this.doRankBetween(e,s,i,this.selectToRank);return}if(this.isDraggedElementRanked&&this.isDropTargetRanked){this.doRankBetween(e,i,i,this.reorderRankedItem);return}if(this.isDraggedElementRanked&&!this.isDropTargetRanked){this.doRankBetween(e,i,s,this.unselectFromRank);return}}doRankBetween(e,t,i,s){const n=this.parentElement;let{fromIndex:o,toIndex:h}=this.getIndices(n,t,i);s(n,o,h,e)}get isDraggedElementRanked(){return this.parentElement.rankingChoices.indexOf(this.draggedElement)!==-1}get isDropTargetRanked(){return this.dropTarget==="to-container"?!0:this.parentElement.rankingChoices.indexOf(this.dropTarget)!==-1}get isDraggedElementUnranked(){return!this.isDraggedElementRanked}updateChoices(e,t){e.isValueSetByUser=!0,e.rankingChoices=t,e.updateUnRankingChoices(t)}}class gn extends Hf{constructor(e){super(e),this.domNode=null,this.onVisibleChoicesChanged=()=>{if(super.onVisibleChoicesChanged(),this.carryForwardStartUnranked&&!this.isValueSetByUser&&!this.selectToRankEnabled&&!this.defaultValue&&(this.value=[]),this.visibleChoices.length===1&&!this.selectToRankEnabled){this.value=[],this.value.push(this.visibleChoices[0].value),this.updateRankingChoices();return}if(this.isEmpty()){this.updateRankingChoices();return}if(this.selectToRankEnabled){this.updateRankingChoices();return}this.visibleChoices.length>this.value.length&&this.addToValueByVisibleChoices(),this.visibleChoices.length<this.value.length&&this.removeFromValueByVisibleChoices(),this.updateRankingChoices()},this.localeChanged=()=>{super.localeChanged(),this.updateRankingChoicesSync()},this._rankingChoicesAnimation=new So(this.getChoicesAnimationOptions(!0),t=>{this._renderedRankingChoices=t},()=>this.renderedRankingChoices),this._unRankingChoicesAnimation=new So(this.getChoicesAnimationOptions(!1),t=>{this._renderedUnRankingChoices=t},()=>this.renderedUnRankingChoices),this.rankingChoices=[],this.unRankingChoices=[],this._renderedRankingChoices=[],this._renderedUnRankingChoices=[],this.handlePointerDown=(t,i,s)=>{const n=t.target;this.isDragStartNodeValid(n)&&this.isAllowStartDrag(n,i)&&(this.draggedChoiceValue=i.value,this.draggedTargetNode=s,this.dragOrClickHelper.onPointerDown(t))},this.startDrag=t=>{const i=Je.getItemByValue(this.visibleChoices,this.draggedChoiceValue);this.dragDropRankingChoices.startDrag(t,i,this,this.draggedTargetNode)},this.handlePointerUp=(t,i,s)=>{if(!this.selectToRankEnabled)return;const n=t.target;this.isAllowStartDrag(n,i)&&this.handleKeydownSelectToRank(t,i," ",!1)},this.handleKeydown=(t,i)=>{if(!this.isReadOnlyAttr&&!this.isDesignMode){const s=t.key,n=this.rankingChoices.indexOf(i);if(this.selectToRankEnabled){this.handleKeydownSelectToRank(t,i);return}if(s==="ArrowUp"&&n||s==="ArrowDown"&&n!==this.rankingChoices.length-1){const o=s=="ArrowUp"?n-1:n+1;this.dragDropRankingChoices.reorderRankedItem(this,n,o),this.setValueAfterKeydown(o,"",!0,t)}}},this.focusItem=(t,i)=>{if(this.domNode)if(this.selectToRankEnabled&&i){const s="[data-ranking='"+i+"']";this.domNode.querySelectorAll(s+" ."+this.cssClasses.item)[t].focus()}else this.domNode.querySelectorAll("."+this.cssClasses.item)[t].focus()},this.isValueSetByUser=!1,this.setValue=()=>{const t=[];this.rankingChoices.forEach(i=>{t.push(i.value)}),this.value=t,this.isValueSetByUser=!0},this.registerFunctionOnPropertyValueChanged("selectToRankEnabled",()=>{this.clearValue(!0),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()}),this.dragOrClickHelper=new fv(this.startDrag)}getType(){return"ranking"}getItemTabIndex(e){if(!(this.isDesignMode||e.disabled))return 0}supportContainerQueries(){return this.selectToRankEnabled}get rootClass(){return new fe().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,this.isMobileMode()).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.hasCssError()).append(this.cssClasses.rootDragHandleAreaIcon,X.rankingDragHandleArea==="icon").append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankEmptyValueMod,this.isEmpty()).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal").append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="vertical").append(this.cssClasses.rootSelectToRankSwapAreas,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal"&&this.selectToRankSwapAreas).toString()}isItemSelectedCore(e){return this.selectToRankEnabled?super.isItemSelectedCore(e):!0}getItemClassCore(e,t){return new fe().append(super.getItemClassCore(e,t)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===e).toString()}getContainerClasses(e){let t=!1;const i=e==="to",s=e==="from";return i?t=this.renderedRankingChoices.length===0:s&&(t=this.renderedUnRankingChoices.length===0),new fe().append(this.cssClasses.container).append(this.cssClasses.containerToMode,i).append(this.cssClasses.containerFromMode,s).append(this.cssClasses.containerEmptyMode,t).toString()}isItemCurrentDropTarget(e){return this.dragDropRankingChoices.dropTarget===e}get ghostPositionCssClass(){return this.ghostPosition==="top"?this.cssClasses.dragDropGhostPositionTop:this.ghostPosition==="bottom"?this.cssClasses.dragDropGhostPositionBottom:""}getItemIndexClasses(e){let t;return this.selectToRankEnabled?t=this.unRankingChoices.indexOf(e)!==-1:t=this.isEmpty(),new fe().append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,t).toString()}getNumberByIndex(e){return this.isEmpty()?"":e+1+""}updateRankingChoicesSync(){this.blockAnimations(),this.updateRankingChoices(),this.releaseAnimations()}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()}isAnswerCorrect(){return z.isArraysEqual(this.value,this.correctAnswer,!1)}get requireStrictCompare(){return!0}onSurveyValueChanged(e){super.onSurveyValueChanged(e),!this.isLoadingFromJson&&this.updateRankingChoices()}onSurveyLoad(){this.blockAnimations(),super.onSurveyLoad(),this.updateRankingChoices(),this.releaseAnimations()}updateValueFromSurvey(e,t){super.updateValueFromSurvey(e,t),e&&(this.isValueSetByUser=!0)}addToValueByVisibleChoices(){const e=this.value.slice();this.visibleChoices.forEach(t=>{e.indexOf(t.value)===-1&&e.push(t.value)}),this.value=e}removeFromValueByVisibleChoices(){const e=this.value.slice(),t=this.visibleChoices;for(let i=this.value.length-1;i>=0;i--)Je.getItemByValue(t,this.value[i])||e.splice(i,1);this.value=e}getChoicesAnimationOptions(e){return{getKey(t){return t.value},getRerenderEvent:()=>this.onElementRerendered,isAnimationEnabled:()=>this.animationAllowed&&!this.isDesignMode&&this.isVisible&&!!this.domNode,getReorderOptions:(t,i)=>{let s="";return t!==this.currentDropTarget&&(s=i?"sv-dragdrop-movedown":"sv-dragdrop-moveup"),{cssClass:s}},getLeaveOptions:t=>{const i=e?this.renderedRankingChoices:this.renderedUnRankingChoices;return this.renderedSelectToRankAreasLayout=="vertical"&&i.length==1&&i.indexOf(t)>=0?{cssClass:"sv-ranking-item--animate-item-removing-empty"}:{cssClass:"sv-ranking-item--animate-item-removing",onBeforeRunAnimation:s=>{s.style.setProperty("--animation-height",s.offsetHeight+"px")}}},getEnterOptions:t=>{const i=e?this.renderedRankingChoices:this.renderedUnRankingChoices;return this.renderedSelectToRankAreasLayout=="vertical"&&i.length==1&&i.indexOf(t)>=0?{cssClass:"sv-ranking-item--animate-item-adding-empty"}:{cssClass:"sv-ranking-item--animate-item-adding",onBeforeRunAnimation:s=>{s.style.setProperty("--animation-height",s.offsetHeight+"px")}}},getAnimatedElement:t=>{var i;const s=this.cssClasses;let n="";this.selectToRankEnabled&&(!e&&s.containerFromMode?n=ir(s.containerFromMode):e&&s.containerToMode&&(n=ir(s.containerToMode)));const o=e?this.renderedRankingChoices.indexOf(t):this.renderedUnRankingChoices.indexOf(t);return(i=this.domNode)===null||i===void 0?void 0:i.querySelector(`${n} [data-sv-drop-target-ranking-item='${o}']`)},allowSyncRemovalAddition:!0}}get rankingChoicesAnimation(){return this._rankingChoicesAnimation}get unRankingChoicesAnimation(){return this._unRankingChoicesAnimation}get renderedRankingChoices(){return this._renderedRankingChoices}set renderedRankingChoices(e){this.rankingChoicesAnimation.sync(e)}get renderedUnRankingChoices(){return this._renderedUnRankingChoices}set renderedUnRankingChoices(e){this.unRankingChoicesAnimation.sync(e)}updateRenderedRankingChoices(){this.renderedRankingChoices=this.rankingChoices}updateRenderedUnRankingChoices(){this.renderedUnRankingChoices=this.unRankingChoices}updateRankingChoices(e=!1){if(this.selectToRankEnabled){this.updateRankingChoicesSelectToRankMode(e);return}const t=[];if(e&&(this.rankingChoices=[]),this.isEmpty()){this.rankingChoices=this.visibleChoices;return}this.value.forEach(i=>{this.visibleChoices.forEach(s=>{s.value===i&&t.push(s)})}),this.rankingChoices=t}updateUnRankingChoices(e){const t=[];this.visibleChoices.forEach(i=>{t.push(i)}),e.forEach(i=>{t.forEach((s,n)=>{s.value===i.value&&t.splice(n,1)})}),this.unRankingChoices=t}updateRankingChoicesSelectToRankMode(e){const t=[];this.isEmpty()||this.value.forEach(i=>{this.visibleChoices.forEach(s=>{s.value===i&&t.push(s)})}),this.updateUnRankingChoices(t),this.rankingChoices=t}endLoadingFromJson(){super.endLoadingFromJson(),this.setDragDropRankingChoices()}setDragDropRankingChoices(){this.dragDropRankingChoices=this.createDragDropRankingChoices()}createDragDropRankingChoices(){return this.selectToRankEnabled?new $E(this.survey,null,this.longTap):new vw(this.survey,null,this.longTap)}isDragStartNodeValid(e){return X.rankingDragHandleArea==="icon"?e.classList.contains(this.cssClasses.itemIconHoverMod):!0}isAllowStartDrag(e,t){return!this.isReadOnly&&!this.isDesignMode&&this.canStartDragDueMaxSelectedChoices(e)&&this.canStartDragDueItemEnabled(t)}canStartDragDueMaxSelectedChoices(e){return this.selectToRankEnabled&&e.closest("[data-ranking='from-container']")?this.checkMaxSelectedChoicesUnreached():!0}canStartDragDueItemEnabled(e){return e.enabled}checkMaxSelectedChoicesUnreached(){if(this.maxSelectedChoices<1)return!0;var e=this.value,t=Array.isArray(e)?e.length:0;return t<this.maxSelectedChoices}afterRenderQuestionElement(e){this.domNode=e,super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){this.domNode=void 0,super.beforeDestroyQuestionElement(e)}supportSelectAll(){return!1}supportOther(){return!1}supportNone(){return!1}supportRefuse(){return!1}supportDontKnow(){return!1}handleKeydownSelectToRank(e,t,i,s=!0){if(this.isDesignMode)return;let n=e.key;if(i&&(n=i),n!==" "&&n!=="ArrowUp"&&n!=="ArrowDown")return;const o=this.dragDropRankingChoices,h=this.rankingChoices,d=h.indexOf(t)!==-1,p=(d?h:this.unRankingChoices).indexOf(t);if(p<0)return;let y;if(n===" "&&!d){if(!this.checkMaxSelectedChoicesUnreached()||!this.canStartDragDueItemEnabled(t))return;y=this.value.length,o.selectToRank(this,p,y),this.setValueAfterKeydown(y,"to-container",s,e);return}if(!d)return;if(n===" "){o.unselectFromRank(this,p),y=this.unRankingChoices.indexOf(t),this.setValueAfterKeydown(y,"from-container",s,e);return}const b=n==="ArrowUp"?-1:n==="ArrowDown"?1:0;b!==0&&(y=p+b,!(y<0||y>=h.length)&&(o.reorderRankedItem(this,p,y),this.setValueAfterKeydown(y,"to-container",s,e)))}setValueAfterKeydown(e,t,i=!0,s){this.setValue(),i&&setTimeout(()=>{this.focusItem(e,t)},1),s&&s.preventDefault()}getIconHoverCss(){return new fe().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()}getIconFocusCss(){return new fe().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()}get longTap(){return this.getPropertyValue("longTap")}set longTap(e){this.setPropertyValue("longTap",e)}getDefaultItemComponent(){return"sv-ranking-item"}get selectToRankEnabled(){return this.getPropertyValue("selectToRankEnabled",!1)}set selectToRankEnabled(e){this.setPropertyValue("selectToRankEnabled",e)}get selectToRankSwapAreas(){return this.getPropertyValue("selectToRankSwapAreas",!1)}set selectToRankSwapAreas(e){this.setPropertyValue("selectToRankSwapAreas",e)}get selectToRankAreasLayout(){return this.getPropertyValue("selectToRankAreasLayout")}set selectToRankAreasLayout(e){this.setPropertyValue("selectToRankAreasLayout",e)}get renderedSelectToRankAreasLayout(){return this.isMobileMode()?"vertical":this.selectToRankAreasLayout}isMobileMode(){return nv}get useFullItemSizeForShortcut(){return this.getPropertyValue("useFullItemSizeForShortcut")}set useFullItemSizeForShortcut(e){this.setPropertyValue("useFullItemSizeForShortcut",e)}get dragDropSvgIcon(){return this.cssClasses.dragDropSvgIconId||"#icon-drag-24x24"}get arrowsSvgIcon(){return this.cssClasses.arrowsSvgIconId||"#icon-reorder-24x24"}get dashSvgIcon(){return this.cssClasses.dashSvgIconId||"#icon-rankingundefined-16x16"}get isNewA11yStructure(){return!1}}O([Es({onSet:(r,e)=>e.updateRenderedRankingChoices(),onRemove:(r,e,t)=>t.updateRenderedRankingChoices(),onPush:(r,e,t)=>t.updateRenderedRankingChoices()})],gn.prototype,"rankingChoices",void 0);O([Es({onSet:(r,e)=>e.updateRenderedUnRankingChoices(),onRemove:(r,e,t)=>t.updateRenderedUnRankingChoices(),onPush:(r,e,t)=>t.updateRenderedUnRankingChoices()})],gn.prototype,"unRankingChoices",void 0);O([Es()],gn.prototype,"_renderedRankingChoices",void 0);O([Es()],gn.prototype,"_renderedUnRankingChoices",void 0);O([N({defaultValue:null})],gn.prototype,"currentDropTarget",void 0);O([N({defaultValue:!0})],gn.prototype,"carryForwardStartUnranked",void 0);O([N({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],gn.prototype,"selectToRankEmptyRankedAreaText",void 0);O([N({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],gn.prototype,"selectToRankEmptyUnrankedAreaText",void 0);le.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"showRefuseItem",visible:!1,isSerializable:!1},{name:"showDontKnowItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled:switch",default:!1,visible:!0,isSerializable:!0},{name:"selectToRankSwapAreas:switch",default:!1,visible:!1,isSerializable:!0,dependsOn:"selectToRankEnabled"},{name:"selectToRankAreasLayout",default:"horizontal",choices:["horizontal","vertical"],dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled,visible:!0,isSerializable:!0},{name:"selectToRankEmptyRankedAreaText:text",serializationProperty:"locSelectToRankEmptyRankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled},{name:"selectToRankEmptyUnrankedAreaText:text",serializationProperty:"locSelectToRankEmptyUnrankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled},{name:"maxSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled,isSerializable:!0},{name:"minSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:r=>!!r.selectToRankEnabled,isSerializable:!0},{name:"itemComponent",visible:!1,default:"sv-ranking-item"}],function(){return new gn("")},"checkbox");Kt.Instance.registerQuestion("ranking",r=>{const e=new gn(r);return e.choices=Kt.DefaultChoices,e});class yw extends Bf{constructor(e){super(e)}get textAreaModel(){return this.textAreaModelValue||(this.textAreaModelValue=new hv(this.getTextAreaOptions())),this.textAreaModelValue}getTextAreaOptions(){const e=this,t=s=>{z.isTwoValueEquals(e.value,s,!1,!0,!1)||(e.value=s)};return{question:this,id:()=>this.inputId,propertyNames:["value"],className:()=>this.className,placeholder:()=>this.renderedPlaceholder,isDisabledAttr:()=>this.isDisabledAttr,isReadOnlyAttr:()=>this.isReadOnlyAttr,autoGrow:()=>this.renderedAutoGrow,maxLength:()=>this.getMaxLength(),rows:()=>this.rows,cols:()=>this.cols,ariaRequired:()=>this.a11y_input_ariaRequired,ariaLabel:()=>this.a11y_input_ariaLabel,ariaLabelledBy:()=>this.a11y_input_ariaLabelledBy,ariaDescribedBy:()=>this.a11y_input_ariaDescribedBy,ariaInvalid:()=>this.a11y_input_ariaInvalid,ariaErrormessage:()=>this.a11y_input_ariaErrormessage,getTextValue:()=>this.value,onTextAreaChange:s=>{t(s.target.value)},onTextAreaInput:s=>{this.onInput(s)},onTextAreaKeyDown:s=>{this.onKeyDown(s)},onTextAreaFocus:s=>{this.onFocus(s)},onTextAreaBlur:s=>{this.onBlur(s)}}}get rows(){return this.getPropertyValue("rows")}set rows(e){this.setPropertyValue("rows",e)}get cols(){return this.getPropertyValue("cols")}set cols(e){this.setPropertyValue("cols",e)}get acceptCarriageReturn(){return this.getPropertyValue("acceptCarriageReturn")}set acceptCarriageReturn(e){this.setPropertyValue("acceptCarriageReturn",e)}get autoGrow(){return this.getPropertyValue("autoGrow")}set autoGrow(e){this.setPropertyValue("autoGrow",e)}get renderedAutoGrow(){const e=this.autoGrow;return e===void 0&&this.survey?this.survey.autoGrowComment:!!e}get allowResize(){return this.getPropertyValue("allowResize")}set allowResize(e){this.setPropertyValue("allowResize",e)}get renderedAllowResize(){const e=this.allowResize;return e===void 0&&this.survey?this.survey.allowResizeComment:!!e}get resizeStyle(){return this.renderedAllowResize?"both":"none"}getType(){return"comment"}afterRenderQuestionElement(e){this.element=e?.querySelector(`#${this.inputId}`)||e,super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.element=void 0}onInput(e){this.isInputTextUpdate&&(this.value=e.target.value),this.updateRemainingCharacterCounter(e.target.value)}onBlurCore(e){super.onBlurCore(e)}onKeyDown(e){this.onKeyDownPreprocess&&this.onKeyDownPreprocess(e),!this.acceptCarriageReturn&&(e.key==="Enter"||e.keyCode===13)&&(e.preventDefault(),e.stopPropagation())}setNewValue(e){!this.acceptCarriageReturn&&e&&(e=e.replace(new RegExp(`(\r
|
|\r)`,"gm"),"")),super.setNewValue(e)}getValueSeparator(){return`
`}notifyStateChanged(e){super.notifyStateChanged(e),this.isCollapsed||this.textAreaModel.updateElement()}get className(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0}}le.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean",defaultFunc:()=>{}},{name:"allowResize:boolean",defaultFunc:()=>{}},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new yw("")},"textbase");Kt.Instance.registerQuestion("comment",r=>new yw(r));const fh="environment",Ra="user";class Zt{constructor(){this.canFlipValue=void 0}static clear(){Zt.cameraList=void 0,Zt.cameraIndex=-1}static setCameraList(e){const t=function(i){const s=i.label.toLocaleLowerCase();return s.indexOf(Ra)>-1?Ra:s.indexOf(fh)>-1?fh:s.indexOf("front")>-1?Ra:s.indexOf("back")>-1?fh:""};Zt.clear(),Array.isArray(e)&&e.length>0&&(Zt.cameraIndex=-1,e.sort((i,s)=>{if(i===s)return 0;if(i.label!==s.label){const h=t(i),d=t(s);if(h!==d){if(h===Ra)return-1;if(d===Ra)return 1;if(h===fh)return-1;if(d===fh)return 1}}const n=e.indexOf(i),o=e.indexOf(s);return n<o?-1:1})),Zt.cameraList=e}hasCamera(e){if(Zt.cameraList!==void 0){this.hasCameraCallback(e);return}if(Zt.mediaDevicesCallback){const t=i=>{this.setVideoInputs(i),this.hasCameraCallback(e)};Zt.mediaDevicesCallback(t);return}typeof navigator<"u"&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(t=>{this.setVideoInputs(t),this.hasCameraCallback(e),this.updateCanFlipValue()}).catch(t=>{Zt.cameraList=null,this.hasCameraCallback(e)}):(Zt.cameraList=null,this.hasCameraCallback(e))}getMediaConstraints(e){const t=Zt.cameraList;if(!Array.isArray(t)||t.length<1)return;Zt.cameraIndex<0&&(Zt.cameraIndex=0);const i=t[Zt.cameraIndex],s={};return i&&i.deviceId?s.deviceId={exact:i.deviceId}:s.facingMode=Zt.cameraFacingMode,e&&(e?.height&&(s.height={ideal:e.height}),e?.width&&(s.width={ideal:e.width})),{video:s,audio:!1}}startVideo(e,t,i,s){if(!e){t(void 0);return}e.style.width="100%",e.style.height="auto",e.style.height="100%",e.style.objectFit="contain";const n=this.getMediaConstraints({width:i,height:s});navigator.mediaDevices.getUserMedia(n).then(o=>{var h;e.srcObject=o,!(!((h=Zt.cameraList[Zt.cameraIndex])===null||h===void 0)&&h.deviceId)&&o.getTracks()[0].getCapabilities().facingMode&&(Zt.canSwitchFacingMode=!0,this.updateCanFlipValue()),e.play(),t(o)}).catch(o=>{t(void 0)})}getImageSize(e){return{width:e.videoWidth,height:e.videoHeight}}snap(e,t){if(!e||!Ge.isAvailable())return!1;const s=Ge.getDocument().createElement("canvas"),n=this.getImageSize(e);s.height=n.height,s.width=n.width;let o=s.getContext("2d");return o.clearRect(0,0,s.width,s.height),o.drawImage(e,0,0,s.width,s.height),s.toBlob(t,"image/png"),!0}updateCanFlipValue(){const e=Zt.cameraList;this.canFlipValue=Array.isArray(e)&&e.length>1||Zt.canSwitchFacingMode,this.onCanFlipChangedCallback&&this.onCanFlipChangedCallback(this.canFlipValue)}canFlip(e){return this.canFlipValue===void 0&&this.updateCanFlipValue(),e&&(this.onCanFlipChangedCallback=e),this.canFlipValue}flip(){this.canFlip()&&(Zt.canSwitchFacingMode?Zt.cameraFacingMode=Zt.cameraFacingMode===Ra?"environment":Ra:Zt.cameraIndex>=Zt.cameraList.length-1?Zt.cameraIndex=0:Zt.cameraIndex++)}hasCameraCallback(e){e(Array.isArray(Zt.cameraList))}setVideoInputs(e){const t=[];e.forEach(i=>{i.kind==="videoinput"&&t.push(i)}),Zt.setCameraList(t.length>0?t:null)}}Zt.cameraIndex=-1;Zt.cameraFacingMode=Ra;Zt.canSwitchFacingMode=!1;function e5(r,e,t){const i=atob(r.split(",")[1]),s=new Uint8Array(i.split("").map(n=>n.charCodeAt(0))).buffer;return new File([s],e,{type:t})}class Qf extends Ii{constructor(){super(...arguments),this.isUploading=!1,this.onUploadStateChanged=this.addEvent(),this.onStateChanged=this.addEvent()}stateChanged(e){this.currentState!=e&&(e==="loading"&&(this.isUploading=!0),e==="loaded"&&(this.isUploading=!1),e==="error"&&(this.isUploading=!1),this.currentState=e,this.onStateChanged.fire(this,{state:e}),this.onUploadStateChanged.fire(this,{state:e}))}get showLoadingIndicator(){return this.isUploading}get storeDataAsText(){return this.getPropertyValue("storeDataAsText")}set storeDataAsText(e){this.setPropertyValue("storeDataAsText",e)}get waitForUpload(){return this.getPropertyValue("waitForUpload")}set waitForUpload(e){this.setPropertyValue("waitForUpload",e)}clearValue(e){this.clearOnDeletingContainer(),super.clearValue(e)}clearOnDeletingContainer(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,()=>{})}onCheckForErrors(e,t,i){super.onCheckForErrors(e,t,i),this.isUploading&&this.waitForUpload&&e.push(new qc(this.getLocalizationString("uploadingFile"),this))}uploadFiles(e){this.survey&&(this.stateChanged("loading"),this.survey.uploadFiles(this,this.name,e,(t,i)=>{Array.isArray(t)&&(this.setValueFromResult(t),Array.isArray(i)&&(i.forEach(s=>this.errors.push(new qc(s,this))),this.stateChanged("error"))),t==="success"&&Array.isArray(i)&&this.setValueFromResult(i),t==="error"&&(typeof i=="string"&&this.errors.push(new qc(i,this)),Array.isArray(i)&&i.length>0&&i.forEach(s=>this.errors.push(new qc(s,this))),this.stateChanged("error")),this.stateChanged("loaded")}))}loadPreview(e){}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.stateChanged(this.isEmpty()?"empty":"loaded")}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.isFileLoading}get isFileLoading(){return this.isFileLoadingValue}set isFileLoading(e){this.isFileLoadingValue=e,this.updateIsReady()}}O([N()],Qf.prototype,"isUploading",void 0);O([N({defaultValue:"empty"})],Qf.prototype,"currentState",void 0);class Fl extends tt{static getId(){return"sv_sfp_"+Fl.pageCounter++}constructor(e,t){super(),this.question=e,this.index=t,this.id=Fl.getId()}get css(){return this.question.cssClasses.page}}Fl.pageCounter=0;O([Es({})],Fl.prototype,"items",void 0);class Oi extends Qf{get fileNavigatorVisible(){const e=this.isUploading,t=this.isPlayingVideo,i=this.containsMultiplyFiles,s=this.pageSize<this.previewValue.length;return!e&&!t&&i&&s}get pagesCount(){return Math.ceil(this.previewValue.length/this.pageSize)}get actionsContainerVisible(){const e=this.isUploading,t=this.isPlayingVideo;return!e&&!t}constructor(e){super(e),this.isDragging=!1,this.fileNavigator=new Ss,this.canFlipCameraValue=void 0,this.prevPreviewLength=0,this._renderedPages=[],this.pagesAnimation=new Zb(this.getPagesAnimationOptions(),t=>{this._renderedPages=t},()=>this.renderedPages),this.calcAvailableItemsCount=(t,i,s)=>{let n=Math.floor(t/(i+s));return(n+1)*(i+s)-s<=t&&n++,n},this.dragCounter=0,this.onDragEnter=t=>{this.canDragDrop()&&(t.preventDefault(),this.isDragging=!0,this.dragCounter++)},this.onDragOver=t=>{if(!this.canDragDrop())return t.returnValue=!1,!1;t.dataTransfer.dropEffect="copy",t.preventDefault()},this.onDrop=t=>{if(this.canDragDrop()){this.isDragging=!1,this.dragCounter=0,t.preventDefault();let i=t.dataTransfer;this.onChange(i)}},this.onDragLeave=t=>{this.canDragDrop()&&(this.dragCounter--,this.dragCounter===0&&(this.isDragging=!1))},this.doChange=t=>{var i=t.target||t.srcElement;this.onChange(i)},this.doClean=()=>{if(this.needConfirmRemoveFile){of({message:this.confirmRemoveAllMessage,funcOnYes:()=>{this.clearFilesCore()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.clearFilesCore()},this.doDownloadFileFromContainer=t=>{t.stopPropagation();const i=t.currentTarget;if(i&&i.getElementsByTagName){const s=i.getElementsByTagName("a")[0];s?.click()}},this.doDownloadFile=(t,i)=>{t.stopPropagation(),Kc()&&(t.preventDefault(),kS(i.content,i.name))},this.createLocalizableString("takePhotoCaption",this,!1,!0),this.createLocalizableString("clearCaption",this,!1,!0),this.actionsContainer=new Ss,this.actionsContainer.locOwner=this,this.fileIndexAction=new ht({id:"fileIndex",title:this.getFileIndexCaption(),enabled:!1}),this.prevFileAction=new ht({id:"prevPage",iconSize:16,action:()=>{this.navigationDirection="left",this.indexToShow=this.previewValue.length&&(this.indexToShow-1+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()}}),this.nextFileAction=new ht({id:"nextPage",iconSize:16,action:()=>{this.navigationDirection="right",this.indexToShow=this.previewValue.length&&(this.indexToShow+1)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()}}),this.takePictureAction=new ht({iconName:"icon-takepicture",id:"sv-file-take-picture",iconSize:"auto",innerCss:new $t(()=>new fe().append(this.cssClasses.contextButton).append(this.cssClasses.takePictureButton).toString()),locTitle:this.locTakePhotoCaption,showTitle:!1,action:()=>{this.snapPicture()}}),this.closeCameraAction=new ht({iconName:"icon-closecamera",id:"sv-file-close-camera",iconSize:"auto",innerCss:new $t(()=>new fe().append(this.cssClasses.contextButton).append(this.cssClasses.closeCameraButton).toString()),action:()=>{this.stopVideo()}}),this.changeCameraAction=new ht({iconName:"icon-changecamera",id:"sv-file-change-camera",iconSize:"auto",innerCss:new $t(()=>new fe().append(this.cssClasses.contextButton).append(this.cssClasses.changeCameraButton).toString()),visible:new $t(()=>this.canFlipCamera()),action:()=>{this.flipCamera()}}),this.chooseFileAction=new ht({iconName:"icon-choosefile",id:"sv-file-choose-file",iconSize:"auto",data:{question:this},enabledIf:()=>!this.isInputReadOnly,component:"sv-file-choose-btn"}),this.startCameraAction=new ht({iconName:"icon-takepicture_24x24",id:"sv-file-start-camera",iconSize:"auto",locTitle:this.locTakePhotoCaption,showTitle:new $t(()=>!this.isAnswered),enabledIf:()=>!this.isInputReadOnly,action:()=>{this.startVideo()}}),this.cleanAction=new ht({iconName:"icon-clear",id:"sv-file-clean",iconSize:"auto",locTitle:this.locClearButtonCaption,showTitle:!1,enabledIf:()=>!this.isInputReadOnly,innerCss:new $t(()=>this.cssClasses.removeButton),action:()=>{this.doClean()}}),[this.closeCameraAction,this.changeCameraAction,this.takePictureAction].forEach(t=>{t.cssClasses={}}),this.registerFunctionOnPropertiesValueChanged(["sourceType","currentMode","isAnswered"],()=>{this.updateActionsVisibility()}),this.actionsContainer.actions=[this.chooseFileAction,this.startCameraAction,this.cleanAction],this.fileNavigator.actions=[this.prevFileAction,this.fileIndexAction,this.nextFileAction]}get videoId(){return this.id+"_video"}get hasVideoUI(){return this.currentMode!=="file"}get hasFileUI(){return this.currentMode!=="camera"}startVideo(){this.currentMode==="file"||this.isDesignMode||this.isPlayingVideo||(this.setIsPlayingVideo(!0),setTimeout(()=>{this.startVideoInCamera()},0))}get videoHtmlElement(){var e;return(e=this.rootElement)===null||e===void 0?void 0:e.querySelector(`#${this.videoId}`)}startVideoInCamera(){this.camera.startVideo(this.videoHtmlElement,e=>{this.videoStream=e,e||this.stopVideo()},Eo(this.imageWidth),Eo(this.imageHeight))}stopVideo(){this.setIsPlayingVideo(!1),this.closeVideoStream()}snapPicture(){if(!this.isPlayingVideo)return;const e=t=>{if(t){const i=new File([t],"snap_picture.png",{type:"image/png"});this.loadFiles([i])}};this.camera.snap(this.videoHtmlElement,e),this.stopVideo()}canFlipCamera(){return this.canFlipCameraValue===void 0&&(this.canFlipCameraValue=this.camera.canFlip(e=>{this.canFlipCameraValue=e})),this.canFlipCameraValue}flipCamera(){this.canFlipCamera()&&(this.closeVideoStream(),this.camera.flip(),this.startVideoInCamera())}closeVideoStream(){this.videoStream&&(this.videoStream.getTracks().forEach(e=>{e.stop()}),this.videoStream=void 0)}onHidingContent(){super.onHidingContent(),this.stopVideo()}updateElementCssCore(e){super.updateElementCssCore(e),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId,this.updateCurrentMode()}getFileIndexCaption(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.pagesCount)}updateFileNavigator(){this.updatePages(),this.navigationDirection=void 0,this.indexToShow=this.previewValue.length&&(this.indexToShow+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()}updateRenderedPages(){this.pages&&this.pages[this.indexToShow]&&(this.renderedPages=[this.pages[this.indexToShow]])}updatePages(){this.blockAnimations();let e;this.pages=[],this.renderedPages=[],this.previewValue.forEach((t,i)=>{i%this.pageSize==0&&(e=new Fl(this,this.pages.length),this.pages.push(e)),e.items.push(t)}),this.releaseAnimations(),this.updateRenderedPages()}previewValueChanged(){this.navigationDirection=void 0,this.previewValue.length!==this.prevPreviewLength&&(this.previewValue.length>0?this.prevPreviewLength>this.previewValue.length?this.indexToShow>=this.pagesCount&&this.indexToShow>0&&(this.indexToShow=this.pagesCount-1,this.navigationDirection="left-delete"):this.indexToShow=Math.floor(this.prevPreviewLength/this.pageSize):this.indexToShow=0),this.updatePages(),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1,this.previewValue.length>0&&!this.calculatedGapBetweenItems&&!this.calculatedItemWidth&&setTimeout(()=>{this.processResponsiveness(0,this._width)},1),this.prevPreviewLength=this.previewValue.length}getType(){return"file"}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.isLoadingFromJson||this.loadPreview(e)}get showPreview(){return this.getPropertyValue("showPreview")}set showPreview(e){this.setPropertyValue("showPreview",e)}get allowMultiple(){return this.getPropertyValue("allowMultiple")}set allowMultiple(e){this.setPropertyValue("allowMultiple",e)}get imageHeight(){return this.getPropertyValue("imageHeight")}set imageHeight(e){this.setPropertyValue("imageHeight",e)}get imageWidth(){return this.getPropertyValue("imageWidth")}set imageWidth(e){this.setPropertyValue("imageWidth",e)}get acceptedTypes(){return this.getPropertyValue("acceptedTypes")}set acceptedTypes(e){this.setPropertyValue("acceptedTypes",e)}get allowImagesPreview(){return this.getPropertyValue("allowImagesPreview")}set allowImagesPreview(e){this.setPropertyValue("allowImagesPreview",e)}get maxSize(){return this.getPropertyValue("maxSize")}set maxSize(e){this.setPropertyValue("maxSize",e)}chooseFile(e){if(!this.rootElement)return;const t=this.rootElement.querySelector(`#${this.inputId}`);t&&(e.preventDefault(),e.stopImmediatePropagation(),t&&(this.survey?this.survey.chooseFiles(t,i=>this.loadFiles(i),{element:this,elementType:this.getType(),propertyName:this.name}):t.click()))}get needConfirmRemoveFile(){return this.getPropertyValue("needConfirmRemoveFile")}set needConfirmRemoveFile(e){this.setPropertyValue("needConfirmRemoveFile",e)}getConfirmRemoveMessage(e){return this.confirmRemoveMessage.format(e)}get takePhotoCaption(){return this.getLocalizableStringText("takePhotoCaption")}set takePhotoCaption(e){this.setLocalizableStringText("takePhotoCaption",e)}get locTakePhotoCaption(){return this.getLocalizableString("takePhotoCaption")}get clearButtonCaption(){return this.getLocalizableStringText("clearCaption")}set clearButtonCaption(e){this.setLocalizableStringText("clearCaption",e)}get locClearButtonCaption(){return this.getLocalizableString("clearCaption")}get locRenderedPlaceholder(){return this.locRenderedPlaceholderValue===void 0&&(this.locRenderedPlaceholderValue=new $t(()=>{const e=this.isReadOnly,t=!this.isDesignMode&&this.hasFileUI||this.isDesignMode&&this.sourceType!="camera",i=!this.isDesignMode&&this.hasVideoUI||this.isDesignMode&&this.sourceType!="file";let s;return e?s=this.locNoFileChosenCaption:t&&i?s=this.locFileOrPhotoPlaceholder:t?s=this.locFilePlaceholder:s=this.locPhotoPlaceholder,s})),this.locRenderedPlaceholderValue}get currentMode(){return this.getPropertyValue("currentMode",this.sourceType)}get isPlayingVideo(){return this.getPropertyValue("isPlayingVideo",!1)}setIsPlayingVideo(e){this.setPropertyValue("isPlayingVideo",e)}updateCurrentMode(){!this.isDesignMode&&this.survey&&(this.sourceType!=="file"?this.camera.hasCamera(e=>{this.setPropertyValue("currentMode",e?this.sourceType:"file")}):this.setPropertyValue("currentMode",this.sourceType))}updateActionsVisibility(){const e=this.isDesignMode;this.chooseFileAction.visible=!e&&this.hasFileUI||e&&this.sourceType!=="camera",this.startCameraAction.visible=!e&&this.hasVideoUI||e&&this.sourceType!=="file",this.cleanAction.visible=!!this.isAnswered}get inputTitle(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "}get chooseButtonText(){return this.isEmpty()||this.allowMultiple?this.chooseButtonCaption:this.replaceButtonCaption}clear(e){this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,(t,i)=>{t==="success"&&(this.value=void 0,this.errors=[],e&&e(),this.indexToShow=0,this.fileIndexAction.title=this.getFileIndexCaption())}))}get renderCapture(){return this.allowCameraAccess?"user":void 0}get multipleRendered(){return this.allowMultiple?"multiple":void 0}get showFileDecorator(){const e=this.isPlayingVideo,t=this.showLoadingIndicator;return!e&&!t}get showDragAreaPlaceholder(){return!this.isAnswered}get allowShowPreview(){const e=this.showLoadingIndicator,t=this.isPlayingVideo;return!e&&!t}get showPreviewContainer(){return this.previewValue&&this.previewValue.length>0}defaultImage(e){return!this.canPreviewImage(e)&&!!this.cssClasses.defaultImage}removeFile(e){this.removeFileByContent(this.value.filter(t=>t.name===e)[0])}removeFileByContent(e){this.survey&&this.survey.clearFiles(this,this.name,this.value,e.name,(t,i)=>{if(t==="success"){var s=this.value;Array.isArray(s)?this.value=s.filter(n=>!z.isTwoValueEquals(n,e,!0,!1,!1)):this.value=void 0}})}setValueFromResult(e){this.value=(this.value||[]).concat(e.map(t=>({name:t.file.name,type:t.file.type,content:t.content})))}loadFiles(e){if(this.survey&&(this.errors=[],!!this.allFilesOk(e))){var t=()=>{this.stateChanged("loading");var i=[];this.storeDataAsText?e.forEach(s=>{let n=new FileReader;n.onload=o=>{i=i.concat([{name:s.name,type:s.type,content:n.result}]),i.length===e.length&&(this.value=(this.value||[]).concat(i))},n.readAsDataURL(s)}):this.uploadFiles(e)};this.allowMultiple?t():this.clear(t)}}get camera(){return this.cameraValue||(this.cameraValue=new Zt),this.cameraValue}canPreviewImage(e){return this.allowImagesPreview&&!!e&&this.isFileImage(e)}loadPreview(e){if(!(this.showPreview&&this.prevLoadedPreviewValue===e)&&(this.previewValue.splice(0,this.previewValue.length),!(!this.showPreview||!e))){this.prevLoadedPreviewValue=e;var t=Array.isArray(e)?e:e?[e]:[];this.storeDataAsText?(t.forEach(i=>{var s=i.content||i;this.previewValue.push({name:i.name,type:i.type,content:s})}),this.previewValueChanged()):(this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new Cw(this,(i,s)=>{i!=="error"&&(s.forEach(n=>{this.previewValue.push(n)}),this.previewValueChanged()),this.isFileLoading=!1,this._previewLoader.dispose(),this._previewLoader=void 0}),this._previewLoader.load(t))}}allFilesOk(e){var t=this.errors?this.errors.length:0;return(e||[]).forEach(i=>{this.maxSize>0&&i.size>this.maxSize&&this.errors.push(new rE(this.maxSize,this))}),t===this.errors.length}isFileImage(e){if(!e||!e.content||!e.content.substring)return!1;const t="data:image";var i=e.content&&e.content.substring(0,t.length);i=i&&i.toLowerCase();var s=i===t||!!e.type&&e.type.toLowerCase().indexOf("image/")===0;return s}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t&&!this.isEmpty()){t.isNode=!1;var i=Array.isArray(this.value)?this.value:[this.value];t.data=i.map((s,n)=>({name:n,title:"File",value:s.content&&s.content||s,displayValue:s.name&&s.name||s,getString:o=>typeof o=="object"?JSON.stringify(o):o,isNode:!1}))}return t}getImageWrapperCss(e){return new fe().append(this.cssClasses.imageWrapper).append(this.cssClasses.imageWrapperDefaultImage,this.defaultImage(e)).toString()}getActionsContainerCss(e){return new fe().append(e.actionsContainer).append(e.actionsContainerAnswered,this.isAnswered).toString()}getRemoveButtonCss(){return new fe().append(this.cssClasses.removeFileButton).append(this.cssClasses.contextButton).toString()}getChooseFileCss(){const e=this.isAnswered;return new fe().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!e).append(this.cssClasses.chooseFileAsTextDisabled,!e&&this.isInputReadOnly).append(this.cssClasses.contextButton,e).append(this.cssClasses.chooseFileAsIcon,e).toString()}getReadOnlyFileCss(){return new fe().append("form-control").append(this.cssClasses.placeholderInput).toString()}get fileRootCss(){return new fe().append(this.cssClasses.root).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDragging,this.isDragging).append(this.cssClasses.rootAnswered,this.isAnswered).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()}getFileDecoratorCss(){return new fe().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()}onChange(e){if(!$e.isFileReaderAvailable()||!e||!e.files||e.files.length<1)return;let t=[],i=this.allowMultiple?e.files.length:1;for(let s=0;s<i;s++)t.push(e.files[s]);e.value="",this.loadFiles(t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.actionsContainer.cssClasses=e.actionBar,this.actionsContainer.cssClasses.itemWithTitle=this.actionsContainer.cssClasses.item,this.actionsContainer.cssClasses.item="",this.actionsContainer.cssClasses.itemAsIcon=t.contextButton,this.actionsContainer.containerCss=t.actionsContainer,t}onSurveyLoad(){super.onSurveyLoad(),this.updateCurrentMode(),this.updateActionsVisibility(),this.loadPreview(this.value)}needResponsiveness(){return this.supportResponsiveness()}supportResponsiveness(){return!0}getObservedElementSelector(){return ir(this.cssClasses.dragArea)}getFileListSelector(){return ir(this.cssClasses.fileList)}get renderedPages(){return this._renderedPages}set renderedPages(e){this.pagesAnimation.sync(e)}getPagesAnimationOptions(){return{getEnterOptions:e=>{const t=this.cssClasses.page;return{cssClass:t?new fe().append(`${t}--enter-from-left`,this.navigationDirection=="left"||this.navigationDirection=="left-delete").append(`${t}--enter-from-right`,this.navigationDirection=="right").toString():""}},getLeaveOptions:e=>{const t=this.cssClasses.page;return{cssClass:t?new fe().append(`${t}--leave-to-left`,this.navigationDirection=="right").append(`${t}--leave-to-right`,this.navigationDirection=="left").toString():""}},getAnimatedElement:e=>{var t;return(t=this.rootElement)===null||t===void 0?void 0:t.querySelector(`#${e.id}`)},isAnimationEnabled:()=>this.animationAllowed&&!!this.rootElement,getRerenderEvent:()=>this.onElementRerendered}}triggerResponsiveness(e){e&&(this.calculatedGapBetweenItems=void 0,this.calculatedItemWidth=void 0),super.triggerResponsiveness()}processResponsiveness(e,t){if(this._width=t,this.rootElement&&(!this.calculatedGapBetweenItems||!this.calculatedItemWidth)&&this.allowMultiple){const s=this.getFileListSelector()?this.rootElement.querySelector(this.getFileListSelector()):void 0;if(s){const n=s.querySelector(ir(this.cssClasses.page));if(n){const o=n.querySelector(ir(this.cssClasses.previewItem));this.calculatedGapBetweenItems=Math.ceil(Number.parseFloat(Ge.getComputedStyle(n).gap)),o&&(this.calculatedItemWidth=Math.ceil(Number.parseFloat(Ge.getComputedStyle(o).width)))}}}return this.calculatedGapBetweenItems&&this.calculatedItemWidth?(this.pageSize=this.calcAvailableItemsCount(t,this.calculatedItemWidth,this.calculatedGapBetweenItems),!0):!1}canDragDrop(){return!this.isInputReadOnly&&this.currentMode!=="camera"&&!this.isPlayingVideo}afterRenderQuestionElement(e){this.rootElement=e}beforeDestroyQuestionElement(e){this.rootElement=void 0}clearFilesCore(){if(this.rootElement){const e=this.rootElement.querySelectorAll("input")[0];e&&(e.value="")}this.clear()}doRemoveFile(e,t){if(t.stopPropagation(),this.needConfirmRemoveFile){of({message:this.getConfirmRemoveMessage(e.name),funcOnYes:()=>{this.removeFileCore(e)},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.removeFileCore(e)}removeFileCore(e){const t=this.previewValue.indexOf(e);this.removeFileByContent(t===-1?e:this.value[t])}dispose(){this.cameraValue=void 0,this.closeVideoStream(),super.dispose()}}O([N()],Oi.prototype,"isDragging",void 0);O([Es({})],Oi.prototype,"previewValue",void 0);O([Es({})],Oi.prototype,"pages",void 0);O([N({defaultValue:0,onSet:(r,e)=>{e.updateRenderedPages()}})],Oi.prototype,"indexToShow",void 0);O([N({defaultValue:1,onSet:(r,e)=>{e.updateFileNavigator()}})],Oi.prototype,"pageSize",void 0);O([N({defaultValue:!1})],Oi.prototype,"containsMultiplyFiles",void 0);O([N()],Oi.prototype,"allowCameraAccess",void 0);O([N({onSet:(r,e)=>{e.isLoadingFromJson||e.updateCurrentMode()}})],Oi.prototype,"sourceType",void 0);O([N()],Oi.prototype,"canFlipCameraValue",void 0);O([N({localizable:{defaultStr:"confirmRemoveFile"}})],Oi.prototype,"confirmRemoveMessage",void 0);O([N({localizable:{defaultStr:"confirmRemoveAllFiles"}})],Oi.prototype,"confirmRemoveAllMessage",void 0);O([N({localizable:{defaultStr:"noFileChosen"}})],Oi.prototype,"noFileChosenCaption",void 0);O([N({localizable:{defaultStr:"chooseFileCaption"}})],Oi.prototype,"chooseButtonCaption",void 0);O([N({localizable:{defaultStr:"replaceFileCaption"}})],Oi.prototype,"replaceButtonCaption",void 0);O([N({localizable:{defaultStr:"removeFileCaption"}})],Oi.prototype,"removeFileCaption",void 0);O([N({localizable:{defaultStr:"loadingFile"}})],Oi.prototype,"loadingFileTitle",void 0);O([N({localizable:{defaultStr:"chooseFile"}})],Oi.prototype,"chooseFileTitle",void 0);O([N({localizable:{defaultStr:"fileOrPhotoPlaceholder"}})],Oi.prototype,"fileOrPhotoPlaceholder",void 0);O([N({localizable:{defaultStr:"photoPlaceholder"}})],Oi.prototype,"photoPlaceholder",void 0);O([N({localizable:{defaultStr:"filePlaceholder"}})],Oi.prototype,"filePlaceholder",void 0);O([N()],Oi.prototype,"locRenderedPlaceholderValue",void 0);O([Es()],Oi.prototype,"_renderedPages",void 0);le.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0,visible:!1},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0,dependsOn:"showPreview",visibleIf:r=>!!r.showPreview},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"sourceType",choices:["file","camera","file-camera"],default:"file",category:"general",visible:!0},{name:"fileOrPhotoPlaceholder:text",serializationProperty:"locFileOrPhotoPlaceholder",category:"general"},{name:"photoPlaceholder:text",serializationProperty:"locPhotoPlaceholder",category:"general"},{name:"filePlaceholder:text",serializationProperty:"locFilePlaceholder",category:"general"},{name:"allowCameraAccess:switch",category:"general",visible:!1}],function(){return new Oi("")},"question");Kt.Instance.registerQuestion("file",r=>new Oi(r));class Cw{constructor(e,t){this.fileQuestion=e,this.callback=t,this.loaded=[]}load(e){let t=0;this.loaded=new Array(e.length),e.forEach((i,s)=>{this.fileQuestion.survey&&this.fileQuestion.survey.downloadFile(this.fileQuestion,this.fileQuestion.name,i,(n,o)=>{!this.fileQuestion||!this.callback||(n!=="error"?(this.loaded[s]={content:o,name:i.name,type:i.type},t++,t===e.length&&this.callback(n,this.loaded)):this.callback("error",this.loaded))})})}dispose(){this.fileQuestion=void 0,this.callback=void 0}}class bw extends mv{constructor(e){super(e);var t=this.createLocalizableString("html",this);t.onGetTextCallback=i=>this.survey&&!this.ignoreHtmlProgressing?this.processHtml(i):i}getType(){return"html"}get isCompositeQuestion(){return!0}getProcessedText(e){return this.ignoreHtmlProgressing?e:super.getProcessedText(e)}get html(){return this.getLocalizableStringText("html","")}set html(e){this.setLocalizableStringText("html",e)}get locHtml(){return this.getLocalizableString("html")}get processedHtml(){return this.processHtml(this.html)}processHtml(e){return this.survey?this.survey.processHtml(e,"html-question"):this.html}get isNewA11yStructure(){return!0}get renderCssRoot(){return new fe().append(this.cssClasses.root).append(this.cssClasses.nested,this.getIsNested()).toString()||void 0}}le.addClass("html",[{name:"html:html",serializationProperty:"locHtml"},{name:"showNumber",visible:!1},{name:"state",visible:!1},{name:"titleLocation",visible:!1},{name:"descriptionLocation",visible:!1},{name:"errorLocation",visible:!1},{name:"indent",visible:!1},{name:"width",visible:!1}],function(){return new bw("")},"nonvalue");Kt.Instance.registerQuestion("html",r=>new bw(r));class ww extends Ff{constructor(e){super(e)}getDefaultItemComponent(){return"survey-radiogroup-item"}getType(){return"radiogroup"}getFirstInputElementId(){return this.inputId+"_0"}get selectedItem(){return this.getSingleSelectedItem()}get allowClear(){return this.getPropertyValue("allowClear")}set allowClear(e){this.setPropertyValue("allowClear",e)}get showClearButton(){return this.allowClear}set showClearButton(e){this.allowClear=e}get canShowClearButton(){return this.allowClear&&!this.isReadOnly}get clearButtonCaption(){return this.getLocalizationString("clearCaption")}supportAutoAdvance(){return this.isMouseDown===!0&&!this.isOtherSelected}getConditionJson(e=null,t=null){const i=super.getConditionJson(e,t);return delete i.allowClear,delete i.showClearButton,i}setNewComment(e){this.isMouseDown=!0,super.setNewComment(e),this.isMouseDown=!1}clickItemHandler(e){this.isReadOnlyAttr||(this.renderedValue=e.value)}getDefaultTitleActions(){const e=[];if(!this.isDesignMode){const t=new ht({locTitleName:"clearCaption",id:`sv-clr-btn-${this.id}`,action:()=>{this.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new $t(()=>this.canShowClearButton)});e.push(t)}return e}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"radiogroup"}}le.addClass("radiogroup",[{name:"allowClear:boolean",alternativeName:"showClearButton"},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new ww("")},"checkboxbase");Kt.Instance.registerQuestion("radiogroup",r=>{var e=new ww(r);return e.choices=Kt.DefaultChoices,e});class Dl extends tt{onStringChangedCallback(){this.text=this.itemValue.text}get value(){return this.itemValue.getPropertyValue("value")}get locText(){return this.locString||this.itemValue.locText}constructor(e,t=null){super(),this.itemValue=e,this.locString=t,this.locText.onStringChanged.add(this.onStringChangedCallback.bind(this)),this.onStringChangedCallback()}}O([N({defaultValue:""})],Dl.prototype,"highlight",void 0);O([N({defaultValue:""})],Dl.prototype,"text",void 0);O([N()],Dl.prototype,"style",void 0);class t5 extends Je{constructor(e,t,i){super(e,t),this.description=i}}class Ti extends Ii{constructor(e){super(e),this.iCounter=0,this.createItemValues("rateValues"),this.createLocalizableString("ratingOptionsCaption",this,!1,!0),this.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],()=>this.resetRenderedItems()),this.registerFunctionOnPropertiesValueChanged(["rateType"],()=>{this.setIconsToRateValues(),this.resetRenderedItems(),this.updateRateCount()}),this.registerFunctionOnPropertiesValueChanged(["rateValues"],()=>{this.setIconsToRateValues(),this.resetRenderedItems()}),this.registerSychProperties(["rateValues"],()=>{this.autoGenerate=this.rateValues.length==0,this.setIconsToRateValues(),this.resetRenderedItems()}),this.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],()=>{this.updateColors(this.survey.themeVariables)}),this.registerFunctionOnPropertiesValueChanged(["displayMode"],()=>{this.updateRenderAsBasedOnDisplayMode(!0)}),this.registerSychProperties(["autoGenerate"],()=>{!this.autoGenerate&&this.rateValues.length===0&&this.setPropertyValue("rateValues",this.visibleRateValues),this.autoGenerate&&(this.rateValues.splice(0,this.rateValues.length),this.updateRateMax()),this.resetRenderedItems()}),this.createLocalizableString("minRateDescription",this,!0).onStringChanged.add((t,i)=>{this.setPropertyValue("hasMinRateDescription",!t.isEmpty)}),this.createLocalizableString("maxRateDescription",this,!0).onStringChanged.add((t,i)=>{this.setPropertyValue("hasMaxRateDescription",!t.isEmpty)}),this.createLocalizableString("readOnlyText",this,!0),this.registerPropertyChangedHandlers(["value","renderAs","placeholder","choices","visibleChoices"],()=>{this.updateReadOnlyText()}),this.updateReadOnlyText(),this.initPropertyDependencies()}setIconsToRateValues(){this.rateType=="smileys"&&this.rateValues.map(e=>e.icon=this.getItemSmiley(e))}locStrsChanged(){var e;super.locStrsChanged(),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()}updateReadOnlyText(){this.readOnlyText=this.displayValue||this.placeholder}endLoadingFromJson(){super.endLoadingFromJson(),this.jsonObj.rateMin!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMax===void 0&&this.updateRateMax(),this.jsonObj.rateMax!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMin===void 0&&this.updateRateMin(),this.jsonObj.autoGenerate===void 0&&this.jsonObj.rateValues!==void 0&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues()}useRateValues(){return!!this.rateValues.length&&!this.autoGenerate}updateRateMax(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)}updateRateMin(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)}updateRateCount(){let e=0;this.useRateValues()?e=this.rateValues.length:e=Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1,e>10&&this.rateDisplayMode=="smileys"&&(e=10),this.rateCount=e,this.rateValues.length>e&&this.rateValues.splice(e,this.rateValues.length-e)}initPropertyDependencies(){this.registerSychProperties(["rateCount"],()=>{if(!this.useRateValues())this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1);else if(this.rateCount<this.rateValues.length){if(this.rateCount>=10&&this.rateDisplayMode=="smileys")return;this.rateValues.splice(this.rateCount,this.rateValues.length-this.rateCount)}else for(let e=this.rateValues.length;e<this.rateCount;e++)this.rateValues.push(new Je(_i("choices_Item")+(e+1)))}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],()=>{this.updateRateCount()})}get showSelectedItemLocText(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText}get selectedItemLocText(){var e;return!this.readOnly&&((e=this.visibleRateValues.filter(t=>t.value==this.value)[0])===null||e===void 0?void 0:e.locText)}get rateValues(){return this.getPropertyValue("rateValues")}set rateValues(e){this.setPropertyValue("rateValues",e)}get rateMin(){return this.getPropertyValue("rateMin")}set rateMin(e){this.setPropertyValue("rateMin",e)}get rateMax(){return this.getPropertyValue("rateMax")}set rateMax(e){this.setPropertyValue("rateMax",e)}get rateStep(){return this.getPropertyValue("rateStep")}set rateStep(e){this.setPropertyValue("rateStep",e)}updateColors(e){if(this.colorMode==="monochrome"||!Ge.isAvailable()||Ti.colorsCalculated)return;function t(s){const n=getComputedStyle(Ge.getDocumentElement());return n.getPropertyValue&&n.getPropertyValue(s)}function i(s,n){let o=!!e&&e[s];if(o||(o=t(n)),!o)return null;const h=Ge.createElement("canvas");if(!h)return null;var d=h.getContext("2d");d.fillStyle=o,d.fillStyle=="#000000"&&(d.fillStyle=t(n));const f=d.fillStyle;if(f.startsWith("rgba"))return f.substring(5,f.length-1).split(",").map(y=>+y.trim());var p=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);return p?[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16),1]:null}Ti.badColor=i("--sjs-special-red","--sd-rating-bad-color"),Ti.normalColor=i("--sjs-special-yellow","--sd-rating-normal-color"),Ti.goodColor=i("--sjs-special-green","--sd-rating-good-color"),Ti.badColorLight=i("--sjs-special-red-light","--sd-rating-bad-color-light"),Ti.normalColorLight=i("--sjs-special-yellow-light","--sd-rating-normal-color-light"),Ti.goodColorLight=i("--sjs-special-green-light","--sd-rating-good-color-light"),this.colorsCalculated=!0,this.resetRenderedItems()}getDisplayValueCore(e,t){if(!this.useRateValues)return super.getDisplayValueCore(e,t);var i=Je.getTextOrHtmlByValue(this.visibleRateValues,t);return i||t}get visibleRateValues(){return this.renderedRateItems.map(e=>e.itemValue)}supportEmptyValidation(){return this.renderAs==="dropdown"}itemValuePropertyChanged(e,t,i,s){!this.useRateValues()&&s!==void 0&&(this.autoGenerate=!1),super.itemValuePropertyChanged(e,t,i,s)}runConditionCore(e,t){super.runConditionCore(e,t),this.runRateItesmCondition(e,t)}runRateItesmCondition(e,t){var i;if(!this.useRateValues())return;let s=!1;if(!((i=this.survey)===null||i===void 0)&&i.areInvisibleElementsShowing?this.rateValues.forEach(n=>{s=s||!n.isVisible,n.setIsVisible(n,!0)}):s=Je.runConditionsForItems(this.rateValues,void 0,void 0,e,t,!0),s&&(this.resetRenderedItems(),!this.isEmpty()&&!this.isReadOnly)){const n=Je.getItemByValue(this.rateValues,this.value);n&&!n.isVisible&&this.clearValue()}}getRateValuesCore(){if(!this.useRateValues())return this.createRateValues();const e=new Array;return this.rateValues.forEach(t=>{t.isVisible&&e.push(t)}),e}calculateRateValues(){let e=this.getRateValuesCore();return this.rateType=="smileys"&&e.length>10&&(e=e.slice(0,10)),e}calculateRenderedRateItems(){const e=this.calculateRateValues();return e.map((t,i)=>{let s=null;return this.displayRateDescriptionsAsExtremeItems&&(i==0&&(s=new Dl(t,this.minRateDescription&&this.locMinRateDescription||t.locText)),i==e.length-1&&(s=new Dl(t,this.maxRateDescription&&this.locMaxRateDescription||t.locText))),s||(s=new Dl(t)),s})}calculateVisibleChoices(){return this.calculateRateValues().map((t,i)=>this.getRatingItemValue(t,i))}resetRenderedItems(){if(this.autoGenerate){const e=this.getRateValuesCore();this.rateMax=e[e.length-1].value}Array.isArray(this.getPropertyValueWithoutDefault("renderedRateItems"))&&this.setArrayPropertyDirectly("renderedRateItems",this.calculateRenderedRateItems()),Array.isArray(this.getPropertyValueWithoutDefault("visibleChoices"))&&this.setArrayPropertyDirectly("visibleChoices",this.calculateVisibleChoices)}get renderedRateItems(){return this.getPropertyValue("renderedRateItems",void 0,()=>this.calculateRenderedRateItems())}get visibleChoices(){return this.getPropertyValue("visibleChoices",void 0,()=>this.calculateVisibleChoices())}createRateValues(){for(var e=[],t=this.rateMin,i=this.rateStep;t<=this.rateMax&&e.length<X.ratingMaximumRateValueCount;){let s=new Je(t);s.locOwner=this,s.ownerPropertyName="rateValues",e.push(s),t=this.correctValue(t+i,i)}return e}getRatingItemValue(e,t){if(!e)return null;const i=e.value;let s;t===0&&(s=this.minRateDescription&&this.locMinRateDescription),t===this.rateCount-1&&(s=this.maxRateDescription&&this.locMaxRateDescription);let n=new t5(i,e.text,s);return n.locOwner=e.locOwner,n.ownerPropertyName=e.ownerPropertyName,n}correctValue(e,t){if(!e||Math.round(e)==e)return e;for(var i=0;Math.round(t)!=t;)t*=10,i++;return parseFloat(e.toFixed(i))}getType(){return"rating"}getFirstInputElementId(){return this.inputId+"_0"}getInputId(e){return this.inputId+"_"+e}get questionName(){return this.name+"_"+this.id}supportAutoAdvance(){return this.isMouseDown===!0||this.renderAs==="dropdown"}supportOther(){return!1}getPlainDataCalculatedValue(e){const t=super.getPlainDataCalculatedValue(e);if(t!==void 0||!this.useRateValues||this.isEmpty())return t;const i=Je.getItemByValue(this.visibleRateValues,this.value);return i?i[e]:void 0}get minRateDescription(){return this.getLocalizableStringText("minRateDescription")}set minRateDescription(e){this.setLocalizableStringText("minRateDescription",e)}get locMinRateDescription(){return this.getLocalizableString("minRateDescription")}get maxRateDescription(){return this.getLocalizableStringText("maxRateDescription")}set maxRateDescription(e){this.setLocalizableStringText("maxRateDescription",e)}get locMaxRateDescription(){return this.getLocalizableString("maxRateDescription")}get hasMinRateDescription(){return this.getPropertyValue("hasMinRateDescription",void 0,()=>!!this.minRateDescription)}get hasMaxRateDescription(){return this.getPropertyValue("hasMaxRateDescription",void 0,()=>!!this.maxRateDescription)}get hasMinLabel(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription}get hasMaxLabel(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription}updateRenderAsBasedOnDisplayMode(e){this.isDesignMode?(e||this.renderAs==="dropdown")&&(this.renderAs="default"):(e||this.displayMode!=="auto")&&(this.renderAs=this.displayMode==="dropdown"?"dropdown":"default")}onSurveyLoad(){super.onSurveyLoad(),this.renderAs==="dropdown"&&this.displayMode==="auto"?this.displayMode=this.renderAs:this.updateRenderAsBasedOnDisplayMode()}get rateDisplayMode(){return this.rateType}set rateDisplayMode(e){this.rateType=e}get isStar(){return this.rateType=="stars"}get isSmiley(){return this.rateType=="smileys"}getDefaultItemComponent(){return this.renderAs=="dropdown"?"sv-rating-dropdown-item":this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"}get itemComponent(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())}set itemComponent(e){this.setPropertyValue("itemComponent",e)}valueToData(e){if(this.useRateValues()){var t=Je.getItemByValue(this.rateValues,e);return t?t.value:e}return isNaN(e)?e:parseFloat(e)}setValueFromClick(e){if(!this.isReadOnlyAttr){this.value===(typeof this.value=="string"?e:parseFloat(e))?this.clearValue(!0):this.value=e;for(let t=0;t<this.renderedRateItems.length;t++)this.renderedRateItems[t].highlight="none"}}onItemMouseIn(e){if(Hi||this.isReadOnly||!e.itemValue.isEnabled||this.isDesignMode)return;let t=!0,i=this.value!=null;if(this.rateType!=="stars"){e.highlight="highlighted";return}for(let s=0;s<this.renderedRateItems.length;s++)this.renderedRateItems[s].highlight=t&&!i&&"highlighted"||!t&&i&&"unhighlighted"||"none",this.renderedRateItems[s]==e&&(t=!1),this.renderedRateItems[s].itemValue.value==this.value&&(i=!1)}onItemMouseOut(e){Hi||this.renderedRateItems.forEach(t=>t.highlight="none")}get itemSmallMode(){return!this.isSingleInputActive&&this.inMatrixMode&&X.matrix.rateSize=="small"}get ratingRootCss(){const e=this.hasMaxLabel||this.hasMinLabel;return new fe().append(this.cssClasses.root).append(this.cssClasses.rootWrappable,this.displayMode=="buttons"||!!this.survey&&this.survey.isDesignMode||this.displayMode=="auto"&&!this.supportResponsiveness()).append(this.cssClasses.rootLabelsTop,e&&this.rateDescriptionLocation=="top").append(this.cssClasses.rootLabelsBottom,e&&this.rateDescriptionLocation=="bottom").append(this.cssClasses.rootLabelsDiagonal,e&&this.rateDescriptionLocation=="topBottom").append(this.cssClasses.itemSmall,this.itemSmallMode&&this.rateType!="labels").toString()}get itemStarIcon(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"}get itemStarIconAlt(){return this.itemStarIcon+"-2"}getItemSmiley(e){const t=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"],i=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"],s=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,n=i.slice(0,s),o=t.filter(h=>n.indexOf(h)!=-1);return this.useRateValues()?o[this.rateValues.indexOf(e)]:o[e.value-this.rateMin]}getItemSmileyIconName(e){return"icon-"+this.getItemSmiley(e)}getItemClassByText(e,t){return this.getItemClass(e)}getRenderedItemColor(e,t){let i=t?Ti.badColorLight:Ti.badColor,s=t?Ti.goodColorLight:Ti.goodColor;const n=(this.rateCount-1)/2,o=t?Ti.normalColorLight:Ti.normalColor;if(e<n?s=o:(i=o,e-=n),!i||!s)return null;const h=[0,0,0,0];for(let d=0;d<4;d++)h[d]=i[d]+(s[d]-i[d])*e/n,d<3&&(h[d]=Math.trunc(h[d]));return"rgba("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}getItemStyle(e,t="none"){if(this.scaleColorMode==="monochrome"&&this.rateColorMode=="default"||this.isPreviewStyle||this.isReadOnlyStyle)return{};const i=this.visibleRateValues.indexOf(e),s=this.getRenderedItemColor(i,!1),n=t=="highlighted"&&this.scaleColorMode==="colored"&&this.getRenderedItemColor(i,!0);return n?{"--sd-rating-item-color":s,"--sd-rating-item-color-light":n}:{"--sd-rating-item-color":s}}getItemClass(e,t="none"){let i=this.value==e.value;this.isStar&&(this.useRateValues()?i=this.rateValues.indexOf(this.rateValues.filter(K=>K.value==this.value)[0])>=this.rateValues.indexOf(e):i=this.value>=e.value);const n=!(this.isReadOnly||!e.isEnabled)&&this.value!=e.value&&!(this.survey&&this.survey.isDesignMode),o=this.renderedRateItems.filter(K=>K.itemValue==e)[0],h=this.isStar&&o?.highlight=="highlighted",d=this.isStar&&o?.highlight=="unhighlighted";let f=this.cssClasses.item,p=this.cssClasses.selected,y=this.cssClasses.itemDisabled,b=this.cssClasses.itemReadOnly,w=this.cssClasses.itemPreview,T=this.cssClasses.itemHover,P=this.cssClasses.itemOnError,D=null,L=null,W=null,H=null,ee=null;this.isStar&&(f=this.cssClasses.itemStar,p=this.cssClasses.itemStarSelected,y=this.cssClasses.itemStarDisabled,b=this.cssClasses.itemStarReadOnly,w=this.cssClasses.itemStarPreview,T=this.cssClasses.itemStarHover,P=this.cssClasses.itemStarOnError,D=this.cssClasses.itemStarHighlighted,L=this.cssClasses.itemStarUnhighlighted,ee=this.cssClasses.itemStarSmall),this.isSmiley&&(f=this.cssClasses.itemSmiley,p=this.cssClasses.itemSmileySelected,y=this.cssClasses.itemSmileyDisabled,b=this.cssClasses.itemSmileyReadOnly,w=this.cssClasses.itemSmileyPreview,T=this.cssClasses.itemSmileyHover,P=this.cssClasses.itemSmileyOnError,D=this.cssClasses.itemSmileyHighlighted,W=this.cssClasses.itemSmileyScaleColored,H=this.cssClasses.itemSmileyRateColored,ee=this.cssClasses.itemSmileySmall);const Y=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&e!=this.rateValues[0]&&e!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&e.value!=this.rateMin&&e.value!=this.rateMax)&&e.locText.calculatedText.length<=2&&Number.isInteger(Number(e.locText.calculatedText)),Z={item:e,css:""};return Z.css=new fe().append(f).append(p,i).append(y,this.isDisabledStyle).append(b,this.isReadOnlyStyle).append(w,this.isPreviewStyle).append(T,n).append(D,h).append(W,this.scaleColorMode=="colored").append(H,this.rateColorMode=="scale"&&i).append(L,d).append(P,this.hasCssError()).append(ee,this.itemSmallMode).append(this.cssClasses.itemFixedSize,Y).toString(),this.survey&&this.survey.updateChoiceItemCss(this,Z),Z.css}getControlClass(){return this.isEmpty(),new fe().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()}get placeholder(){return this.getLocalizableStringText("ratingOptionsCaption")}set placeholder(e){this.setLocalizableStringText("ratingOptionsCaption",e)}get locPlaceholder(){return this.getLocalizableString("ratingOptionsCaption")}get allowClear(){return!0}get searchEnabled(){return!1}get renderedValue(){return this.value}set renderedValue(e){this.value=e}isItemSelected(e){return e.value==this.value}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}get a11yInputAriaRole(){return this.renderAs==="dropdown"?"combobox":null}needResponsiveWidth(){this.getPropertyValue("rateValues");const e=this.getPropertyValue("rateStep"),t=this.getPropertyValue("rateMax"),i=this.getPropertyValue("rateMin");return this.displayMode!="dropdown"&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||e&&(t-i)/e>9)}supportResponsiveness(){return!this.inMatrixMode}onBeforeSetCompactRenderer(){this.dropdownListModelValue||(this.dropdownListModelValue=new Ts(this))}getCompactRenderAs(){return this.displayMode=="buttons"?"default":"dropdown"}getDesktopRenderAs(){return this.displayMode=="dropdown"?"dropdown":"default"}set dropdownListModel(e){this.dropdownListModelValue=e,this.updateElementCss()}get dropdownListModel(){return this.renderAs==="dropdown"&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue}onBlurCore(e){var t;(t=this.dropdownListModel)===null||t===void 0||t.onBlur(e),super.onBlurCore(e)}updateCssClasses(e,t){super.updateCssClasses(e,t),Mf(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModelValue.updateCssClasses(t.popup,t.list),t}themeChanged(e){this.colorsCalculated=!1,this.updateColors(e.cssVariables)}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.survey&&(this.updateColors(this.survey.themeVariables),this.updateRenderAsBasedOnDisplayMode())}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}}Ti.colorsCalculated=!1;O([N({defaultValue:!1})],Ti.prototype,"inputHasValue",void 0);O([N()],Ti.prototype,"autoGenerate",void 0);O([N()],Ti.prototype,"rateCount",void 0);O([N()],Ti.prototype,"displayRateDescriptionsAsExtremeItems",void 0);O([N()],Ti.prototype,"displayMode",void 0);O([N()],Ti.prototype,"rateDescriptionLocation",void 0);O([N()],Ti.prototype,"rateType",void 0);O([N()],Ti.prototype,"scaleColorMode",void 0);O([N()],Ti.prototype,"rateColorMode",void 0);le.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:1},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(r){return r.rateDisplayMode=="smileys"},visibleIndex:2},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(r){return r.rateDisplayMode=="smileys"&&r.scaleColorMode=="monochrome"},visibleIndex:3},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:5},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:4,onSettingValue:(r,e)=>e<2?2:e>X.ratingMaximumRateValueCount&&e>r.rateValues.length?X.ratingMaximumRateValueCount:e>10&&r.rateDisplayMode=="smileys"?10:e},{name:"rateValues:itemvalue[]",baseValue:function(){return _i("choices_Item")},category:"rateValues",visibleIf:function(r){return!r.autoGenerate},visibleIndex:6},{name:"rateMin:number",default:1,onSettingValue:(r,e)=>e>r.rateMax-r.rateStep?r.rateMax-r.rateStep:e,visibleIf:function(r){return!!r.autoGenerate},visibleIndex:7},{name:"rateMax:number",default:5,onSettingValue:(r,e)=>e<r.rateMin+r.rateStep?r.rateMin+r.rateStep:e,visibleIf:function(r){return!!r.autoGenerate},visibleIndex:8},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:(r,e)=>(e<=0&&(e=1),e>r.rateMax-r.rateMin&&(e=r.rateMax-r.rateMin),e),visibleIf:function(r){return!!r.autoGenerate},visibleIndex:9},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:18},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:19},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:21,visibleIf:function(r){return r.rateType=="labels"}},{name:"rateDescriptionLocation",default:"leftRight",choices:["leftRight","top","bottom","topBottom"],visibleIndex:20},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:0},{name:"itemComponent",visible:!1,defaultFunc:r=>r?(r.getOriginalObj&&(r=r.getOriginalObj()),r.getDefaultItemComponent()):"sv-rating-item"}],function(){return new Ti("")},"question");Kt.Instance.registerQuestion("rating",r=>new Ti(r));class xw extends Je{getBaseType(){return"sliderlabel"}onGetText(e){return e||!this.locOwner?super.onGetText(e):this.locOwner.getTextByItem(this)}getCorrectValue(e){return typeof e=="number"?e:z.isNumber(e)?parseFloat(e.toString()):this.value||0}}class as extends Ii{get step(){return this.getPropertyValue("step")}set step(e){this.setPropertyValue("step",e)}get labelCount(){return this.customLabels.length>0?this.customLabels.length:this.tickSize?Math.round(100/this.tickSize)+2:this.getPropertyValue("labelCount")}set labelCount(e){this.setPropertyValue("labelCount",e)}get customLabels(){return this.getPropertyValue("customLabels")}set customLabels(e){this.setPropertyValue("customLabels",e)}get allowSwap(){return this.minRangeLength?!1:this.getPropertyValue("allowSwap",!0)}set allowSwap(e){this.setPropertyValue("allowSwap",e)}constructor(e){super(e),this.getThumbContainerCss=t=>new fe().append(this.cssClasses.thumbContainer).append(this.cssClasses.thumbContainerIndeterminateMode,!!this.isIndeterminate).append(this.cssClasses.thumbContainerFocusedMode,t===this.focusedThumb).toString(),this.getLabelCss=t=>new fe().append(this.cssClasses.label).append(this.cssClasses.labelLongMod,t.renderedHtml.length>10).toString(),this.isIndeterminate=!1,this.getTrackPercentLeft=()=>{const{renderedValue:t,sliderType:i,renderedMin:s}=this;let n;return i==="single"?t[0]>0?n=this.getPercent(Math.max(0,s)):n=this.getPercent(t[0]):n=this.getPercent(Math.min(...t)),n},this.getTrackPercentRight=()=>{const{renderedValue:t,sliderType:i,renderedMax:s}=this;let n;return i==="single"?t[0]>0?n=this.getPercent(t[0]):n=this.getPercent(Math.min(0,s)):n=this.getPercent(Math.max(...t)),100-n},this.getPercent=t=>{const{renderedMax:i,renderedMin:s}=this,n=i-s;return Math.abs(t-s)/n*100},this.ensureMaxRangeBorders=(t,i)=>{const{renderedMaxRangeLength:s,renderedValue:n}=this,o=n.slice(),h=o[i];let d=!1;o[i]=t;for(let f=0;f<o.length-1;f++)if(Math.abs(o[f]-o[f+1])>s){d=!0;break}return d?h:t},this.ensureMinRangeBorders=(t,i)=>{const{renderedMinRangeLength:s,renderedValue:n,allowSwap:o,renderedMin:h,renderedMax:d}=this,f=n.slice(),p=f[i];let y=!1;f[i]=t;for(let b=0;b<f.length-1;b++)if(Math.abs(f[b]-f[b+1])<s){y=!0;break}if(!o){const b=i>0?f[i-1]:h,w=i<f.length-1?f[i+1]:d;(t<=b||t>=w)&&(y=!0)}return y?p:t},this.getClosestToStepValue=t=>{const{step:i,renderedMin:s,renderedMax:n}=this,o=s+Math.trunc((n-s)/i)*i;let h=s+Math.round((t-s)/i)*i;return h=Math.min(o,h),h},this.handleRangeOnChange=t=>{if(!this.isRangeMoving)return;const{renderedMax:i,renderedMin:s,renderedValue:n,ensureMaxRangeBorders:o,ensureMinRangeBorders:h}=this,d=t.target,f=this.oldInputValue-+d.value;this.oldInputValue=+d.value;let p=!1;for(let y=0;y<n.length;y++){let b=n[y]-f;b=o(b,y),b=h(b,y),b<=i&&b>=s?n.splice(y,1,b):p=!0}if(p){p=!1;return}},this.prepareInputRangeForMoving=(t,i)=>{const{renderedMax:s,renderedMin:n}=this;this.isRangeMoving=!0,this.animatedThumb=!1;const o=t.target;o.style.setProperty("--sjs-range-slider-range-input-thumb-width","20px"),o.style.setProperty("--sjs-range-slider-range-input-thumb-left","initial"),o.style.setProperty("--sjs-range-slider-range-input-thumb-position","static");const d=(t.clientX-i.getBoundingClientRect().x)/i.getBoundingClientRect().width*100/100*(s-n)+n;o.value=""+d,this.oldInputValue=d},this.handleRangePointerDown=(t,i)=>{const{dragOrClickHelper:s,allowDragRange:n,step:o,prepareInputRangeForMoving:h}=this,d=t.target;o&&(d.step="0.1"),n&&(s.dragHandler=()=>{h.call(this,t,i)},s.onPointerDown(t))},this.handleRangePointerUp=(t,i)=>{const{step:s,renderedValue:n,getClosestToStepValue:o}=this,h=t.target;if(this.isRangeMoving){if(this.refreshInputRange(),this.isRangeMoving=!1,s){h.step=""+s;for(let d=0;d<n.length;d++)n[d]=o(n[d]);this.setSliderValue(n)}return}h.style.setProperty("--sjs-range-slider-range-input-thumb-width","0px"),h.style.setProperty("--sjs-range-slider-range-input-thumb-left","initial"),h.style.setProperty("--sjs-range-slider-range-input-thumb-position","static"),this.setValueByClickOnPath(t,i)},this.refreshInputRange=t=>{const{allowDragRange:i,renderedValue:s,getPercent:n}=this;if(!i)return;const o=t||Ge.getDocument().getElementById("sjs-slider-input-range-input");if(!o)return;const h=n(s[s.length-1]),d=n(s[0]);let f=h-d;o.style.setProperty("--sjs-range-slider-range-input-thumb-width",`calc(${f}% - 20px - 20px)`),o.style.setProperty("--sjs-range-slider-range-input-thumb-left",`calc(${d}% + 20px)`),o.style.setProperty("--sjs-range-slider-range-input-thumb-position","absolute")},this.setSliderValue=t=>{if(!this.isReadOnly&&!this.isDisabledAttr&&!this.isPreviewStyle&&!this.isDisabledStyle){let i;this.sliderType==="single"?i=Array.isArray(t)?t[0]:t:this.sliderType==="range"&&(i=t),this.value=i,this.resetPropertyValue("renderedValue")}},this.setValueByClickOnPath=(t,i)=>{const{renderedMax:s,renderedMin:n}=this;let o=Ge.getComputedStyle(Ge.getBody()).direction=="rtl",h=(t.clientX-i.getBoundingClientRect().x)/i.getBoundingClientRect().width*100;o&&(h=100-h);let d=h/100*(s-n)+n;this.setValueByClick(d,t.target)},this.setValueByClick=(t,i)=>{const{step:s,getClosestToStepValue:n,ensureMaxRangeBorders:o,ensureMinRangeBorders:h,renderedValue:d,refreshInputRange:f,setSliderValue:p}=this;this.animatedThumb=!0;const y=d.slice();let b=0;for(let w=0;w<y.length;w++){const T=Math.abs(y[b]-t);Math.abs(y[w]-t)<T&&(b=w)}if(y.length>1&&(t=o(t,b),t=h(t,b)),y[b]=t,s){const w=d.slice();for(let T=0;T<y.length;T++){const P=w[T]/s,D=y[T]/s;Math.round(D)===P&&(D>P?y[T]=y[T]+s:D<P&&(y[T]=y[T]-s)),y[T]=n(y[T])}}p(y),f()},this.handleOnChange=(t,i)=>{if(this.oldValue===null)return;const{allowSwap:s,ensureMaxRangeBorders:n,ensureMinRangeBorders:o,renderedValue:h}=this;let f=+t.target.value;h.length>1&&(f=n(f,i),s||(f=o(f,i))),h.splice(i,1,f)},this.handlePointerDown=t=>{const{step:i,renderedValue:s}=this;if(i)for(let n=0;n<s.length;n++){const o=Ge.getDocument().getElementById(`sjs-slider-input-${n}`);o.step=.1}this.oldValue=this.renderedValue,this.animatedThumb=!1},this.handlePointerUp=t=>{t.stopPropagation();const{step:i,focusedThumb:s,renderedValue:n,allowSwap:o,renderedMinRangeLength:h,getClosestToStepValue:d,refreshInputRange:f,setSliderValue:p}=this,y=n[s];if(t.target,n.sort((b,w)=>b-w),this.focusedThumb=n.indexOf(y),i)for(let b=0;b<n.length;b++){n[b]=d(n[b]);const w=Ge.getDocument().getElementById(`sjs-slider-input-${b}`);w.step=i}if(o){for(let b=0;b<n.length-1;b++)if(Math.abs(n[b]-n[b+1])<h){this.setPropertyValue("renderedValue",this.oldValue);break}}p(n),f(),this.oldValue=null},this.handleKeyDown=t=>{this.oldValue=this.renderedValue,this.animatedThumb=!0},this.handleKeyUp=t=>{this.oldValue=null,this.setSliderValue(this.renderedValue)},this.handleOnFocus=t=>{this.focusedThumb=t},this.handleOnBlur=()=>{this.focusedThumb=null},this.handleLabelPointerUp=(t,i)=>{const s=t.target;isNaN(i)||this.setValueByClick(i,s)},this.getTooltipValue=t=>{const{step:i,getClosestToStepValue:s,renderedValue:n,tooltipFormat:o,formatNumber:h}=this;let d=n[t];return d=i?s(d):d,d=h(d),o.replace("{0}",""+d)},this.getLabelText=t=>{const{step:i,renderedMax:s,renderedMin:n,renderedLabelCount:o,formatNumber:h}=this,d=s-n,f=i%1!=0,p=o-1;let y=p===0?0:t*d/p;return f?""+h(y+n):""+Math.round(y+n)},this.getLabelPosition=t=>{const{max:i,min:s,renderedLabelCount:n,customLabels:o}=this,h=n-1;if(h===0)return 0;const d=i-s;return s+t*d/h},this.isRangeMoving=!1,this.oldInputValue=null,this.oldValue=null,this.calcRenderedValue=()=>{const{renderedMax:t,renderedMin:i,renderedMaxRangeLength:s,getClosestToStepValue:n,sliderType:o}=this;let h;if(o==="single")return h=this.ensureValueRespectMinMax(this.value),typeof h>"u"||h===null||h.length===0?(this.isIndeterminate=!0,this.isNegativeScale?[Math.min(t,0)]:[i]):Array.isArray(h)?[h[0]]:[h];if(h=Array.isArray(this.value)?this.value.slice():[],h.length===0){const d=t-i;if(this.isIndeterminate=!0,Math.abs(d)>s){const f=(d-s)/2;return[n(i+f),n(t-f)]}return[i,t]}return h.map(d=>this.ensureValueRespectMinMax(d))},this.createItemValues("customLabels"),this.dragOrClickHelper=new fv(null,!1),this.initPropertyDependencies()}get generatedLabels(){return this.getPropertyValue("generatedLabels",void 0,()=>this.calcGeneratedLabels())}get tooltipVisibilityPG(){return this.tooltipVisibility==="auto"}set tooltipVisibilityPG(e){this.tooltipVisibility=e?"auto":"never"}get renderedValue(){return this.getPropertyValue("renderedValue",void 0,()=>this.calcRenderedValue())}set renderedValue(e){this.setPropertyValue("renderedValue",e)}getType(){return"slider"}get rootCss(){return new fe().append(this.cssClasses.root).append(this.cssClasses.rootSingleMode,this.sliderType==="single").append(this.cssClasses.rootNegativeScaleMode,!!this.isNegativeScale).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.rootAnimatedThumbMode,!!this.animatedThumb).toString()}get tooltipCss(){return new fe().append(this.cssClasses.tooltip).append(this.cssClasses.tooltipOnHoverMode,this.tooltipVisibility==="auto").toString()}get renderedLabelCount(){return this.labelCount<0?6:this.labelCount}get renderedMax(){return this.max}get renderedMin(){return this.min}get renderedMaxRangeLength(){var e;return(e=this.maxRangeLength)!==null&&e!==void 0?e:this.renderedMax-this.renderedMin}get renderedMinRangeLength(){var e;return(e=this.minRangeLength)!==null&&e!==void 0?e:this.step}get renderedLabels(){const e=this.generatedLabels,t=this.customLabels;return this.autoGenerate?e:t}get isNegativeScale(){return this.renderedMin<0}getTextByItem(e){const t=e.value.toString();return this.labelFormat.replace("{0}",""+t)}endLoadingFromJson(){super.endLoadingFromJson(),this.jsonObj.customLabels!==void 0&&(this.autoGenerate=!1),!this.isDesignMode&&this.sliderType==="range"&&this.createNewArray("value")}updateValueFromSurvey(e,t){e=this.ensureValueRespectMinMax(e),super.updateValueFromSurvey(e,t),this.isIndeterminate&&(this.isIndeterminate=!1),this.resetPropertyValue("renderedValue")}runConditionCore(e,t){if(super.runConditionCore(e,t),this.maxValueExpression){let i=this.getDefaultRunner(this.defaultExpressionRunner,this.maxValueExpression);i&&i.canRun&&(i.onRunComplete=s=>{this.max=s??this.renderedMax},i.run(e,t))}if(this.minValueExpression){let i=this.getDefaultRunner(this.defaultExpressionRunner,this.minValueExpression);i&&i.canRun&&(i.onRunComplete=s=>{this.min=s??this.renderedMin},i.run(e,t))}}initPropertyDependencies(){this.registerFunctionOnPropertiesValueChanged(["min","max","step","autoGenerate","labelFormat","labelCount"],()=>{this.resetPropertyValue("generatedLabels"),this.locStrsChanged()}),this.registerSychProperties(["autoGenerate"],()=>{!this.autoGenerate&&this.customLabels.length===0&&this.setPropertyValue("customLabels",this.calcGeneratedLabels()),this.autoGenerate&&this.customLabels.splice(0,this.customLabels.length)}),this.registerFunctionOnPropertiesValueChanged(["min","max","step","maxRangeLength","minRangeLength","sliderType"],()=>{this.resetPropertyValue("renderedValue")})}setNewValue(e){e=this.ensureValueRespectMinMax(e),super.setNewValue(e),this.isIndeterminate&&(this.isIndeterminate=!1),this.resetPropertyValue("renderedValue")}setDefaultValue(){super.setDefaultValue();const e=this.defaultValue;this.sliderType==="single"&&Array.isArray(e)&&this.setSliderValue(e),this.resetPropertyValue("renderedValue")}getDefaultTitleActions(){const e=[];if(!this.isDesignMode){const t=new ht({locTitleName:"clearCaption",id:`sv-clr-btn-${this.id}`,action:()=>{this.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new $t(()=>this.allowClear&&!this.isReadOnly)});e.push(t)}return e}getItemValueType(){return"sliderlabel"}createLabelItem(e){const t=new xw(e);return t.locOwner=this,t}calcGeneratedLabels(){const e=[];for(let t=0;t<this.renderedLabelCount;t++)e.push(this.createLabelItem(this.getLabelPosition(t)));return e}formatNumber(e){return parseFloat(e.toFixed(4))}ensureValueRespectMinMax(e){return Array.isArray(e)?e.forEach((t,i,s)=>{t<this.min&&(e[i]=this.min),t>this.max&&(e[i]=this.max),i===0?(typeof t>"u"||t===null)&&(e[i]=this.min):i===s.length-1&&(typeof t>"u"||t===null)&&(e[i]=this.max)}):(e<this.min&&(e=this.min),e>this.max&&(e=this.max)),e}}O([N({defaultValue:"single"})],as.prototype,"sliderType",void 0);O([N({defaultValue:100})],as.prototype,"max",void 0);O([N({defaultValue:0})],as.prototype,"min",void 0);O([N({defaultValue:null})],as.prototype,"maxValueExpression",void 0);O([N({defaultValue:null})],as.prototype,"minValueExpression",void 0);O([N({defaultValue:null})],as.prototype,"maxRangeLength",void 0);O([N({defaultValue:null})],as.prototype,"minRangeLength",void 0);O([N({defaultValue:"{0}"})],as.prototype,"tooltipFormat",void 0);O([N({defaultValue:"{0}"})],as.prototype,"labelFormat",void 0);O([N({defaultValue:"auto"})],as.prototype,"tooltipVisibility",void 0);O([N({defaultValue:!0})],as.prototype,"showLabels",void 0);O([N({defaultValue:!0})],as.prototype,"autoGenerate",void 0);O([N({defaultValue:!0})],as.prototype,"allowDragRange",void 0);O([N({defaultValue:null})],as.prototype,"tickSize",void 0);O([N({defaultValue:!1})],as.prototype,"allowClear",void 0);O([N({defaultValue:null})],as.prototype,"focusedThumb",void 0);O([N({defaultValue:null})],as.prototype,"animatedThumb",void 0);function AC(r,e,t,i){let s=t?e:r;return r>=e?t?r+i:e-i:s}le.addClass("sliderlabel",[{name:"!value:number"},{name:"visibleIf",visible:!1},{name:"enableIf",visible:!1}],r=>new xw(r),"itemvalue");le.addClass("slider",[{name:"sliderType",default:"single",choices:["single","range"]},{name:"autoGenerate",default:!0,isSerializable:!1,choices:[!0,!1]},{name:"min:number",default:0,onSettingValue:(r,e)=>AC(e,r.max,!1,r.step)},{name:"max:number",default:100,onSettingValue:(r,e)=>AC(r.min,e,!0,r.step)},{name:"step:number",default:1},{name:"minValueExpression",type:"expression"},{name:"maxValueExpression",type:"expression"},{name:"minRangeLength:number",visibleIf:function(r){return r.sliderType==="range"}},{name:"maxRangeLength:number",visibleIf:function(r){return r.sliderType==="range"}},{name:"customLabels:sliderlabel[]",visibleIf:function(r){return!r.autoGenerate}},{name:"showLabels:boolean",default:!0},{name:"tooltipVisibility:string",default:"auto",visible:!1,choices:["auto","never"]},{name:"tooltipVisibilityPG:boolean",default:!0,isSerializable:!1},{name:"labelFormat:string",default:"{0}"},{name:"tooltipFormat:string",default:"{0}"},{name:"allowDragRange:boolean",default:!0,visible:!1,visibleIf:function(r){return r.sliderType==="range"}},{name:"allowSwap:boolean",default:!0,visibleIf:function(r){return r.sliderType==="range"}},{name:"labelCount:number",default:-1,visibleIf:function(r){return r.autoGenerate}},{name:"allowClear:boolean",default:!1}],function(){return new as("")},"question");Kt.Instance.registerQuestion("slider",r=>new as(r));class Ba extends Ii{constructor(e){super(e),this.createLocalizableString("labelFalse",this,!0,"booleanUncheckedLabel"),this.createLocalizableString("labelTrue",this,!0,"booleanCheckedLabel")}getType(){return"boolean"}isLayoutTypeSupported(e){return!0}supportAutoAdvance(){return this.renderAs!=="checkbox"}get isIndeterminate(){return this.isEmpty()}get hasTitle(){return!0}get booleanValue(){return this.isEmpty()?null:this.value==this.getValueTrue()}set booleanValue(e){this.isReadOnly||this.isDesignMode||this.setBooleanValue(e)}get checkedValue(){return this.booleanValue}set checkedValue(e){this.booleanValue=e}setBooleanValue(e){this.isValueEmpty(e)?(this.value=void 0,this.booleanValueRendered=void 0):(this.value=e==!0?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=e)}get defaultValue(){return this.getPropertyValue("defaultValue")}set defaultValue(e){e===!0&&(e="true"),e===!1&&(e="false"),this.setPropertyValue("defaultValue",e),this.updateValueWithDefaults()}getDefaultValue(){const e=this.defaultValue;if(!(e==="indeterminate"||e===void 0||e===null))return e=="true"?this.getValueTrue():this.getValueFalse()}get locTitle(){const e=this.getLocalizableString("title");return(this.isLabelRendered&&!this.showTitle||this.isValueEmpty(e.text))&&!this.isValueEmpty(this.locLabel.text)?this.locLabel:e}get labelRenderedAriaID(){return this.isLabelRendered?this.ariaTitleId:null}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.leftAnswerElement=void 0}get isLabelRendered(){return this.titleLocation==="hidden"&&this.useTitleAsLabel}get canRenderLabelDescription(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)}get labelTrue(){return this.getLocalizableStringText("labelTrue")}set labelTrue(e){this.setLocalizableStringText("labelTrue",e)}get locLabelTrue(){return this.getLocalizableString("labelTrue")}get isDeterminated(){return this.booleanValue!==null&&this.booleanValue!==void 0}get locLabelLeft(){return this.swapOrder?this.getLocalizableString("labelTrue"):this.getLocalizableString("labelFalse")}get locLabelRight(){return this.swapOrder?this.getLocalizableString("labelFalse"):this.getLocalizableString("labelTrue")}get labelFalse(){return this.getLocalizableStringText("labelFalse")}set labelFalse(e){this.setLocalizableStringText("labelFalse",e)}get locLabelFalse(){return this.getLocalizableString("labelFalse")}getValueTrue(){return this.valueTrue!==void 0?this.valueTrue:!0}getValueFalse(){return this.valueFalse!==void 0?this.valueFalse:!1}setDefaultValue(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1);const e=this.defaultValue;(e==="indeterminate"||e===null||e===void 0)&&this.setBooleanValue(void 0)}isDefaultValueSet(e,t){return this.defaultValue==e||t!==void 0&&this.defaultValue===t}getDisplayValueCore(e,t){return t==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml}getItemCssValue(e){return new fe().append(e.item).append(e.itemOnError,this.hasCssError()).append(e.itemDisabled,this.isDisabledStyle).append(e.itemReadOnly,this.isReadOnlyStyle).append(e.itemPreview,this.isPreviewStyle).append(e.itemHover,!this.isDesignMode).append(e.itemChecked,!!this.booleanValue).append(e.itemExchanged,!!this.swapOrder).append(e.itemIndeterminate,!this.isDeterminated).toString()}getItemCss(){return this.getItemCssValue(this.cssClasses)}getCheckboxItemCss(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemDisable:this.cssClasses.checkboxItemDisabled,itemReadOnly:this.cssClasses.checkboxItemReadOnly,itemPreview:this.cssClasses.checkboxItemPreview,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})}getLabelCss(e){return new fe().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!e||this.isDisabledStyle).append(this.cssClasses.labelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.labelPreview,this.isPreviewStyle).append(this.cssClasses.labelTrue,!this.isIndeterminate&&e===!this.swapOrder).append(this.cssClasses.labelFalse,!this.isIndeterminate&&e===this.swapOrder).toString()}updateValueFromSurvey(e,t=!1){super.updateValueFromSurvey(e,t)}onValueChanged(){super.onValueChanged()}get svgIcon(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:!this.isDeterminated&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId}get itemSvgIcon(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId}get allowClick(){return this.isIndeterminate&&!this.isInputReadOnly}getCheckedLabel(){if(this.booleanValue===!0)return this.locLabelTrue;if(this.booleanValue===!1)return this.locLabelFalse}setQuestionValue(e,t=!0){e==="true"&&this.valueTrue!=="true"&&(e=!0),e==="false"&&this.valueFalse!=="false"&&(e=!1),(e==="indeterminate"||e===null)&&(e=void 0),super.setQuestionValue(e,t)}onLabelClick(e,t){return this.allowClick&&(wC(e),this.booleanValue=t),!0}calculateBooleanValueByEvent(e,t){let i=!1;Ge.isAvailable()&&(i=Ge.getComputedStyle(e.target).direction=="rtl"),this.booleanValue=i?!t:t}onSwitchClickModel(e){if(this.allowClick){wC(e);var t=e.offsetX/e.target.offsetWidth>.5;this.calculateBooleanValueByEvent(e,t);return}return!0}onKeyDownCore(e){return(e.key==="ArrowLeft"||e.key==="ArrowRight")&&(e.stopPropagation(),this.calculateBooleanValueByEvent(e,e.key==="ArrowRight")),!0}getRadioItemClass(e,t){let i;return e.radioItem&&(i=e.radioItem),e.radioItemChecked&&t===this.booleanValue&&(i=(i?i+" ":"")+e.radioItemChecked),this.isDisabledStyle&&(i+=" "+e.radioItemDisabled),this.isReadOnlyStyle&&(i+=" "+e.radioItemReadOnly),this.isPreviewStyle&&(i+=" "+e.radioItemPreview),i}supportResponsiveness(){return!0}getCompactRenderAs(){return"radio"}createActionContainer(e){return super.createActionContainer(this.renderAs!=="checkbox")}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"switch"}}O([N()],Ba.prototype,"booleanValueRendered",void 0);O([N({localizable:!0})],Ba.prototype,"label",void 0);O([N({defaultValue:!0})],Ba.prototype,"useTitleAsLabel",void 0);O([N({defaultValue:!1})],Ba.prototype,"swapOrder",void 0);O([N()],Ba.prototype,"valueTrue",void 0);O([N()],Ba.prototype,"valueFalse",void 0);le.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"swapOrder:boolean",category:"general"},{name:"renderAs",default:"default",visible:!1}],function(){return new Ba("")},"question");Kt.Instance.registerQuestion("boolean",r=>new Ba(r));class vv extends Je{constructor(e,t,i){super(e,t,i),this.typeName=i,this.createLocalizableString("imageLink",this,!1)}getBaseType(){return"imageitemvalue"}get imageLink(){return this.getLocalizableStringText("imageLink")}set imageLink(e){this.setLocalizableStringText("imageLink",e),this.imageNotLoaded=!1,this.videoNotLoaded=!1}get locImageLink(){return this.getLocalizableString("imageLink")}getLocale(){return this.locOwner?this.locOwner.getLocale():""}getMarkdownHtml(e,t,i){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,i):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}onErrorHandler(){this.contentNotLoaded=!0}set contentNotLoaded(e){this.locOwner instanceof or&&this.locOwner.contentMode=="video"?this.videoNotLoaded=e:this.imageNotLoaded=e}get contentNotLoaded(){return this.locOwner instanceof or&&this.locOwner.contentMode=="video"?this.videoNotLoaded:this.imageNotLoaded}}O([N({defaultValue:!1})],vv.prototype,"videoNotLoaded",void 0);O([N({defaultValue:!1})],vv.prototype,"imageNotLoaded",void 0);class or extends Ff{constructor(e){super(e),this.isResponsiveValue=!1,this.onContentLoaded=(t,i)=>{t.contentNotLoaded=!1;const s=i.target;this.contentMode=="video"?t.aspectRatio=s.videoWidth/s.videoHeight:t.aspectRatio=s.naturalWidth/s.naturalHeight,this._width&&this.processResponsiveness(0,this._width)},this.gridColCount=void 0,this.colCount=0,this.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],()=>{this._width&&this.processResponsiveness(0,this._width)}),this.registerPropertyChangedHandlers(["imageWidth","imageHeight"],()=>{this.calcIsResponsive()}),this.calcIsResponsive()}getType(){return"imagepicker"}supportAutoAdvance(){return!this.multiSelect}get hasSingleInput(){return!1}getItemValueType(){return"imageitemvalue"}get isCompositeQuestion(){return!0}get itemFlowDirection(){return"row"}supportOther(){return!1}supportNone(){return!1}supportRefuse(){return!1}supportDontKnow(){return!1}isAnswerCorrect(){return this.multiSelect?z.isArrayContainsEqual(this.value,this.correctAnswer):super.isAnswerCorrect()}get multiSelect(){return this.getPropertyValue("multiSelect")}set multiSelect(e){this.setPropertyValue("multiSelect",e)}isItemSelected(e){var t=this.value;const i=e;if(this.isValueEmpty(t)||!i.imageLink||i.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(t,e.value);if(!Array.isArray(t))return!1;for(var s=0;s<t.length;s++)if(this.isTwoValueEquals(t[s],e.value))return!0;return!1}getItemEnabled(e){const t=e;return!t.imageLink||t.contentNotLoaded?!1:super.getItemEnabled(e)}clearIncorrectValues(){if(this.multiSelect){var e=this.value;if(!e)return;if(!Array.isArray(e)||e.length==0){this.clearValue(!0);return}for(var t=[],i=0;i<e.length;i++)this.hasUnknownValue(e[i],!0)||t.push(e[i]);if(t.length==e.length)return;t.length==0?this.clearValue(!0):this.value=t}else super.clearIncorrectValues()}getDisplayValueCore(e,t){return!this.multiSelect&&!Array.isArray(t)?super.getDisplayValueCore(e,t):this.getDisplayArrayValue(e,t)}get showLabel(){return this.getPropertyValue("showLabel")}set showLabel(e){this.setPropertyValue("showLabel",e)}endLoadingFromJson(){super.endLoadingFromJson(),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()}getValueCore(){var e=super.getValueCore();return e!==void 0?e:this.multiSelect?[]:e}convertValToArrayForMultSelect(e){return!this.multiSelect||this.isValueEmpty(e)||Array.isArray(e)?e:[e]}renderedValueFromDataCore(e){return this.convertValToArrayForMultSelect(e)}rendredValueToDataCore(e){return this.convertValToArrayForMultSelect(e)}get imageHeight(){return this.getPropertyValue("imageHeight")}set imageHeight(e){this.setPropertyValue("imageHeight",e)}get imageScale(){return this.survey?this.survey.widthScale/100:1}get renderedImageHeight(){const e=this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight*this.imageScale;return e||150*this.imageScale}get imageWidth(){return this.getPropertyValue("imageWidth")}set imageWidth(e){this.setPropertyValue("imageWidth",e)}get renderedImageWidth(){const e=this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth*this.imageScale;return e||200*this.imageScale}get imageFit(){return this.getPropertyValue("imageFit")}set imageFit(e){this.setPropertyValue("imageFit",e)}get contentMode(){return this.getPropertyValue("contentMode")}set contentMode(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)}convertDefaultValue(e){return e}get inputType(){return this.multiSelect?"checkbox":"radio"}isBuiltInChoice(e){return!1}addToVisibleChoices(e,t){this.addNewItemToVisibleChoices(e,t)}getSelectBaseRootCss(){const e=this.isResponsive;return new fe().append(super.getSelectBaseRootCss()).append(this.cssClasses.rootResponsive,e).append(this.cssClasses.rootStatic,!e).append(this.cssClasses.rootColumn,this.getCurrentColCount()==1).toString()}get isResponsive(){return this.isResponsiveValue}get exactSizesAreEmpty(){return!["imageHeight","imageWidth"].some(e=>this[e]!==void 0&&this[e]!==null)}calcIsResponsive(){this.isResponsiveValue=this.exactSizesAreEmpty}getObservedElementSelector(){return ir(this.cssClasses.root)}supportResponsiveness(){return!0}needResponsiveness(){return this.supportResponsiveness()}needResponsiveWidth(){return this.colCount>2}getCurrentColCount(){return this.responsiveColCount===void 0||this.colCount===0?this.colCount:this.responsiveColCount}getContainerStyle(){return this.isResponsive?{gridAutoFlow:this.gridColCount?null:"column",gridTemplateColumns:this.gridColCount?`repeat(${this.gridColCount}, 1fr)`:null}:{}}processResponsiveness(e,t){this._width=t=Math.floor(t);const i=(s,n,o)=>{let h=Math.floor(s/(n+o));return(h+1)*(n+o)-o<=s&&h++,h};if(this.isResponsive){const s=this.choices.length+(this.isDesignMode?1:0),n=(this.gapBetweenItems||0)*this.imageScale,o=this.minImageWidth*this.imageScale,h=this.maxImageWidth*this.imageScale,d=this.maxImageHeight*this.imageScale,f=this.minImageHeight*this.imageScale;let p=this.colCount,y;const b=i(t,o,n);p===0?((n+o)*s-n>t?y=Math.floor((t-n*(b-1))/b):y=Math.floor((t-n*(s-1))/s),this.gridColCount=Math.max(Math.min(s,b),1)):(b<p?(this.responsiveColCount=Math.max(b,1),p=this.responsiveColCount):this.responsiveColCount=p,this.gridColCount=this.responsiveColCount,y=Math.floor((t-n*(p-1))/p)),y=Math.max(o,Math.min(y,h));let w=Number.MIN_VALUE;this.choices.forEach(D=>{const L=y/D.aspectRatio;w=L>w?L:w}),w>d?w=d:w<f&&(w=f);const T=this.responsiveImageWidth,P=this.responsiveImageHeight;return this.responsiveImageWidth=y,this.responsiveImageHeight=w,T!==this.responsiveImageWidth||P!==this.responsiveImageHeight}return!1}triggerResponsiveness(e=!0){e&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),super.triggerResponsiveness(e)}afterRender(e){super.afterRender(e);const t=this.getObservedElementSelector(),i=e&&t?e.querySelector(t):void 0;i&&(this.reCalcGapBetweenItemsCallback=()=>{this.gapBetweenItems=Math.ceil(Number.parseFloat(Ge.getComputedStyle(i).gap))||16},this.reCalcGapBetweenItemsCallback())}}O([N({})],or.prototype,"responsiveImageHeight",void 0);O([N({})],or.prototype,"responsiveImageWidth",void 0);O([N({})],or.prototype,"isResponsiveValue",void 0);O([N({})],or.prototype,"maxImageWidth",void 0);O([N({})],or.prototype,"minImageWidth",void 0);O([N({})],or.prototype,"maxImageHeight",void 0);O([N({})],or.prototype,"minImageHeight",void 0);O([N({})],or.prototype,"responsiveColCount",void 0);O([N()],or.prototype,"gridColCount",void 0);le.addClass("imageitemvalue",[{name:"imageLink:file",serializationProperty:"locImageLink"}],r=>new vv(r),"itemvalue");le.addClass("responsiveImageSize",[],void 0,"number");le.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"showRefuseItem",visible:!1},{name:"showDontKnowItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0},{name:"maxImageWidth:responsiveImageSize",default:3e3,minValue:0},{name:"maxImageHeight:responsiveImageSize",default:3e3,minValue:0},"showLabel:boolean",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]},"multiSelect:boolean"],function(){return new or("")},"checkboxbase");le.getProperty("imagepicker","choices").type="imageitemvalue[]";Kt.Instance.registerQuestion("imagepicker",r=>{var e=new or(r);return e});const DC=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],i5="https://www.youtube.com/",LC="embed";class yv extends mv{constructor(e){super(e);const t=this.createLocalizableString("imageLink",this,!1);t.onGetTextCallback=i=>s5(i,this.contentMode=="youtube"),this.createLocalizableString("altText",this,!1),this.registerPropertyChangedHandlers(["contentMode","imageLink"],()=>this.calculateRenderedMode())}getType(){return"image"}get isCompositeQuestion(){return!1}onSurveyLoad(){super.onSurveyLoad(),this.calculateRenderedMode()}get imageLink(){return this.getLocalizableStringText("imageLink")}set imageLink(e){this.setLocalizableStringText("imageLink",e)}get locImageLink(){return this.getLocalizableString("imageLink")}get altText(){return this.getLocalizableStringText("altText")}set altText(e){this.setLocalizableStringText("altText",e)}get locAltText(){return this.getLocalizableString("altText")}get imageHeight(){return this.getPropertyValue("imageHeight")}set imageHeight(e){this.setPropertyValue("imageHeight",e)}get renderedStyleHeight(){return this.imageHeight?uf(this.imageHeight):void 0}get renderedHeight(){return this.imageHeight?Eo(this.imageHeight):void 0}get imageWidth(){return this.getPropertyValue("imageWidth")}set imageWidth(e){this.setPropertyValue("imageWidth",e)}get renderedStyleWidth(){return this.imageWidth?uf(this.imageWidth):void 0}get renderedWidth(){return this.imageWidth?Eo(this.imageWidth):void 0}get imageFit(){return this.getPropertyValue("imageFit")}set imageFit(e){this.setPropertyValue("imageFit",e)}get contentMode(){return this.getPropertyValue("contentMode")}set contentMode(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)}get renderedMode(){return this.getPropertyValue("renderedMode","image")}get ariaInvalid(){return null}get ariaLabel(){return null}get renderedAltText(){return this.altText||this.title}getImageCss(){const e=this.getPropertyByName("imageHeight"),t=this.getPropertyByName("imageWidth"),i=e.isDefaultValue(this.imageHeight)&&t.isDefaultValue(this.imageWidth);return new fe().append(this.cssClasses.image).append(this.cssClasses.adaptive,i).toString()}onLoadHandler(){this.contentNotLoaded=!1}onErrorHandler(){this.contentNotLoaded=!0}setRenderedMode(e){this.setPropertyValue("renderedMode",e)}calculateRenderedMode(){this.contentMode!=="auto"?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")}isYoutubeVideo(){return z.isUrlYoutubeVideo(this.imageLink)}isVideo(){let e=this.imageLink;if(!e)return!1;e=e.toLowerCase();for(let t=0;t<DC.length;t++)if(e.endsWith(DC[t]))return!0;return!1}}O([N({defaultValue:!1})],yv.prototype,"contentNotLoaded",void 0);function s5(r,e){if(!r||!z.isUrlYoutubeVideo(r))return e?"":r;if(r.toLocaleLowerCase().indexOf(LC)>-1)return r;let i="";for(var s=r.length-1;s>=0&&!(r[s]==="="||r[s]==="/");s--)i=r[s]+i;return i5+LC+"/"+i}le.addClass("image",[{name:"imageLink:file",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new yv("")},"nonvalue");Kt.Instance.registerQuestion("image",r=>new yv(r));/*!
 * Signature Pad v4.2.0 | https://github.com/szimek/signature_pad
 * (c) 2024 Szymon Nowak | Released under the MIT license
 */class ff{constructor(e,t,i,s){if(isNaN(e)||isNaN(t))throw new Error(`Point is invalid: (${e}, ${t})`);this.x=+e,this.y=+t,this.pressure=i||0,this.time=s||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class Cv{static fromPoints(e,t){const i=this.calculateControlPoints(e[0],e[1],e[2]).c2,s=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new Cv(e[1],i,s,e[2],t.start,t.end)}static calculateControlPoints(e,t,i){const s=e.x-t.x,n=e.y-t.y,o=t.x-i.x,h=t.y-i.y,d={x:(e.x+t.x)/2,y:(e.y+t.y)/2},f={x:(t.x+i.x)/2,y:(t.y+i.y)/2},p=Math.sqrt(s*s+n*n),y=Math.sqrt(o*o+h*h),b=d.x-f.x,w=d.y-f.y,T=y/(p+y),P={x:f.x+b*T,y:f.y+w*T},D=t.x-P.x,L=t.y-P.y;return{c1:new ff(d.x+D,d.y+L),c2:new ff(f.x+D,f.y+L)}}constructor(e,t,i,s,n,o){this.startPoint=e,this.control2=t,this.control1=i,this.endPoint=s,this.startWidth=n,this.endWidth=o}length(){let t=0,i,s;for(let n=0;n<=10;n+=1){const o=n/10,h=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),d=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){const f=h-i,p=d-s;t+=Math.sqrt(f*f+p*p)}i=h,s=d}return t}point(e,t,i,s,n){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*s*(1-e)*e*e+n*e*e*e}}class r5{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(e,t,i){this._et.addEventListener(e,t,i)}dispatchEvent(e){return this._et.dispatchEvent(e)}removeEventListener(e,t,i){this._et.removeEventListener(e,t,i)}}function n5(r,e=250){let t=0,i=null,s,n,o;const h=()=>{t=Date.now(),i=null,s=r.apply(n,o),i||(n=null,o=[])};return function(...f){const p=Date.now(),y=e-(p-t);return n=this,o=f,y<=0||y>e?(i&&(clearTimeout(i),i=null),t=p,s=r.apply(n,o),i||(n=null,o=[])):i||(i=window.setTimeout(h,y)),s}}class gf extends r5{constructor(e,t={}){super(),this.canvas=e,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=i=>{i.buttons===1&&this._strokeBegin(i)},this._handleMouseMove=i=>{this._strokeMoveUpdate(i)},this._handleMouseUp=i=>{i.buttons===1&&this._strokeEnd(i)},this._handleTouchStart=i=>{if(i.cancelable&&i.preventDefault(),i.targetTouches.length===1){const s=i.changedTouches[0];this._strokeBegin(s)}},this._handleTouchMove=i=>{i.cancelable&&i.preventDefault();const s=i.targetTouches[0];this._strokeMoveUpdate(s)},this._handleTouchEnd=i=>{if(i.target===this.canvas){i.cancelable&&i.preventDefault();const n=i.changedTouches[0];this._strokeEnd(n)}},this._handlePointerStart=i=>{i.preventDefault(),this._strokeBegin(i)},this._handlePointerMove=i=>{this._strokeMoveUpdate(i)},this._handlePointerEnd=i=>{this._drawingStroke&&(i.preventDefault(),this._strokeEnd(i))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||0,this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=t.compositeOperation||"source-over",this.canvasContextOptions="canvasContextOptions"in t?t.canvasContextOptions:{},this._strokeMoveUpdate=this.throttle?n5(gf.prototype._strokeUpdate,this.throttle):gf.prototype._strokeUpdate,this._ctx=e.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(e,t={}){return new Promise((i,s)=>{const n=new Image,o=t.ratio||window.devicePixelRatio||1,h=t.width||this.canvas.width/o,d=t.height||this.canvas.height/o,f=t.xOffset||0,p=t.yOffset||0;this._reset(this._getPointGroupOptions()),n.onload=()=>{this._ctx.drawImage(n,f,p,h,d),i()},n.onerror=y=>{s(y)},n.crossOrigin="anonymous",n.src=e,this._isEmpty=!1})}toDataURL(e="image/png",t){switch(e){case"image/svg+xml":return typeof t!="object"&&(t=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(t))}`;default:return typeof t!="number"&&(t=void 0),this.canvas.toDataURL(e,t)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e,{clear:t=!0}={}){t&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_getPointGroupOptions(e){return{penColor:e&&"penColor"in e?e.penColor:this.penColor,dotSize:e&&"dotSize"in e?e.dotSize:this.dotSize,minWidth:e&&"minWidth"in e?e.minWidth:this.minWidth,maxWidth:e&&"maxWidth"in e?e.maxWidth:this.maxWidth,velocityFilterWeight:e&&"velocityFilterWeight"in e?e.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:e&&"compositeOperation"in e?e.compositeOperation:this.compositeOperation}}_strokeBegin(e){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:e,cancelable:!0})))return;this._drawingStroke=!0;const i=this._getPointGroupOptions(),s=Object.assign(Object.assign({},i),{points:[]});this._data.push(s),this._reset(i),this._strokeUpdate(e)}_strokeUpdate(e){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(e);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const t=e.clientX,i=e.clientY,s=e.pressure!==void 0?e.pressure:e.force!==void 0?e.force:0,n=this._createPoint(t,i,s),o=this._data[this._data.length-1],h=o.points,d=h.length>0&&h[h.length-1],f=d?n.distanceTo(d)<=this.minDistance:!1,p=this._getPointGroupOptions(o);if(!d||!(d&&f)){const y=this._addPoint(n,p);d?y&&this._drawCurve(y,p):this._drawDot(n,p),h.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e){this._drawingStroke&&(this._strokeUpdate(e),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:e})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(e){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(e.minWidth+e.maxWidth)/2,this._ctx.fillStyle=e.penColor,this._ctx.globalCompositeOperation=e.compositeOperation}_createPoint(e,t,i){const s=this.canvas.getBoundingClientRect();return new ff(e-s.left,t-s.top,i,new Date().getTime())}_addPoint(e,t){const{_lastPoints:i}=this;if(i.push(e),i.length>2){i.length===3&&i.unshift(i[0]);const s=this._calculateCurveWidths(i[1],i[2],t),n=Cv.fromPoints(i,s);return i.shift(),n}return null}_calculateCurveWidths(e,t,i){const s=i.velocityFilterWeight*t.velocityFrom(e)+(1-i.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(s,i),o={end:n,start:this._lastWidth};return this._lastVelocity=s,this._lastWidth=n,o}_strokeWidth(e,t){return Math.max(t.maxWidth/(e+1),t.minWidth)}_drawCurveSegment(e,t,i){const s=this._ctx;s.moveTo(e,t),s.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,t){const i=this._ctx,s=e.endWidth-e.startWidth,n=Math.ceil(e.length())*2;i.beginPath(),i.fillStyle=t.penColor;for(let o=0;o<n;o+=1){const h=o/n,d=h*h,f=d*h,p=1-h,y=p*p,b=y*p;let w=b*e.startPoint.x;w+=3*y*h*e.control1.x,w+=3*p*d*e.control2.x,w+=f*e.endPoint.x;let T=b*e.startPoint.y;T+=3*y*h*e.control1.y,T+=3*p*d*e.control2.y,T+=f*e.endPoint.y;const P=Math.min(e.startWidth+f*s,t.maxWidth);this._drawCurveSegment(w,T,P)}i.closePath(),i.fill()}_drawDot(e,t){const i=this._ctx,s=t.dotSize>0?t.dotSize:(t.minWidth+t.maxWidth)/2;i.beginPath(),this._drawCurveSegment(e.x,e.y,s),i.closePath(),i.fillStyle=t.penColor,i.fill()}_fromData(e,t,i){for(const s of e){const{points:n}=s,o=this._getPointGroupOptions(s);if(n.length>1)for(let h=0;h<n.length;h+=1){const d=n[h],f=new ff(d.x,d.y,d.pressure,d.time);h===0&&this._reset(o);const p=this._addPoint(f,o);p&&t(p,o)}else this._reset(o),i(n[0],o)}}toSVG({includeBackgroundColor:e=!1}={}){const t=this._data,i=Math.max(window.devicePixelRatio||1,1),s=0,n=0,o=this.canvas.width/i,h=this.canvas.height/i,d=document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.setAttribute("xmlns","http://www.w3.org/2000/svg"),d.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),d.setAttribute("viewBox",`${s} ${n} ${o} ${h}`),d.setAttribute("width",o.toString()),d.setAttribute("height",h.toString()),e&&this.backgroundColor){const f=document.createElement("rect");f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("fill",this.backgroundColor),d.appendChild(f)}return this._fromData(t,(f,{penColor:p})=>{const y=document.createElement("path");if(!isNaN(f.control1.x)&&!isNaN(f.control1.y)&&!isNaN(f.control2.x)&&!isNaN(f.control2.y)){const b=`M ${f.startPoint.x.toFixed(3)},${f.startPoint.y.toFixed(3)} C ${f.control1.x.toFixed(3)},${f.control1.y.toFixed(3)} ${f.control2.x.toFixed(3)},${f.control2.y.toFixed(3)} ${f.endPoint.x.toFixed(3)},${f.endPoint.y.toFixed(3)}`;y.setAttribute("d",b),y.setAttribute("stroke-width",(f.endWidth*2.25).toFixed(3)),y.setAttribute("stroke",p),y.setAttribute("fill","none"),y.setAttribute("stroke-linecap","round"),d.appendChild(y)}},(f,{penColor:p,dotSize:y,minWidth:b,maxWidth:w})=>{const T=document.createElement("circle"),P=y>0?y:(b+w)/2;T.setAttribute("r",P.toString()),T.setAttribute("cx",f.x.toString()),T.setAttribute("cy",f.y.toString()),T.setAttribute("fill",p),d.appendChild(T)}),d.outerHTML}}var a5=300,o5=200;class Xr extends Qf{getPenColorFromTheme(){const e=this.survey;return!!e&&!!e.themeVariables&&e.themeVariables["--sjs-primary-backcolor"]}updateColors(e){const t=this.getPenColorFromTheme(),i=this.getPropertyByName("penColor");e.penColor=this.penColor||t||i.defaultValue||"#1ab394";const s=this.getPropertyByName("backgroundColor"),n=t?"transparent":void 0,o=this.backgroundImage?"transparent":this.backgroundColor;e.backgroundColor=o||n||s.defaultValue||"#ffffff"}getCssRoot(e){return new fe().append(super.getCssRoot(e)).append(e.small,this.signatureWidth.toString()==="300").toString()}getFormat(){return this.dataFormat==="jpeg"?"image/jpeg":this.dataFormat==="svg"?"image/svg+xml":""}updateValue(){if(this.signaturePad){var e=this.signaturePad.toDataURL(this.getFormat());this.valueIsUpdatingInternally=!0,this.value=e,this.valueIsUpdatingInternally=!1}}constructor(e){super(e),this.valueIsUpdatingInternally=!1,this._loadedData=void 0,this.updateValueHandler=()=>{this._loadedData=void 0,this.scaleCanvas(!0,!0)}}getType(){return"signaturepad"}afterRenderQuestionElement(e){$e.isAvailable()&&e&&(this.isDesignMode||this.initSignaturePad(e),this.element=e),super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){e&&this.destroySignaturePad(e)}themeChanged(e){this.signaturePad&&this.updateColors(this.signaturePad)}resizeCanvas(){this.canvas.width=this.containerWidth,this.canvas.height=this.containerHeight}scaleCanvas(e=!0,t=!1){const i=this.canvas,s=i.offsetWidth/this.containerWidth;(this.scale!=s||t)&&(this.scale=s,i.style.width=this.renderedCanvasWidth,this.resizeCanvas(),this.signaturePad.minWidth=this.penMinWidth*s,this.signaturePad.maxWidth=this.penMaxWidth*s,i.getContext("2d").scale(1/s,1/s),e&&this.loadPreview(this.value))}fromUrl(e){if(this.isFileLoading=!0,zS(e))this.fromDataUrl(e),this.isFileLoading=!1;else{const t=new Image;t.crossOrigin="anonymous",t.src=e,t.onload=()=>{if(this.canvas){const s=Ge.createElement("canvas");s.width=this.containerWidth,s.height=this.containerHeight,s.getContext("2d").drawImage(t,0,0);var i=s.toDataURL(this.getFormat());this.fromDataUrl(i)}this.isFileLoading=!1},t.onerror=()=>{this.isFileLoading=!1}}}fromDataUrl(e){if(this._loadedData=e,this.signaturePad){let t=1,i=this.scale;this.dataFormat==="svg"&&(t=$e.getDevicePixelRatio()||1,i=1);const s={width:this.canvas.width*i/t,height:this.canvas.height*i/t};this.signaturePad.fromDataURL(e,s)}}get loadedData(){return this._loadedData}loadPreview(e){if(!e){this.signaturePad&&this.canvas&&(this.canvas.getContext("2d").clearRect(0,0,this.canvas.width*this.scale,this.canvas.height*this.scale),this.signaturePad.clear()),this.valueWasChangedFromLastUpload=!1;return}if(this.storeDataAsText)this.fromDataUrl(e);else if(this.loadedData)this.fromDataUrl(this.loadedData);else{var t=e?[e]:[];this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new Cw(this,(i,s)=>{i==="success"&&s&&s.length>0&&s[0].content?(this.fromDataUrl(s[0].content),this.isFileLoading=!1):i==="skipped"&&this.fromUrl(e),this._previewLoader.dispose(),this._previewLoader=void 0}),this._previewLoader.load(t)}}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.isLoadingFromJson||(this._loadedData=void 0,this.loadPreview(e))}onSurveyLoad(){super.onSurveyLoad(),this.loadPreview(this.value)}initSignaturePad(e){var t=e.getElementsByTagName("canvas")[0];this.canvas=t,this.resizeCanvas();var i=new gf(t,{backgroundColor:"#ffffff"});this.signaturePad=i,this.isInputReadOnly&&i.off(),this.readOnlyChangedCallback=()=>{this.isInputReadOnly?i.off():i.on()},this.updateColors(i),i.addEventListener("beginStroke",()=>{this.scaleCanvas(),this.isDrawingValue=!0,t.focus()},{once:!1}),i.addEventListener("endStroke",()=>{this.isDrawingValue=!1,this.storeDataAsText?this.updateValue():this.valueWasChangedFromLastUpload=!0},{once:!1}),this.updateValueHandler(),this.readOnlyChangedCallback();var s=(n,o)=>{(o.name==="signatureWidth"||o.name==="signatureHeight")&&(this.valueIsUpdatingInternally||this.updateValueHandler())};this.onPropertyChanged.add(s),this.signaturePad.propertyChangedHandler=s}destroySignaturePad(e){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null}get dataFormat(){return this.getPropertyValue("dataFormat")}set dataFormat(e){this.setPropertyValue("dataFormat",Um(e))}get signatureWidth(){return this.getPropertyValue("signatureWidth")}set signatureWidth(e){this.setPropertyValue("signatureWidth",e)}get signatureHeight(){return this.getPropertyValue("signatureHeight")}set signatureHeight(e){this.setPropertyValue("signatureHeight",e)}get containerHeight(){return this.signatureHeight||o5}get containerWidth(){return this.signatureWidth||a5}get renderedCanvasWidth(){return this.signatureAutoScaleEnabled?"100%":this.containerWidth+"px"}get height(){return this.getPropertyValue("height")}set height(e){this.setPropertyValue("height",e)}get allowClear(){return this.getPropertyValue("allowClear")}set allowClear(e){this.setPropertyValue("allowClear",e)}get canShowClearButton(){const e=!this.nothingIsDrawn(),t=this.isUploading;return!this.isInputReadOnly&&this.allowClear&&e&&!t}get penColor(){return this.getPropertyValue("penColor")}set penColor(e){this.setPropertyValue("penColor",e),this.signaturePad&&this.updateColors(this.signaturePad)}get backgroundColor(){return this.getPropertyValue("backgroundColor")}set backgroundColor(e){this.setPropertyValue("backgroundColor",e),this.signaturePad&&this.updateColors(this.signaturePad)}get backgroundImage(){return this.getPropertyValue("backgroundImage")}set backgroundImage(e){this.setPropertyValue("backgroundImage",e),this.signaturePad&&this.updateColors(this.signaturePad)}get clearButtonCaption(){return this.getLocalizationString("clearCaption")}get locRenderedPlaceholder(){return this.isReadOnly?this.locPlaceholderReadOnly:this.locPlaceholder}nothingIsDrawn(){const e=this.isDrawingValue,t=this.isEmpty(),i=this.isUploading,s=this.valueWasChangedFromLastUpload;return!e&&t&&!i&&!s}needShowPlaceholder(){return this.showPlaceholder&&this.nothingIsDrawn()}onBlurCore(e){if(super.onBlurCore(e),!this.storeDataAsText&&!this.element.contains(e.relatedTarget)){if(!this.valueWasChangedFromLastUpload)return;this.uploadFiles([e5(this.signaturePad.toDataURL(this.getFormat()),this.name+"."+Um(this.dataFormat),this.getFormat())]),this.valueWasChangedFromLastUpload=!1}}uploadResultItemToValue(e){return e.content}setValueFromResult(e){this.valueIsUpdatingInternally=!0,this.value=e?.length?e.map(t=>t.content)[0]:void 0,this.valueIsUpdatingInternally=!1}clearValue(e){this.valueWasChangedFromLastUpload=!1,super.clearValue(e),this._loadedData=void 0,this.loadPreview(this.value)}endLoadingFromJson(){super.endLoadingFromJson(),this.signatureWidth===300&&this.width&&typeof this.width=="number"&&this.width&&(Ir.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),this.signatureHeight===200&&this.height&&(Ir.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)}}O([N({defaultValue:!1})],Xr.prototype,"isDrawingValue",void 0);O([N({defaultValue:!1})],Xr.prototype,"isReadyForUpload",void 0);O([N({defaultValue:!1})],Xr.prototype,"valueWasChangedFromLastUpload",void 0);O([N()],Xr.prototype,"signatureAutoScaleEnabled",void 0);O([N()],Xr.prototype,"penMinWidth",void 0);O([N()],Xr.prototype,"penMaxWidth",void 0);O([N({})],Xr.prototype,"showPlaceholder",void 0);O([N({localizable:{defaultStr:"signaturePlaceHolder"}})],Xr.prototype,"placeholder",void 0);O([N({localizable:{defaultStr:"signaturePlaceHolderReadOnly"}})],Xr.prototype,"placeholderReadOnly",void 0);function Um(r){return r||(r="png"),r=r.replace("image/","").replace("+xml",""),r!=="jpeg"&&r!=="svg"&&(r="png"),r}le.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"signatureAutoScaleEnabled:boolean",category:"general",default:!1},{name:"penMinWidth:number",category:"general",default:.5},{name:"penMaxWidth:number",category:"general",default:2.5},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"showPlaceholder:boolean",category:"general",default:!0},{name:"placeholder:text",serializationProperty:"locPlaceholder",category:"general",dependsOn:"showPlaceholder",visibleIf:r=>r.showPlaceholder},{name:"placeholderReadOnly:text",serializationProperty:"locPlaceholderReadOnly",category:"general",dependsOn:"showPlaceholder",visibleIf:r=>r.showPlaceholder},{name:"backgroundImage:file",category:"general"},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"jpeg",text:"JPEG"},{value:"svg",text:"SVG"}],onSettingValue:(r,e)=>Um(e)},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1}],function(){return new Xr("")},"question");Kt.Instance.registerQuestion("signaturepad",r=>new Xr(r));class bv extends cv{constructor(e,t,i){super(i),this.data=e,this.panelItem=t,this.variableName=i,this.sharedQuestions={}}get survey(){return this.panelItem.getSurvey()}get panel(){return this.panelItem.panel}get panelIndex(){return this.data?this.data.getItemIndex(this.panelItem):-1}get visiblePanelIndex(){return this.data?this.data.getVisibleItemIndex(this.panelItem):-1}getValues(){return this.panelItem.getAllValues()}getQuestionByName(e){var t=super.getQuestionByName(e);if(t)return t;const i=this.panelIndex;t=i>-1?this.data.getSharedQuestionFromArray(e,i):void 0;const s=t?t.name:e;return this.sharedQuestions[s]=e,t}getQuestionDisplayText(e){const t=this.sharedQuestions[e.name];if(!t)return super.getQuestionDisplayText(e);const i=this.panelItem.getValue(t);return e.getDisplayValue(!0,i)}onCustomProcessText(e){if(e.name==Ci.IndexVariableName){var t=this.panelIndex;if(t>-1)return e.isExists=!0,e.value=t+1,!0}if(e.name==Ci.VisibleIndexVariableName){var t=this.visiblePanelIndex;if(t>-1)return e.isExists=!0,e.value=t+1,!0}if(e.name.toLowerCase().indexOf(Ci.ParentItemVariableName+".")==0){var i=this.data;if(i&&i.parentQuestion&&i.parent&&i.parent.data){var s=new bv(i.parentQuestion,i.parent.data,Ci.ItemVariableName),n=Ci.ItemVariableName+e.name.substring(Ci.ParentItemVariableName.length),o=s.processValue(n,e.returnDisplayValue);e.isExists=o.isExists,e.value=o.value}return!0}return!1}}class l5 extends ht{constructor(e){super(e)}}class Ci{constructor(e,t){this.data=e,this.panelValue=t,this.textPreProcessor=new bv(e,this,Ci.ItemVariableName),this.setSurveyImpl()}get panel(){return this.panelValue}setSurveyImpl(){this.panel.setSurveyImpl(this)}getValue(e){var t=this.getAllValues();return t[e]}setValue(e,t){const i=this.data.getPanelItemData(this),s=i?i[e]:void 0;if(z.isTwoValueEquals(t,s,!1,!0,!1))return;this.data.setPanelItemData(this,e,z.getUnbindValue(t));const n=this.panel.questions;for(var o=0;o<n.length;o++){const h=n[o];h.getValueName()!==e&&h.checkBindings(e,t);const d=X.commentSuffix;if(e.endsWith(d)){e=e.substring(0,e.length-d.length);const p=this.panel.getQuestionByName(e);p&&(t=p.value)}const f=Ci.ItemVariableName+"."+e;h.runTriggers(f,t)}}getVariable(e){}setVariable(e,t){}getComment(e){var t=this.getValue(e+X.commentSuffix);return t||""}setComment(e,t,i){this.setValue(e+X.commentSuffix,t)}findQuestionByName(e){if(!e)return;const t=Ci.ItemVariableName+".";if(e.indexOf(t)===0)return this.panel.getQuestionByName(e.substring(t.length));const i=this.getSurvey();return i?i.getQuestionByName(e):null}getEditingSurveyElement(){}getAllValues(){return this.data.getPanelItemData(this)}getFilteredValues(){var e={},t=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var i in t)e[i]=t[i];if(e[Ci.ItemVariableName]=this.getAllValues(),this.data){const s=Ci.IndexVariableName,n=Ci.VisibleIndexVariableName;delete e[s],delete e[n],e[s.toLowerCase()]=this.data.getItemIndex(this),e[n.toLowerCase()]=this.data.getVisibleItemIndex(this);const o=this.data;o&&o.parentQuestion&&o.parent&&(e[Ci.ParentItemVariableName]=o.parent.getValue())}return e}getFilteredProperties(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}}getSurveyData(){return this}getSurvey(){return this.data?this.data.getSurvey():null}getTextProcessor(){return this.textPreProcessor}}Ci.ItemVariableName="panel";Ci.ParentItemVariableName="parentpanel";Ci.IndexVariableName="panelIndex";Ci.VisibleIndexVariableName="visiblePanelIndex";class u5{constructor(e){this.data=e}getSurveyData(){return null}getSurvey(){return this.data.getSurvey()}getTextProcessor(){return null}}class za extends Ii{constructor(e){super(e),this._renderedPanels=[],this.isPanelsAnimationRunning=!1,this.isAddingNewPanels=!1,this.isSetPanelItemData={},this.createNewArray("panels",t=>{this.onPanelAdded(t)},t=>{this.onPanelRemoved(t)}),this.createNewArray("visiblePanels"),this.templateValue=this.createAndSetupNewPanelObject(),this.template.renderWidth="100%",this.template.selectedElementInDesign=this,this.template.addElementCallback=t=>{this.addOnPropertyChangedCallback(t),this.rebuildPanels()},this.template.removeElementCallback=()=>{this.rebuildPanels()},this.createLocalizableString("confirmDeleteText",this,!1,"confirmDelete"),this.createLocalizableString("keyDuplicationError",this,!1,!0),this.createLocalizableString("addPanelText",this,!1,"addPanel"),this.createLocalizableString("removePanelText",this,!1,"removePanel"),this.createLocalizableString("prevPanelText",this,!1,"pagePrevText"),this.createLocalizableString("nextPanelText",this,!1,"pageNextText"),this.createLocalizableString("noEntriesText",this,!1,"noEntriesText"),this.createLocalizableString("editPanelText",this,!1,"editText"),this.createLocalizableString("templateTabTitle",this,!0,"panelDynamicTabTextFormat"),this.createLocalizableString("tabTitlePlaceholder",this,!0,"tabTitlePlaceholder"),this.registerPropertyChangedHandlers(["panelsState"],()=>{this.setPanelsState()}),this.registerPropertyChangedHandlers(["newPanelPosition","displayMode","showProgressBar"],()=>{this.updateFooterActions()}),this.registerPropertyChangedHandlers(["allowAddPanel"],()=>{this.updateNoEntriesTextDefaultLoc()}),this.registerPropertyChangedHandlers(["minPanelCount"],()=>{this.onMinPanelCountChanged()}),this.registerPropertyChangedHandlers(["maxPanelCount"],()=>{this.onMaxPanelCountChanged()}),this.registerPropertyChangedHandlers(["templateQuestionTitleLocation","templateQuestionTitleWidth"],()=>{const t=this.visiblePanelsCore;t&&t.forEach(i=>{i.updateElementCss(!0)})})}get isCompositeQuestion(){return!0}get hasSingleInput(){return!1}get isContainer(){return!0}getFirstQuestionToFocus(e){for(var t=0;t<this.visiblePanelsCore.length;t++){const i=this.visiblePanelsCore[t].getFirstQuestionToFocus(e);if(i)return i}return this.showAddPanelButton&&(!e||this.currentErrorCount>0)?this:null}getFirstInputElementId(){return this.showAddPanelButton?this.addButtonId:super.getFirstInputElementId()}getFirstErrorInputElementId(){const e=this.getFirstQuestionToFocus(!0);return e?e.inputId:super.getFirstErrorInputElementId()}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()}assignOnPropertyChangedToTemplate(){for(var e=this.template.elements,t=0;t<e.length;t++)this.addOnPropertyChangedCallback(e[t])}addOnPropertyChangedCallback(e){e.isQuestion&&e.setParentQuestion(this),e.onPropertyChanged.add((t,i)=>{this.onTemplateElementPropertyChanged(t,i)}),e.isPanel&&(e.addElementCallback=t=>{this.addOnPropertyChangedCallback(t)})}onTemplateElementPropertyChanged(e,t){if(!(this.isLoadingFromJson||this.useTemplatePanel||this.panelsCore.length==0)){var i=le.findProperty(e.getType(),t.name);if(i)for(var s=this.panelsCore,n=0;n<s.length;n++){var o=s[n].getQuestionByName(e.name);o&&o[t.name]!==t.newValue&&(o[t.name]=t.newValue)}}}get useTemplatePanel(){return this.isDesignMode&&!this.isContentElement}getType(){return"paneldynamic"}clearOnDeletingContainer(){this.panelsCore.forEach(e=>{e.clearOnDeletingContainer()})}get isAllowTitleLeft(){return!1}removeElement(e){return this.template.removeElement(e)}get template(){return this.templateValue}getPanel(){return this.template}get templateElements(){return this.template.elements}get templateTitle(){return this.template.title}set templateTitle(e){this.template.title=e}get locTemplateTitle(){return this.template.locTitle}get templateTabTitle(){return this.locTemplateTabTitle.text}set templateTabTitle(e){this.locTemplateTabTitle.text=e}get locTemplateTabTitle(){return this.getLocalizableString("templateTabTitle")}get tabTitlePlaceholder(){return this.locTabTitlePlaceholder.text}set tabTitlePlaceholder(e){this.locTabTitlePlaceholder.text=e}get locTabTitlePlaceholder(){return this.getLocalizableString("tabTitlePlaceholder")}get templateDescription(){return this.template.description}set templateDescription(e){this.template.description=e}get locTemplateDescription(){return this.template.locDescription}get templateVisibleIf(){return this.getPropertyValue("templateVisibleIf")}set templateVisibleIf(e){this.setPropertyValue("templateVisibleIf",e),this.template.visibleIf=e}get items(){for(var e=[],t=0;t<this.panelsCore.length;t++)e.push(this.panelsCore[t].data);return e}get panels(){return this.buildPanelsFirstTime(this.canBuildPanels),this.panelsCore}get visiblePanels(){return this.buildPanelsFirstTime(this.canBuildPanels),this.visiblePanelsCore}get panelsCore(){return this.getPropertyValue("panels")}get visiblePanelsCore(){return this.getPropertyValue("visiblePanels")}onPanelAdded(e){if(this.onPanelRemovedCore(e),!e.visible)return;let t=0;const i=this.panelsCore;for(var s=0;s<i.length&&i[s]!==e;s++)i[s].visible&&t++;this.visiblePanelsCore.splice(t,0,e),this.addTabFromToolbar(e,t),this.currentPanel||(this.currentPanel=e),this.updateRenderedPanels()}onPanelRemoved(e){let t=this.onPanelRemovedCore(e);if(this.currentPanel===e){const i=this.visiblePanelsCore;t>=i.length&&(t=i.length-1),this.currentPanel=t>=0?i[t]:null}this.updateRenderedPanels()}onPanelRemovedCore(e){const t=this.visiblePanelsCore;let i=t.indexOf(e);return i>-1&&(t.splice(i,1),this.removeTabFromToolbar(e)),i}get currentIndex(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanelsCore.indexOf(this.currentPanel)}set currentIndex(e){e<0||this.visiblePanelCount<1||(e>=this.visiblePanelCount&&(e=this.visiblePanelCount-1),this.currentPanel=this.visiblePanelsCore[e])}get currentPanel(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;let e=this.getPropertyValue("currentPanel",null);return!e&&this.visiblePanelCount>0&&(e=this.visiblePanelsCore[0],this.currentPanel=e),e}set currentPanel(e){if(this.isRenderModeList||this.useTemplatePanel)return;const t=this.getPropertyValue("currentPanel"),i=e?this.visiblePanelsCore.indexOf(e):-1;if(!(e&&i<0||e===t)&&(t&&t.onHidingContent(),this.setPropertyValue("currentPanel",e),this.updateRenderedPanels(),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback),i>-1&&this.survey)){const s={panel:e,visiblePanelIndex:i};this.survey.dynamicPanelCurrentIndexChanged(this,s)}}updateRenderedPanels(){this.isRenderModeList?this.renderedPanels=[].concat(this.visiblePanels):this.currentPanel?this.renderedPanels=[this.currentPanel]:this.renderedPanels=[]}set renderedPanels(e){this.renderedPanels.length==0||e.length==0?(this.blockAnimations(),this.panelsAnimation.sync(e),this.releaseAnimations()):(this.isPanelsAnimationRunning=!0,this.panelsAnimation.sync(e))}get renderedPanels(){return this._renderedPanels}getPanelsAnimationOptions(){const e=()=>{if(this.isRenderModeList)return"";let t=new fe,i=!1;const s=this.renderedPanels.filter(o=>o!==this.currentPanel)[0];let n=this.visiblePanels.indexOf(s);return n<0&&(i=!0,n=this.removedPanelIndex),t.append("sv-pd-animation-adding",!!this.focusNewPanelCallback).append("sv-pd-animation-removing",i).append("sv-pd-animation-left",n<=this.currentIndex).append("sv-pd-animation-right",n>this.currentIndex).toString()};return{getRerenderEvent:()=>this.onElementRerendered,getAnimatedElement:t=>{var i,s;if(t&&this.cssContent){const n=ir(this.cssContent);return(s=(i=this.getWrapperElement())===null||i===void 0?void 0:i.querySelector(`:scope ${n} #${t.id}`))===null||s===void 0?void 0:s.parentElement}},getEnterOptions:()=>{const t=new fe().append(this.cssClasses.panelWrapperEnter).append(e()).toString();return{onBeforeRunAnimation:i=>{if(this.focusNewPanelCallback){const s=this.isRenderModeList?i:i.parentElement;ai.ScrollElementToViewCore(s,!1,!1,{behavior:"smooth"})}!this.isRenderModeList&&i.parentElement?Mh(i.parentElement,{heightTo:i.offsetHeight+"px"}):Qn(i)},onAfterRunAnimation:i=>{Tr(i),i.parentElement&&Tr(i.parentElement)},cssClass:t}},getLeaveOptions:()=>{const t=new fe().append(this.cssClasses.panelWrapperLeave).append(e()).toString();return{onBeforeRunAnimation:i=>{!this.isRenderModeList&&i.parentElement?Mh(i.parentElement,{heightFrom:i.offsetHeight+"px"}):Qn(i)},onAfterRunAnimation:i=>{Tr(i),i.parentElement&&Tr(i.parentElement)},cssClass:t}},isAnimationEnabled:()=>this.animationAllowed&&!!this.getWrapperElement()}}disablePanelsAnimations(){this.panelsCore.forEach(e=>{e.blockAnimations()})}enablePanelsAnimations(){this.panelsCore.forEach(e=>{e.releaseAnimations()})}updatePanelsAnimation(){this._panelsAnimations=new(this.isRenderModeList?So:Zb)(this.getPanelsAnimationOptions(),(e,t)=>{this._renderedPanels=e,t||(this.isPanelsAnimationRunning=!1,this.focusNewPanel())},()=>this._renderedPanels)}get panelsAnimation(){return this._panelsAnimations||this.updatePanelsAnimation(),this._panelsAnimations}onHidingContent(){super.onHidingContent(),this.currentPanel?this.currentPanel.onHidingContent():this.visiblePanelsCore.forEach(e=>e.onHidingContent())}get confirmDelete(){return this.getPropertyValue("confirmDelete")}set confirmDelete(e){this.setPropertyValue("confirmDelete",e)}get keyName(){return this.getPropertyValue("keyName","")}set keyName(e){this.setPropertyValue("keyName",e)}get confirmDeleteText(){return this.getLocalizableStringText("confirmDeleteText")}set confirmDeleteText(e){this.setLocalizableStringText("confirmDeleteText",e)}get locConfirmDeleteText(){return this.getLocalizableString("confirmDeleteText")}get keyDuplicationError(){return this.getLocalizableStringText("keyDuplicationError")}set keyDuplicationError(e){this.setLocalizableStringText("keyDuplicationError",e)}get locKeyDuplicationError(){return this.getLocalizableString("keyDuplicationError")}get prevPanelText(){return this.getLocalizableStringText("prevPanelText")}set prevPanelText(e){this.setLocalizableStringText("prevPanelText",e)}get locPrevPanelText(){return this.getLocalizableString("prevPanelText")}get panelPrevText(){return this.prevPanelText}set panelPrevText(e){this.prevPanelText=e}get locPanelPrevText(){return this.locPrevPanelText}get nextPanelText(){return this.getLocalizableStringText("nextPanelText")}set nextPanelText(e){this.setLocalizableStringText("nextPanelText",e)}get locNextPanelText(){return this.getLocalizableString("nextPanelText")}get panelNextText(){return this.nextPanelText}set panelNextText(e){this.nextPanelText=e}get locPanelNextText(){return this.locNextPanelText}get addPanelText(){return this.getLocalizableStringText("addPanelText")}set addPanelText(e){this.setLocalizableStringText("addPanelText",e)}get locAddPanelText(){return this.getLocalizableString("addPanelText")}get panelAddText(){return this.addPanelText}set panelAddText(e){this.addPanelText=e}get locPanelAddText(){return this.locAddPanelText}get removePanelText(){return this.getLocalizableStringText("removePanelText")}set removePanelText(e){this.setLocalizableStringText("removePanelText",e)}get locRemovePanelText(){return this.getLocalizableString("removePanelText")}get panelRemoveText(){return this.removePanelText}set panelRemoveText(e){this.removePanelText=e}get locPanelRemoveText(){return this.locRemovePanelText}get isProgressTopShowing(){return this.displayMode=="carousel"&&(this.progressBarLocation==="top"||this.progressBarLocation==="topBottom")}get isProgressBottomShowing(){return this.displayMode=="carousel"&&(this.progressBarLocation==="bottom"||this.progressBarLocation==="topBottom")}get isPrevButtonVisible(){return this.currentIndex>0}get isPrevButtonShowing(){return this.isPrevButtonVisible}get isNextButtonVisible(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1}get isNextButtonShowing(){return this.isNextButtonVisible}get isRangeShowing(){return this.showProgressBar&&this.currentIndex>=0&&this.visiblePanelCount>1}getElementsInDesign(e=!1){return e?[this.template]:this.templateElements}prepareValueForPanelCreating(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1}setValueAfterPanelsCreating(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)}getValueCore(){return this.isAddingNewPanels?this.addingNewPanelsValue:super.getValueCore()}setValueCore(e){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=e):super.setValueCore(e)}setIsMobile(e){super.setIsMobile(e),(this.panelsCore||[]).forEach(t=>t.getQuestions(!0).forEach(i=>{i.setIsMobile(e)}))}themeChanged(e){super.themeChanged(e),(this.panelsCore||[]).forEach(t=>t.getQuestions(!0).forEach(i=>{i.themeChanged(e)}))}get panelCount(){return!this.canBuildPanels||this.wasNotRenderedInSurvey?this.getPropertyValue("panelCount"):this.panelsCore.length}set panelCount(e){if(e<0)return;if(!this.isLoadingFromJson&&this.isDesignMode){const i=this.minPanelCount;e<i&&(e=i);const s=this.maxPanelCount;s>0&&e>s&&(e=s)}if(!this.canBuildPanels||this.wasNotRenderedInSurvey){this.setPropertyValue("panelCount",e),this.updateFooterActions();return}if(e==this.panelsCore.length||this.useTemplatePanel)return;this.updateBindings("panelCount",e),this.prepareValueForPanelCreating();const t=e-this.panelCount===1;for(let i=this.panelCount;i<e;i++){const s=this.createNewPanel();this.panelsCore.push(s),this.displayMode=="list"&&this.panelsState!="default"&&(this.panelsState==="expanded"?s.expand():s.title&&s.collapse())}t&&this.singleInputOnAddItem(this.settingPanelCountBasedOnValue),e<this.panelCount&&this.panelsCore.splice(e,this.panelCount-e),this.disablePanelsAnimations(),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.enablePanelsAnimations()}get visiblePanelCount(){return this.visiblePanels.length}get panelsState(){return this.getPropertyValue("panelsState")}set panelsState(e){this.setPropertyValue("panelsState",e)}setTemplatePanelSurveyImpl(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new u5(this))}setPanelsSurveyImpl(){for(var e=0;e<this.panelsCore.length;e++){var t=this.panelsCore[e];t!=this.template&&t.setSurveyImpl(t.data)}}setPanelsState(){if(!(this.useTemplatePanel||this.displayMode!="list"||!this.templateTitle))for(var e=0;e<this.panelsCore.length;e++){var t=this.panelsState;t==="firstExpanded"&&(t=e===0?"expanded":"collapsed"),this.panelsCore[e].state=t}}setValueBasedOnPanelCount(){var e=this.value;if((!e||!Array.isArray(e))&&(e=[]),e.length!=this.panelCount){for(var t=e.length;t<this.panelCount;t++){const i=this.panels[t].getValue(),s=z.isValueEmpty(i)?{}:i;e.push(s)}e.length>this.panelCount&&e.splice(this.panelCount,e.length-this.panelCount),this.isValueChangingInternally=!0,this.value=e,this.isValueChangingInternally=!1}}get minPanelCount(){return this.getPropertyValue("minPanelCount")}set minPanelCount(e){e<0&&(e=0),this.setPropertyValue("minPanelCount",e)}onMinPanelCountChanged(){const e=this.minPanelCount;e>this.maxPanelCount&&(this.maxPanelCount=e),this.panelCount<e&&(this.panelCount=e)}get maxPanelCount(){return this.getPropertyValue("maxPanelCount")}set maxPanelCount(e){e<=0||(e>X.panel.maxPanelCount&&(e=X.panel.maxPanelCount),this.setPropertyValue("maxPanelCount",e),this.updateFooterActions())}onMaxPanelCountChanged(){const e=this.maxPanelCount;e<this.minPanelCount&&(this.minPanelCount=e),this.panelCount>e&&(this.panelCount=e),this.updateFooterActions()}get allowAddPanel(){return this.getPropertyValue("allowAddPanel")}set allowAddPanel(e){this.setPropertyValue("allowAddPanel",e)}get addButtonId(){return this.id+"addPanel"}get newPanelPosition(){return this.getPropertyValue("newPanelPosition")}set newPanelPosition(e){this.setPropertyValue("newPanelPosition",e)}get allowRemovePanel(){return this.getPropertyValue("allowRemovePanel")}set allowRemovePanel(e){this.setPropertyValue("allowRemovePanel",e)}get templateQuestionTitleLocation(){return this.getPropertyValue("templateQuestionTitleLocation")}set templateQuestionTitleLocation(e){this.setPropertyValue("templateQuestionTitleLocation",e)}get templateTitleLocation(){return this.templateQuestionTitleLocation}set templateTitleLocation(e){this.templateQuestionTitleLocation=e}get templateQuestionTitleWidth(){return this.template.questionTitleWidth}set templateQuestionTitleWidth(e){this.template.questionTitleWidth=e}get templateErrorLocation(){return this.getPropertyValue("templateErrorLocation")}set templateErrorLocation(e){this.setPropertyValue("templateErrorLocation",e.toLowerCase())}resetSingleInput(){super.resetSingleInput(),this.locTemplateTitle.onGetTextCallback=null}getSingleInputQuestionsCore(e,t){this.onFirstRendering();const i=new Array,s=this.visiblePanels;if(t)for(let n=0;n<s.length;n++){const o=s[n];(!o.hasValueAnyQuestion(!0)||o.hasErrors(!1,!1))&&this.fillSingleInputQuestionsByPanel(i,o)}return this.getSingleInputQuestionsForDynamic(e,i)}fillSingleInputQuestionsInContainer(e,t){const i=this.getPanelByQuestion(t);this.fillSingleInputQuestionsByPanel(e,i)}fillSingleInputQuestionsByPanel(e,t){t&&t.questions.forEach(i=>i.addNestedQuestion(e,!0,!1,!1))}getSingleQuestionLocTitleCore(){const e=this.locTemplateTitle;return e.onGetTextCallback=t=>{const i=this.singleInputQuestion;return i?this.processSingleInputTitle(t,this.getPanelByQuestion(i)):t},e}processSingleInputTitle(e,t){return e||(e=this.getSingleInputTitleTemplate()),t?t.getProcessedText(e):e}getSingleInputTitleTemplate(){return this.getLocalizationString("panelDynamicTabTextFormat")}getPanelByQuestion(e){let t=e.parent;for(;t&&t.parent;)t=t.parent;return t}getSingleInputAddTextCore(){if(this.canAddPanel)return this.panelAddText}singleInputAddItemCore(){this.addPanelUI()}singleInputRemoveItemCore(e){const t=this.getPanelByQuestion(e),i=this.visiblePanelsCore.indexOf(t);this.removePanelUI(i)}getSingleQuestionOnChange(e){const t=this.visiblePanelsCore;if(t.length>0){(e<0||e>=t.length)&&(e=t.length-1);const s=t[e].visibleQuestions;if(s.length>0)return s[0]}return null}createSingleInputSummary(){const e=new ow(this,this.locNoEntriesText),t=new Array;return this.visiblePanels.forEach(i=>{const s=new Yi(this,!0,void 0,this.locTemplateTitle.localizationName);s.setJson(this.locTemplateTitle.getJson()),s.onGetTextCallback=h=>this.processSingleInputTitle(this.templateTitle,i);const n=new ht({locTitle:this.getLocalizableString("editPanelText"),action:()=>{this.singInputEditPanel(i)}}),o=this.canRemovePanel?new ht({locTitle:this.locPanelRemoveText,action:()=>{this.removePanelUI(i)}}):void 0;t.push(new aw(s,n,o))}),e.items=t,e}singleInputMoveToFirstCore(){var e;let t=(e=this.singleInputQuestion)===null||e===void 0?void 0:e.parent;for(;t&&t.parent;)t=t.parent;this.singInputEditPanel(t)}singInputEditPanel(e){if(!e)return;const t=e.visibleQuestions;t.length>0&&this.setSingleInputQuestion(t[0])}get showQuestionNumbers(){return this.getPropertyValue("showQuestionNumbers")}set showQuestionNumbers(e){this.setPropertyValue("showQuestionNumbers",e),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible,!0)}notifySurveyOnChildrenVisibilityChanged(){return this.showQuestionNumbers==="onSurvey"}get removePanelButtonLocation(){return this.getPropertyValue("removePanelButtonLocation")}set removePanelButtonLocation(e){this.setPropertyValue("removePanelButtonLocation",e)}get panelRemoveButtonLocation(){return this.removePanelButtonLocation}set panelRemoveButtonLocation(e){this.removePanelButtonLocation=e}get showRangeInProgress(){return this.showProgressBar}set showRangeInProgress(e){this.showProgressBar=e}get renderMode(){let e=this.displayMode;if(e=="carousel"){const t=this.progressBarLocation;if(t=="top")return"progressTop";if(t=="bottom")return"progressBottom";if(t=="topBottom")return"progressTopBottom"}return e}set renderMode(e){(e||"").startsWith("progress")?(e=="progressTop"?this.progressBarLocation="top":e=="progressBottom"?this.progressBarLocation="bottom":e=="progressTopBottom"&&(this.progressBarLocation="topBottom"),this.displayMode="carousel"):this.displayMode=e}updatePanelView(){this.blockAnimations(),this.updateRenderedPanels(),this.releaseAnimations(),this.updatePanelsAnimation()}get tabAlign(){return this.getPropertyValue("tabAlign")}set tabAlign(e){this.setPropertyValue("tabAlign",e),this.isRenderModeTab&&(this.tabbedMenu.containerCss=this.getTabbedMenuCss())}get isRenderModeList(){return this.displayMode==="list"||this.isSingleInputActive}get isRenderModeTab(){return this.displayMode==="tab"&&!this.isSingleInputActive}setVisibleIndex(e){if(!this.isVisible)return 0;const t=this.showQuestionNumbers==="onSurvey";let i=t?e:0;const s=this.isDesignMode?[this.template]:this.visiblePanelsCore;for(let n=0;n<s.length;n++){let o=this.setPanelVisibleIndex(s[n],i,this.showQuestionNumbers!="off");t&&(i+=o)}return super.setVisibleIndex(t?-1:e),t?i-e:1}setPanelVisibleIndex(e,t,i){return i?e.setVisibleIndex(t):(e.setVisibleIndex(-1),0)}get canAddPanel(){return this.isDesignMode||!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1&&this.newPanelPosition!=="next"?!1:this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount}get canRemovePanel(){return this.isDesignMode?!1:this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount}rebuildPanels(){if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var e=[];if(this.useTemplatePanel)new Ci(this,this.template),e.push(this.template);else for(var t=0;t<this.panelCount;t++)this.createNewPanel(),e.push(this.createNewPanel());this.panelsCore.splice(0,this.panelsCore.length,...e),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}}get defaultPanelValue(){return this.getPropertyValue("defaultPanelValue")}set defaultPanelValue(e){this.setPropertyValue("defaultPanelValue",e)}get copyDefaultValueFromLastEntry(){return this.getPropertyValue("copyDefaultValueFromLastEntry")}set copyDefaultValueFromLastEntry(e){this.setPropertyValue("copyDefaultValueFromLastEntry",e)}get defaultValueFromLastPanel(){return this.copyDefaultValueFromLastEntry}set defaultValueFromLastPanel(e){this.copyDefaultValueFromLastEntry=e}isDefaultValueEmpty(){return super.isDefaultValueEmpty()&&this.isValueEmpty(this.defaultPanelValue)}setDefaultValue(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){super.setDefaultValue();return}if(!(!this.isEmpty()||this.panelCount==0)){for(var e=[],t=0;t<this.panelCount;t++)e.push(this.defaultPanelValue);this.value=e}}get isValueArray(){return!0}isEmpty(){var e=this.value;if(!e||!Array.isArray(e))return!0;for(var t=0;t<e.length;t++)if(!this.isRowEmpty(e[t]))return!1;return!0}getProgressInfo(){return ai.getProgressInfoByElements(this.visiblePanelsCore,this.isRequired)}isRowEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}addPanelUI(){return this.addPanel(void 0,!0)}addPanel(e,t){const i=t===!0;if(i&&(!this.canAddPanel||!this.canLeaveCurrentPanel()))return null;const s=this.addPanelCore(e);return i&&(this.displayMode==="list"&&this.panelsState!=="default"&&s.expand(),this.focusNewPanelCallback=()=>{s.focusFirstQuestion()},this.isPanelsAnimationRunning||this.focusNewPanel()),s}addPanelCore(e){const t=this.currentIndex;return e===void 0&&(e=t<0?this.panelCount:t+1),(e<0||e>this.panelCount)&&(e=this.panelCount),this.updateValueOnAddingPanel(t<0?this.panelCount-1:t,e),this.isRenderModeList||(this.currentIndex=e),this.notifyOnPanelAddedRemoved(!0,e),this.panelsCore[e]}focusNewPanel(){this.focusNewPanelCallback&&(this.focusNewPanelCallback(),this.focusNewPanelCallback=void 0)}updateValueOnAddingPanel(e,t){this.panelCount++;let i=this.value;if(!Array.isArray(i)||i.length!==this.panelCount)return;let s=!1;const n=this.panelCount-1;if(t<n){s=!0;const o=i[n];i.splice(n,1),i.splice(t,0,o)}if(this.isValueEmpty(this.defaultPanelValue)||(s=!0,this.copyValue(i[t],this.defaultPanelValue)),this.copyDefaultValueFromLastEntry&&i.length>1){const o=e>-1&&e<=n?e:n;s=!0,this.copyValue(i[t],i[o])}s&&(this.value=i)}canLeaveCurrentPanel(){return!(this.displayMode!=="list"&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))}copyValue(e,t){for(var i in t)e[i]=t[i]}getPanelRemoveButtonId(e){return e.id+"_remove_button"}isRequireConfirmOnDelete(e){if(!this.confirmDelete)return!1;const t=this.getVisualPanelIndex(e);if(t<0||t>=this.visiblePanelCount)return!1;const i=this.visiblePanelsCore[t].getValue();return!this.isValueEmpty(i)&&(this.isValueEmpty(this.defaultPanelValue)||!this.isTwoValueEquals(i,this.defaultPanelValue))}goToNextPanel(){return this.currentIndex<0||!this.canLeaveCurrentPanel()?!1:(this.currentIndex++,!0)}goToPrevPanel(){this.currentIndex<0||this.currentIndex--}removePanelUI(e){this.removePanel(e,this.isRequireConfirmOnDelete(e))}removePanel(e,t){const i=this.getVisualPanelIndex(e);if(i<0||i>=this.visiblePanelCount)return;if(t!==void 0){if(!this.canRemovePanel)return;const n=()=>{var o;this.removePanelCore(i);const h=this.visiblePanelCount,d=i>=h?h-1:i;let f=h===0?this.addButtonId:d>-1?this.getPanelRemoveButtonId(this.visiblePanels[d]):"";f&&ai.FocusElement(f,!0,(o=this.survey)===null||o===void 0?void 0:o.rootElement)};t?of({message:this.confirmDeleteText,funcOnYes:()=>{n()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog}):n()}else this.removePanelCore(i)}removePanelCore(e){this.removedPanelIndex=e;const t=this.visiblePanelsCore[e],i=this.panelsCore.indexOf(t);if(!(i<0)&&!(this.survey&&!this.survey.dynamicPanelRemoving(this,i,t))){this.panelsCore.splice(i,1),this.updateBindings("panelCount",this.panelCount),this.singleInputOnRemoveItem(e);var s=this.value;!s||!Array.isArray(s)||i>=s.length?this.updateFooterActions():(this.isValueChangingInternally=!0,s.splice(i,1),this.value=s,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.notifyOnPanelAddedRemoved(!1,i,t),this.isValueChangingInternally=!1)}}notifyOnPanelAddedRemoved(e,t,i){if(i||(i=this.panelsCore[t]),this.survey){const s=this.showQuestionNumbers==="onSurvey";e?this.survey.dynamicPanelAdded(this,t,i,s):this.survey.dynamicPanelRemoved(this,t,i,s)}e&&i&&this.showQuestionNumbers==="onPanel"&&i.setVisibleIndex(0)}getVisualPanelIndex(e){if(z.isNumber(e))return e;const t=this.visiblePanelsCore;for(var i=0;i<t.length;i++)if(t[i]===e||t[i].data===e)return i;return-1}getPanelVisibleIndexById(e){const t=this.visiblePanelsCore;for(var i=0;i<t.length;i++)if(t[i].id===e)return i;return-1}locStrsChanged(){super.locStrsChanged(),this.locTemplateTitle.strChanged();for(var e=this.panelsCore,t=0;t<e.length;t++)e[t].locStrsChanged();this.tabbedMenu&&this.tabbedMenu.locStrsChanged()}clearIncorrectValues(){for(var e=0;e<this.panelsCore.length;e++)this.clearIncorrectValuesInPanel(e)}clearErrors(){super.clearErrors();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].clearErrors()}getQuestionFromArray(e,t){return t<0||t>=this.panelsCore.length?null:this.panelsCore[t].getQuestionByName(e)}clearIncorrectValuesInPanel(e){var t=this.panelsCore[e];t.clearIncorrectValues();var i=this.value,s=i&&e<i.length?i[e]:null;if(s){var n=!1;for(var o in s)if(!this.getSharedQuestionFromArray(o,e)){var h=t.getQuestionByName(o);h||this.iscorrectValueWithPostPrefix(t,o,X.commentSuffix)||this.iscorrectValueWithPostPrefix(t,o,X.matrix.totalsSuffix)||(delete s[o],n=!0)}n&&(i[e]=s,this.value=i)}}iscorrectValueWithPostPrefix(e,t,i){return t.indexOf(i)!==t.length-i.length?!1:!!e.getQuestionByName(t.substring(0,t.indexOf(i)))}getSharedQuestionFromArray(e,t){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,t):null}addConditionObjectsByContext(e,t){const i=t?.isValidator?t.errorOwner:t,s=!!t&&(t===!0||this.template.questions.indexOf(i)>-1),n=new Array,o=this.template.questions;for(var h=0;h<o.length;h++)o[h].addConditionObjectsByContext(n,t);for(var d=0;d<X.panel.maxPanelCountInCondition;d++){const f="["+d+"].",p=this.getValueName()+f,y=this.processedTitle+f;for(var h=0;h<n.length;h++)n[h].context?e.push(n[h]):e.push({name:p+n[h].name,text:y+n[h].text,question:n[h].question})}if(s){const f=t===!0?this.getValueName()+".":"",p=t===!0?this.processedTitle+".":"";for(var h=0;h<n.length;h++){if(n[h].question==t)continue;const b={name:f+Ci.ItemVariableName+"."+n[h].name,text:p+Ci.ItemVariableName+"."+n[h].text,question:n[h].question};b.context=this,e.push(b)}}}collectNestedQuestionsCore(e,t,i,s){s&&e.push(this);const n=t?this.visiblePanelsCore:this.panelsCore;Array.isArray(n)&&n.forEach(o=>{o.questions.forEach(h=>h.addNestedQuestion(e,t,i,s))})}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);var i=t,s=t.indexOf(".");s>-1&&(i=t.substring(0,s),t=t.substring(s+1));var n=this.template.getQuestionByName(i);return n?n.getConditionJson(e,t):null}onReadOnlyChanged(){var e=this.isReadOnly;this.template.readOnly=e;for(var t=0;t<this.panelsCore.length;t++)this.panelsCore[t].readOnly=e;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),super.onReadOnlyChanged()}updateNoEntriesTextDefaultLoc(){const e=this.getLocalizableString("noEntriesText");e&&(e.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText")}onSurveyLoad(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.panelCount<this.minPanelCount&&(this.panelCount=this.minPanelCount),this.panelCount>this.maxPanelCount&&(this.panelCount=this.maxPanelCount),this.buildPanelsFirstTime(),super.onSurveyLoad()}buildPanelsFirstTime(e=!1){if(!this.hasPanelBuildFirstTime&&!(!e&&this.wasNotRenderedInSurvey)){if(this.blockAnimations(),this.hasPanelBuildFirstTime=!0,this.isBuildingPanelsFirstTime=!0,this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.data&&this.isValueChangedWithoutPanels&&(this.isValueChangedWithoutPanels=!1,this.runTriggersOnBuildPanelsFirstTime()),this.survey)for(var t=0;t<this.panelCount;t++)this.notifyOnPanelAddedRemoved(!0,t);this.updateIsReady(),this.showAddPanelButton||this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),this.isBuildingPanelsFirstTime=!1,this.releaseAnimations()}}runTriggersOnBuildPanelsFirstTime(){this.value,this.visiblePanelsCore.forEach(e=>{const t=this.getPanelItemData(e.data);if(!z.isValueEmpty(t)){const i=z.createCopyWithPrefix(t,Ci.ItemVariableName+".");e.questions.forEach(s=>s.runTriggers("",void 0,i))}})}get showAddPanelButton(){return this.allowAddPanel&&!this.isReadOnly}get wasNotRenderedInSurvey(){return!this.hasPanelBuildFirstTime&&!this.wasRendered&&!!this.survey}get canBuildPanels(){return!this.isLoadingFromJson&&!this.useTemplatePanel}onFirstRenderingCore(){super.onFirstRenderingCore(),this.buildPanelsFirstTime(),this.template.onFirstRendering();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].onFirstRendering()}localeChanged(){super.localeChanged();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].localeChanged()}runConditionCore(e,t){super.runConditionCore(e,t),this.runPanelsCondition(this.panelsCore,e,t)}runTriggers(e,t,i){super.runTriggers(e,t,i),this.visiblePanelsCore.forEach(s=>{s.questions.forEach(n=>n.runTriggers(e,t,i))})}reRunCondition(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}runPanelsCondition(e,t,i){var s={};t&&t instanceof Object&&(s=JSON.parse(JSON.stringify(t))),this.parentQuestion&&this.parent&&(s[Ci.ParentItemVariableName]=this.parent.getValue()),this.isValueChangingInternally=!0;let n=0;for(var o=0;o<e.length;o++){const d=e[o];var h=this.getPanelItemData(d.data);const f=z.createCopy(s),p=Ci.ItemVariableName;f[p]=h,f[Ci.IndexVariableName.toLowerCase()]=o,f[Ci.VisibleIndexVariableName.toLowerCase()]=n;const y=z.createCopy(i);y[p]=d,d.runCondition(f,y),d.isVisible&&n++}this.isValueChangingInternally=!1}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t),!this.hasPanelBuildFirstTime&&e===this.getValueName()&&(this.isValueChangedWithoutPanels=!0);for(var i=0;i<this.panelsCore.length;i++)this.panelsCore[i].onAnyValueChanged(e,t),this.panelsCore[i].onAnyValueChanged(Ci.ItemVariableName,"")}hasKeysDuplicated(e,t=null){for(var i=[],s,n=0;n<this.panelsCore.length;n++)s=this.isValueDuplicated(this.panelsCore[n],i,t,e)||s;return s}updatePanelsContainsErrors(){for(var e=this.changingValueQuestion,t=e.parent;t;)t.updateContainsErrors(),t=t.parent;this.updateContainsErrors()}hasErrors(e=!0,t=null){if(this.isValueChangingInternally||this.isBuildingPanelsFirstTime)return!1;var i=!1;if(this.changingValueQuestion){var i=this.changingValueQuestion.hasErrors(e,t);i=this.hasKeysDuplicated(e,t)||i,this.updatePanelsContainsErrors()}else i=this.hasErrorInPanels(e,t);return super.hasErrors(e,t)||i}getContainsErrors(){var e=super.getContainsErrors();if(e)return e;for(var t=this.panelsCore,i=0;i<t.length;i++)if(t[i].containsErrors)return!0;return!1}getIsAnswered(){if(!super.getIsAnswered())return!1;for(var e=this.visiblePanelsCore,t=0;t<e.length;t++){var i=[];e[t].addQuestionsToList(i,!0);for(var s=0;s<i.length;s++)if(!i[s].isAnswered)return!1}return!0}clearValueOnHidding(e){if(!e){if(this.survey&&this.survey.getQuestionClearIfInvisible("onHidden")==="none")return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}super.clearValueOnHidding(e)}clearValueIfInvisible(e="onHidden"){const t=e==="onHidden"?"onHiddenContainer":e;this.clearValueInPanelsIfInvisible(t),super.clearValueIfInvisible(e)}clearValueInPanelsIfInvisible(e){for(var t=0;t<this.panelsCore.length;t++){const n=this.panelsCore[t];var i=n.questions;this.isSetPanelItemData={};for(var s=0;s<i.length;s++){const o=i[s];o.visible&&!n.isVisible||(o.clearValueIfInvisible(e),this.isSetPanelItemData[o.getValueName()]=this.maxCheckCount+1)}}this.isSetPanelItemData={}}getIsRunningValidators(){if(super.getIsRunningValidators())return!0;for(var e=0;e<this.panelsCore.length;e++)for(var t=this.panelsCore[e].questions,i=0;i<t.length;i++)if(t[i].isRunningValidators)return!0;return!1}getAllErrors(){var e=super.getAllErrors();const t=this.visiblePanelsCore;for(var i=0;i<t.length;i++)for(var s=t[i].questions,n=0;n<s.length;n++){var o=s[n].getAllErrors();o&&o.length>0&&(e=e.concat(o))}return e}getDisplayValueCore(e,t){var i=this.getUnbindValue(t);if(!i||!Array.isArray(i))return i;for(var s=0;s<this.panelsCore.length&&s<i.length;s++){var n=i[s];n&&(i[s]=this.getPanelDisplayValue(s,n,e))}return i}getPanelDisplayValue(e,t,i){if(!t)return t;for(var s=this.panelsCore[e],n=Object.keys(t),o=0;o<n.length;o++){var h=n[o],d=s.getQuestionByValueName(h);if(d||(d=this.getSharedQuestionFromArray(h,e)),d){var f=d.getDisplayValue(i,t[h]);t[h]=f,i&&d.title&&d.title!==h&&(t[d.title]=f,delete t[h])}}return t}hasErrorInPanels(e,t){for(var i=!1,s=this.visiblePanels,n=[],o=0;o<s.length;o++)this.setOnCompleteAsyncInPanel(s[o]);const h=!!t&&t.focusOnFirstError;for(let d=0;d<s.length;d++){let f=s[d].hasErrors(e,h,t);f=this.isValueDuplicated(s[d],n,t,e)||f,!this.isRenderModeList&&f&&!i&&h&&(this.currentIndex=d),i=f||i}return i}setOnCompleteAsyncInPanel(e){for(var t=e.questions,i=0;i<t.length;i++)t[i].onCompletedAsyncValidators=s=>{this.raiseOnCompletedAsyncValidators()}}isValueDuplicated(e,t,i,s){if(!this.keyName)return!1;var n=e.getQuestionByValueName(this.keyName);if(!n||n.isEmpty())return!1;var o=n.value;this.changingValueQuestion&&n!=this.changingValueQuestion&&n.hasErrors(s,i);for(var h=0;h<t.length;h++)if(o==t[h])return s&&n.addError(new Yb(this.keyDuplicationError,this)),i&&!i.firstErrorQuestion&&(i.firstErrorQuestion=n),!0;return t.push(o),!1}getPanelActions(e){let t=e.footerActions;return this.removePanelButtonLocation!=="right"&&t.push(new ht({id:`remove-panel-${e.id}`,component:"sv-paneldynamic-remove-btn",visible:new $t(()=>[this.canRenderRemovePanel(e,"bottom")].every(i=>i===!0)),data:{question:this,panel:e}})),this.survey&&(t=this.survey.getUpdatedPanelFooterActions(e,t,this)),t}canRenderRemovePanelOnRight(e){return this.canRenderRemovePanel(e,"right")}canRenderRemovePanel(e,t){const i=this.canRemovePanel,s=e.state!=="collapsed";return this.removePanelButtonLocation===t&&i&&s}createNewPanel(){var e=this.createAndSetupNewPanelObject(),t=this.template.toJSON();new Ri().toObject(t,e),e.renderWidth="100%",e.updateCustomWidgets(),new Ci(this,e),!this.isDesignMode&&!this.isReadOnly&&!this.isValueEmpty(e.getValue())&&this.runPanelsCondition([e],this.getDataFilteredValues(),this.getDataFilteredProperties());for(var i=e.questions,s=0;s<i.length;s++)i[s].setParentQuestion(this);return this.wasRendered&&(e.onFirstRendering(),e.locStrsChanged()),e.onGetFooterActionsCallback=()=>this.getPanelActions(e),e.onGetFooterToolbarCssCallback=()=>this.cssClasses.panelFooter,e.registerPropertyChangedHandlers(["visible"],()=>{e.visible?this.onPanelAdded(e):this.onPanelRemoved(e),this.updateFooterActions()}),e}createAndSetupNewPanelObject(){var e=this.createNewPanelObject();return e.isInteractiveDesignElement=!1,e.setParentQuestion(this),e.onGetQuestionTitleLocation=()=>this.getTemplateQuestionTitleLocation(),e.onGetQuestionTitleWidth=()=>this.templateQuestionTitleWidth,e}getTemplateQuestionTitleLocation(){return this.templateQuestionTitleLocation!="default"?this.templateQuestionTitleLocation:this.getTitleLocationCore()}getChildErrorLocation(e){return this.templateErrorLocation!=="default"?this.templateErrorLocation:super.getChildErrorLocation(e)}createNewPanelObject(){return le.createClass("panel")}setPanelCountBasedOnValue(){if(!(this.isValueChangingInternally||this.useTemplatePanel)){var e=this.value,t=e&&Array.isArray(e)?e.length:0;t==0&&this.getPropertyValue("panelCount")>0&&(t=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=t,this.settingPanelCountBasedOnValue=!1}}setQuestionValue(e){if(!this.settingPanelCountBasedOnValue){super.setQuestionValue(e,!1),this.setPanelCountBasedOnValue();for(var t=0;t<this.panelsCore.length;t++)this.panelUpdateValueFromSurvey(this.panelsCore[t]);this.updateIsAnswered()}}onSurveyValueChanged(e){if(!(e===void 0&&this.isAllPanelsEmpty())){super.onSurveyValueChanged(e);for(var t=0;t<this.panelsCore.length;t++)this.panelSurveyValueChanged(this.panelsCore[t]);e===void 0&&this.setValueBasedOnPanelCount(),this.updateIsReady()}}isAllPanelsEmpty(){for(var e=0;e<this.panelsCore.length;e++)if(!z.isValueEmpty(this.panelsCore[e].getValue()))return!1;return!0}panelUpdateValueFromSurvey(e){const t=e.questions;for(var i=this.getPanelItemData(e.data),s=0;s<t.length;s++){const n=t[s];n.updateValueFromSurvey(i[n.getValueName()]),n.updateCommentFromSurvey(i[n.getValueName()+X.commentSuffix]),n.initDataUI()}}panelSurveyValueChanged(e){for(var t=e.questions,i=this.getPanelItemData(e.data),s=0;s<t.length;s++){var n=t[s];n.onSurveyValueChanged(i[n.getValueName()])}}onSetData(){super.onSetData(),!this.isLoadingFromJson&&this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())}isNewValueCorrect(e){return Array.isArray(e)}getItemIndex(e){var t=this.items.indexOf(e);return t>-1?t:this.items.length}getVisibleItemIndex(e){const t=this.visiblePanelsCore;for(var i=0;i<t.length;i++)if(t[i].data===e)return i;return t.length}getPanelItemData(e){var t=this.items,i=t.indexOf(e),s=this.value;return i<0&&Array.isArray(s)&&s.length>t.length&&(i=t.length),i<0?{}:!s||!Array.isArray(s)||s.length<=i?{}:s[i]}setPanelItemData(e,t,i){if(this.isSetPanelItemData[t]>this.maxCheckCount)return;this.isSetPanelItemData[t]||(this.isSetPanelItemData[t]=0),this.isSetPanelItemData[t]++;var s=this.items,n=s.indexOf(e);n<0&&(n=s.length);var o=this.getUnbindValue(this.value);if((!o||!Array.isArray(o))&&(o=[]),o.length<=n)for(var h=o.length;h<=n;h++)o.push({});o[n]||(o[n]={});const d=o[n][t];this.isValueEmpty(i)?delete o[n][t]:o[n][t]=i,n>=0&&n<this.panelsCore.length&&(this.changingValueQuestion=this.panelsCore[n].getQuestionByValueName(t));const f={panel:e.panel,name:t,panelIndex:n,panelData:o[n],value:i,oldValue:d};this.survey&&this.survey.dynamicPanelItemValueChanging(this,f),this.value=o,this.changingValueQuestion=null,this.survey&&this.survey.dynamicPanelItemValueChanged(this,f),this.isSetPanelItemData[t]--,this.isSetPanelItemData[t]-1&&delete this.isSetPanelItemData[t]}getRootData(){return this.data}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t){t.isNode=!0;const i=Array.isArray(t.data)?[].concat(t.data):[];t.data=this.panels.map((s,n)=>{var o={name:s.name||n,title:s.title||"Panel",value:s.getValue(),displayValue:s.getValue(),getString:h=>typeof h=="object"?JSON.stringify(h):h,isNode:!0,data:s.questions.map(h=>h.getPlainData(e)).filter(h=>!!h)};return(e.calculations||[]).forEach(h=>{o[h.propertyName]=s[h.propertyName]}),o}),t.data=t.data.concat(i)}return t}updateElementCss(e){super.updateElementCss(e);for(var t=0;t<this.panelsCore.length;t++){var i=this.panelsCore[t];i.updateElementCss(e)}}get progressText(){var e=this.visiblePanelCount;return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,e)}get progress(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"}get progressBarAriaLabel(){return _i("progressbar",this.getLocale())}getRootCss(){return new fe().append(super.getRootCss()).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()}get cssHeader(){const e=this.isRenderModeTab&&!!this.visiblePanelCount;return new fe().append(super.getCssHeader(this.cssClasses)).append(this.cssClasses.headerTab,this.hasTitleOnTop&&e).toString()}getTabsContainerCss(){return new fe().append(this.cssClasses.tabsContainer).append(this.cssClasses.tabsContainerWithHeader,this.hasTitleOnTop).toString()}getPanelWrapperCss(e){return new fe().append(this.cssClasses.panelWrapper,!e||e.visible).append(this.cssClasses.panelWrapperList,this.isRenderModeList).append(this.cssClasses.panelWrapperInRow,this.removePanelButtonLocation==="right").toString()}getPanelRemoveButtonCss(){return new fe().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,this.removePanelButtonLocation==="right").toString()}getAddButtonCss(){return new fe().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode",this.displayMode==="list").toString()}getPrevButtonCss(){return new fe().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()}getNextButtonCss(){return new fe().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()}get noEntriesText(){return this.getLocalizableStringText("noEntriesText")}set noEntriesText(e){this.setLocalizableStringText("noEntriesText",e)}get locNoEntriesText(){return this.getLocalizableString("noEntriesText")}getShowNoEntriesPlaceholder(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&this.visiblePanelCount===0}needResponsiveWidth(){const e=this.getPanel();return!!(e&&e.needResponsiveWidth())}get hasTabbedMenu(){return this.isRenderModeTab&&this.visiblePanels.length>0}get tabbedMenu(){return this.isRenderModeTab?(this.tabbedMenuValue||(this.tabbedMenuValue=new Ro,this.tabbedMenuValue.dotsItem.popupModel.showPointer=!1,this.tabbedMenuValue.dotsItem.popupModel.verticalPosition="bottom",this.tabbedMenuValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.tabbedMenuValue):null}get footerToolbar(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue}get ariaRole(){return"group"}get ariaRequired(){return null}get ariaInvalid(){return null}updateFooterActions(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()}initFooterToolbar(){this.footerToolbarValue=this.createActionContainer();const e=[],t=new ht({id:"sv-pd-prev-btn",title:this.prevPanelText,action:()=>{this.goToPrevPanel()}}),i=new ht({id:"sv-pd-next-btn",title:this.nextPanelText,action:()=>{this.goToNextPanel()}}),s=new ht({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),n=new ht({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),o=new ht({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),h=new ht({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});e.push(t,i,s,n,o,h),this.updateFooterActionsCallback=()=>{const d=this.legacyNavigation,f=this.isRenderModeList,p=this.isMobile,y=!d&&!f;t.visible=y&&this.currentIndex>0,i.visible=y&&this.currentIndex<this.visiblePanelCount-1,i.needSpace=p&&i.visible&&t.visible,s.visible=this.canAddPanel,s.needSpace=this.isMobile&&!i.visible&&t.visible,o.visible=!this.isRenderModeList&&!p,o.needSpace=!d&&!this.isMobile;const b=d&&!f;n.visible=b,h.visible=b,n.needSpace=b},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(e)}createTabByPanel(e,t){if(!this.isRenderModeTab)return;const i=new Yi(e,!0);i.onGetTextCallback=h=>{if(h||(h=this.locTabTitlePlaceholder.renderedHtml),!this.survey)return h;const d={title:h,panel:e,visiblePanelIndex:t};return this.survey.dynamicPanelGetTabTitle(this,d),d.title},i.sharedData=this.locTemplateTabTitle;const s=e.id,n=this.getPanelVisibleIndexById(s)===this.currentIndex;return new l5({id:`${this.id}_tab_${s}`,panelId:s,pressed:n,locTitle:i,disableHide:n,action:()=>{this.currentIndex=this.getPanelVisibleIndexById(s)}})}getTabbedMenuCss(e){const t=e??this.cssClasses;return new fe().append(t.tabsRoot).append(t.tabsLeft,this.tabAlign==="left").append(t.tabsRight,this.tabAlign==="right").append(t.tabsCenter,this.tabAlign==="center").toString()}updateTabToolbarItemsPressedState(){if(!this.isRenderModeTab||this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)return;const e=this.visiblePanelsCore[this.currentIndex];this.tabbedMenu.renderedActions.forEach(t=>{const i=t.panelId===e.id;t.pressed=i,t.disableHide=i,t.mode==="popup"&&t.disableHide&&t.raiseUpdate()})}updateTabToolbar(){if(!this.isRenderModeTab)return;const e=[],t=this.visiblePanelsCore;for(let i=0;i<t.length;i++)this.visiblePanelsCore.forEach(s=>e.push(this.createTabByPanel(t[i],i)));this.tabbedMenu.setItems(e)}addTabFromToolbar(e,t){if(!this.isRenderModeTab)return;const i=this.createTabByPanel(e,t);this.tabbedMenu.actions.splice(t,0,i),this.updateTabToolbarItemsPressedState()}removeTabFromToolbar(e){if(!this.isRenderModeTab)return;const t=this.tabbedMenu.actions.find(i=>i.panelId==e.id);t&&(this.tabbedMenu.actions.splice(this.tabbedMenu.actions.indexOf(t),1),this.updateTabToolbarItemsPressedState())}get showNavigation(){return this.isReadOnly&&this.visiblePanelCount==1?!1:this.visiblePanelCount>0&&!!this.cssClasses.footer}showSeparator(e){return this.isRenderModeList&&e<this.renderedPanels.length-1}calcCssClasses(e){const t=super.calcCssClasses(e),i=this.tabbedMenu;return i&&(i.containerCss=this.getTabbedMenuCss(t),i.cssClasses=t.tabs,i.dotsItem.cssClasses=t.tabs,i.dotsItem.popupModel.contentComponentData.model.cssClasses=e.list),t}onMobileChanged(){super.onMobileChanged(),this.updateFooterActions()}}za.maxCheckCount=3;O([Es({})],za.prototype,"_renderedPanels",void 0);O([N({onSet:(r,e)=>{e.fireCallback(e.renderModeChangedCallback),e.updatePanelView()}})],za.prototype,"displayMode",void 0);O([N({onSet:(r,e)=>{e.fireCallback(e.currentIndexChangedCallback)}})],za.prototype,"showProgressBar",void 0);O([N({onSet:(r,e)=>{}})],za.prototype,"progressBarLocation",void 0);O([N({defaultValue:!1,onSet:(r,e)=>{e.updateFooterActions()}})],za.prototype,"legacyNavigation",void 0);le.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:r=>r.displayMode==="tab"},{name:"tabTitlePlaceholder",serializationProperty:"locTabTitlePlaceholder",visibleIf:r=>r.displayMode==="tab"},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:()=>"auto"},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"newPanelPosition",choices:["next","last"],default:"last",category:"layout"},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",defaultFunc:()=>X.panel.maxPanelCount},"defaultPanelValue:panelvalue",{name:"copyDefaultValueFromLastEntry:boolean",alternativeName:"defaultValueFromLastPanel"},{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"],visibleIf:r=>r.displayMode==="list"},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText",visibleIf:r=>r.confirmDelete},{name:"addPanelText",alternativeName:"panelAddText",serializationProperty:"locAddPanelText",visibleIf:r=>r.allowAddPanel},{name:"removePanelText",alternativeName:"panelRemoveText",serializationProperty:"locRemovePanelText",visibleIf:r=>r.allowRemovePanel},{name:"prevPanelText",alternativeName:"panelPrevText",serializationProperty:"locPrevPanelText",visibleIf:r=>r.displayMode!=="list"},{name:"nextPanelText",alternativeName:"panelNextText",serializationProperty:"locNextPanelText",visibleIf:r=>r.displayMode!=="list"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"renderMode",visible:!1,isSerializable:!1},{name:"displayMode",default:"list",choices:["list","carousel","tab"]},{name:"showProgressBar:boolean",alternativeName:"showRangeInProgress",default:!0,visibleIf:r=>r.displayMode==="carousel"},{name:"progressBarLocation",default:"top",choices:["top","bottom","topBottom"],visibleIf:r=>r.showProgressBar&&r.displayMode==="carousel"},{name:"tabAlign",default:"center",choices:["left","center","right"],visibleIf:r=>r.displayMode==="tab"},{name:"templateQuestionTitleLocation",alternativeName:"questionTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateQuestionTitleWidth",visibleIf:function(r){return!!r&&r.template.availableQuestionTitleWidth()}},{name:"templateErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"removePanelButtonLocation",alternativeName:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"],visibleIf:r=>r.allowRemovePanel}],function(){return new za("")},"question");Kt.Instance.registerQuestion("paneldynamic",r=>new za(r));class OC{static getProgressTextInBarCss(e){return new fe().append(e.progressText).append(e.progressTextInBar).toString()}static getProgressTextUnderBarCss(e){return new fe().append(e.progressText).append(e.progressTextUnderBar).toString()}}class Wr extends tt{static get operators(){return Wr.operatorsValue!=null||(Wr.operatorsValue={empty:function(e,t){return!e},notempty:function(e,t){return!!e},equal:function(e,t){return e==t},notequal:function(e,t){return e!=t},contains:function(e,t){return e&&e.indexOf&&e.indexOf(t)>-1},notcontains:function(e,t){return!e||!e.indexOf||e.indexOf(t)==-1},greater:function(e,t){return e>t},less:function(e,t){return e<t},greaterorequal:function(e,t){return e>=t},lessorequal:function(e,t){return e<=t}}),Wr.operatorsValue}constructor(){super(),this.idValue=Wr.idCounter++,this.registerPropertyChangedHandlers(["operator","value","name"],()=>{this.oldPropertiesChanged()}),this.registerPropertyChangedHandlers(["expression"],()=>{this.onExpressionChanged()})}get id(){return this.idValue}getType(){return"triggerbase"}toString(){var e=this.getType().replace("trigger",""),t=this.expression?this.expression:this.buildExpression();return t&&(e+=", "+t),e}get isInternal(){return this.isGhost===!0}get operator(){return this.getPropertyValue("operator","equal")}set operator(e){e&&(e=e.toLowerCase(),Wr.operators[e]&&this.setPropertyValue("operator",e))}get value(){return this.getPropertyValue("value",null)}set value(e){this.setPropertyValue("value",e)}get name(){return this.getPropertyValue("name","")}set name(e){this.setPropertyValue("name",e)}get expression(){return this.getPropertyValue("expression","")}set expression(e){this.setPropertyValue("expression",e)}canBeExecuted(e){return!0}canBeExecutedOnComplete(){return!1}checkExpression(e){this.isExecutingOnNextPage=e.isOnNextPage,this.isExecutingOnNavigation=e.isOnNavigation||e.isOnNextPage,this.canBeExecuted(e.isOnNextPage)&&(e.isOnComplete&&!this.canBeExecutedOnComplete()||this.isCheckRequired(e.keys)&&(this.conditionRunner?this.perform(e.values,e.properties||null):this.canSuccessOnEmptyExpression()&&this.triggerResult(!0,e.values,e.properties||null)))}canSuccessOnEmptyExpression(){return!1}check(e){var t=Wr.operators[this.operator](e,this.value);t?this.onSuccess({},null):this.onFailure()}get requireValidQuestion(){return!1}perform(e,t){this.conditionRunner.onRunComplete=i=>{this.triggerResult(i,e,t)},this.conditionRunner.run(e,t)}triggerResult(e,t,i){e?(this.onSuccess(t,i),this.onSuccessExecuted()):this.onFailure()}onSuccess(e,t){}onFailure(){}onSuccessExecuted(){}endLoadingFromJson(){super.endLoadingFromJson(),this.oldPropertiesChanged()}oldPropertiesChanged(){this.onExpressionChanged()}onExpressionChanged(){this.conditionRunner=null}buildExpression(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+Dt.toOperandString(this.value)}isCheckRequired(e){return e?(this.createConditionRunner(),this.conditionRunner&&this.conditionRunner.hasFunction()===!0?!0:new xr().isAnyKeyChanged(e,this.getUsedVariables())):!1}getUsedVariables(){if(!this.conditionRunner)return[];const e=this.conditionRunner.getVariables();if(Array.isArray(e)){const t="-unwrapped";for(let i=e.length-1;i>=0;i--){const s=e[i];s.endsWith(t)&&e.push(s.substring(0,s.length-t.length))}}return e}createConditionRunner(){if(!this.conditionRunner){var e=this.expression;e||(e=this.buildExpression()),e&&(this.conditionRunner=new ar(e))}}get isRequireValue(){return this.operator!=="empty"&&this.operator!="notempty"}}Wr.idCounter=1;Wr.operatorsValue=null;class Wl extends Wr{constructor(){super(),this.ownerValue=null}get owner(){return this.ownerValue}setOwner(e){this.ownerValue=e}getSurvey(e=!1){return this.owner&&this.owner.getSurvey?this.owner.getSurvey():null}isRealExecution(){return!0}onSuccessExecuted(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)}}class h5 extends Wl{constructor(){super(),this.pages=[],this.questions=[]}getType(){return"visibletrigger"}onSuccess(e,t){this.onTrigger(this.onItemSuccess)}onFailure(){this.onTrigger(this.onItemFailure)}onTrigger(e){if(this.owner)for(var t=this.owner.getObjects(this.pages,this.questions),i=0;i<t.length;i++)e(t[i])}onItemSuccess(e){e.visible=!0}onItemFailure(e){e.visible=!1}}class d5 extends Wl{constructor(){super()}getType(){return"completetrigger"}get requireValidQuestion(){return!0}isRealExecution(){return!X.triggers.executeCompleteOnValueChanged===this.isExecutingOnNavigation}onSuccess(e,t){this.owner&&(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))}onFailure(){this.owner.canBeCompleted(this,!1)}}class c5 extends Wl{constructor(){super()}getType(){return"setvaluetrigger"}canBeExecuted(e){return!e&&!!this.setToName}onPropertyValueChanged(e,t,i){if(super.onPropertyValueChanged(e,t,i),e==="setToName"){var s=this.getSurvey();s&&!s.isLoadingFromJson&&s.isDesignMode&&(this.setValue=void 0)}}get setToName(){return this.getPropertyValue("setToName","")}set setToName(e){this.setPropertyValue("setToName",e)}get setValue(){return this.getPropertyValue("setValue")}set setValue(e){this.setPropertyValue("setValue",e)}get isVariable(){return this.getPropertyValue("isVariable")}set isVariable(e){this.setPropertyValue("isVariable",e)}onSuccess(e,t){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,z.getUnbindValue(this.setValue),this.isVariable)}}class f5 extends Wl{constructor(){super()}getType(){return"skiptrigger"}get requireValidQuestion(){return this.canBeExecuted(!1)}get gotoName(){return this.getPropertyValue("gotoName","")}set gotoName(e){this.setPropertyValue("gotoName",e)}canBeExecuted(e){return e===!X.triggers.executeSkipOnValueChanged}onSuccess(e,t){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)}}class g5 extends Wl{constructor(){super()}getType(){return"runexpressiontrigger"}get setToName(){return this.getPropertyValue("setToName","")}set setToName(e){this.setPropertyValue("setToName",e)}get runExpression(){return this.getPropertyValue("runExpression","")}set runExpression(e){this.setPropertyValue("runExpression",e)}canBeExecuted(e){return!e}onSuccess(e,t){if(!(!this.owner||!this.runExpression)){var i=new Nl(this.runExpression);i.canRun&&(i.onRunComplete=s=>{this.onCompleteRunExpression(s)},i.run(e,t))}}onCompleteRunExpression(e){this.setToName&&e!==void 0&&this.owner.setTriggerValue(this.setToName,z.convertValToQuestionVal(e),!1)}}class p5 extends Wl{constructor(){super()}canBeExecuted(e){return!e&&!!this.setToName&&!!this.fromName}get setToName(){return this.getPropertyValue("setToName","")}set setToName(e){this.setPropertyValue("setToName",e)}get fromName(){return this.getPropertyValue("fromName","")}set fromName(e){this.setPropertyValue("fromName",e)}get copyDisplayValue(){return this.getPropertyValue("copyDisplayValue")}set copyDisplayValue(e){this.setPropertyValue("copyDisplayValue",e)}getType(){return"copyvaluetrigger"}onSuccess(e,t){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)}canSuccessOnEmptyExpression(){return!0}getUsedVariables(){const e=super.getUsedVariables();return e.length===0&&this.fromName&&e.push(this.fromName),e}}le.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]);le.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger");le.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new h5},"surveytrigger");le.addClass("completetrigger",[],function(){return new d5},"surveytrigger");le.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(r){return!!r&&!!r.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new c5},"surveytrigger");le.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new p5},"surveytrigger");le.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new f5},"surveytrigger");le.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new g5},"surveytrigger");class m5 extends tt{constructor(e,t=null){super(),this.closeOnCompleteTimeout=0,t?this.surveyValue=t:this.surveyValue=this.createSurvey(e),this.surveyValue.fitToContainer=!0,this.windowElement=Ge.createElement("div"),this.survey.onComplete.add((i,s)=>{this.onSurveyComplete()}),this.registerPropertyChangedHandlers(["isShowing"],()=>{this.showingChangedCallback&&this.showingChangedCallback()}),this.registerPropertyChangedHandlers(["isExpanded"],()=>{this.onExpandedChanged()}),this.width=new $t(()=>this.survey.width),this.width=this.survey.width,this.updateCss(),this.onCreating()}onCreating(){}getType(){return"popupsurvey"}get survey(){return this.surveyValue}get isShowing(){return this.getPropertyValue("isShowing",!1)}set isShowing(e){this.setPropertyValue("isShowing",e)}get isFullScreen(){return this.getPropertyValue("isFullScreen",!1)}set isFullScreen(e){!this.isExpanded&&e&&(this.isExpanded=!0),this.setPropertyValue("isFullScreen",e),this.setCssRoot()}show(){this.isShowing=!0}hide(){this.isShowing=!1}toggleFullScreen(){this.isFullScreen=!this.isFullScreen}get isExpanded(){return this.getPropertyValue("isExpanded",!1)}set isExpanded(e){this.isFullScreen&&!e&&(this.isFullScreen=!1),this.setPropertyValue("isExpanded",e)}get isCollapsed(){return!this.isExpanded}onExpandedChanged(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()}get title(){return this.survey.title}set title(e){this.survey.title=e}get locTitle(){return this.survey.locTitle.isEmpty?null:this.survey.locTitle}get locDescription(){return this.survey.locTitle.isEmpty?null:this.survey.locDescription}expand(){this.isExpanded=!0}collapse(){this.isExpanded=!1}changeExpandCollapse(){this.isExpanded=!this.isExpanded}get allowClose(){return this.getPropertyValue("allowClose",!1)}set allowClose(e){this.setPropertyValue("allowClose",e)}get allowFullScreen(){return this.getPropertyValue("allowFullScreen",!1)}set allowFullScreen(e){this.setPropertyValue("allowFullScreen",e)}get css(){return this.survey.css}get cssButton(){return this.getPropertyValue("cssButton","")}get cssRoot(){let e=this.getPropertyValue("cssRoot","");return this.isCollapsed&&(e+=" "+this.getPropertyValue("cssRootCollapsedMod","")),e}get cssRootCollapsedMod(){return this.getPropertyValue("cssRootCollapsedMod")}get cssRootContent(){return this.getPropertyValue("cssRootContent")}get cssBody(){return this.getPropertyValue("cssBody","")}get cssHeaderRoot(){return this.getPropertyValue("cssHeaderRoot","")}get cssHeaderTitleCollapsed(){return this.getPropertyValue("cssHeaderTitleCollapsed","")}get cssHeaderButtonsContainer(){return this.getPropertyValue("cssHeaderButtonsContainer","")}get cssHeaderCollapseButton(){return this.getPropertyValue("cssHeaderCollapseButton","")}get cssHeaderCloseButton(){return this.getPropertyValue("cssHeaderCloseButton","")}get cssHeaderFullScreenButton(){return this.getPropertyValue("cssHeaderFullScreenButton","")}get renderedWidth(){let e=this.getPropertyValue("width","60%");return e&&!isNaN(e)&&(e=e+"px"),e}updateCss(){if(!this.css||!this.css.window)return;const e=this.css.window;this.setCssRoot(),this.setPropertyValue("cssRootCollapsedMod",e.rootCollapsedMod),this.setPropertyValue("cssRootContent",e.rootContent),this.setPropertyValue("cssBody",e.body);const t=e.header;t&&(this.setPropertyValue("cssHeaderRoot",t.root),this.setPropertyValue("cssHeaderTitleCollapsed",t.titleCollapsed),this.setPropertyValue("cssHeaderButtonsContainer",t.buttonsContainer),this.setPropertyValue("cssHeaderCollapseButton",t.collapseButton),this.setPropertyValue("cssHeaderCloseButton",t.closeButton),this.setPropertyValue("cssHeaderFullScreenButton",t.fullScreenButton),this.updateCssButton())}setCssRoot(){const e=this.css.window;this.isFullScreen?this.setPropertyValue("cssRoot",e.root+" "+e.rootFullScreenMode):this.setPropertyValue("cssRoot",e.root)}updateCssButton(){const e=this.css.window?this.css.window.header:null;e&&this.setCssButton(this.isExpanded?e.buttonExpanded:e.buttonCollapsed)}setCssButton(e){e&&this.setPropertyValue("cssButton",e)}createSurvey(e){return new wt(e)}onSurveyComplete(){if(!(this.closeOnCompleteTimeout<0))if(this.closeOnCompleteTimeout==0)this.hide();else{var e=this,t=null,i=function(){e.hide(),clearInterval(t)};t=setInterval(i,this.closeOnCompleteTimeout*1e3)}}onScroll(){this.survey.onScroll()}}O([N()],m5.prototype,"width",void 0);class v5{constructor(){this._lockScroll=!1}setRootElement(e){this._containerElementValue=e?.querySelector(".sv-scroll__scroller"),this._scrollbarElement=e?.querySelector(".sv-scroll__scrollbar"),this._scrollbarSizerElement=e?.querySelector(".sv-scroll__scrollbar-sizer"),this._containerBodyElement=e?.querySelector(".sv-scroll__container"),!(!e||!$e.isAvailable())&&(this._containerBodyResizeObserver=new ResizeObserver(t=>{for(let i of t){const s=i.contentBoxSize?i.contentBoxSize[0].blockSize:i.contentRect.width;this._scrollbarSizerElement.style.height=s+"px"}this.onInnerHeightChanged&&this.onInnerHeightChanged(this._containerBodyElement.clientHeight>this._containerElementValue.clientHeight)}),this._containerBodyResizeObserver.observe(this._containerBodyElement))}onScrollContainer(){this._lockScroll=!0,this._scrollbarElement.scrollTop=this._containerElementValue.scrollTop}onScrollScrollbar(){if(this._lockScroll){this._lockScroll=!1;return}this._containerElementValue.scrollTop=this._scrollbarElement.scrollTop}unsubscribeRootElement(){this._containerBodyResizeObserver&&(this._containerBodyResizeObserver.disconnect(),this._containerBodyResizeObserver=void 0)}}const MC='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])';class jn extends tt{updateIsVisible(e){this._isVisible=e,this.onVisibilityChanged.fire(this,{isVisible:e})}updateBeforeShowing(){this.model.onShow()}updateAfterHiding(){this.model.onHiding()}getLeaveOptions(){return{cssClass:"sv-popup--leave",onBeforeRunAnimation:e=>{e.setAttribute("inert","")},onAfterRunAnimation:e=>e.removeAttribute("inert")}}getEnterOptions(){return{cssClass:"sv-popup--enter"}}getAnimatedElement(){return this.getAnimationContainer()}isAnimationEnabled(){return this.model.displayMode!=="overlay"&&X.animationEnabled}getRerenderEvent(){return this.onElementRerendered}getAnimationContainer(){var e;return(e=this.container)===null||e===void 0?void 0:e.querySelector(this.fixedPopupContainer)}get isVisible(){return this._isVisible}set isVisible(e){this.visibilityAnimation.sync(e)}get container(){return this.containerElement||this.createdContainer}getLocale(){return this.locale?this.locale:super.getLocale()}hidePopup(){this.model.isVisible=!1}getStyleClass(){return new fe().append(this.model.cssClass)}getShowFooter(){return this.isOverlay}getShowHeader(){return!1}getPopupHeaderTemplate(){}createFooterActionBar(){this.footerToolbarValue=new Ss}resetDimensionsAndPositionStyleProperties(){const e="";this.top=e,this.left=e,this.height=e,this.width=e,this.minWidth=e}onModelChanging(e){}setupModel(e){this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.onModelChanging(e),this._model=e,e.onVisibilityChanged.add(this.onModelIsVisibleChangedCallback),this.onModelIsVisibleChangedCallback()}get model(){return this._model}set model(e){this.setupModel(e)}constructor(e){super(),this.popupSelector=".sv-popup",this.fixedPopupContainer=".sv-popup",this.containerSelector=".sv-popup__container",this.scrollingContentSelector=".sv-popup__scrolling-content",this.visibilityAnimation=new Gb(this,t=>{this._isVisible!==t&&(t?(this.updateBeforeShowing(),this.updateIsVisible(t)):(this.updateOnHiding(),this.updateIsVisible(t),this.updateAfterHiding(),this._isPositionSetValue=!1))},()=>this._isVisible),this.onVisibilityChanged=new Er,this.onModelIsVisibleChangedCallback=()=>{this.isVisible=this.model.isVisible},this._isPositionSetValue=!1,this.model=e,this.locale=this.model.locale}get title(){return this.model.title}get contentComponentName(){return this.model.contentComponentName}get contentComponentData(){return this.model.contentComponentData}get isModal(){return this.model.isModal}get isFocusedContent(){return this.model.isFocusedContent}get isFocusedContainer(){return this.model.isFocusedContainer}get showFooter(){return this.getShowFooter()}get showHeader(){return this.getShowHeader()}get popupHeaderTemplate(){return this.getPopupHeaderTemplate()}get isOverlay(){return this.model.displayMode==="overlay"}get styleClass(){return this.getStyleClass().toString()}get cancelButtonText(){return this.getLocalizationString("modalCancelButtonText")}get footerToolbar(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue}onKeyDown(e){e.key==="Tab"||e.keyCode===9?this.trapFocus(e):(e.key==="Escape"||e.keyCode===27)&&this.hidePopup()}trapFocus(e){const t=this.container.querySelectorAll(MC),i=t[0],s=t[t.length-1];e.shiftKey?X.environment.root.activeElement===i&&(s.focus(),e.preventDefault()):X.environment.root.activeElement===s&&(i.focus(),e.preventDefault())}switchFocus(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()}get isPositionSet(){return this._isPositionSetValue}updateOnShowing(){this.prevActiveElement=X.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus(),this._isPositionSetValue=!0}updateOnHiding(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus({preventScroll:!0})}focusContainer(){if(!this.container)return;const e=this.container.querySelector(this.popupSelector);e?.focus()}focusFirstInput(){setTimeout(()=>{if(this.container){var e=this.container.querySelector(this.model.focusFirstInputSelector||MC);e?e.focus():this.focusContainer()}},100)}clickOutside(e){this.hidePopup(),e?.stopPropagation()}cancel(){this.model.onCancel(),this.hidePopup()}dispose(){super.dispose(),this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose(),this.resetComponentElement()}initializePopupContainer(){if(!this.container){const e=Ge.createElement("div");this.createdContainer=e,qS(X.environment.popupMountContainer).appendChild(e)}}setComponentElement(e){e&&(this.containerElement=e)}resetComponentElement(){this.containerElement=void 0,this.prevActiveElement=void 0}preventScrollOuside(e,t){let i=e.target;for(;i!==this.container;){if(Ge.getComputedStyle(i).overflowY==="auto"&&i.scrollHeight!==i.offsetHeight){const{scrollHeight:s,scrollTop:n,clientHeight:o}=i;if(!(t>0&&Math.abs(s-o-n)<1)&&!(t<0&&n<=0))return}i=i.parentElement}e.cancelable&&e.preventDefault()}}O([N({defaultValue:"0px"})],jn.prototype,"top",void 0);O([N({defaultValue:"0px"})],jn.prototype,"left",void 0);O([N({defaultValue:"auto"})],jn.prototype,"height",void 0);O([N({defaultValue:"auto"})],jn.prototype,"width",void 0);O([N({defaultValue:"auto"})],jn.prototype,"minWidth",void 0);O([N({defaultValue:!1})],jn.prototype,"_isVisible",void 0);O([N()],jn.prototype,"locale",void 0);class mm{constructor(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}}class ln{static calculatePosition(e,t,i,s,n,o="flex"){let h=e.left,d=e.top;return o==="flex"&&(n=="center"?h=(e.left+e.right-i)/2:n=="left"?h=e.left-i:h=e.right),s=="middle"?d=(e.top+e.bottom-t)/2:s=="top"?d=e.top-t:d=e.bottom,n!="center"&&s!="middle"&&(s=="top"?d=d+e.height:d=d-e.height),{left:Math.round(h),top:Math.round(d)}}static getCorrectedVerticalDimensions(e,t,i,s,n=!0,o={top:0,bottom:0}){let h;const d=i-ln.bottomIndent;if(s==="top"&&(h={height:t,top:e}),e<-o.top)h={height:n?t+e:t,top:-o.top};else if(t+e>i){let f=Math.min(t,d-e);h={height:n?f:t,top:n?e:e-(t-f)}}return h&&(h.height=Math.min(h.height,d),h.top=Math.max(h.top,-o.top)),h}static updateHorizontalDimensions(e,t,i,s,n="flex",o={left:0,right:0}){t+=o.left+o.right;let h,d=e;return s==="center"&&(n==="fixed"?(e+t>i&&(h=i-e),d-=o.left):e<0?(d=o.left,h=Math.min(t,i)):t+e>i&&(d=i-t,d=Math.max(d,o.left),h=Math.min(t,i))),s==="left"&&e<0&&(d=o.left,h=Math.min(t,i)),s==="right"&&t+e>i&&(h=i-e),{width:h-o.left-o.right,left:d}}static updateVerticalPosition(e,t,i,s,n){if(s==="middle")return s;let o=t-(e.top+(i!=="center"?e.height:0)),h=t+e.bottom-(i!=="center"?e.height:0)-n;return o>0&&h<=0&&s=="top"?s="bottom":h>0&&o<=0&&s=="bottom"?s="top":h>0&&o>0&&(s=o<h?"top":"bottom"),s}static updateHorizontalPosition(e,t,i,s){if(i==="center")return i;let n=t-e.left,o=t+e.right-s;return n>0&&o<=0&&i=="left"?i="right":o>0&&n<=0&&i=="right"?i="left":o>0&&n>0&&(i=n<o?"left":"right"),i}static calculatePopupDirection(e,t){var i;return t=="center"&&e!="middle"?i=e:t!="center"&&(i=t),i}static calculatePointerTarget(e,t,i,s,n,o=0,h=0){var d={};return n!="center"?(d.top=e.top+e.height/2,d.left=e[n]):s!="middle"&&(d.top=e[s],d.left=e.left+e.width/2),d.left=Math.round(d.left-i),d.top=Math.round(d.top-t),n=="left"&&(d.left-=o+h),n==="center"&&(d.left-=o),d}}ln.bottomIndent=16;class Uf extends jn{createFooterActionBar(){super.createFooterActionBar(),this.footerToolbar.updateCallback=t=>{this.footerToolbarValue.actions.forEach(i=>i.cssClasses={item:"sd-action sv-menu-popup__button"})},this.footerToolbar.containerCss="sv-menu-footer-action-bar";let e=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel",action:()=>{this.cancel()}}];e=this.model.updateFooterActions(e),this.footerToolbarValue.setItems(e)}getAvailableAreaRect(){const e=this.model.getAreaCallback?this.model.getAreaCallback(this.container):void 0;if(e){const t=e.getBoundingClientRect();return new mm(t.x,t.y,t.width,t.height)}return new mm(0,0,$e.getInnerWidth(),$e.getInnerHeight())}getTargetElementRect(e){const t=this.container;let i=this.model.getTargetCallback?this.model.getTargetCallback(t):void 0;if(t&&t.parentElement&&!this.isModal&&!i&&(i=t.parentElement),!i)return null;const s=i.getBoundingClientRect();return new mm(s.left-e.left,s.top-e.top,s.width,s.height)}_updatePosition(){var e,t,i;const s=this.getAvailableAreaRect(),n=this.getTargetElementRect(s);if(!n)return;const o=(e=this.container)===null||e===void 0?void 0:e.querySelector(this.containerSelector);if(!o)return;const h=(t=this.container)===null||t===void 0?void 0:t.querySelector(this.fixedPopupContainer),d=o.querySelector(this.scrollingContentSelector),f=Ge.getComputedStyle(o),p=parseFloat(f.marginLeft)||0,y=parseFloat(f.marginRight)||0,b=parseFloat(f.marginTop)||0,w=parseFloat(f.marginBottom)||0;let T=o.offsetHeight-d.offsetHeight+d.scrollHeight;const P=o.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=n.width+"px");let D=this.model.verticalPosition,L=this.getActualHorizontalPosition();if($e.isAvailable()){const H=[T,$e.getInnerHeight()*.9,(i=$e.getVisualViewport())===null||i===void 0?void 0:i.height];T=Math.ceil(Math.min(...H.filter(ee=>typeof ee=="number"))),D=ln.updateVerticalPosition(n,T,this.model.horizontalPosition,this.model.verticalPosition,s.height),L=ln.updateHorizontalPosition(n,P,L,s.width)}this.popupDirection=ln.calculatePopupDirection(D,L);const W=ln.calculatePosition(n,T,P+p+y,D,L,this.model.positionMode);if($e.isAvailable()){const H=ln.getCorrectedVerticalDimensions(W.top,T,s.height,D,this.model.canShrink,{top:b,bottom:w});if(H&&(this.height=H.height+"px",W.top=H.top),this.model.setWidthByTarget)this.width=n.width+"px",W.left=n.left;else{const ee=ln.updateHorizontalDimensions(W.left,P,$e.getInnerWidth(),L,this.model.positionMode,{left:p,right:y});ee&&(this.width=ee.width?ee.width+"px":void 0,W.left=ee.left)}}if(h){const H=h.getBoundingClientRect();W.top-=H.top,W.left-=H.left}this.showHeader&&(this.pointerTarget=ln.calculatePointerTarget(n,W.top,W.left,D,L,p,y),this.pointerTarget.top+="px",this.pointerTarget.left+="px"),W.left+=s.left,W.top+=s.top,this.left=W.left+"px",this.top=W.top+"px"}getActualHorizontalPosition(){let e=this.model.horizontalPosition;return Ge.isAvailable()&&Ge.getComputedStyle(Ge.getBody()).direction=="rtl"&&(this.model.horizontalPosition==="left"?e="right":this.model.horizontalPosition==="right"&&(e="left")),e}getStyleClass(){const e=this.model.getDisplayMode();return super.getStyleClass().append("sv-popup--menu-phone",e==="menu-overlay").append("sv-popup--menu-tablet",e==="menu-popup-overlay").append("sv-popup--menu-popup",e==="menu-popup").append("sv-popup--show-pointer",e==="menu-popup"&&this.showHeader).append(`sv-popup--${this.popupDirection}`,e==="menu-popup"&&(this.showHeader||this.popupDirection=="top"||this.popupDirection=="bottom"))}getShowHeader(){return this.model.showPointer&&!this.isOverlay}getPopupHeaderTemplate(){return"popup-pointer"}constructor(e){super(e),this.scrollEventCallBack=t=>{if(this.isOverlay&&Hi){t.stopPropagation(),t.preventDefault();return}this.hidePopup()},this.resizeEventCallback=()=>{if(!$e.isAvailable())return;const t=$e.getVisualViewport(),i=Ge.getDocumentElement();i&&t&&i.style.setProperty("--sv-popup-overlay-height",`${t.height*t.scale}px`)},this.resizeWindowCallback=()=>{this.isOverlay||this.updatePosition(!0,wt.platform==="vue"||wt.platform==="vue3"||wt.platform=="react"||wt.platform=="js-ui")},this.clientY=0,this.touchStartEventCallback=t=>{this.clientY=t.touches[0].clientY},this.touchMoveEventCallback=t=>{this.preventScrollOuside(t,this.clientY-t.changedTouches[0].clientY)},this.model.onRecalculatePosition.add(this.recalculatePositionHandler)}setComponentElement(e){super.setComponentElement(e)}resetComponentElement(){super.resetComponentElement()}updateOnShowing(){const{root:e}=X.environment;this.prevActiveElement=e.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),$e.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&($e.getVisualViewport().addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.resizeEventCallback()),$e.addEventListener("scroll",this.scrollEventCallBack),this._isPositionSetValue=!0}get shouldCreateResizeCallback(){return!!$e.getVisualViewport()&&this.isOverlay}updatePosition(e,t=!0){e&&(this.height="auto"),t?setTimeout(()=>{this._updatePosition()},1):this._updatePosition()}updateOnHiding(){super.updateOnHiding(),$e.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&($e.getVisualViewport().removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),$e.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)}onModelChanging(e){this.model&&this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler||(this.recalculatePositionHandler=(t,i)=>{this.isOverlay||this.updatePosition(i.isResetHeight)}),super.onModelChanging(e),e.onRecalculatePosition.add(this.recalculatePositionHandler)}dispose(){super.dispose(),this.updateOnHiding(),this.model&&(this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler=void 0),this.resetComponentElement()}}Uf.tabletSizeBreakpoint=600;O([N({defaultValue:"left"})],Uf.prototype,"popupDirection",void 0);O([N({defaultValue:{left:"0px",top:"0px"}})],Uf.prototype,"pointerTarget",void 0);class Vw extends jn{getStyleClass(){const e=this.model.getDisplayMode();return super.getStyleClass().append("sv-popup--modal-popup",e==="modal-popup").append("sv-popup--modal-overlay",e==="modal-overlay")}getShowFooter(){return!0}createFooterActionBar(){super.createFooterActionBar(),this.footerToolbar.updateCallback=t=>{this.footerToolbarValue.actions.forEach(i=>i.cssClasses={item:"sv-popup__body-footer-item sv-popup__button sv-modal-popup__button sd-btn sd-btn--small"})},this.footerToolbar.containerCss="sv-modal-footer-action-bar";let e=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel",action:()=>{this.cancel()}},{id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__button--apply sd-btn--action",action:()=>{this.apply()}}];e=this.model.updateFooterActions(e),this.footerToolbarValue.setItems(e)}constructor(e){super(e),this.onScrollOutsideCallback=t=>{this.preventScrollOuside(t,t.deltaY)}}get applyButtonText(){return this.getLocalizationString("modalApplyButtonText")}apply(){this.model.onApply&&!this.model.onApply()||this.hidePopup()}clickOutside(){}onKeyDown(e){(e.key==="Escape"||e.keyCode===27)&&this.model.onCancel(),super.onKeyDown(e)}updateOnShowing(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),super.updateOnShowing()}updateOnHiding(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),super.updateOnHiding()}}function y5(r,e){var t;const i=Object.assign({},r);i.verticalPosition="top",i.horizontalPosition="left",i.showPointer=!1,i.isModal=!0,i.displayMode=r.displayMode||"popup";const s=new ms(r.componentName,r.data,i);s.isFocusedContent=(t=r.isFocusedContent)!==null&&t!==void 0?t:!0;const n=new Vw(s);if(e&&e.appendChild){var o=Ge.createElement("div");e.appendChild(o),n.setComponentElement(o)}n.container||n.initializePopupContainer();const h=(d,f)=>{f.isVisible||o&&n.resetComponentElement(),n.onVisibilityChanged.remove(h)};return n.onVisibilityChanged.add(h),n}function C5(r){return r.isModal?new Vw(r):new Uf(r)}class _f extends Je{constructor(e,t=null,i="buttongroupitemvalue"){super(e,t,i),this.typeName=i}getType(){return this.typeName?this.typeName:"buttongroupitemvalue"}}O([N()],_f.prototype,"iconName",void 0);O([N()],_f.prototype,"iconSize",void 0);O([N()],_f.prototype,"showCaption",void 0);class Sw extends Ff{constructor(e){super(e),this._allowClear=!0,this.createLocalizableString("buttongroupOptionsCaption",this,!1,!0),this.createLocalizableString("readOnlyText",this,!0),this.registerPropertyChangedHandlers(["value","renderAs","placeholder","choices","visibleChoices"],()=>{this.updateReadOnlyText()}),this.updateReadOnlyText()}locStrsChanged(){var e;super.locStrsChanged(),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()}updateReadOnlyText(){this.readOnlyText=this.displayValue||this.placeholder}getType(){return"buttongroup"}getItemValueType(){return"buttongroupitemvalue"}supportOther(){return!1}getControlClass(){return this.isEmpty(),new fe().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()}getFirstInputElementId(){return this.inputId+"_0"}getInputId(e){return this.inputId+"_"+e}get placeholder(){return this.getLocalizableStringText("buttongroupOptionsCaption")}set placeholder(e){this.setLocalizableStringText("buttongroupOptionsCaption",e)}get locPlaceholder(){return this.getLocalizableString("buttongroupOptionsCaption")}get allowClear(){return this._allowClear}set allowClear(e){this._allowClear=e}get searchEnabled(){return!1}isItemSelected(e){return e.value==this.value}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}get showSelectedItemLocText(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText}get selectedItemLocText(){var e;return(e=this.selectedItem)===null||e===void 0?void 0:e.locText}set dropdownListModel(e){this.dropdownListModelValue=e,this.updateElementCss()}get dropdownListModel(){return this.renderAs==="dropdown"&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue}get selectedItem(){return this.getSingleSelectedItem()}onBlurCore(e){var t;(t=this.dropdownListModel)===null||t===void 0||t.onBlur(e),super.onBlurCore(e)}updateCssClasses(e,t){super.updateCssClasses(e,t),Mf(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModelValue.updateCssClasses(t.popup,t.list),t}needResponsiveWidth(){return!0}supportResponsiveness(){return!0}getCompactRenderAs(){return"dropdown"}getObservedElementSelector(){return".sd-button-group-scrollable-container"}onBeforeSetCompactRenderer(){this.dropdownListModelValue||(this.dropdownListModelValue=new Ts(this))}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}}O([N({defaultValue:!1})],Sw.prototype,"inputHasValue",void 0);le.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new Sw("")},"checkboxbase");le.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],r=>new _f(r),"itemvalue");class b5{constructor(e,t,i){this.question=e,this.item=t,this.index=i}get value(){return this.item.value}get iconName(){return this.item.iconName}get iconSize(){return this.item.iconSize||24}get caption(){return this.item.locText}get showCaption(){return this.item.showCaption||this.item.showCaption===void 0}get isRequired(){return this.question.isRequired}get selected(){return this.question.isItemSelected(this.item)}get readOnly(){return this.question.isInputReadOnly||!this.item.isEnabled}get name(){return this.question.name+"_"+this.question.id}get id(){return this.question.inputId+"_"+this.index}get hasErrors(){return this.question.errors.length>0}get describedBy(){return this.question.errors.length>0?this.question.id+"_errors":null}get labelClass(){return new fe().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()}get css(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}}onChange(){this.question.renderedValue=this.item.value}}class Wf extends tt{getSurvey(e=!1){var t;return(t=this.owner)===null||t===void 0?void 0:t.getSurvey()}getType(){return"masksettings"}setData(e){le.getProperties(this.getType()).forEach(i=>{const s=e[i.name];this[i.name]=s!==void 0?s:i.getDefaultValue(this)})}getData(){const e={};return le.getProperties(this.getType()).forEach(i=>{const s=this[i.name];i.isDefaultValue(s)||(e[i.name]=s)}),e}processInput(e){return{value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1}}getUnmaskedValue(e){return e}getMaskedValue(e){return e}getTextAlignment(){return"auto"}getTypeForExpressions(){return"text"}}O([N()],Wf.prototype,"saveMaskedValue",void 0);le.addClass("masksettings",[{name:"saveMaskedValue:boolean",visibleIf:function(r){return r?r.getType()!=="masksettings":!1}}],function(){return new Wf});function wv(r){const e=[];let t=!1;const i=Object.keys(X.maskSettings.patternDefinitions);for(let s=0;s<r.length;s++){const n=r[s];n===X.maskSettings.patternEscapeChar?t=!0:t?(t=!1,e.push({type:"fixed",value:n})):e.push({type:i.indexOf(n)!==-1?"regex":"const",value:n})}return e}function w5(r,e,t){const i=X.maskSettings.patternDefinitions[t.value];for(;e<r.length;){if(r[e].match(i))return e;e++}return e}function x5(r,e,t){const i=r??"";let s="",n=0;const o=typeof e=="string"?wv(e):e;for(let h=0;h<o.length;h++)switch(o[h].type){case"regex":if(n<i.length&&(n=w5(i,n,o[h])),n<i.length)s+=i[n];else if(t)s+=X.maskSettings.patternPlaceholderChar;else return s;n++;break;case"const":case"fixed":s+=o[h].value,o[h].value===i[n]&&n++;break}return s}function vm(r,e,t,i=!1){let s="";if(!r)return s;let n=typeof e=="string"?wv(e):e;for(let o=0;o<n.length;o++)if(n[o].type==="fixed"&&!i&&(s+=n[o].value),n[o].type==="regex"){const h=X.maskSettings.patternDefinitions[n[o].value];if(r[o]&&r[o].match(h))s+=r[o];else if(t){s="";break}else break}return s}class xv extends Wf{constructor(){super(...arguments),this.literals=[]}updateLiterals(){this.literals=wv(this.pattern||"")}onPropertyValueChanged(e,t,i){super.onPropertyValueChanged(e,t,i),e==="pattern"&&this.updateLiterals()}getType(){return"patternmask"}fromJSON(e,t){super.fromJSON(e,t),this.updateLiterals()}_getMaskedValue(e,t=!1){return x5(e??"",this.literals,t)}_getUnmaskedValue(e,t=!1){return vm(e??"",this.literals,t)}processInput(e){const t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1};if(!e.insertedChars&&e.selectionStart===e.selectionEnd)return t;const i=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),s=vm(e.prevValue.slice(0,e.selectionStart),this.literals.slice(0,e.selectionStart),!1),n=vm(e.prevValue.slice(e.selectionEnd),this.literals.slice(e.selectionEnd),!1,!0);return t.value=this._getMaskedValue(s+(e.insertedChars||"")+n,!0),!e.insertedChars&&e.inputDirection==="backward"?t.caretPosition=e.selectionStart:t.caretPosition=this._getMaskedValue(i).length,t}getMaskedValue(e){return this._getMaskedValue(e,!0)}getUnmaskedValue(e){return this._getUnmaskedValue(e,!0)}}O([N()],xv.prototype,"pattern",void 0);le.addClass("patternmask",[{name:"pattern"}],function(){return new xv},"masksettings");function V5(r,e=!0,t=3){let i=[];if(e){for(let s=r.length-t;s>-t;s-=t)i.push(r.substring(s,s+t));i=i.reverse()}else for(let s=0;s<r.length;s+=t)i.push(r.substring(s,s+t));return i}class Ha extends Wf{calccaretPosition(e,t,i){const s=e?this.displayNumber(this.parseNumber(e),!1).length:0;let n=0,o=t.selectionStart;const h=!t.insertedChars&&t.inputDirection==="forward";for(let d=0;d<i.length;d++)if(i[d]!==this.thousandsSeparator&&n++,n===s+(h?1:0)){h?o=d:o=d+1;break}return o}numericalCompositionIsEmpty(e){return!e.integralPart&&!e.fractionalPart}displayNumber(e,t=!0,i=!1){let s=e.integralPart;t&&s&&(s=V5(s).join(this.thousandsSeparator));let n=e.fractionalPart;const o=e.isNegative?"-":"";if(n===""){if(i)return!s||s==="0"?s:o+s;{const h=e.hasDecimalSeparator&&!i?this.decimalSeparator:"",d=s+h;return d==="0"?d:o+d}}else return s=s||"0",n=n.substring(0,this.precision),[o+s,n].join(this.decimalSeparator)}convertNumber(e){let t;const i=e.isNegative?"-":"";return e.fractionalPart?t=parseFloat(i+(e.integralPart||"0")+"."+e.fractionalPart.substring(0,this.precision)):t=parseInt(i+e.integralPart||"0"),t}validateNumber(e,t){const i=this.min||Number.MIN_SAFE_INTEGER,s=this.max||Number.MAX_SAFE_INTEGER;if(this.numericalCompositionIsEmpty(e))return!0;if(this.min!==void 0||this.max!==void 0){let n=this.convertNumber(e);if(Number.isNaN(n)||n>=i&&n<=s)return!0;if(!t){if(!e.hasDecimalSeparator&&n!=0){let o=n,h=n;if(n>0){if(n+1>i&&n<=s)return!0;for(;o=o*10+9,h=h*10,!(h>s);)if(o>i)return!0;return!1}if(n<0){if(n>=i&&n-1<s)return!0;for(;o=o*10,h=h*10-9,!(o<i);)if(h<s)return!0;return!1}}else{const o=Math.pow(.1,(e.fractionalPart||"").length);if(n>=0)return n+o>i&&n<=s;if(n<0)return n>=i&&n-o<s}return n>=0&&n<=s||n<0&&n>=i}return!1}return!0}parseNumber(e){const t={integralPart:"",fractionalPart:"",hasDecimalSeparator:!1,isNegative:!1},i=e==null?"":e.toString();let s=0;for(let n=0;n<i.length;n++){const o=i[n];switch(o){case"-":{this.allowNegativeValues&&(this.min===void 0||this.min<0)&&s++;break}case this.decimalSeparator:{this.precision>0&&(t.hasDecimalSeparator=!0);break}case this.thousandsSeparator:break;default:o.match(Qm)&&(t.hasDecimalSeparator?t.fractionalPart+=o:t.integralPart+=o)}}return t.isNegative=s%2!==0,t.integralPart.length>1&&t.integralPart[0]==="0"&&(t.integralPart=t.integralPart.slice(1)),t}getNumberMaskedValue(e,t=!1){const i=this.parseNumber(e);return this.validateNumber(i,t)?this.displayNumber(i,!0,t):null}getNumberUnmaskedValue(e){const t=this.parseNumber(e);if(!this.numericalCompositionIsEmpty(t))return this.convertNumber(t)}getTextAlignment(){return"right"}getMaskedValue(e){let t=e==null?"":e.toString();return t=t.replace(".",this.decimalSeparator),this.getNumberMaskedValue(t,!0)}getUnmaskedValue(e){return this.getNumberUnmaskedValue(e)}processInput(e){const t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},i=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),s=e.prevValue.slice(e.selectionEnd),n=i+s,o=this.parseNumber(n);if(!this.validateNumber(o,!1))return t;const h=this.getNumberMaskedValue(n),d=this.calccaretPosition(i,e,h);return t.value=h,t.caretPosition=d,t}getType(){return"numericmask"}isValueUndefined(e){return e===""||super.isValueUndefined(e)}}O([N()],Ha.prototype,"allowNegativeValues",void 0);O([N()],Ha.prototype,"decimalSeparator",void 0);O([N()],Ha.prototype,"precision",void 0);O([N()],Ha.prototype,"thousandsSeparator",void 0);O([N()],Ha.prototype,"min",void 0);O([N()],Ha.prototype,"max",void 0);le.addClass("numericmask",[{name:"allowNegativeValues:boolean",default:!0},{name:"decimalSeparator",default:".",maxLength:1},{name:"thousandsSeparator",default:",",maxLength:1},{name:"precision:number",default:2,minValue:0},{name:"min:number"},{name:"max:number"}],function(){return new Ha},"masksettings");function NC(r,e){switch(r){case"hour":case"minute":case"second":case"day":case"month":return 2;case"timeMarker":case"year":return e;default:return 1}}function S5(r,e){let t=e;return r.count<r.maxCount&&(r.type==="day"&&parseInt(e[0])===0||r.type==="month"&&parseInt(e[0])===0)&&(t=e.slice(1,e.length)),t}function E5(r){const e=[];let t;const i=(s,n,o=!1)=>{if(t&&t===s){e[e.length-1].count++;const h=NC(s,e[e.length-1].count);e[e.length-1].maxCount=h}else{const h=NC(s,1);e.push({type:s,value:n,count:1,maxCount:h,upperCase:o})}};for(let s=0;s<r.length;s++){const n=r[s];switch(n){case"m":i("month",n);break;case"d":i("day",n);break;case"y":i("year",n);break;case"h":i("hour",n,!1);break;case"H":i("hour",n,!0);break;case"M":i("minute",n);break;case"s":i("second",n);break;case"t":i("timeMarker",n);break;case"T":i("timeMarker",n,!0);break;default:e.push({type:"separator",value:n,count:1,maxCount:1,upperCase:!1});break}t=e[e.length-1].type}return e}class Vv extends xv{constructor(){super(...arguments),this.defaultDate="1970-01-01T",this.turnOfTheCentury=68,this.twelve=12,this.lexems=[],this.inputDateTimeData=[],this.validBeginningOfNumbers={hour:1,hourU:2,minute:5,second:5,day:3,month:1}}get hasDatePart(){return this.lexems.some(e=>e.type==="day"||e.type==="month"||e.type==="year")}get hasTimePart(){return this.lexems.some(e=>e.type==="hour"||e.type==="minute"||e.type==="second")}get is12Hours(){return this.lexems.filter(e=>e.type==="hour"&&!e.upperCase).length>0}getType(){return"datetimemask"}getTypeForExpressions(){return this.hasTimePart?"datetime-local":"datetime"}updateLiterals(){this.lexems=E5(this.pattern||"")}leaveOnlyNumbers(e){let t="";for(let i=0;i<e.length;i++)e[i].match(Qm)&&(t+=e[i]);return t}getMaskedStrFromISO(e){let t=new Date(e);return this.initInputDateTimeData(),this.hasTimePart||(t=new Date(e+"T00:00:00")),this.hasDatePart||(t=new Date(this.defaultDate+e)),isNaN(t)||this.lexems.forEach((i,s)=>{let n=this.inputDateTimeData[s];switch(n.isCompleted=!0,i.type){case"hour":{this.is12Hours?n.value=((t.getHours()-1)%this.twelve+1).toString():n.value=t.getHours().toString();break}case"minute":{n.value=t.getMinutes().toString();break}case"second":{n.value=t.getSeconds().toString();break}case"timeMarker":{const o=t.getHours()>=this.twelve?"pm":"am";n.value=i.upperCase?o.toUpperCase():o;break}case"day":{n.value=t.getDate().toString();break}case"month":{n.value=(t.getMonth()+1).toString();break}case"year":{let o=t.getFullYear();i.count==2&&(o=o%100),n.value=o.toString();break}}}),this.getFormatedString(!0)}initInputDateTimeData(){this.inputDateTimeData=[],this.lexems.forEach(e=>{this.inputDateTimeData.push({lexem:e,isCompleted:!1,value:void 0})})}getISO_8601Format(e){const t=[],i=[];if(e.year!==void 0){const n=this.getPlaceholder(4,e.year.toString(),"0")+e.year;t.push(n)}if(e.month!==void 0&&e.year!==void 0){const n=this.getPlaceholder(2,e.month.toString(),"0")+e.month;t.push(n)}if(e.day!==void 0&&e.month!==void 0&&e.year!==void 0){const n=this.getPlaceholder(2,e.day.toString(),"0")+e.day;t.push(n)}if(e.hour!==void 0){const n=this.getPlaceholder(2,e.hour.toString(),"0")+e.hour;i.push(n)}if(e.minute!==void 0&&e.hour!==void 0){const n=this.getPlaceholder(2,e.minute.toString(),"0")+e.minute;i.push(n)}if(e.second!==void 0&&e.minute!==void 0&&e.hour!==void 0){const n=this.getPlaceholder(2,e.second.toString(),"0")+e.second;i.push(n)}const s=[];return t.length>0&&s.push(t.join("-")),i.length>1&&s.push(i.join(":")),s.join("T")}isYearValid(e){if(e.min===void 0&&e.max===void 0)return!1;const t=e.year.toString(),i=e.min.toISOString().slice(0,t.length),s=e.max.toISOString().slice(0,t.length);return e.year>=parseInt(i)&&e.year<=parseInt(s)}createIDateTimeCompositionWithDefaults(e,t){const i=e.day==29&&e.month==2;let s=e.min.getFullYear(),n=e.max.getFullYear();i&&(s=Math.ceil(s/4)*4,n=Math.floor(n/4)*4,s>n&&(s=void 0,n=void 0));const o=e.year!==void 0?e.year:t?n:s,h=e.month!==void 0?e.month:t&&this.hasDatePart?12:1,d=e.day!==void 0?e.day:t&&this.hasDatePart?this.getMaxDateForMonth(o,h):1,f=e.hour!==void 0?e.hour:t?23:0,p=e.minute!==void 0?e.minute:t?59:0,y=e.second!==void 0?e.second:t?59:0;return{year:o,month:h,day:d,hour:f,minute:p,second:y}}getMaxDateForMonth(e,t){return t==2?e%4==0&&e%100!=0||e%400==0?29:28:[31,28,31,30,31,30,31,31,30,31,30,31][t-1]}isDateValid(e){const t=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!1))),i=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!0)));return!isNaN(t)&&(t.getDate()===e.day||e.day===void 0)&&(t.getMonth()===e.month-1||e.month===void 0)&&(t.getFullYear()===e.year||e.year===void 0)&&i>=e.min&&t<=e.max}getPlaceholder(e,t,i){const s=e-(t||"").length;return s>0?i.repeat(s):""}isDateValid12(e){return this.is12Hours?this.is12Hours&&e.hour>this.twelve?!1:e.timeMarker?e.timeMarker[0].toLowerCase()==="p"?(e.hour!==this.twelve&&(e.hour+=this.twelve),this.isDateValid(e)):(e.hour===this.twelve&&(e.hour=0),this.isDateValid(e)):this.isDateValid(e)?!0:(e.hour+=this.twelve,this.isDateValid(e)):this.isDateValid(e)}updateTimeMarkerInputDateTimeData(e,t){let i=e.value;if(!i)return;const s="timeMarker",n=Object.assign({},t);n[s]=i,this.isDateValid12(n)?e.isCompleted=!0:i=i.slice(0,i.length-1),e.value=i||void 0,t[s]=i||void 0}updateInputDateTimeData(e,t){let i=e.value;if(!i)return;const s=e.lexem.type,n=Object.assign({},t);if(n[s]=parseInt(this.parseTwoDigitYear(e)),i.length===e.lexem.maxCount)if(this.isDateValid12(n)){e.isCompleted=!0,e.value=i||void 0,t[s]=parseInt(i)>0?parseInt(i):void 0;return}else i=i.slice(0,i.length-1);n[s]=parseInt(i);const o=parseInt(i[0]),h=this.validBeginningOfNumbers[s+(e.lexem.upperCase?"U":"")];s==="year"&&!this.isYearValid(n)?(i=i.slice(0,i.length-1),e.isCompleted=!1):h!==void 0&&o>h?this.isDateValid12(n)?e.isCompleted=!0:i=i.slice(0,i.length-1):h!==void 0&&o!==0&&o<=h&&(this.checkValidationDateTimePart(n,s,e),e.isCompleted&&!this.isDateValid12(n)&&(i=i.slice(0,i.length-1))),e.value=i||void 0,t[s]=parseInt(i)>0?parseInt(i):void 0}checkValidationDateTimePart(e,t,i){const s=e[t];let n=s*10,o=10;t==="month"&&(o=3),t==="hour"&&(o=this.is12Hours?3:5),i.isCompleted=!0;for(let h=0;h<o;h++)if(e[t]=n+h,this.isDateValid12(e)){i.isCompleted=!1;break}e[t]=s}getCorrectDatePartFormat(e,t){const i=e.lexem;let s=e.value||"";return s&&i.type==="timeMarker"?(t&&(s=s+this.getPlaceholder(i.count,s,i.value)),s):(s&&e.isCompleted&&(s=parseInt(s).toString()),s&&e.isCompleted?s=this.getPlaceholder(i.count,s,"0")+s:(s=S5(i,s),t&&(s+=this.getPlaceholder(i.count,s,i.value))),s)}createIDateTimeComposition(){let e,t;return this.hasDatePart?(e=this.min||"0001-01-01",t=this.max||"9996-12-31"):(e=this.defaultDate+(this.min||"00:00:00"),t=this.defaultDate+(this.max||"23:59:59")),{hour:void 0,minute:void 0,second:void 0,day:void 0,month:void 0,year:void 0,min:new Date(e),max:new Date(t)}}parseTwoDigitYear(e){const t=e.value;return e.lexem.type!=="year"||e.lexem.count>2?t:(this.max&&this.max.length>=4&&(this.turnOfTheCentury=parseInt(this.max.slice(2,4))),(parseInt(t)>this.turnOfTheCentury?"19":"20")+t)}getFormatedString(e){let t="",i="",s=!1,n=this.inputDateTimeData.length-1;if(!e){const o=this.inputDateTimeData.filter(h=>!!h.value);n=this.inputDateTimeData.indexOf(o[o.length-1])}for(let o=0;o<this.inputDateTimeData.length;o++){const h=this.inputDateTimeData[o];switch(h.lexem.type){case"timeMarker":case"hour":case"minute":case"second":case"day":case"month":case"year":if(h.value===void 0&&!e)return t+=s?i:"",t;{const d=e||n>o,f=this.getCorrectDatePartFormat(h,d);t+=i+f,s=h.isCompleted}break;case"separator":i=h.lexem.value;break}}return t}cleanTimeMarker(e,t){let i="";e=e.toUpperCase();for(let s=0;s<e.length;s++)(!i&&(e[s]=="P"||e[s]=="A")||i&&e[s]=="M")&&(i+=e[s]);return t?i=i.toUpperCase():i=i.toLowerCase(),i}setInputDateTimeData(e){let t=0;this.initInputDateTimeData(),this.lexems.forEach((i,s)=>{if(e.length>0&&t<e.length){if(i.type==="separator")return;const n=this.inputDateTimeData[s],o=e[t];let h;i.type==="timeMarker"?h=this.cleanTimeMarker(o,i.upperCase):h=this.leaveOnlyNumbers(o),n.value=h.slice(0,i.maxCount),t++}})}_getMaskedValue(e,t=!0){let i=e==null?"":e.toString();const s=this.getParts(i);this.setInputDateTimeData(s);const n=this.createIDateTimeComposition();return this.inputDateTimeData.forEach(h=>{h.lexem.type==="timeMarker"?this.updateTimeMarkerInputDateTimeData(h,n):this.updateInputDateTimeData(h,n)}),this.getFormatedString(t)}getParts(e){const t=[],i=this.lexems.filter(d=>d.type!=="separator"),s=this.lexems.filter(d=>d.type==="separator").map(d=>d.value);let n="",o=!1,h=!1;for(let d=0;d<e.length;d++){const f=e[d];if(f.match(Qm)||f===i[t.length].value||i[t.length].type==="timeMarker"?(o=!1,h=!1,n+=f):s.indexOf(f)!==-1?h||(o=!0,t.push(n),n=""):o||(h=!0,t.push(n),n=""),t.length>=i.length){o=!1;break}}return(n!=""||o)&&t.push(n),t}getUnmaskedValue(e){var t;let i=e==null?"":e.toString();const s=this.getParts(i);this.setInputDateTimeData(s);const n=(t=this.inputDateTimeData.filter(d=>d.lexem.type==="timeMarker")[0])===null||t===void 0?void 0:t.value.toLowerCase()[0],o=this.createIDateTimeComposition();let h=!1;return this.inputDateTimeData.forEach(d=>{let f=d.value;if(d.lexem.type=="timeMarker"||d.lexem.type=="separator")return;if(!f||f.length<d.lexem.count){h=!0;return}let p=parseInt(this.parseTwoDigitYear(d));d.lexem.type=="hour"&&n==="p"&&p!=this.twelve&&(p+=this.twelve),o[d.lexem.type]=p}),h?"":this.getISO_8601Format(o)}getMaskedValue(e){return this.getMaskedStrFromISO(e)}processInput(e){const t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},i=e.prevValue.slice(0,e.selectionStart),s=e.prevValue.slice(e.selectionEnd);return t.value=this._getMaskedValue(i+(e.insertedChars||"")+s),!e.insertedChars&&e.inputDirection==="backward"?t.caretPosition=e.selectionStart:t.caretPosition=this._getMaskedValue(i+(e.insertedChars||""),!1).length,t}}O([N()],Vv.prototype,"min",void 0);O([N()],Vv.prototype,"max",void 0);le.addClass("datetimemask",[{name:"min",type:"datetime",enableIf:r=>!!r.pattern},{name:"max",type:"datetime",enableIf:r=>!!r.pattern}],function(){return new Vv},"patternmask");class Sv extends Ha{getType(){return"currencymask"}wrapText(e){const t=this.prefix||"",i=this.suffix||"";let s=e;return s&&(s.indexOf(t)===-1&&(s=t+s),s.indexOf(i)===-1&&(s+=i),s)}unwrapInputArgs(e){let t=e.prevValue;if(t){if(this.prefix&&t.indexOf(this.prefix)!==-1){t=t.slice(t.indexOf(this.prefix)+this.prefix.length);const i=(this.prefix||"").length;e.selectionStart=Math.max(e.selectionStart-i,0),e.selectionEnd-=i}this.suffix&&t.indexOf(this.suffix)!==-1&&(t=t.slice(0,t.indexOf(this.suffix))),e.prevValue=t}}processInput(e){this.unwrapInputArgs(e);const t=super.processInput(e),i=(this.prefix||"").length;return t.value&&(t.caretPosition+=i),t.value=this.wrapText(t.value),t}getMaskedValue(e){const t=super.getMaskedValue(e);return this.wrapText(t)}}O([N()],Sv.prototype,"prefix",void 0);O([N()],Sv.prototype,"suffix",void 0);le.addClass("currencymask",[{name:"prefix"},{name:"suffix"}],()=>new Sv,"numericmask");var pf;pf="2.2.2";X.version=pf;function T5(r,e){if(pf!=r){const t="survey-core has version '"+pf+"' and "+e+" has version '"+r+"'. SurveyJS libraries should have the same versions to work correctly.";console.error(t)}}class R5{constructor(){this.icons={},this.iconPrefix="icon-",this.onIconsChanged=new Er}processId(e,t){return e.indexOf(t)==0&&(e=e.substring(t.length)),e=Kb[e]||e,e}registerIconFromSymbol(e,t){this.icons[e]=t}registerIconFromSvgViaElement(e,t,i=this.iconPrefix){if(!Ge.isAvailable())return;e=this.processId(e,i);let s=Ge.createElement("div");s.innerHTML=t;let n=Ge.createElement("symbol"),o=s.querySelector("svg");n.innerHTML=o.innerHTML;for(var h=0;h<o.attributes.length;h++)n.setAttributeNS("http://www.w3.org/2000/svg",o.attributes[h].name,o.attributes[h].value);n.id=i+e,this.registerIconFromSymbol(e,n.outerHTML)}registerIconFromSvg(e,t,i=this.iconPrefix){e=this.processId(e,i);const s="<svg ",n="</svg>";t=t.trim();const o=t.toLowerCase();return o.substring(0,s.length)===s&&o.substring(o.length-n.length,o.length)===n?(this.registerIconFromSymbol(e,'<symbol id="'+i+e+'" '+t.substring(s.length,o.length-n.length)+"</symbol>"),!0):!1}registerIconsFromFolder(e){e.keys().forEach(t=>{this.registerIconFromSvg(t.substring(2,t.length-4).toLowerCase(),e(t))})}registerIcons(e){for(const t in e)this.registerIconFromSvg(t,e[t]);this.updateMarkup()}registerIcon(e,t,i="v2"){this.registerIconFromSvg(e,t),Ev(i,{[e]:t})}iconsRenderedHtml(){return Object.keys(this.icons).map(e=>this.icons[e]).join("")}updateMarkup(){this.onIconsChanged.fire(this,{})}}const Jc=new R5,ym={};function Ev(r,e){ym[r]||(ym[r]={});const t=ym[r];for(const i in e)t[i]=e[i]}var _m=Pb();/*!
 * surveyjs - Survey JavaScript library v2.2.2
 * Copyright (c) 2015-2025 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */class Ie{constructor(){this.creatorHash={}}registerElement(e,t){this.creatorHash[e]=t}getAllTypes(){var e=new Array;for(var t in this.creatorHash)e.push(t);return e.sort()}isElementRegistered(e){return!!this.creatorHash[e]}createElement(e,t){var i=this.creatorHash[e];return i==null?null:i(t)}}Ie.Instance=new Ie;class Zr{static wrapRow(e,t,i){const s=e.getRowWrapperComponentName(i),n=e.getRowWrapperComponentData(i);return Ie.Instance.createElement(s,{element:t,row:i,componentData:n})}static wrapElement(e,t,i){const s=e.getElementWrapperComponentName(i),n=e.getElementWrapperComponentData(i);return Ie.Instance.createElement(s,{element:t,question:i,componentData:n})}static wrapQuestionContent(e,t,i){const s=e.getQuestionContentWrapperComponentName(i),n=e.getElementWrapperComponentData(i);return Ie.Instance.createElement(s,{element:t,question:i,componentData:n})}static wrapItemValue(e,t,i,s){const n=e.getItemValueWrapperComponentName(s,i),o=e.getItemValueWrapperComponentData(s,i);return Ie.Instance.createElement(n,{key:t?.key,element:t,question:i,item:s,componentData:o})}static wrapMatrixCell(e,t,i,s="cell"){const n=e.getElementWrapperComponentName(i,s),o=e.getElementWrapperComponentData(i,s);return Ie.Instance.createElement(n,{element:t,cell:i,componentData:o})}}wt.platform="react";class ft extends v.Component{static renderLocString(e,t=null,i){return Ie.Instance.createElement(e.renderAs,{locStr:e.renderAsData,style:t,key:i})}static renderQuestionDescription(e){var t=ft.renderLocString(e.locDescription);return v.createElement("div",{style:e.hasDescription?void 0:{display:"none"},id:e.ariaDescriptionId,className:e.cssDescription},t)}constructor(e){super(e),this._allowComponentUpdate=!0,this.prevStateElements=[],this.propertyValueChangedHandler=(t,i,s)=>{if(t[i]!==s){if(t[i]=s,!this.canUsePropInState(i)||this.isRendering)return;this.changedStatePropNameValue=i,this.setState(n=>{var o={};return o[i]=s,o})}}}componentDidMount(){this.makeBaseElementsReact()}componentWillUnmount(){this.unMakeBaseElementsReact(),this.disableStateElementsRerenderEvent(this.getStateElements())}componentDidUpdate(e,t){var i;this.makeBaseElementsReact();const s=this.getStateElements();this.disableStateElementsRerenderEvent(((i=this.prevStateElements)!==null&&i!==void 0?i:[]).filter(n=>!s.find(o=>o==n))),this.prevStateElements=[],this.getStateElements().forEach(n=>{n.afterRerender()})}allowComponentUpdate(){this._allowComponentUpdate=!0,this.forceUpdate()}denyComponentUpdate(){this._allowComponentUpdate=!1}shouldComponentUpdate(e,t){return this._allowComponentUpdate&&(this.unMakeBaseElementsReact(),this.prevStateElements=this.getStateElements()),this._allowComponentUpdate}render(){if(!this.canRender())return null;this.startEndRendering(1);var e=this.renderElement();return this.startEndRendering(-1),e&&(e=this.wrapElement(e)),this.changedStatePropNameValue=void 0,e}wrapElement(e){return e}get isRendering(){var e=this.getRenderedElements();for(let t of e)if(t.reactRendering>0)return!0;return!1}getRenderedElements(){return this.getStateElements()}startEndRendering(e){var t=this.getRenderedElements();for(let i of t)i.reactRendering||(i.reactRendering=0),i.reactRendering+=e}canRender(){return!0}renderElement(){return null}get changedStatePropName(){return this.changedStatePropNameValue}makeBaseElementsReact(){for(var e=this.getStateElements(),t=0;t<e.length;t++)e[t].enableOnElementRerenderedEvent(),this.makeBaseElementReact(e[t])}unMakeBaseElementsReact(){var e=this.getStateElements();this.unMakeBaseElementsReactive(e)}unMakeBaseElementsReactive(e){for(var t=0;t<e.length;t++)this.unMakeBaseElementReact(e[t])}disableStateElementsRerenderEvent(e){e.forEach(t=>{t.disableOnElementRerenderedEvent()})}getStateElements(){var e=this.getStateElement();return e?[e]:[]}getStateElement(){return null}get isDisplayMode(){return this.props.isDisplayMode||!1}renderLocString(e,t=null,i){return ft.renderLocString(e,t,i)}canMakeReact(e){return!!e&&!!e.iteratePropertiesHash}isCurrentStateElement(e){return!!e&&!!e.setPropertyValueCoreHandler&&e.setPropertyValueCoreHandler===this.propertyValueChangedHandler}makeBaseElementReact(e){this.canMakeReact(e)&&(e.iteratePropertiesHash((t,i)=>{if(this.canUsePropInState(i)){var s=t[i];if(Array.isArray(s)){var s=s;s.onArrayChanged=o=>{this.isRendering||(this.changedStatePropNameValue=i,this.setState(h=>{var d={};return d[i]=s,d}))}}}}),e.setPropertyValueCoreHandler=this.propertyValueChangedHandler)}canUsePropInState(e){return!0}unMakeBaseElementReact(e){this.canMakeReact(e)&&(this.isCurrentStateElement(e),e.setPropertyValueCoreHandler=void 0,e.iteratePropertiesHash((t,i)=>{var s=t[i];if(Array.isArray(s)){var s=s;s.onArrayChanged=()=>{}}}))}}class Pi extends ft{constructor(e){super(e)}get cssClasses(){return this.props.cssClasses}}class Ji extends ft{constructor(e){super(e)}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateDomElement()}componentDidMount(){super.componentDidMount(),this.updateDomElement()}componentWillUnmount(){if(super.componentWillUnmount(),this.questionBase){const e=this.content||this.control;this.questionBase.beforeDestroyQuestionElement(e),e&&e.removeAttribute("data-rendered")}}updateDomElement(){const e=this.content||this.control;e&&e.getAttribute("data-rendered")!=="r"&&(e.setAttribute("data-rendered","r"),this.questionBase.afterRenderQuestionElement(e))}get questionBase(){return this.props.question}getRenderedElements(){return[this.questionBase]}get creator(){return this.props.creator}canRender(){return!!this.questionBase&&!!this.creator}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?!this.questionBase.customWidget||!!this.questionBase.customWidgetData.isNeedRender||!!this.questionBase.customWidget.widgetJson.isDefaultRender||!!this.questionBase.customWidget.widgetJson.render:!1}get isDisplayMode(){return this.props.isDisplayMode||!!this.questionBase&&this.questionBase.isInputReadOnly||!1}wrapCell(e,t,i){if(!i)return t;const s=this.questionBase.survey;let n=null;return s&&(n=Zr.wrapMatrixCell(s,t,e,i)),n??t}setControl(e){e&&(this.control=e)}setContent(e){e&&(this.content=e)}}class Xh extends Ji{constructor(e){super(e),this.updateValueOnEvent=t=>{z.isTwoValueEquals(this.questionBase.value,t.target.value,!1,!0,!1)||this.setValueCore(t.target.value)},this.updateValueOnEvent=this.updateValueOnEvent.bind(this)}get question(){return this.questionBase}setValueCore(e){this.questionBase.value=e}getValueCore(){return this.questionBase.value}updateDomElement(){if(this.control){const e=this.control,t=this.getValueCore();z.isTwoValueEquals(t,e.value,!1,!0,!1)||(e.value=this.getValue(t))}super.updateDomElement()}getValue(e){return z.isValueEmpty(e)?"":e}}class P5 extends ft{constructor(e){super(e),this.element.cssClasses,this.rootRef=v.createRef()}getStateElement(){return this.element}get element(){return this.props.element}get index(){return this.props.index}get row(){return this.props.row}get survey(){return this.props.survey}get creator(){return this.props.creator}get css(){return this.props.css}componentDidMount(){super.componentDidMount(),this.rootRef.current&&this.element.setWrapperElement(this.rootRef.current)}componentWillUnmount(){super.componentWillUnmount(),this.element.setWrapperElement(void 0)}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?(e.element!==this.element&&(e.element&&e.element.setWrapperElement(this.rootRef.current),this.element&&this.element.setWrapperElement(void 0)),this.element.cssClasses,!0):!1}renderElement(){const e=this.element,t=this.createElement(e,this.index),i=e.cssClassesValue,s=()=>{const n=e;n&&n.isQuestion&&n.focusIn()};return v.createElement("div",{className:i.questionWrapper,style:e.rootStyle,"data-key":e.name+this.index,onFocus:s,ref:this.rootRef},t)}createElement(e,t){if(!this.row.isNeedRender)return Ie.Instance.createElement(e.skeletonComponentName,{element:e,css:this.css});let i=e.getTemplate();return Ie.Instance.isElementRegistered(i)||(i="question"),Ie.Instance.createElement(i,{element:e,creator:this.creator,survey:this.survey,css:this.css})}}class I5 extends ft{constructor(e){super(e),this.rootRef=v.createRef(),this.recalculateCss()}recalculateCss(){this.row.visibleElements.map(e=>e.cssClasses)}getStateElement(){return this.row}get row(){return this.props.row}get survey(){return this.props.survey}get creator(){return this.props.creator}get css(){return this.props.css}canRender(){return!!this.row&&!!this.survey&&!!this.creator}renderElementContent(){const e=this.row.visibleElements.map((t,i)=>v.createElement(P5,{element:t,index:i,row:this.row,survey:this.survey,creator:this.creator,css:this.css,key:t.id}));return v.createElement("div",{ref:this.rootRef,className:this.row.getRowCss()},e)}renderElement(){const e=this.survey,t=this.renderElementContent();return Zr.wrapRow(e,t,this.row)||t}componentDidMount(){super.componentDidMount();var e=this.rootRef.current;if(this.rootRef.current&&this.row.setRootElement(this.rootRef.current),e&&!this.row.isNeedRender){var t=e;this.lazyRenderingTimeout=setTimeout(()=>{this.row.startLazyRendering(t)},10)}}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?(e.row!==this.row&&(e.row.isNeedRender=this.row.isNeedRender,e.row.setRootElement(this.rootRef.current),this.row.setRootElement(void 0),this.stopLazyRendering()),this.recalculateCss(),!0):!1}stopLazyRendering(){clearTimeout(this.lazyRenderingTimeout),this.row.stopLazyRendering(),this.row.isNeedRender=!this.row.isLazyRendering()}componentWillUnmount(){const e=this.isCurrentStateElement(this.getStateElement());super.componentWillUnmount(),e&&(this.row.setRootElement(void 0),this.stopLazyRendering())}createElement(e,t){const i=t?"-"+t:0;var s=e.getType();return Ie.Instance.isElementRegistered(s)||(s="question"),Ie.Instance.createElement(s,{key:e.name+i,element:e,creator:this.creator,survey:this.survey,css:this.css})}}class Ew extends ft{constructor(e){super(e),this.rootRef=v.createRef()}getStateElement(){return this.panelBase}canUsePropInState(e){return e!=="elements"&&super.canUsePropInState(e)}get survey(){return this.getSurvey()}get creator(){return this.props.creator}get css(){return this.getCss()}get panelBase(){return this.getPanelBase()}getPanelBase(){return this.props.element||this.props.question}getSurvey(){return this.props.survey||(this.panelBase?this.panelBase.survey:null)}getCss(){return this.props.css}componentDidMount(){super.componentDidMount(),this.doAfterRender()}componentWillUnmount(){super.componentWillUnmount();var e=this.rootRef.current;e&&e.removeAttribute("data-rendered")}componentDidUpdate(e,t){super.componentDidUpdate(e,t),!(e.page&&this.survey&&this.survey.activePage&&e.page.id===this.survey.activePage.id)&&this.doAfterRender()}doAfterRender(){var e=this.rootRef.current;e&&this.survey&&(this.panelBase.isPanel?this.panelBase.afterRender(e):this.survey.afterRenderPage(e))}getIsVisible(){return this.panelBase.isVisible}canRender(){return super.canRender()&&!!this.survey&&!!this.panelBase&&!!this.panelBase.survey&&this.getIsVisible()}renderRows(e){return this.panelBase.visibleRows.map(t=>this.createRow(t,e))}createRow(e,t){return v.createElement(I5,{key:e.id,row:e,survey:this.survey,creator:this.creator,css:t})}}class fi extends v.Component{constructor(e){super(e),this.svgIconRef=v.createRef()}updateSvg(){this.props.iconName&&US(this.props.size,this.props.width,this.props.height,this.props.iconName,this.svgIconRef.current,this.props.title)}componentDidUpdate(){this.updateSvg()}render(){let e="sv-svg-icon";return this.props.className&&(e+=" "+this.props.className),this.props.iconName?v.createElement("svg",{className:e,style:this.props.style,onClick:this.props.onClick,ref:this.svgIconRef,role:"presentation"},v.createElement("use",null)):null}componentDidMount(){this.updateSvg()}}Ie.Instance.registerElement("sv-svg-icon",r=>v.createElement(fi,r));class Tw extends v.Component{constructor(e){super(e)}render(){var e=`sv-action-bar-separator ${this.props.cssClasses}`;return v.createElement("div",{className:e})}}Ie.Instance.registerElement("sv-action-bar-separator",r=>v.createElement(Tw,r));class Rh extends ft{constructor(e){super(e),this.ref=v.createRef()}get item(){return this.props.item}getStateElement(){return this.item}renderElement(){const e=this.item.getActionRootCss(),t=this.item.needSeparator?v.createElement(Tw,null):null,i=Ie.Instance.createElement(this.item.component||"sv-action-bar-item",{item:this.item});return v.createElement("div",{className:e,id:this.item.id,ref:this.ref},v.createElement("div",{className:"sv-action__content"},t,i))}componentWillUnmount(){super.componentWillUnmount(),this.item.updateModeCallback=void 0}componentDidMount(){super.componentDidMount(),this.item.updateModeCallback=(e,t)=>{queueMicrotask(()=>{_m.flushSync?_m.flushSync(()=>{this.item.mode=e}):this.item.mode=e,queueMicrotask(()=>{t(e,this.ref.current)})})},this.item.afterRender()}}class Rw extends ft{get item(){return this.props.item}getStateElement(){return this.item}renderElement(){return v.createElement(v.Fragment,null,this.renderInnerButton())}renderText(){if(!this.item.hasTitle)return null;const e=this.item.getActionBarItemTitleCss();return v.createElement("span",{className:e},this.item.title)}renderButtonContent(){const e=this.renderText(),t=this.item.iconName?v.createElement(fi,{className:this.item.cssClasses.itemIcon,size:this.item.iconSize,iconName:this.item.iconName,title:this.item.tooltip||this.item.title}):null;return v.createElement(v.Fragment,null,t,e)}renderInnerButton(){const e=this.item.getActionBarItemCss(),t=this.item.tooltip||this.item.title,i=this.renderButtonContent(),s=this.item.disableTabStop?-1:void 0;return Av(v.createElement("button",{className:e,type:"button",disabled:this.item.disabled,onMouseDown:o=>this.item.doMouseDown(o),onFocus:o=>this.item.doFocus(o),onClick:o=>this.item.doAction(o),title:t,tabIndex:s,"aria-checked":this.item.ariaChecked,"aria-expanded":this.item.ariaExpanded,role:this.item.ariaRole},i),this.item,{processEsc:!1})}}Ie.Instance.registerElement("sv-action-bar-item",r=>v.createElement(Rw,r));class Yh extends ft{constructor(e){super(e),this.containerRef=v.createRef(),this.createModel()}get model(){return this.props.model}getStateElement(){return this.model}createModel(){this.popup=C5(this.props.model)}setTargetElement(){const e=this.containerRef.current;this.popup.setComponentElement(e)}componentDidMount(){super.componentDidMount(),this.setTargetElement()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.setTargetElement()}componentWillUnmount(){super.componentWillUnmount(),this.popup.resetComponentElement()}shouldComponentUpdate(e,t){var i;if(!super.shouldComponentUpdate(e,t))return!1;const s=e.model!==this.popup.model;return s&&((i=this.popup)===null||i===void 0||i.dispose(),this.createModel()),s}render(){this.popup.model=this.model;let e;return this.model.isModal?e=v.createElement(Tv,{model:this.popup}):e=v.createElement(A5,{model:this.popup}),v.createElement("div",{ref:this.containerRef},e)}}Ie.Instance.registerElement("sv-popup",r=>v.createElement(Yh,r));class Tv extends ft{constructor(e){super(e),this.handleKeydown=t=>{this.model.onKeyDown(t)},this.clickInside=t=>{t.stopPropagation()}}get model(){return this.props.model}getStateElement(){return this.model}componentDidUpdate(e,t){super.componentDidUpdate(e,t),!this.model.isPositionSet&&this.model.isVisible&&this.model.updateOnShowing()}renderContainer(e){const t=e.showHeader?this.renderHeaderPopup(e):null,i=e.title?this.renderHeaderContent():null,s=this.renderContent(),n=e.showFooter?this.renderFooter(this.model):null;return v.createElement("div",{className:"sv-popup__container",style:{left:e.left,top:e.top,height:e.height,width:e.width,minWidth:e.minWidth},onClick:o=>{this.clickInside(o)}},t,v.createElement("div",{className:"sv-popup__body-content"},i,v.createElement("div",{className:"sv-popup__scrolling-content"},s),n))}renderHeaderContent(){return v.createElement("div",{className:"sv-popup__body-header"},this.model.title)}renderContent(){const e=Ie.Instance.createElement(this.model.contentComponentName,this.model.contentComponentData);return v.createElement("div",{className:"sv-popup__content"},e)}renderHeaderPopup(e){return null}renderFooter(e){return v.createElement("div",{className:"sv-popup__body-footer"},v.createElement(Ar,{model:e.footerToolbar}))}render(){const e=this.renderContainer(this.model),t=new fe().append("sv-popup").append(this.model.styleClass).toString(),i={display:this.model.isVisible?"":"none"};return v.createElement("div",{tabIndex:-1,className:t,style:i,onClick:s=>{this.model.clickOutside(s)},onKeyDown:this.handleKeydown},e)}componentDidMount(){super.componentDidMount(),this.model.isVisible&&this.model.updateOnShowing()}}class A5 extends Tv{renderHeaderPopup(e){const t=e;return t?v.createElement("span",{style:{left:t.pointerTarget.left,top:t.pointerTarget.top},className:"sv-popup__pointer"}):null}}class D5 extends Rw{constructor(e){super(e)}renderInnerButton(){const e=super.renderInnerButton();return v.createElement(v.Fragment,null,e,v.createElement(Yh,{model:this.item.popupModel}))}componentDidMount(){this.viewModel=new DS(this.item)}componentWillUnmount(){super.componentWillUnmount(),this.viewModel.dispose()}}Ie.Instance.registerElement("sv-action-bar-item-dropdown",r=>v.createElement(D5,r));class Ar extends ft{constructor(e){super(e),this.rootRef=v.createRef()}get handleClick(){return this.props.handleClick!==void 0?this.props.handleClick:!0}get model(){return this.props.model}componentDidMount(){if(super.componentDidMount(),!this.model.hasVisibleActions)return;const e=this.rootRef.current;e&&this.model.initResponsivityManager(e,t=>{setTimeout(t,100)})}componentWillUnmount(){super.componentWillUnmount(),this.model.resetResponsivityManager()}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),e.model!=this.props.model&&e.model.resetResponsivityManager(),this.model.hasVisibleActions){const i=this.rootRef.current;i&&this.model.initResponsivityManager(i,s=>{setTimeout(s,100)})}}getStateElement(){return this.model}renderElement(){if(!this.model.hasActions)return null;const e=this.renderItems();return v.createElement("div",{ref:this.rootRef,style:this.model.getRootStyle(),className:this.model.getRootCss(),onClick:this.handleClick?function(t){t.stopPropagation()}:void 0},e)}renderItems(){return this.model.renderedActions.concat([]).map((e,t)=>v.createElement(Rh,{item:e,key:e.renderedId}))}}Ie.Instance.registerElement("sv-action-bar",r=>v.createElement(Ar,r));class Pw extends v.Component{constructor(e){super(e)}get cssClasses(){return this.props.cssClasses}get element(){return this.props.element}render(){if(this.element.isTitleRenderedAsString)return ft.renderLocString(this.element.locRenderedTitle);var e=this.renderTitleSpans(this.element.getTitleOwner(),this.cssClasses);return v.createElement(v.Fragment,null,e)}renderTitleSpans(e,t){var i=o=>v.createElement("span",{"data-key":o,key:o}," "),s=[];e.isRequireTextOnStart&&(s.push(this.renderRequireText(e)),s.push(i("req-sp")));var n=e.no;return n&&(s.push(v.createElement("span",{"data-key":"q_num",key:"q_num",className:e.cssTitleNumber,style:{position:"static"},"aria-hidden":!0},n)),s.push(i("num-sp"))),e.isRequireTextBeforeTitle&&(s.push(this.renderRequireText(e)),s.push(i("req-sp"))),s.push(ft.renderLocString(e.locRenderedTitle,null,"q_title")),e.isRequireTextAfterTitle&&(s.push(i("req-sp")),s.push(this.renderRequireText(e))),s}renderRequireText(e){return v.createElement("span",{"data-key":"req-text",key:"req-text",className:e.cssRequiredMark,"aria-hidden":!0},e.requiredMark)}}class Rv extends v.Component{get cssClasses(){return this.props.cssClasses}get element(){return this.props.element}render(){const e=v.createElement(Pw,{element:this.element,cssClasses:this.cssClasses});return this.element.hasTitleActions?v.createElement("div",{className:"sv-title-actions"},v.createElement("span",{className:"sv-title-actions__title"},e),v.createElement(Ar,{model:this.element.getTitleToolbar()})):e}}Un.Instance.registerRenderer("element","title-actions","sv-title-actions");Ie.Instance.registerElement("sv-title-actions",r=>v.createElement(Rv,r));class jl extends v.Component{constructor(e){super(e)}get element(){return this.props.element}renderTitleExpandableSvg(){if(!this.element.getCssTitleExpandableSvg())return null;let e=this.element.isExpanded?"icon-collapse-16x16":"icon-expand-16x16";return v.createElement(fi,{className:this.element.getCssTitleExpandableSvg(),iconName:e,size:"auto"})}render(){const e=this.element;if(!e||!e.hasTitle)return null;const t=e.titleAriaLabel||void 0,i=this.renderTitleExpandableSvg(),s=v.createElement(Rv,{element:e,cssClasses:e.cssClasses});let n,o;e.hasTitleEvents&&(o=d=>{lv(d.nativeEvent)});const h=e.titleTagName;return v.createElement(h,{className:e.cssTitle,id:e.ariaTitleId,"aria-label":t,tabIndex:e.titleTabIndex,"aria-expanded":e.titleAriaExpanded,role:e.titleAriaRole,onClick:n,onKeyUp:o},i,s)}}class Xt{constructor(){this.creatorHash={}}registerQuestion(e,t){this.creatorHash[e]=t}getAllTypes(){var e=new Array;for(var t in this.creatorHash)e.push(t);return e.sort()}createQuestion(e,t){var i=this.creatorHash[e];return i==null?null:i(t)}}Xt.Instance=new Xt;class Pv extends ft{getStateElement(){return this.props.counter}renderElement(){return v.createElement("div",{className:this.props.remainingCharacterCounter},this.props.counter.remainingCharacterCounter)}}Ie.Instance.registerElement("sv-character-counter",r=>v.createElement(Pv,r));class Iv extends ft{constructor(e){super(e),this.initialValue=this.viewModel.getTextValue()||"",this.textareaRef=v.createRef()}get viewModel(){return this.props.viewModel}canRender(){return!!this.viewModel.question}componentDidMount(){super.componentDidMount();let e=this.textareaRef.current;e&&this.viewModel.setElement(e)}componentWillUnmount(){super.componentWillUnmount(),this.viewModel.resetElement()}renderElement(){return v.createElement("textarea",{id:this.viewModel.id,className:this.viewModel.className,ref:this.textareaRef,disabled:this.viewModel.isDisabledAttr,readOnly:this.viewModel.isReadOnlyAttr,rows:this.viewModel.rows,cols:this.viewModel.cols,placeholder:this.viewModel.placeholder,maxLength:this.viewModel.maxLength,defaultValue:this.initialValue,onChange:e=>{this.viewModel.onTextAreaInput(e)},onFocus:e=>{this.viewModel.onTextAreaFocus(e)},onBlur:e=>{this.viewModel.onTextAreaBlur(e)},onKeyDown:e=>{this.viewModel.onTextAreaKeyDown(e)},"aria-required":this.viewModel.ariaRequired,"aria-label":this.viewModel.ariaLabel,"aria-labelledby":this.viewModel.ariaLabelledBy,"aria-describedby":this.viewModel.ariaDescribedBy,"aria-invalid":this.viewModel.ariaInvalid,"aria-errormessage":this.viewModel.ariaErrormessage,style:{resize:this.viewModel.question.resizeStyle}})}}Ie.Instance.registerElement("sv-text-area",r=>v.createElement(Iv,r));class L5 extends Xh{renderCharacterCounter(){let e=null;return this.question.getMaxLength()&&(e=v.createElement(Pv,{counter:this.question.characterCounter,remainingCharacterCounter:this.question.cssClasses.remainingCharacterCounter})),e}constructor(e){super(e)}renderElement(){if(this.question.isReadOnlyRenderDiv())return v.createElement("div",null,this.question.value);const e=this.renderCharacterCounter(),t=this.props.question.textAreaModel;return v.createElement(v.Fragment,null,v.createElement(Iv,{viewModel:t}),e)}}class Iw extends Pi{constructor(e){super(e),this.textAreaModel=this.getTextAreaModel()}canRender(){return!!this.props.question}getTextAreaModel(){return this.props.question.commentTextAreaModel}renderElement(){if(this.props.question.isReadOnlyRenderDiv()){const t=this.textAreaModel.getTextValue()||"";return v.createElement("div",null,t)}return v.createElement(Iv,{viewModel:this.textAreaModel})}}class jf extends Iw{getTextAreaModel(){return this.props.question.otherTextAreaModel}}Xt.Instance.registerQuestion("comment",r=>v.createElement(L5,r));class O5 extends Ji{constructor(e){super(e),this.widgetRef=v.createRef()}_afterRender(){if(this.questionBase.customWidget){let e=this.widgetRef.current;e&&(this.questionBase.customWidget.afterRender(this.questionBase,e),this.questionBase.customWidgetData.isNeedRender=!1)}}componentDidMount(){super.componentDidMount(),this.questionBase&&this._afterRender()}componentDidUpdate(e,t){super.componentDidUpdate(e,t);var i=!!this.questionBase.customWidget&&this.questionBase.customWidget.isDefaultRender;this.questionBase&&!i&&this._afterRender()}componentWillUnmount(){if(super.componentWillUnmount(),this.questionBase.customWidget){let e=this.widgetRef.current;e&&this.questionBase.customWidget.willUnmount(this.questionBase,e)}}canRender(){return super.canRender()&&this.questionBase.visible}renderElement(){let e=this.questionBase.customWidget;if(e.isDefaultRender)return v.createElement("div",{ref:this.widgetRef},this.creator.createQuestionElement(this.questionBase));let t=null;if(e.widgetJson.render)t=e.widgetJson.render(this.questionBase);else if(e.htmlTemplate){let i={__html:e.htmlTemplate};return v.createElement("div",{ref:this.widgetRef,dangerouslySetInnerHTML:i})}return v.createElement("div",{ref:this.widgetRef},t)}}class Aw extends ft{get element(){return this.props.element}getRenderedElements(){return[this.element]}renderElement(){const e=this.element,t=e.hasTitle?v.createElement(jl,{element:e}):null,i=e.hasDescriptionUnderTitle?ft.renderQuestionDescription(this.element):null,s=e.hasAdditionalTitleToolbar?v.createElement(Ar,{model:e.additionalTitleToolbar}):null,n={width:void 0};return e instanceof Ii&&(n.width=e.titleWidth),v.createElement("div",{className:e.cssHeader,onClick:o=>e.clickTitleFunction&&e.clickTitleFunction(o.nativeEvent),style:n},t,i,s)}}class Dw extends Pi{constructor(e){super(e)}get css(){return this.props.css}get summary(){return this.props.summary}renderElement(){return this.summary?this.summary.isEmpty()?this.renderNoItems():this.renderItems():null}renderItems(){return v.createElement("div",{className:this.css.summary},this.summary.items.map((e,t)=>this.renderItem(e,t)))}renderNoItems(){const e=this.summary.question;return Ie.Instance.createElement("sv-placeholder-"+e.getTemplate(),{cssClasses:this.css,question:e})||v.createElement("div",null,this.renderLocString(this.summary.noEntry))}renderItem(e,t){const i=e.btnEdit?v.createElement("button",{className:this.css.summaryRowActionEdit,onClick:()=>e.btnEdit.action(),title:e.btnEdit.title},v.createElement(fi,{iconName:"icon-editsmall-16x16",iconSize:"auto"})):null,s=e.showRemove&&e.btnRemove?v.createElement("button",{className:this.css.summaryRowActionDelete,onClick:()=>e.btnRemove.action(),title:e.btnRemove.title},v.createElement(fi,{iconName:"icon-delete-16x16",iconSize:"auto"})):null;return v.createElement("div",{className:this.css.summaryRow,key:t},v.createElement("div",{className:this.css.summaryRowContent},this.renderLocString(e.locText)),v.createElement("div",{className:this.css.summaryRowActions},i,s))}}Ie.Instance.registerElement("sv-singleinput-summary",r=>v.createElement(Dw,r));class Lw extends ft{constructor(e){super(e)}getStateElement(){return this.props.model}get items(){return this.props.model.actions}get css(){return this.props.css}renderElement(){if(!this.items||!this.items.length)return null;const e=this.renderItems();return v.createElement("div",{className:this.css.breadcrumbsRoot},e)}renderItems(){const e=[];return this.items.concat([]).forEach((t,i)=>{i&&e.push(v.createElement(fi,{key:t.renderedId+"_separator",className:this.css.breadcrumbsSeparator,iconName:"arrowright-16x16",size:"auto"})),e.push(v.createElement(Rh,{key:t.renderedId,item:t}))}),e}}Ie.Instance.registerElement("sv-breadcrumbs",r=>v.createElement(Lw,r));class Ma extends ft{static renderQuestionBody(e,t){var i=t.customWidget;return i?v.createElement(O5,{creator:e,question:t}):e.createQuestionElement(t)}constructor(e){super(e),this.isNeedFocus=!1,this.rootRef=v.createRef()}getStateElement(){return this.question}get question(){return this.props.element}get creator(){return this.props.creator}componentDidMount(){super.componentDidMount(),this.question&&(this.question.react=this),this.doAfterRender()}componentWillUnmount(){super.componentWillUnmount(),this.question&&(this.question.react=null);const e=this.rootRef.current;e&&e.removeAttribute("data-rendered")}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.doAfterRender()}doAfterRender(){if(this.isNeedFocus&&(this.question.isCollapsed||this.question.clickTitleFunction(),this.isNeedFocus=!1),this.question){var e=this.rootRef.current;e&&e.getAttribute("data-rendered")!=="r"&&(e.setAttribute("data-rendered","r"),this.question.afterRender&&this.question.afterRender(e))}}canRender(){return super.canRender()&&!!this.question&&!!this.creator}renderQuestionContent(){let e=this.question;var t={display:this.question.renderedIsExpanded?"":"none"},i=e.cssClasses,s=this.renderQuestion(),n=e&&e.hasComment?this.renderComment(i):null,o=e.hasDescriptionUnderInput?this.renderDescription():null;return v.createElement("div",{className:e.cssContent||void 0,style:t,"aria-hidden":e.contentAriaHidden,role:"presentation"},s,n,o)}renderElement(){var e=this.question,t=e.cssClasses,i=this.renderHeader(e),s=e.hasTitleOnLeftTop?i:null,n=e.hasTitleOnBottom?i:null;const o=this.question.showErrorsAboveQuestion?this.renderErrors(t,""):null,h=this.question.showErrorsBelowQuestion?this.renderErrors(t,""):null,d=e.getRootStyle(),f=e.singleInputHasActions?this.renderSingleInputBreadcrumbs(e,t):void 0,b=(e.singleInputSummary?this.renderSingleInputSummary(e,t):void 0)||(e.singleInputQuestion?this.renderSingleInputQuestion(e,t):void 0)||this.wrapQuestionContent(this.renderQuestionContent());return v.createElement(v.Fragment,null,v.createElement("div",{ref:this.rootRef,id:e.id,className:e.getRootCss(),style:d,"data-name":e.name,role:e.ariaRole,"aria-required":this.question.ariaRequired,"aria-invalid":this.question.ariaInvalid,"aria-label":this.question.ariaLabel,"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy,"aria-expanded":e.ariaExpanded},f,o,s,b,n,h))}renderSingleInputQuestion(e,t){const i=e.singleInputQuestion,s=i.id;return v.createElement(Ma,{key:s,element:i,creator:this.creator,css:t})}renderSingleInputBreadcrumbs(e,t){return v.createElement(Lw,{model:e.singleInputActions,css:t})}renderSingleInputSummary(e,t){return v.createElement(Dw,{summary:e.singleInputSummary,creator:this.creator,css:t})}wrapElement(e){const t=this.question.survey;let i=null;return t&&(i=Zr.wrapElement(t,e,this.question)),i??e}wrapQuestionContent(e){const t=this.question.survey;let i=null;return t&&(i=Zr.wrapQuestionContent(t,e,this.question)),i??e}renderQuestion(){return Ma.renderQuestionBody(this.creator,this.question)}renderDescription(){return ft.renderQuestionDescription(this.question)}renderComment(e){const t=ft.renderLocString(this.question.locCommentText);return v.createElement("div",{className:this.question.getCommentAreaCss()},v.createElement("div",null,t),v.createElement(Iw,{question:this.question,cssClasses:e,otherCss:e.other,isDisplayMode:this.question.isInputReadOnly}))}renderHeader(e){return e.singleInputHideHeader?null:v.createElement(Aw,{element:e})}renderErrors(e,t){return v.createElement(Gf,{element:this.question,cssClasses:e,creator:this.creator,location:t,id:this.question.id+"_errors"})}}Ie.Instance.registerElement("question",r=>v.createElement(Ma,r));class Gf extends Pi{constructor(e){super(e),this.state=this.getState()}get id(){return this.props.element.id+"_errors"}get element(){return this.props.element}get creator(){return this.props.creator}getState(e=null){return e?{error:e.error+1}:{error:0}}canRender(){return!!this.element&&this.element.hasVisibleErrors}componentWillUnmount(){}renderElement(){const e=[];for(let t=0;t<this.element.errors.length;t++){const i="error"+t;e.push(this.creator.renderError(i,this.element.errors[t],this.cssClasses,this.element))}return v.createElement("div",{role:"alert","aria-live":"polite",className:this.element.cssError,id:this.id},e)}}class Ow extends Pi{constructor(e){super(e)}getStateElement(){return this.question}get question(){return this.getQuestion()}get creator(){return this.props.creator}getQuestion(){return this.props.question}get itemCss(){return this.props.itemCss}componentDidMount(){super.componentDidMount(),this.doAfterRender()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.doAfterRender()}doAfterRender(){}canRender(){return!!this.question}renderContent(){var e=this.renderQuestion();return v.createElement(v.Fragment,null,e)}getShowErrors(){return this.question.isVisible}renderQuestion(){return Ma.renderQuestionBody(this.creator,this.question)}}class M5 extends Ow{constructor(e){super(e),this.cellRef=v.createRef()}componentWillUnmount(){if(super.componentWillUnmount(),this.question){var e=this.cellRef.current;e&&e.removeAttribute("data-rendered")}}renderCellContent(){return v.createElement("div",{className:this.props.cell.cellQuestionWrapperClassName},this.renderQuestion())}renderElement(){var e=this.getCellStyle();const t=this.props.cell,i=()=>{t.focusIn()};return v.createElement("td",{ref:this.cellRef,className:this.itemCss,colSpan:t.colSpans,title:t.getTitle(),style:e,onFocus:i},this.wrapCell(this.props.cell,this.renderCellContent()))}getCellStyle(){return null}getHeaderText(){return""}wrapCell(e,t){if(!e)return t;const i=this.question.survey;let s=null;return i&&(s=Zr.wrapMatrixCell(i,t,e,this.props.reason)),s??t}}class Mw extends v.Component{constructor(e){super(e),this.state={changed:0},this.question&&this.registerCallback(this.question)}get question(){return this.props.question}update(){this.setState({changed:this.state.changed+1})}getQuestionPropertiesToTrack(){return["errors"]}registerCallback(e){e.registerFunctionOnPropertiesValueChanged(this.getQuestionPropertiesToTrack(),()=>{this.update()},"__reactSubscription")}unRegisterCallback(e){e.unRegisterFunctionOnPropertiesValueChanged(this.getQuestionPropertiesToTrack(),"__reactSubscription")}componentDidUpdate(e){e.question&&e.question!==this.question&&this.unRegisterCallback(e.cell),this.question&&this.registerCallback(this.question)}componentWillUnmount(){this.question&&this.unRegisterCallback(this.question)}render(){return v.createElement(Gf,{element:this.question,creator:this.props.creator,cssClasses:this.question.cssClasses})}}class N5 extends Ew{constructor(e){super(e)}getPanelBase(){return this.props.page}get page(){return this.panelBase}renderElement(){var e=this.renderTitle(),t=this.renderDescription(),i=this.renderRows(this.panelBase.cssClasses);const s=v.createElement(Gf,{element:this.panelBase,cssClasses:this.panelBase.cssClasses,creator:this.creator});return v.createElement("div",{ref:this.rootRef,className:this.page.cssRoot},e,t,s,i)}renderTitle(){return v.createElement(jl,{element:this.page})}renderDescription(){if(!this.page._showDescription)return null;var e=ft.renderLocString(this.page.locDescription);return v.createElement("div",{className:this.panelBase.cssClasses.page.description},e)}}class Nw extends v.Component{constructor(e){super(e),this.state={changed:0},this.rootRef=v.createRef()}get survey(){return this.props.survey}get css(){return this.survey.css}componentDidMount(){const e=this;this.survey.afterRenderHeader(this.rootRef.current),this.survey.locLogo.onChanged=function(){e.setState({changed:e.state.changed+1})}}componentWillUnmount(){this.survey.locLogo.onChanged=function(){}}renderTitle(){if(!this.survey.renderedHasTitle)return null;const e=ft.renderLocString(this.survey.locDescription);return v.createElement("div",{className:this.css.headerText,style:{maxWidth:this.survey.titleMaxWidth}},v.createElement(jl,{element:this.survey}),this.survey.renderedHasDescription?v.createElement("div",{className:this.css.description},e):null)}renderLogoImage(e){if(!e)return null;const t=this.survey.getElementWrapperComponentName(this.survey,"logo-image"),i=this.survey.getElementWrapperComponentData(this.survey,"logo-image");return Ie.Instance.createElement(t,{data:i})}render(){return this.survey.renderedHasHeader?v.createElement("div",{className:this.css.header,ref:this.rootRef},this.renderLogoImage(this.survey.isLogoBefore),this.renderTitle(),this.renderLogoImage(this.survey.isLogoAfter),v.createElement("div",{className:this.css.headerClose})):null}}Ie.Instance.registerElement("survey-header",r=>v.createElement(Nw,r));class k5 extends v.Component{render(){return v.createElement("div",{className:"sv-brand-info"},v.createElement("a",{className:"sv-brand-info__logo",href:"https://surveyjs.io/?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=landing_page"},v.createElement("img",{src:"https://surveyjs.io/Content/Images/poweredby.svg"})),v.createElement("div",{className:"sv-brand-info__text"},"Try and see how easy it is to ",v.createElement("a",{href:"https://surveyjs.io/create-survey?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=create_survey"},"create a survey")),v.createElement("div",{className:"sv-brand-info__terms"},v.createElement("a",{href:"https://surveyjs.io/TermsOfUse"},"Terms of Use & Privacy Statement")))}}class kw extends ft{get notifier(){return this.props.notifier}getStateElement(){return this.notifier}renderElement(){if(!this.notifier.isDisplayed)return null;const e={visibility:this.notifier.active?"visible":"hidden"};return v.createElement("div",{className:this.notifier.css,style:e,role:"alert","aria-live":"polite"},v.createElement("span",null,this.notifier.message),v.createElement(Ar,{model:this.notifier.actionBar}))}}Ie.Instance.registerElement("sv-notifier",r=>v.createElement(kw,r));class kn extends v.Component{render(){const e=this.props.survey.getContainerContent(this.props.container),t=this.props.needRenderWrapper!==!1;return e.length==0?null:t?v.createElement("div",{className:"sv-components-column sv-components-container-"+this.props.container},e.map(i=>Ie.Instance.createElement(i.component,{survey:this.props.survey,model:i.data,container:this.props.container,key:i.id}))):v.createElement(v.Fragment,null,e.map(i=>Ie.Instance.createElement(i.component,{survey:this.props.survey,model:i.data,container:this.props.container,key:i.id})))}}Ie.Instance.registerElement("sv-components-container",r=>v.createElement(kn,r));class q5 extends v.Component{constructor(e){super(e),this.onIconsChanged=()=>{this.containerRef.current&&(this.containerRef.current.innerHTML=Jc.iconsRenderedHtml())},this.containerRef=v.createRef()}componentDidMount(){this.onIconsChanged(),Jc.onIconsChanged.add(this.onIconsChanged)}componentWillUnmount(){Jc.onIconsChanged.remove(this.onIconsChanged)}render(){const e={display:"none"};return v.createElement("svg",{style:e,id:"sv-icon-holder-global-container",ref:this.containerRef})}}class Fh extends ft{constructor(e){super(e),this.isInitialized=!1,this.init=()=>{this.isInitialized||(X.showDialog=(t,i)=>this.showDialog(t,i),this.isInitialized=!0)},this.clean=()=>{this.isInitialized&&(X.showDialog=void 0,this.isInitialized=!1)},this.state={changed:0},this.descriptor={init:this.init,clean:this.clean}}static addModalDescriptor(e){X.showDialog||e.init(),this.modalDescriptors.push(e)}static removeModalDescriptor(e){e.clean(),this.modalDescriptors.splice(this.modalDescriptors.indexOf(e),1),!X.showDialog&&this.modalDescriptors[0]&&this.modalDescriptors[0].init()}renderElement(){return this.model?_m.createPortal(v.createElement(Tv,{model:this.model}),this.model.container):null}showDialog(e,t){this.model=y5(e,t);const i=(s,n)=>{n.isVisible||(this.model.dispose(),this.model=void 0,this.setState({changed:this.state.changed+1}))};return this.model.onVisibilityChanged.add(i),this.model.model.isVisible=!0,this.setState({changed:this.state.changed+1}),this.model}componentDidMount(){Fh.addModalDescriptor(this.descriptor)}componentWillUnmount(){this.model&&(this.model.dispose(),this.model=void 0),Fh.removeModalDescriptor(this.descriptor)}}Fh.modalDescriptors=[];/*!
 * surveyjs - Survey JavaScript library v2.2.2
 * Copyright (c) 2015-2025 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var F5={modernbooleancheckchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>',modernbooleancheckind:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>',modernbooleancheckunchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>',moderncheck:'<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>',modernradio:'<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>',progressbutton:'<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>',removefile:'<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>',timercircle:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>',"add-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 11H17V13H13V17H11V13H7V11H11V7H13V11ZM23 12C23 18.1 18.1 23 12 23C5.9 23 1 18.1 1 12C1 5.9 5.9 1 12 1C18.1 1 23 5.9 23 12ZM21 12C21 7 17 3 12 3C7 3 3 7 3 12C3 17 7 21 12 21C17 21 21 17 21 12Z"></path></svg>',"arrowleft-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.4L8.7 13.3L7.3 14.7L0.599998 7.99999L7.3 1.29999L8.7 2.69999L4.4 6.99999H15V8.99999Z"></path></svg>',"arrowright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>',"camera-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z"></path></svg>',"camera-32x32":'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 6H23.8C23.34 6 22.92 5.77 22.66 5.39L22.25 4.78C21.51 3.66 20.26 3 18.92 3H13.06C11.72 3 10.48 3.67 9.73 4.78L9.32 5.39C9.07 5.77 8.64 6 8.18 6H4.98C2.79 6 1 7.79 1 10V24C1 26.21 2.79 28 5 28H27C29.21 28 31 26.21 31 24V10C31 7.79 29.21 6 27 6ZM29 24C29 25.1 28.1 26 27 26H5C3.9 26 3 25.1 3 24V10C3 8.9 3.9 8 5 8H8.2C9.33 8 10.38 7.44 11 6.5L11.41 5.89C11.78 5.33 12.41 5 13.07 5H18.93C19.6 5 20.22 5.33 20.59 5.89L21 6.5C21.62 7.44 22.68 8 23.8 8H27C28.1 8 29 8.9 29 10V24ZM16 9C12.13 9 9 12.13 9 16C9 19.87 12.13 23 16 23C19.87 23 23 19.87 23 16C23 12.13 19.87 9 16 9ZM16 21C13.24 21 11 18.76 11 16C11 13.24 13.24 11 16 11C18.76 11 21 13.24 21 16C21 18.76 18.76 21 16 21ZM17 13C17 13.55 16.55 14 16 14C14.9 14 14 14.9 14 16C14 16.55 13.55 17 13 17C12.45 17 12 16.55 12 16C12 13.79 13.79 12 16 12C16.55 12 17 12.45 17 13Z"></path></svg>',"cancel-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>',"check-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.003 14.413L0.292999 9.70303L1.703 8.29303L5.003 11.583L14.293 2.29303L15.703 3.70303L5.003 14.413Z"></path></svg>',"check-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>',"chevrondown-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>',"chevronright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.64648 12.6465L6.34648 13.3465L11.7465 8.04648L6.34648 2.64648L5.64648 3.34648L10.2465 8.04648L5.64648 12.6465Z"></path></svg>',"clear-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>',"clear-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>',"close-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.43 8.0025L13.7 3.7225C14.09 3.3325 14.09 2.6925 13.7 2.2925C13.31 1.9025 12.67 1.9025 12.27 2.2925L7.99 6.5725L3.72 2.3025C3.33 1.9025 2.69 1.9025 2.3 2.3025C1.9 2.6925 1.9 3.3325 2.3 3.7225L6.58 8.0025L2.3 12.2825C1.91 12.6725 1.91 13.3125 2.3 13.7125C2.69 14.1025 3.33 14.1025 3.73 13.7125L8.01 9.4325L12.29 13.7125C12.68 14.1025 13.32 14.1025 13.72 13.7125C14.11 13.3225 14.11 12.6825 13.72 12.2825L9.44 8.0025H9.43Z"></path></svg>',"close-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.4101 12L20.7001 4.71C21.0901 4.32 21.0901 3.69 20.7001 3.3C20.3101 2.91 19.6801 2.91 19.2901 3.3L12.0001 10.59L4.71006 3.29C4.32006 2.9 3.68006 2.9 3.29006 3.29C2.90006 3.68 2.90006 4.32 3.29006 4.71L10.5801 12L3.29006 19.29C2.90006 19.68 2.90006 20.31 3.29006 20.7C3.49006 20.9 3.74006 20.99 4.00006 20.99C4.26006 20.99 4.51006 20.89 4.71006 20.7L12.0001 13.41L19.2901 20.7C19.4901 20.9 19.7401 20.99 20.0001 20.99C20.2601 20.99 20.5101 20.89 20.7101 20.7C21.1001 20.31 21.1001 19.68 20.7101 19.29L13.4201 12H13.4101Z"></path></svg>',"collapse-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 6L3 5L8 10L13 5L14 6L8 12L2 6Z"></path></svg>',"collapsedetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>',"delete-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 2H14H11V1C11 0.4 10.6 0 10 0H7C6.4 0 6 0.4 6 1V2H3H2V4H3V14C3 15.1 3.9 16 5 16H12C13.1 16 14 15.1 14 14V4H15V2ZM7 1H10V2H7V1ZM12 14H5V4H12V14ZM7 13H6V5H7V13ZM9 13H8V5H9V13ZM11 13H10V5H11V13Z"></path></svg>',"delete-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>',"drag-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 6C13 4.9 13.9 4 15 4C16.1 4 17 4.9 17 6C17 7.1 16.1 8 15 8C13.9 8 13 7.1 13 6ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16ZM9 16C7.9 16 7 16.9 7 18C7 19.1 7.9 20 9 20C10.1 20 11 19.1 11 18C11 16.9 10.1 16 9 16Z"></path></svg>',"draghorizontal-24x16":'<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M18 9C19.1 9 20 9.9 20 11C20 12.1 19.1 13 18 13C16.9 13 16 12.1 16 11C16 9.9 16.9 9 18 9ZM20 5C20 3.9 19.1 3 18 3C16.9 3 16 3.9 16 5C16 6.1 16.9 7 18 7C19.1 7 20 6.1 20 5ZM14 11C14 9.9 13.1 9 12 9C10.9 9 10 9.9 10 11C10 12.1 10.9 13 12 13C13.1 13 14 12.1 14 11ZM14 5C14 3.9 13.1 3 12 3C10.9 3 10 3.9 10 5C10 6.1 10.9 7 12 7C13.1 7 14 6.1 14 5ZM8 11C8 9.9 7.1 9 6 9C4.9 9 4 9.9 4 11C4 12.1 4.9 13 6 13C7.1 13 8 12.1 8 11ZM8 5C8 3.9 7.1 3 6 3C4.9 3 4 3.9 4 5C4 6.1 4.9 7 6 7C7.1 7 8 6.1 8 5Z"></path></svg>',"editsmall-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.59 4.5884L11.42 2.4184C11.03 2.0284 10.52 1.8284 10.01 1.8284C9.5 1.8284 8.99 2.0284 8.6 2.4184L3.76 7.2384C2.63 8.3684 2 9.8884 2 11.4784V12.9884C2 13.5384 2.45 13.9884 3 13.9884H4.51C6.1 13.9884 7.63 13.3584 8.75 12.2284L13.58 7.3984C14.36 6.6184 14.36 5.3484 13.58 4.5684L13.59 4.5884ZM7.35 10.8284C6.59 11.5884 5.59 11.9984 4.52 11.9984H4.01V11.4884C4.01 10.4184 4.43 9.4184 5.18 8.6584L7.72 6.1184L9.89 8.2884L7.35 10.8284ZM11.3 6.8784L9.13 4.7084L10.01 3.8284L12.18 5.9984L11.3 6.8784Z"></path></svg>',"expand-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 14L5 13L10 8L5 3L6 2L12 8L6 14Z"></path></svg>',"expanddetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>',"file-72x72":'<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>',"flip-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23 12.0037C23 14.2445 21.7794 16.3052 19.5684 17.8257C19.3984 17.9458 19.1983 18.0058 19.0082 18.0058C18.688 18.0058 18.3779 17.8557 18.1778 17.5756C17.8677 17.1155 17.9777 16.4953 18.4379 16.1852C20.0887 15.0448 21.0091 13.5643 21.0091 12.0138C21.0091 8.70262 16.9673 6.01171 12.005 6.01171C11.4948 6.01171 10.9945 6.04172 10.5043 6.09173L11.7149 7.30215C12.105 7.69228 12.105 8.32249 11.7149 8.71263C11.5148 8.9127 11.2647 9.00273 11.0045 9.00273C10.7444 9.00273 10.4943 8.90269 10.2942 8.71263L6.58254 5.00136L10.2842 1.2901C10.6744 0.899964 11.3047 0.899964 11.6949 1.2901C12.085 1.68023 12.085 2.31045 11.6949 2.70058L10.3042 4.09105C10.8545 4.03103 11.4147 4.00102 11.985 4.00102C18.0578 4.00102 22.99 7.59225 22.99 12.0037H23ZM12.2851 15.2949C11.895 15.685 11.895 16.3152 12.2851 16.7054L13.4957 17.9158C13.0055 17.9758 12.4952 17.9958 11.995 17.9958C7.03274 17.9958 2.99091 15.3049 2.99091 11.9937C2.99091 10.4332 3.90132 8.95271 5.56207 7.82232C6.02228 7.51222 6.13233 6.89201 5.82219 6.43185C5.51205 5.97169 4.89177 5.86166 4.43156 6.17176C2.22055 7.69228 1 9.76299 1 11.9937C1 16.4052 5.93224 19.9965 12.005 19.9965C12.5753 19.9965 13.1355 19.9665 13.6858 19.9064L12.2951 21.2969C11.905 21.6871 11.905 22.3173 12.2951 22.7074C12.4952 22.9075 12.7453 22.9975 13.0055 22.9975C13.2656 22.9975 13.5157 22.8975 13.7158 22.7074L17.4275 18.9961L13.7158 15.2849C13.3256 14.8947 12.6953 14.8947 12.3051 15.2849L12.2851 15.2949Z"></path></svg>',"folder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.93 9H21V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H10L8 3H4C3.46957 3 2.96086 3.21071 2.58579 3.58579C2.21071 3.96086 2 4.46957 2 5L2 21H21L23.89 11.63C23.9916 11.3244 24.0179 10.9988 23.9667 10.6809C23.9155 10.363 23.7882 10.0621 23.5958 9.80392C23.4034 9.54571 23.1514 9.33779 22.8614 9.19782C22.5714 9.05786 22.2519 8.99 21.93 9ZM4 5H7.17L8.59 6.41L9.17 7H19V9H6L4 15V5ZM22 11L19.54 19H4.77L7.44 11H22Z"></path></svg>',"fullsize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 13H4C2.9 13 2 12.1 2 11V5C2 3.9 2.9 3 4 3H12C13.1 3 14 3.9 14 5V11C14 12.1 13.1 13 12 13ZM4 5V11H12V5H4Z"></path></svg>',"image-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M36 8H12C9.79 8 8 9.79 8 12V36C8 38.21 9.79 40 12 40H36C38.21 40 40 38.21 40 36V12C40 9.79 38.21 8 36 8ZM38 36C38 37.1 37.1 38 36 38H12C10.9 38 10 37.1 10 36V12C10 10.9 10.9 10 12 10H36C37.1 10 38 10.9 38 12V36ZM14 17C14 15.34 15.34 14 17 14C18.66 14 20 15.34 20 17C20 18.66 18.66 20 17 20C15.34 20 14 18.66 14 17ZM27 24L36 36H12L19 27L23 29L27 24Z"></path></svg>',"loading-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>',"maximize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 10.71L4.42 13H6.01C6.56 13 7.01 13.45 7.01 14C7.01 14.55 6.56 15 6.01 15H2C1.45 15 1 14.55 1 14V10C1 9.45 1.45 9 2 9C2.55 9 3 9.45 3 10V11.59L5.29 9.3C5.68 8.91 6.31 8.91 6.7 9.3C7.09 9.69 7.09 10.32 6.7 10.71H6.71ZM14 1H10C9.45 1 9 1.45 9 2C9 2.55 9.45 3 10 3H11.59L9.3 5.29C8.91 5.68 8.91 6.31 9.3 6.7C9.5 6.9 9.75 6.99 10.01 6.99C10.27 6.99 10.52 6.89 10.72 6.7L13.01 4.41V6C13.01 6.55 13.46 7 14.01 7C14.56 7 15.01 6.55 15.01 6V2C15.01 1.45 14.56 1 14.01 1H14Z"></path></svg>',"minimize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 9H3C2.45 9 2 8.55 2 8C2 7.45 2.45 7 3 7H13C13.55 7 14 7.45 14 8C14 8.55 13.55 9 13 9Z"></path></svg>',"more-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>',"navmenu-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z"></path></svg>',"noimage-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></svg>',"ranking-arrows":'<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>',"rankingundefined-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>',"rating-star-2":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>',"rating-star-small-2":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>',"rating-star-small":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>',"rating-star":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>',"reorder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 5L12 0L7 5H11V9H13V5H17Z"></path><path d="M13 19V15H11V19H7L12 24L17 19H13Z"></path></svg>',"restoredown-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 6C15 6.55 14.55 7 14 7H10C9.45 7 9 6.55 9 6V2C9 1.45 9.45 1 10 1C10.55 1 11 1.45 11 2V3.59L13.29 1.29C13.49 1.09 13.74 1 14 1C14.26 1 14.51 1.1 14.71 1.29C15.1 1.68 15.1 2.31 14.71 2.7L12.42 4.99H14.01C14.56 4.99 15.01 5.44 15.01 5.99L15 6ZM6 9H2C1.45 9 0.999998 9.45 0.999998 10C0.999998 10.55 1.45 11 2 11H3.59L1.29 13.29C0.899998 13.68 0.899998 14.31 1.29 14.7C1.68 15.09 2.31 15.09 2.7 14.7L4.99 12.41V14C4.99 14.55 5.44 15 5.99 15C6.54 15 6.99 14.55 6.99 14V10C6.99 9.45 6.54 9 5.99 9H6Z"></path></svg>',"search-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>',"smiley-rate1-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>',"smiley-rate10-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>',"smiley-rate2-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>',"smiley-rate3-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>',"smiley-rate4-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>',"smiley-rate5-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>',"smiley-rate6-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>',"smiley-rate7-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>',"smiley-rate8-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>',"smiley-rate9-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'};/*!
 * surveyjs - Survey JavaScript library v2.2.2
 * Copyright (c) 2015-2025 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var qw={modernbooleancheckchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>',modernbooleancheckind:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>',modernbooleancheckunchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>',moderncheck:'<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>',modernradio:'<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>',progressbutton:'<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>',removefile:'<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>',timercircle:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>',"add-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.75 12C15.75 12.41 15.41 12.75 15 12.75H12.75V15C12.75 15.41 12.41 15.75 12 15.75C11.59 15.75 11.25 15.41 11.25 15V12.75H9C8.59 12.75 8.25 12.41 8.25 12C8.25 11.59 8.59 11.25 9 11.25H11.25V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9V11.25H15C15.41 11.25 15.75 11.59 15.75 12ZM21.75 12C21.75 17.38 17.38 21.75 12 21.75C6.62 21.75 2.25 17.38 2.25 12C2.25 6.62 6.62 2.25 12 2.25C17.38 2.25 21.75 6.62 21.75 12ZM20.25 12C20.25 7.45 16.55 3.75 12 3.75C7.45 3.75 3.75 7.45 3.75 12C3.75 16.55 7.45 20.25 12 20.25C16.55 20.25 20.25 16.55 20.25 12Z"></path></svg>',"arrowleft-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.7475 7.9975C14.7475 8.4075 14.4075 8.7475 13.9975 8.7475H3.8075L7.5275 12.4675C7.8175 12.7575 7.8175 13.2375 7.5275 13.5275C7.3775 13.6775 7.1875 13.7475 6.9975 13.7475C6.8075 13.7475 6.6175 13.6775 6.4675 13.5275L1.4675 8.5275C1.1775 8.2375 1.1775 7.7575 1.4675 7.4675L6.4675 2.4675C6.7575 2.1775 7.2375 2.1775 7.5275 2.4675C7.8175 2.7575 7.8175 3.2375 7.5275 3.5275L3.8075 7.2475H13.9975C14.4075 7.2475 14.7475 7.5875 14.7475 7.9975Z"></path></svg>',"arrowright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 8.5275L9.53 13.5275C9.38 13.6775 9.19 13.7475 9 13.7475C8.81 13.7475 8.62 13.6775 8.47 13.5275C8.18 13.2375 8.18 12.7575 8.47 12.4675L12.19 8.7475H2C1.59 8.7475 1.25 8.4075 1.25 7.9975C1.25 7.5875 1.59 7.2475 2 7.2475H12.19L8.47 3.5275C8.18 3.2375 8.18 2.7575 8.47 2.4675C8.76 2.1775 9.24 2.1775 9.53 2.4675L14.53 7.4675C14.82 7.7575 14.82 8.2375 14.53 8.5275Z"></path></svg>',"camera-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.19 4.25H17.12C16.72 4.25 16.35 4.03 16.17 3.67C15.73 2.8 14.86 2.25 13.88 2.25H10.12C9.14 2.25 8.27 2.79 7.83 3.67C7.65 4.03 7.29 4.25 6.88 4.25H4.81C3.4 4.25 2.25 5.4 2.25 6.81V18.19C2.25 19.6 3.4 20.75 4.81 20.75H19.19C20.6 20.75 21.75 19.6 21.75 18.19V6.81C21.75 5.4 20.6 4.25 19.19 4.25ZM20.25 18.19C20.25 18.77 19.78 19.25 19.19 19.25H4.81C4.23 19.25 3.75 18.78 3.75 18.19V6.81C3.75 6.23 4.22 5.75 4.81 5.75H6.88C7.86 5.75 8.73 5.21 9.17 4.33C9.35 3.97 9.71 3.75 10.12 3.75H13.88C14.28 3.75 14.65 3.97 14.83 4.33C15.27 5.2 16.14 5.75 17.12 5.75H19.19C19.77 5.75 20.25 6.22 20.25 6.81V18.19ZM12 6.25C8.83 6.25 6.25 8.83 6.25 12C6.25 15.17 8.83 17.75 12 17.75C15.17 17.75 17.75 15.17 17.75 12C17.75 8.83 15.17 6.25 12 6.25ZM12 16.25C9.66 16.25 7.75 14.34 7.75 12C7.75 9.66 9.66 7.75 12 7.75C14.34 7.75 16.25 9.66 16.25 12C16.25 14.34 14.34 16.25 12 16.25ZM14.75 12C14.75 13.52 13.52 14.75 12 14.75C11.59 14.75 11.25 14.41 11.25 14C11.25 13.59 11.59 13.25 12 13.25C12.69 13.25 13.25 12.69 13.25 12C13.25 11.59 13.59 11.25 14 11.25C14.41 11.25 14.75 11.59 14.75 12Z"></path></svg>',"camera-32x32":'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M25 7.25H22.19C21.73 7.25 21.31 7 21.09 6.59L20.89 6.22C20.23 5.01 18.97 4.25 17.59 4.25H14.41C13.03 4.25 11.77 5 11.11 6.22L10.91 6.6C10.69 7 10.27 7.26 9.81 7.26H7C4.93 7.26 3.25 8.94 3.25 11.01V24.01C3.25 26.08 4.93 27.76 7 27.76H25C27.07 27.76 28.75 26.08 28.75 24.01V11C28.75 8.93 27.07 7.25 25 7.25ZM27.25 24C27.25 25.24 26.24 26.25 25 26.25H7C5.76 26.25 4.75 25.24 4.75 24V11C4.75 9.76 5.76 8.75 7 8.75H9.81C10.82 8.75 11.75 8.2 12.23 7.31L12.43 6.94C12.82 6.21 13.58 5.76 14.41 5.76H17.59C18.42 5.76 19.18 6.21 19.57 6.94L19.77 7.31C20.25 8.2 21.18 8.76 22.19 8.76H25C26.24 8.76 27.25 9.77 27.25 11.01V24.01V24ZM16 10.25C12.28 10.25 9.25 13.28 9.25 17C9.25 20.72 12.28 23.75 16 23.75C19.72 23.75 22.75 20.72 22.75 17C22.75 13.28 19.72 10.25 16 10.25ZM16 22.25C13.11 22.25 10.75 19.89 10.75 17C10.75 14.11 13.11 11.75 16 11.75C18.89 11.75 21.25 14.11 21.25 17C21.25 19.89 18.89 22.25 16 22.25ZM19.75 17C19.75 19.07 18.07 20.75 16 20.75C15.59 20.75 15.25 20.41 15.25 20C15.25 19.59 15.59 19.25 16 19.25C17.24 19.25 18.25 18.24 18.25 17C18.25 16.59 18.59 16.25 19 16.25C19.41 16.25 19.75 16.59 19.75 17Z"></path></svg>',"cancel-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.8099 11.75L15.2799 9.28C15.5699 8.99 15.5699 8.51 15.2799 8.22C14.9899 7.93 14.5099 7.93 14.2199 8.22L11.7499 10.69L9.27994 8.22C8.98994 7.93 8.50994 7.93 8.21994 8.22C7.92994 8.51 7.92994 8.99 8.21994 9.28L10.6899 11.75L8.21994 14.22C7.92994 14.51 7.92994 14.99 8.21994 15.28C8.36994 15.43 8.55994 15.5 8.74994 15.5C8.93994 15.5 9.12994 15.43 9.27994 15.28L11.7499 12.81L14.2199 15.28C14.3699 15.43 14.5599 15.5 14.7499 15.5C14.9399 15.5 15.1299 15.43 15.2799 15.28C15.5699 14.99 15.5699 14.51 15.2799 14.22L12.8099 11.75Z"></path></svg>',"check-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.0275 5.0275L6.5275 12.5275C6.3775 12.6775 6.1875 12.7475 5.9975 12.7475C5.8075 12.7475 5.6175 12.6775 5.4675 12.5275L2.4675 9.5275C2.1775 9.2375 2.1775 8.7575 2.4675 8.4675C2.7575 8.1775 3.2375 8.1775 3.5275 8.4675L5.9975 10.9375L12.9675 3.9675C13.2575 3.6775 13.7375 3.6775 14.0275 3.9675C14.3175 4.2575 14.3175 4.7375 14.0275 5.0275Z"></path></svg>',"check-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 7.5275L9.5275 17.5275C9.3775 17.6775 9.1875 17.7475 8.9975 17.7475C8.8075 17.7475 8.6175 17.6775 8.4675 17.5275L4.4675 13.5275C4.1775 13.2375 4.1775 12.7575 4.4675 12.4675C4.7575 12.1775 5.2375 12.1775 5.5275 12.4675L8.9975 15.9375L18.4675 6.4675C18.7575 6.1775 19.2375 6.1775 19.5275 6.4675C19.8175 6.7575 19.8175 7.2375 19.5275 7.5275Z"></path></svg>',"chevrondown-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.5275 10.5275L12.5275 14.5275C12.3775 14.6775 12.1875 14.7475 11.9975 14.7475C11.8075 14.7475 11.6175 14.6775 11.4675 14.5275L7.4675 10.5275C7.1775 10.2375 7.1775 9.7575 7.4675 9.4675C7.7575 9.1775 8.2375 9.1775 8.5275 9.4675L11.9975 12.9375L15.4675 9.4675C15.7575 9.1775 16.2375 9.1775 16.5275 9.4675C16.8175 9.7575 16.8175 10.2375 16.5275 10.5275Z"></path></svg>',"chevronright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.35 8.34627L7.35 12.3463C7.25 12.4463 7.12 12.4963 7 12.4963C6.88 12.4963 6.74 12.4463 6.65 12.3463C6.45 12.1463 6.45 11.8363 6.65 11.6363L10.3 7.98627L6.65 4.34627C6.45 4.15627 6.45 3.83627 6.65 3.64627C6.85 3.45627 7.16 3.44627 7.35 3.64627L11.35 7.64627C11.55 7.84627 11.55 8.15627 11.35 8.35627V8.34627Z"></path></svg>',"clear-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 11.65C12.55 11.85 12.55 12.16 12.35 12.36C12.25 12.46 12.12 12.51 12 12.51C11.88 12.51 11.74 12.46 11.65 12.36L8 8.71L4.35 12.36C4.25 12.46 4.12 12.51 4 12.51C3.88 12.51 3.74 12.46 3.65 12.36C3.45 12.16 3.45 11.85 3.65 11.65L7.3 8L3.65 4.35C3.45 4.16 3.45 3.84 3.65 3.65C3.85 3.46 4.16 3.45 4.35 3.65L8 7.3L11.65 3.65C11.85 3.45 12.16 3.45 12.36 3.65C12.56 3.85 12.56 4.16 12.36 4.36L8.71 8.01L12.36 11.66L12.35 11.65Z"></path></svg>',"clear-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.12 10.9325C20.64 10.4125 20.93 9.7225 20.93 8.9925C20.93 8.2625 20.64 7.5725 20.12 7.0525L16.95 3.8825C15.88 2.8125 14.13 2.8125 13.06 3.8825L3.88 13.0525C3.36 13.5725 3.07 14.2625 3.07 14.9925C3.07 15.7225 3.36 16.4125 3.88 16.9325L5.64 18.6925C6.57 19.6225 7.78 20.0825 9 20.0825C10.22 20.0825 11.43 19.6225 12.36 18.6925L20.12 10.9325ZM14.12 4.9325C14.36 4.6925 14.67 4.5625 15 4.5625C15.33 4.5625 15.65 4.6925 15.88 4.9325L19.05 8.1025C19.54 8.5925 19.54 9.3825 19.05 9.8725L12.99 15.9325L8.05 10.9925L14.12 4.9325ZM6.7 17.6325L4.94 15.8725C4.45 15.3825 4.45 14.5925 4.94 14.1025L7 12.0425L11.94 16.9825L11.3 17.6225C10.07 18.8525 7.93 18.8525 6.7 17.6225V17.6325ZM22.75 20.9925C22.75 21.4025 22.41 21.7425 22 21.7425H14C13.59 21.7425 13.25 21.4025 13.25 20.9925C13.25 20.5825 13.59 20.2425 14 20.2425H22C22.41 20.2425 22.75 20.5825 22.75 20.9925ZM4.75 20.9925C4.75 21.4025 4.41 21.7425 4 21.7425H2C1.59 21.7425 1.25 21.4025 1.25 20.9925C1.25 20.5825 1.59 20.2425 2 20.2425H4C4.41 20.2425 4.75 20.5825 4.75 20.9925Z"></path></svg>',"close-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.5275 12.4675C13.8175 12.7575 13.8175 13.2375 13.5275 13.5275C13.3775 13.6775 13.1875 13.7475 12.9975 13.7475C12.8075 13.7475 12.6175 13.6775 12.4675 13.5275L7.9975 9.0575L3.5275 13.5275C3.3775 13.6775 3.1875 13.7475 2.9975 13.7475C2.8075 13.7475 2.6175 13.6775 2.4675 13.5275C2.1775 13.2375 2.1775 12.7575 2.4675 12.4675L6.9375 7.9975L2.4675 3.5275C2.1775 3.2375 2.1775 2.7575 2.4675 2.4675C2.7575 2.1775 3.2375 2.1775 3.5275 2.4675L7.9975 6.9375L12.4675 2.4675C12.7575 2.1775 13.2375 2.1775 13.5275 2.4675C13.8175 2.7575 13.8175 3.2375 13.5275 3.5275L9.0575 7.9975L13.5275 12.4675Z"></path></svg>',"close-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 18.4675C19.8175 18.7575 19.8175 19.2375 19.5275 19.5275C19.3775 19.6775 19.1875 19.7475 18.9975 19.7475C18.8075 19.7475 18.6175 19.6775 18.4675 19.5275L11.9975 13.0575L5.5275 19.5275C5.3775 19.6775 5.1875 19.7475 4.9975 19.7475C4.8075 19.7475 4.6175 19.6775 4.4675 19.5275C4.1775 19.2375 4.1775 18.7575 4.4675 18.4675L10.9375 11.9975L4.4675 5.5275C4.1775 5.2375 4.1775 4.7575 4.4675 4.4675C4.7575 4.1775 5.2375 4.1775 5.5275 4.4675L11.9975 10.9375L18.4675 4.4675C18.7575 4.1775 19.2375 4.1775 19.5275 4.4675C19.8175 4.7575 19.8175 5.2375 19.5275 5.5275L13.0575 11.9975L19.5275 18.4675Z"></path></svg>',"collapse-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"collapsedetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"delete-16x16":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 3.25H10.75V3C10.75 2.04 9.96 1.25 9 1.25H7C6.04 1.25 5.25 2.04 5.25 3V3.25H3C2.59 3.25 2.25 3.59 2.25 4C2.25 4.41 2.59 4.75 3 4.75H3.25V13C3.25 13.96 4.04 14.75 5 14.75H11C11.96 14.75 12.75 13.96 12.75 13V4.75H13C13.41 4.75 13.75 4.41 13.75 4C13.75 3.59 13.41 3.25 13 3.25ZM6.75 3C6.75 2.86 6.86 2.75 7 2.75H9C9.14 2.75 9.25 2.86 9.25 3V3.25H6.75V3ZM11.25 13C11.25 13.14 11.14 13.25 11 13.25H5C4.86 13.25 4.75 13.14 4.75 13V4.75H11.25V13ZM9.25 6.25C9.66 6.25 10 6.59 10 7V11C10 11.41 9.66 11.75 9.25 11.75C8.84 11.75 8.5 11.41 8.5 11V7C8.5 6.59 8.84 6.25 9.25 6.25ZM7.5 7V11C7.5 11.41 7.16 11.75 6.75 11.75C6.34 11.75 6 11.41 6 11V7C6 6.59 6.34 6.25 6.75 6.25C7.16 6.25 7.5 6.59 7.5 7Z"></path></svg>',"delete-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.75 9V17C12.75 17.41 12.41 17.75 12 17.75C11.59 17.75 11.25 17.41 11.25 17V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9ZM14.25 9V17C14.25 17.41 14.59 17.75 15 17.75C15.41 17.75 15.75 17.41 15.75 17V9C15.75 8.59 15.41 8.25 15 8.25C14.59 8.25 14.25 8.59 14.25 9ZM9 8.25C8.59 8.25 8.25 8.59 8.25 9V17C8.25 17.41 8.59 17.75 9 17.75C9.41 17.75 9.75 17.41 9.75 17V9C9.75 8.59 9.41 8.25 9 8.25ZM20.75 6C20.75 6.41 20.41 6.75 20 6.75H18.75V18C18.75 19.52 17.52 20.75 16 20.75H8C6.48 20.75 5.25 19.52 5.25 18V6.75H4C3.59 6.75 3.25 6.41 3.25 6C3.25 5.59 3.59 5.25 4 5.25H8.25V4C8.25 3.04 9.04 2.25 10 2.25H14C14.96 2.25 15.75 3.04 15.75 4V5.25H20C20.41 5.25 20.75 5.59 20.75 6ZM9.75 5.25H14.25V4C14.25 3.86 14.14 3.75 14 3.75H10C9.86 3.75 9.75 3.86 9.75 4V5.25ZM17.25 6.75H6.75V18C6.75 18.69 7.31 19.25 8 19.25H16C16.69 19.25 17.25 18.69 17.25 18V6.75Z"></path></svg>',"drag-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 8.75C15.19 8.75 15.75 8.19 15.75 7.5C15.75 6.81 15.19 6.25 14.5 6.25C13.81 6.25 13.25 6.81 13.25 7.5C13.25 8.19 13.81 8.75 14.5 8.75ZM14.5 7.25C14.64 7.25 14.75 7.36 14.75 7.5C14.75 7.78 14.25 7.78 14.25 7.5C14.25 7.36 14.36 7.25 14.5 7.25ZM9.5 6.25C8.81 6.25 8.25 6.81 8.25 7.5C8.25 8.19 8.81 8.75 9.5 8.75C10.19 8.75 10.75 8.19 10.75 7.5C10.75 6.81 10.19 6.25 9.5 6.25ZM9.25 7.5C9.25 7.36 9.36 7.25 9.5 7.25C9.64 7.25 9.75 7.36 9.75 7.5C9.75 7.78 9.25 7.78 9.25 7.5ZM14.5 11.25C13.81 11.25 13.25 11.81 13.25 12.5C13.25 13.19 13.81 13.75 14.5 13.75C15.19 13.75 15.75 13.19 15.75 12.5C15.75 11.81 15.19 11.25 14.5 11.25ZM14.25 12.5C14.25 12.36 14.36 12.25 14.5 12.25C14.64 12.25 14.75 12.36 14.75 12.5C14.75 12.78 14.25 12.78 14.25 12.5ZM9.5 11.25C8.81 11.25 8.25 11.81 8.25 12.5C8.25 13.19 8.81 13.75 9.5 13.75C10.19 13.75 10.75 13.19 10.75 12.5C10.75 11.81 10.19 11.25 9.5 11.25ZM9.25 12.5C9.25 12.36 9.36 12.25 9.5 12.25C9.64 12.25 9.75 12.36 9.75 12.5C9.75 12.78 9.25 12.78 9.25 12.5ZM14.5 16.25C13.81 16.25 13.25 16.81 13.25 17.5C13.25 18.19 13.81 18.75 14.5 18.75C15.19 18.75 15.75 18.19 15.75 17.5C15.75 16.81 15.19 16.25 14.5 16.25ZM14.25 17.5C14.25 17.36 14.36 17.25 14.5 17.25C14.64 17.25 14.75 17.36 14.75 17.5C14.75 17.78 14.25 17.78 14.25 17.5ZM9.5 16.25C8.81 16.25 8.25 16.81 8.25 17.5C8.25 18.19 8.81 18.75 9.5 18.75C10.19 18.75 10.75 18.19 10.75 17.5C10.75 16.81 10.19 16.25 9.5 16.25ZM9.25 17.5C9.25 17.36 9.36 17.25 9.5 17.25C9.64 17.25 9.75 17.36 9.75 17.5C9.75 17.78 9.25 17.78 9.25 17.5Z"></path></svg>',"draghorizontal-24x16":'<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 9.25C16.81 9.25 16.25 9.81 16.25 10.5C16.25 11.19 16.81 11.75 17.5 11.75C18.19 11.75 18.75 11.19 18.75 10.5C18.75 9.81 18.19 9.25 17.5 9.25ZM17.25 10.5C17.25 10.36 17.36 10.25 17.5 10.25C17.64 10.25 17.75 10.36 17.75 10.5C17.75 10.78 17.25 10.78 17.25 10.5ZM17.5 6.75C18.19 6.75 18.75 6.19 18.75 5.5C18.75 4.81 18.19 4.25 17.5 4.25C16.81 4.25 16.25 4.81 16.25 5.5C16.25 6.19 16.81 6.75 17.5 6.75ZM17.5 5.25C17.64 5.25 17.75 5.36 17.75 5.5C17.75 5.78 17.25 5.78 17.25 5.5C17.25 5.36 17.36 5.25 17.5 5.25ZM12.5 9.25C11.81 9.25 11.25 9.81 11.25 10.5C11.25 11.19 11.81 11.75 12.5 11.75C13.19 11.75 13.75 11.19 13.75 10.5C13.75 9.81 13.19 9.25 12.5 9.25ZM12.25 10.5C12.25 10.36 12.36 10.25 12.5 10.25C12.64 10.25 12.75 10.36 12.75 10.5C12.75 10.78 12.25 10.78 12.25 10.5ZM12.5 4.25C11.81 4.25 11.25 4.81 11.25 5.5C11.25 6.19 11.81 6.75 12.5 6.75C13.19 6.75 13.75 6.19 13.75 5.5C13.75 4.81 13.19 4.25 12.5 4.25ZM12.25 5.5C12.25 5.36 12.36 5.25 12.5 5.25C12.64 5.25 12.75 5.36 12.75 5.5C12.75 5.78 12.25 5.78 12.25 5.5ZM7.5 9.25C6.81 9.25 6.25 9.81 6.25 10.5C6.25 11.19 6.81 11.75 7.5 11.75C8.19 11.75 8.75 11.19 8.75 10.5C8.75 9.81 8.19 9.25 7.5 9.25ZM7.25 10.5C7.25 10.36 7.36 10.25 7.5 10.25C7.64 10.25 7.75 10.36 7.75 10.5C7.75 10.78 7.25 10.78 7.25 10.5ZM7.5 4.25C6.81 4.25 6.25 4.81 6.25 5.5C6.25 6.19 6.81 6.75 7.5 6.75C8.19 6.75 8.75 6.19 8.75 5.5C8.75 4.81 8.19 4.25 7.5 4.25ZM7.25 5.5C7.25 5.36 7.36 5.25 7.5 5.25C7.64 5.25 7.75 5.36 7.75 5.5C7.75 5.78 7.25 5.78 7.25 5.5Z"></path></svg>',"editsmall-16x16":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.1209 3.05249L12.9509 2.88249C11.8809 1.81249 10.1309 1.81249 9.06089 2.88249L3.47089 8.46249C3.37089 8.56249 3.31089 8.68249 3.27089 8.81249L2.27089 12.8125C2.21089 13.0625 2.28089 13.3425 2.47089 13.5225C2.61089 13.6625 2.80089 13.7425 3.00089 13.7425C3.06089 13.7425 3.12089 13.7425 3.18089 13.7225L7.18089 12.7225C7.31089 12.6925 7.43089 12.6225 7.53089 12.5225L13.1209 6.93249C14.1909 5.86249 14.1909 4.11249 13.1209 3.04249V3.05249ZM6.62089 11.3125L4.04089 11.9625L4.69089 9.38249L8.01089 6.06249L9.95089 8.00249L6.63089 11.3225L6.62089 11.3125ZM12.0609 5.87249L11.0009 6.93249L9.06089 4.99249L10.1209 3.93249C10.6109 3.44249 11.4009 3.44249 11.8909 3.93249L12.0609 4.10249C12.5509 4.59249 12.5509 5.38249 12.0609 5.87249Z"></path></svg>',"expand-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"expanddetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"file-72x72":'<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>',"flip-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 17.4775C14.82 17.7675 14.82 18.2475 14.53 18.5375L11.53 21.5375C11.38 21.6875 11.19 21.7575 11 21.7575C10.81 21.7575 10.62 21.6875 10.47 21.5375C10.18 21.2475 10.18 20.7675 10.47 20.4775L12.2 18.7475C12.13 18.7475 12.07 18.7475 12 18.7475C6.62 18.7475 2.25 15.7475 2.25 12.0575C2.25 10.2975 3.22 8.6375 4.99 7.3875C5.33 7.1475 5.8 7.2275 6.03 7.5675C6.27 7.9075 6.19 8.3775 5.85 8.6075C4.49 9.5675 3.74 10.7875 3.74 12.0575C3.74 14.9175 7.44 17.2475 11.99 17.2475C12.05 17.2475 12.11 17.2475 12.17 17.2475L10.46 15.5375C10.17 15.2475 10.17 14.7675 10.46 14.4775C10.75 14.1875 11.23 14.1875 11.52 14.4775L14.52 17.4775H14.53ZM12 5.2575C11.93 5.2575 11.87 5.2575 11.8 5.2575L13.53 3.5275C13.82 3.2375 13.82 2.7575 13.53 2.4675C13.24 2.1775 12.76 2.1775 12.47 2.4675L9.47 5.4675C9.18 5.7575 9.18 6.2375 9.47 6.5275L12.47 9.5275C12.62 9.6775 12.81 9.7475 13 9.7475C13.19 9.7475 13.38 9.6775 13.53 9.5275C13.82 9.2375 13.82 8.7575 13.53 8.4675L11.82 6.7575C11.88 6.7575 11.94 6.7575 12 6.7575C16.55 6.7575 20.25 9.0875 20.25 11.9475C20.25 13.2075 19.5 14.4375 18.14 15.3975C17.8 15.6375 17.72 16.1075 17.96 16.4475C18.11 16.6575 18.34 16.7675 18.57 16.7675C18.72 16.7675 18.87 16.7275 19 16.6275C20.77 15.3775 21.75 13.7175 21.75 11.9575C21.75 8.2675 17.38 5.2675 12 5.2675V5.2575Z"></path></svg>',"folder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.72 9.24C21.45 8.92 21.12 8.67 20.75 8.5V8C20.75 6.48 19.52 5.25 18 5.25H10.65C10.32 4.1 9.26 3.25 8 3.25H6C4.48 3.25 3.25 4.48 3.25 6V18C3.25 19.52 4.48 20.75 6 20.75H18.33C19.66 20.75 20.8 19.8 21.04 18.49L22.31 11.49C22.46 10.69 22.24 9.86 21.72 9.24ZM4.75 18V6C4.75 5.31 5.31 4.75 6 4.75H8C8.69 4.75 9.25 5.31 9.25 6C9.25 6.41 9.59 6.75 10 6.75H18C18.69 6.75 19.25 7.31 19.25 8V8.25H9.27C7.94 8.25 6.8 9.2 6.56 10.51L5.29 17.51C5.19 18.07 5.27 18.64 5.51 19.15C5.06 18.96 4.75 18.52 4.75 18ZM20.83 11.22L19.56 18.22C19.45 18.81 18.94 19.25 18.33 19.25H8C7.63 19.25 7.28 19.09 7.04 18.8C6.8 18.51 6.7 18.14 6.77 17.78L8.04 10.78C8.15 10.19 8.66 9.75 9.27 9.75H19.6C19.97 9.75 20.32 9.91 20.56 10.2C20.8 10.49 20.9 10.86 20.83 11.22Z"></path></svg>',"fullsize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 3.25H4C3.04 3.25 2.25 4.04 2.25 5V11C2.25 11.96 3.04 12.75 4 12.75H12C12.96 12.75 13.75 11.96 13.75 11V5C13.75 4.04 12.96 3.25 12 3.25ZM12.25 11C12.25 11.14 12.14 11.25 12 11.25H4C3.86 11.25 3.75 11.14 3.75 11V5C3.75 4.86 3.86 4.75 4 4.75H12C12.14 4.75 12.25 4.86 12.25 5V11Z"></path></svg>',"image-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M33 10.25H15C12.38 10.25 10.25 12.38 10.25 15V33C10.25 35.62 12.38 37.75 15 37.75H33C35.62 37.75 37.75 35.62 37.75 33V15C37.75 12.38 35.62 10.25 33 10.25ZM36.25 33C36.25 34.79 34.79 36.25 33 36.25H15C13.21 36.25 11.75 34.79 11.75 33V15C11.75 13.21 13.21 11.75 15 11.75H33C34.79 11.75 36.25 13.21 36.25 15V33ZM30.5 14.25C28.71 14.25 27.25 15.71 27.25 17.5C27.25 19.29 28.71 20.75 30.5 20.75C32.29 20.75 33.75 19.29 33.75 17.5C33.75 15.71 32.29 14.25 30.5 14.25ZM30.5 19.25C29.54 19.25 28.75 18.46 28.75 17.5C28.75 16.54 29.54 15.75 30.5 15.75C31.46 15.75 32.25 16.54 32.25 17.5C32.25 18.46 31.46 19.25 30.5 19.25ZM29.26 26.28C28.94 25.92 28.49 25.71 28.01 25.7C27.54 25.68 27.07 25.87 26.73 26.2L24.95 27.94L22.28 25.23C21.94 24.89 21.5 24.71 21 24.71C20.52 24.71 20.06 24.93 19.74 25.28L14.74 30.78C14.25 31.3 14.12 32.06 14.41 32.72C14.69 33.36 15.28 33.75 15.95 33.75H32.07C32.74 33.75 33.33 33.35 33.61 32.72C33.89 32.06 33.77 31.31 33.29 30.79L29.27 26.29L29.26 26.28ZM32.22 32.12C32.18 32.2 32.13 32.25 32.06 32.25H15.94C15.87 32.25 15.81 32.21 15.78 32.12C15.77 32.09 15.71 31.93 15.83 31.8L20.84 26.29C20.9 26.22 20.99 26.21 21.02 26.21C21.06 26.21 21.14 26.22 21.2 26.29L24.4 29.54C24.69 29.83 25.16 29.84 25.46 29.54L27.77 27.27C27.83 27.21 27.9 27.2 27.94 27.2C28.01 27.2 28.06 27.21 28.13 27.28L32.16 31.79C32.16 31.79 32.16 31.79 32.17 31.8C32.29 31.93 32.23 32.09 32.22 32.12Z"></path></svg>',"loading-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>',"maximize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 3V7C13.75 7.41 13.41 7.75 13 7.75C12.59 7.75 12.25 7.41 12.25 7V4.81L9.53 7.53C9.38 7.68 9.19 7.75 9 7.75C8.81 7.75 8.62 7.68 8.47 7.53C8.18 7.24 8.18 6.76 8.47 6.47L11.19 3.75H9C8.59 3.75 8.25 3.41 8.25 3C8.25 2.59 8.59 2.25 9 2.25H13C13.1 2.25 13.19 2.27 13.29 2.31C13.47 2.39 13.62 2.53 13.7 2.72C13.74 2.81 13.76 2.91 13.76 3.01L13.75 3ZM7.53 8.47C7.24 8.18 6.76 8.18 6.47 8.47L3.75 11.19V9C3.75 8.59 3.41 8.25 3 8.25C2.59 8.25 2.25 8.59 2.25 9V13C2.25 13.1 2.27 13.19 2.31 13.29C2.39 13.47 2.53 13.62 2.72 13.7C2.81 13.74 2.91 13.76 3.01 13.76H7.01C7.42 13.76 7.76 13.42 7.76 13.01C7.76 12.6 7.42 12.26 7.01 12.26H4.82L7.54 9.54C7.83 9.25 7.83 8.77 7.54 8.48L7.53 8.47Z"></path></svg>',"minimize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 8C13.75 8.41 13.41 8.75 13 8.75H3C2.59 8.75 2.25 8.41 2.25 8C2.25 7.59 2.59 7.25 3 7.25H13C13.41 7.25 13.75 7.59 13.75 8Z"></path></svg>',"more-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 10.25C11.04 10.25 10.25 11.04 10.25 12C10.25 12.96 11.04 13.75 12 13.75C12.96 13.75 13.75 12.96 13.75 12C13.75 11.04 12.96 10.25 12 10.25ZM11.75 12C11.75 11.86 11.86 11.75 12 11.75C12.14 11.75 12.25 11.86 12.25 12C12.25 12.28 11.75 12.28 11.75 12ZM19 10.25C18.04 10.25 17.25 11.04 17.25 12C17.25 12.96 18.04 13.75 19 13.75C19.96 13.75 20.75 12.96 20.75 12C20.75 11.04 19.96 10.25 19 10.25ZM18.75 12C18.75 11.86 18.86 11.75 19 11.75C19.14 11.75 19.25 11.86 19.25 12C19.25 12.28 18.75 12.28 18.75 12ZM5 10.25C4.04 10.25 3.25 11.04 3.25 12C3.25 12.96 4.04 13.75 5 13.75C5.96 13.75 6.75 12.96 6.75 12C6.75 11.04 5.96 10.25 5 10.25ZM4.75 12C4.75 11.86 4.86 11.75 5 11.75C5.14 11.75 5.25 11.86 5.25 12C5.25 12.28 4.75 12.28 4.75 12Z"></path></svg>',"navmenu-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.25 7C3.25 6.59 3.59 6.25 4 6.25H15C15.41 6.25 15.75 6.59 15.75 7C15.75 7.41 15.41 7.75 15 7.75H4C3.59 7.75 3.25 7.41 3.25 7ZM20 11.25H4C3.59 11.25 3.25 11.59 3.25 12C3.25 12.41 3.59 12.75 4 12.75H20C20.41 12.75 20.75 12.41 20.75 12C20.75 11.59 20.41 11.25 20 11.25ZM9 16.25H4C3.59 16.25 3.25 16.59 3.25 17C3.25 17.41 3.59 17.75 4 17.75H9C9.41 17.75 9.75 17.41 9.75 17C9.75 16.59 9.41 16.25 9 16.25Z"></path></svg>',"noimage-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M30.4975 14.2475C28.7075 14.2475 27.2475 15.7075 27.2475 17.4975C27.2475 19.2875 28.7075 20.7475 30.4975 20.7475C32.2875 20.7475 33.7475 19.2875 33.7475 17.4975C33.7475 15.7075 32.2875 14.2475 30.4975 14.2475ZM30.4975 19.2475C29.5375 19.2475 28.7475 18.4575 28.7475 17.4975C28.7475 16.5375 29.5375 15.7475 30.4975 15.7475C31.4575 15.7475 32.2475 16.5375 32.2475 17.4975C32.2475 18.4575 31.4575 19.2475 30.4975 19.2475ZM13.5175 11.2175C13.4375 10.8075 13.7075 10.4175 14.1175 10.3375C14.4275 10.2775 14.7175 10.2475 14.9975 10.2475H32.9975C35.6175 10.2475 37.7475 12.3775 37.7475 14.9975V32.9975C37.7475 33.2775 37.7175 33.5675 37.6575 33.8775C37.5875 34.2375 37.2775 34.4875 36.9175 34.4875C36.8675 34.4875 36.8275 34.4875 36.7775 34.4775C36.3675 34.3975 36.1075 34.0075 36.1775 33.5975C36.2175 33.3775 36.2375 33.1775 36.2375 32.9975V14.9975C36.2375 13.2075 34.7775 11.7475 32.9875 11.7475H14.9975C14.8075 11.7475 14.6175 11.7675 14.3975 11.8075C13.9875 11.8875 13.5975 11.6175 13.5175 11.2075V11.2175ZM34.4775 36.7775C34.5575 37.1875 34.2875 37.5775 33.8775 37.6575C33.5675 37.7175 33.2775 37.7475 32.9975 37.7475H14.9975C12.3775 37.7475 10.2475 35.6175 10.2475 32.9975V14.9975C10.2475 14.7175 10.2775 14.4275 10.3375 14.1175C10.4175 13.7075 10.8075 13.4375 11.2175 13.5175C11.6275 13.5975 11.8875 13.9875 11.8175 14.3975C11.7775 14.6175 11.7575 14.8175 11.7575 14.9975V32.9975C11.7575 34.7875 13.2175 36.2475 15.0075 36.2475H33.0075C33.1975 36.2475 33.3875 36.2275 33.6075 36.1875C34.0075 36.1075 34.4075 36.3775 34.4875 36.7875L34.4775 36.7775ZM15.8275 31.7975C15.6975 31.9375 15.7575 32.0875 15.7775 32.1175C15.8175 32.1975 15.8675 32.2475 15.9375 32.2475H29.8175C30.2275 32.2475 30.5675 32.5875 30.5675 32.9975C30.5675 33.4075 30.2275 33.7475 29.8175 33.7475H15.9375C15.2675 33.7475 14.6775 33.3475 14.3975 32.7175C14.1075 32.0575 14.2375 31.2975 14.7275 30.7775L19.7275 25.2775C20.0475 24.9275 20.5075 24.7175 20.9875 24.7075C21.4875 24.7275 21.9375 24.8875 22.2675 25.2275L25.4675 28.4775C25.7575 28.7675 25.7575 29.2475 25.4675 29.5375C25.1675 29.8275 24.6975 29.8275 24.4075 29.5375L21.2075 26.2875C21.1475 26.2175 21.0675 26.1875 21.0275 26.2075C20.9875 26.2075 20.9075 26.2175 20.8475 26.2875L15.8375 31.7975H15.8275ZM38.5275 38.5275C38.3775 38.6775 38.1875 38.7475 37.9975 38.7475C37.8075 38.7475 37.6175 38.6775 37.4675 38.5275L9.4675 10.5275C9.1775 10.2375 9.1775 9.7575 9.4675 9.4675C9.7575 9.1775 10.2375 9.1775 10.5275 9.4675L38.5275 37.4675C38.8175 37.7575 38.8175 38.2375 38.5275 38.5275Z"></path></svg>',"ranking-arrows":'<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>',"rankingundefined-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"rating-star-2":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>',"rating-star-small-2":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>',"rating-star-small":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>',"rating-star":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>',"reorder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.9444 10.75H15.0544C15.7144 10.75 16.3144 10.39 16.6144 9.80002C16.9144 9.22002 16.8644 8.52002 16.4844 7.98002L13.4244 3.71002C12.7644 2.79002 11.2344 2.79002 10.5744 3.71002L7.5244 7.99002C7.1444 8.53002 7.0944 9.22002 7.3944 9.81002C7.6944 10.4 8.2944 10.76 8.9544 10.76L8.9444 10.75ZM8.7444 8.86002L11.7944 4.58002C11.8644 4.49002 11.9544 4.48002 11.9944 4.48002C12.0344 4.48002 12.1344 4.49002 12.1944 4.58002L15.2544 8.86002C15.3344 8.97002 15.3044 9.07002 15.2744 9.12002C15.2444 9.17002 15.1844 9.26002 15.0544 9.26002H8.9444C8.8144 9.26002 8.7444 9.18002 8.7244 9.12002C8.7044 9.06002 8.6644 8.97002 8.7444 8.86002ZM15.0544 13.25H8.9444C8.2844 13.25 7.6844 13.61 7.3844 14.2C7.0844 14.78 7.1344 15.48 7.5144 16.02L10.5744 20.3C10.9044 20.76 11.4344 21.03 11.9944 21.03C12.5544 21.03 13.0944 20.76 13.4144 20.3L16.4744 16.02C16.8544 15.48 16.9044 14.79 16.6044 14.2C16.3044 13.61 15.7044 13.25 15.0444 13.25H15.0544ZM15.2644 15.15L12.2044 19.43C12.0744 19.61 11.9244 19.61 11.7944 19.43L8.7344 15.15C8.6544 15.04 8.6844 14.94 8.7144 14.89C8.7444 14.84 8.8044 14.75 8.9344 14.75H15.0444C15.1744 14.75 15.2444 14.83 15.2644 14.89C15.2844 14.95 15.3244 15.04 15.2444 15.15H15.2644Z"></path></svg>',"restoredown-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.69 8.71C7.73 8.8 7.75 8.9 7.75 9V13C7.75 13.41 7.41 13.75 7 13.75C6.59 13.75 6.25 13.41 6.25 13V10.81L3.53 13.53C3.38 13.68 3.19 13.75 3 13.75C2.81 13.75 2.62 13.68 2.47 13.53C2.18 13.24 2.18 12.76 2.47 12.47L5.19 9.75H3C2.59 9.75 2.25 9.41 2.25 9C2.25 8.59 2.59 8.25 3 8.25H7C7.1 8.25 7.19 8.27 7.29 8.31C7.47 8.39 7.62 8.53 7.7 8.72L7.69 8.71ZM13 6.25H10.81L13.53 3.53C13.82 3.24 13.82 2.76 13.53 2.47C13.24 2.18 12.76 2.18 12.47 2.47L9.75 5.19V3C9.75 2.59 9.41 2.25 9 2.25C8.59 2.25 8.25 2.59 8.25 3V7C8.25 7.1 8.27 7.19 8.31 7.29C8.39 7.47 8.53 7.62 8.72 7.7C8.81 7.74 8.91 7.76 9.01 7.76H13.01C13.42 7.76 13.76 7.42 13.76 7.01C13.76 6.6 13.42 6.26 13.01 6.26L13 6.25Z"></path></svg>',"search-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.9975 2.25C9.7275 2.25 6.2475 5.73 6.2475 10C6.2475 11.87 6.9075 13.58 8.0175 14.92L2.4675 20.47C2.1775 20.76 2.1775 21.24 2.4675 21.53C2.6175 21.68 2.8075 21.75 2.9975 21.75C3.1875 21.75 3.3775 21.68 3.5275 21.53L9.0775 15.98C10.4175 17.08 12.1275 17.75 13.9975 17.75C18.2675 17.75 21.7475 14.27 21.7475 10C21.7475 5.73 18.2675 2.25 13.9975 2.25ZM13.9975 16.25C10.5475 16.25 7.7475 13.45 7.7475 10C7.7475 6.55 10.5475 3.75 13.9975 3.75C17.4475 3.75 20.2475 6.55 20.2475 10C20.2475 13.45 17.4475 16.25 13.9975 16.25Z"></path></svg>',"smiley-rate1-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>',"smiley-rate10-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>',"smiley-rate2-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>',"smiley-rate3-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>',"smiley-rate4-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>',"smiley-rate5-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>',"smiley-rate6-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>',"smiley-rate7-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>',"smiley-rate8-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>',"smiley-rate9-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'};class Wm extends v.Component{constructor(e){super(e),this.rootRef=v.createRef(),this.model=new v5,this.model.onInnerHeightChanged=t=>{this.props.onInnerHeightChanged&&this.props.onInnerHeightChanged(t)}}componentDidMount(){const e=this.rootRef.current;e&&this.model.setRootElement(e)}componentWillUnmount(){this.model.unsubscribeRootElement(),this.model.setRootElement(void 0)}render(){return this.props.disabled?v.createElement(v.Fragment,null,this.props.children):v.createElement("div",{ref:this.rootRef,className:"sv-scroll__wrapper"},v.createElement("div",{className:"sv-scroll__scroller sv-drag-target-skipped",onScroll:()=>this.model.onScrollContainer()},v.createElement("div",{className:"sv-scroll__container"},this.props.children)),v.createElement("div",{className:"sv-scroll__scrollbar",onScroll:()=>this.model.onScrollScrollbar()},v.createElement("div",{className:"sv-scroll__scrollbar-sizer"})))}}Ie.Instance.registerElement("svc-scroll",r=>v.createElement(Wm,r));Ev("v1",F5);Ev("v2",qw);Jc.registerIcons(qw);class Fw extends ft{constructor(e){super(e),this.previousJSON={},this.isSurveyUpdated=!1,this.createSurvey(e),this.updateSurvey(e,{}),this.rootRef=v.createRef(),this.rootNodeId=e.id||null,this.rootNodeClassName=e.className||""}getStateElement(){return this.survey}onSurveyUpdated(){if(this.survey){const e=this.rootRef.current;e&&this.survey.afterRenderSurvey(e),this.survey.startTimerFromUI(),this.setSurveyEvents()}}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?(this.isModelJSONChanged(e)&&(this.destroySurvey(),this.createSurvey(e),this.updateSurvey(e,{}),this.isSurveyUpdated=!0),!0):!1}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateSurvey(this.props,e),this.isSurveyUpdated&&(this.onSurveyUpdated(),this.isSurveyUpdated=!1)}componentDidMount(){super.componentDidMount(),this.onSurveyUpdated()}destroySurvey(){this.survey&&(this.survey.renderCallback=void 0,this.survey.onPartialSend.clear(),this.survey.stopTimer(),this.survey.destroyResizeObserver())}componentWillUnmount(){super.componentWillUnmount(),this.destroySurvey()}doRender(){let e;this.survey.state=="completed"?e=this.renderCompleted():this.survey.state=="completedbefore"?e=this.renderCompletedBefore():this.survey.state=="loading"?e=this.renderLoading():this.survey.state=="empty"?e=this.renderEmptySurvey():e=this.renderSurvey();const t=this.survey.backgroundImage?v.createElement("div",{className:this.css.rootBackgroundImage,style:this.survey.backgroundImageStyle}):null,i=this.survey.headerView==="basic"?v.createElement(Nw,{survey:this.survey}):null,s=function(d){d.preventDefault()};let n=v.createElement("div",{className:"sv_custom_header"});this.survey.hasLogo&&(n=null);const o=this.survey.getRootCss(),h=this.rootNodeClassName?this.rootNodeClassName+" "+o:o;return v.createElement("div",{id:this.rootNodeId,ref:this.rootRef,className:h,style:this.survey.themeVariables,lang:this.survey.locale||"en",dir:this.survey.localeDir},v.createElement(Wm,{disabled:this.survey.rootScrollDisabled},this.survey.needRenderIcons?v.createElement(q5,null):null,v.createElement(Fh,null),v.createElement("div",{className:this.survey.wrapperFormCss},t,v.createElement("form",{onSubmit:s},v.createElement(Wm,{disabled:this.survey.formScrollDisabled},n,v.createElement("div",{className:this.css.container},i,v.createElement(kn,{survey:this.survey,container:"header",needRenderWrapper:!1}),e,v.createElement(kn,{survey:this.survey,container:"footer",needRenderWrapper:!1})))),v.createElement(kw,{notifier:this.survey.notifier}))))}renderElement(){return this.doRender()}get css(){return this.survey.css}set css(e){this.survey.css=e}renderCompleted(){if(!this.survey.showCompletedPage)return null;var e={__html:this.survey.processedCompletedHtml};return v.createElement(v.Fragment,null,v.createElement("div",{dangerouslySetInnerHTML:e,className:this.survey.completedCss}),v.createElement(kn,{survey:this.survey,container:"completePage",needRenderWrapper:!1}))}renderCompletedBefore(){var e={__html:this.survey.processedCompletedBeforeHtml};return v.createElement("div",{dangerouslySetInnerHTML:e,className:this.survey.completedBeforeCss})}renderLoading(){var e={__html:this.survey.processedLoadingHtml};return v.createElement("div",{dangerouslySetInnerHTML:e,className:this.survey.loadingBodyCss})}renderSurvey(){var e=this.survey.activePage?this.renderPage(this.survey.activePage):null;this.survey.isShowStartingPage;var t=this.survey.activePage?this.survey.activePage.id:"";let i=this.survey.bodyCss;const s={};return this.survey.renderedWidth&&(s.maxWidth=this.survey.renderedWidth),v.createElement("div",{className:this.survey.bodyContainerCss},v.createElement(kn,{survey:this.survey,container:"left"}),v.createElement("div",{className:"sv-components-column sv-components-column--expandable"},v.createElement(kn,{survey:this.survey,container:"center"}),v.createElement("div",{id:t,className:i,style:s},v.createElement(kn,{survey:this.survey,container:"contentTop"}),e,v.createElement(kn,{survey:this.survey,container:"contentBottom"}),this.survey.showBrandInfo?v.createElement(k5,null):null)),v.createElement(kn,{survey:this.survey,container:"right"}))}renderPage(e){return v.createElement(N5,{survey:this.survey,page:e,css:this.css,creator:this})}renderEmptySurvey(){return v.createElement("div",{className:this.css.bodyEmpty},this.survey.emptySurveyText)}createSurvey(e){e||(e={}),this.previousJSON={},e?e.model?this.survey=e.model:e.json&&(this.previousJSON=e.json,this.survey=new wt(e.json)):this.survey=new wt,e.css&&(this.survey.css=this.css)}isModelJSONChanged(e){return e.model?this.survey!==e.model:e.json?!z.isTwoValueEquals(e.json,this.previousJSON):!1}updateSurvey(e,t){if(e){t=t||{};for(var i in e)if(!(i=="model"||i=="children"||i=="json")){if(i=="css"){this.survey.mergeValues(e.css,this.survey.getCss()),this.survey.updateNavigationCss(),this.survey.updateElementCss();continue}e[i]!==t[i]&&(i.indexOf("on")==0&&this.survey[i]&&this.survey[i].add?(t[i]&&this.survey[i].remove(t[i]),this.survey[i].add(e[i])):this.survey[i]=e[i])}}}setSurveyEvents(){var e=this;this.survey.renderCallback=function(){var t=e.state&&e.state.modelChanged?e.state.modelChanged:0;e.setState({modelChanged:t+1})},this.survey.onPartialSend.add(t=>{e.state&&e.setState(e.state)})}createQuestionElement(e){return Xt.Instance.createQuestion(e.isDefaultRendering()?e.getTemplate():e.getComponentName(),{question:e,isDisplayMode:e.isInputReadOnly,creator:this})}renderError(e,t,i,s){return Ie.Instance.createElement(this.survey.questionErrorComponent,{key:e,error:t,cssClasses:i,element:s})}questionTitleLocation(){return this.survey.questionTitleLocation}questionErrorLocation(){return this.survey.questionErrorLocation}}Ie.Instance.registerElement("survey",r=>v.createElement(Fw,r));function Av(r,e,t={processEsc:!0,disableTabStop:!1}){return e&&e.disableTabStop||t&&t.disableTabStop?v.cloneElement(r,{tabIndex:-1}):(t=Object.assign({},t),v.cloneElement(r,{tabIndex:0,onKeyUp:i=>(i.preventDefault(),i.stopPropagation(),lv(i,t),!1),onKeyDown:i=>WS(i,t),onBlur:i=>Xb(i)}))}class Dv extends v.Component{constructor(e){super(e),this.updateStateFunction=null,this.state={update:0}}get survey(){return this.props.survey}get css(){return this.props.css||this.survey.css}componentDidMount(){if(this.survey){var e=this;this.updateStateFunction=function(){e.setState({update:e.state.update+1})},this.survey.onPageVisibleChanged.add(this.updateStateFunction)}}componentWillUnmount(){this.survey&&this.updateStateFunction&&(this.survey.onPageVisibleChanged.remove(this.updateStateFunction),this.updateStateFunction=null)}}class B5 extends Pi{constructor(e){super(e),this.circleLength=440}getStateElement(){return this.timerModel}get timerModel(){return this.props.model}get progress(){return-this.timerModel.progress*this.circleLength}render(){if(!this.timerModel.isRunning)return null;let e=v.createElement("div",{className:this.timerModel.survey.getCss().timerRoot},this.timerModel.text);if(this.timerModel.showTimerAsClock){let t={strokeDasharray:this.circleLength,strokeDashoffset:this.progress};const i=this.timerModel.showProgress?v.createElement(fi,{className:this.timerModel.getProgressCss(),style:t,iconName:"icon-timercircle",size:"auto"}):null;e=v.createElement("div",{className:this.timerModel.rootCss},i,v.createElement("div",{className:this.timerModel.textContainerCss},v.createElement("span",{className:this.timerModel.majorTextCss},this.timerModel.clockMajorText),this.timerModel.clockMinorText?v.createElement("span",{className:this.timerModel.minorTextCss},this.timerModel.clockMinorText):null))}return e}}Ie.Instance.registerElement("sv-timerpanel",r=>v.createElement(B5,r));class Jh extends Ew{constructor(e){super(e),this.hasBeenExpanded=!1}get panel(){return this.panelBase}renderElement(){const e=this.renderHeader(),t=v.createElement(Gf,{element:this.panelBase,cssClasses:this.panelBase.cssClasses,creator:this.creator}),i={paddingLeft:this.panel.innerPaddingLeft,display:this.panel.renderedIsExpanded?void 0:"none"};let s=null;if(this.panel.renderedIsExpanded){const o=this.renderRows(this.panelBase.cssClasses),h=this.panelBase.cssClasses.panel.content;s=this.renderContent(i,o,h)}const n=()=>{this.panelBase&&this.panelBase.focusIn()};return v.createElement("div",{ref:this.rootRef,className:this.panelBase.getContainerCss(),onFocus:n,id:this.panelBase.id},this.panel.showErrorsAbovePanel?t:null,e,this.panel.showErrorsAbovePanel?null:t,s)}renderHeader(){return!this.panel.hasTitle&&!this.panel.hasDescription?null:v.createElement(Aw,{element:this.panel})}wrapElement(e){const t=this.panel.survey;let i=null;return t&&(i=Zr.wrapElement(t,e,this.panel)),i??e}renderContent(e,t,i){const s=this.renderBottom();return v.createElement("div",{style:e,className:i,id:this.panel.contentId,role:this.panel.ariaRole,"aria-labelledby":this.panel.ariaLabelledBy,"aria-label":this.panel.ariaLabel},t,s)}renderTitle(){return this.panelBase.title?v.createElement(jl,{element:this.panelBase}):null}renderDescription(){if(!this.panelBase.description)return null;var e=ft.renderLocString(this.panelBase.locDescription);return v.createElement("div",{className:this.panel.cssClasses.panel.description},e)}renderBottom(){const e=this.panel.getFooterToolbar();return e.hasActions?v.createElement(Ar,{model:e}):null}getIsVisible(){return this.panelBase.getIsContentVisible()}}Ie.Instance.registerElement("panel",r=>v.createElement(Jh,r));class z5 extends Jh{constructor(e){super(e)}get flowPanel(){return this.panel}componentDidMount(){super.componentDidMount(),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=function(){return""},this.flowPanel.onGetHtmlForQuestion=this.renderQuestion)}componentWillUnmount(){super.componentWillUnmount(),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=null,this.flowPanel.onGetHtmlForQuestion=null)}getQuestion(e){return this.flowPanel.getQuestionByName(e)}renderQuestion(e){return"<question>"+e.name+"</question>"}renderRows(){const e=this.renderHtml();return e?[e]:[]}getNodeIndex(){return this.renderedIndex++}renderHtml(){if(!this.flowPanel)return null;const e="<span>"+this.flowPanel.produceHtml()+"</span>";if(!DOMParser){const i={__html:e};return v.createElement("div",{dangerouslySetInnerHTML:i})}const t=new DOMParser().parseFromString(e,"text/xml");return this.renderedIndex=0,this.renderParentNode(t)}renderNodes(e){const t=[];for(let i=0;i<e.length;i++){const s=this.renderNode(e[i]);s&&t.push(s)}return t}getStyle(e){const t={};return e.toLowerCase()==="b"&&(t.fontWeight="bold"),e.toLowerCase()==="i"&&(t.fontStyle="italic"),e.toLowerCase()==="u"&&(t.textDecoration="underline"),t}renderParentNode(e){const t=e.nodeName.toLowerCase(),i=this.renderNodes(this.getChildDomNodes(e));return t==="div"?v.createElement("div",{key:this.getNodeIndex()},i):v.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(t)},i)}renderNode(e){if(!this.hasTextChildNodesOnly(e))return this.renderParentNode(e);const t=e.nodeName.toLowerCase();if(t==="question"){const i=this.flowPanel.getQuestionByName(e.textContent);if(!i)return null;const s=v.createElement(Ma,{key:i.name,element:i,creator:this.creator,css:this.css});return v.createElement("span",{key:this.getNodeIndex()},s)}return t==="div"?v.createElement("div",{key:this.getNodeIndex()},e.textContent):v.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(t)},e.textContent)}getChildDomNodes(e){const t=[];for(let i=0;i<e.childNodes.length;i++)t.push(e.childNodes[i]);return t}hasTextChildNodesOnly(e){const t=e.childNodes;for(let i=0;i<t.length;i++)if(t[i].nodeName.toLowerCase()!=="#text")return!1;return!0}renderContent(e,t){return v.createElement("f-panel",{style:e},t)}}Ie.Instance.registerElement("flowpanel",r=>v.createElement(z5,r));class H5 extends Ji{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses;return v.createElement("fieldset",{className:this.question.getSelectBaseRootCss(),ref:t=>this.setControl(t),role:this.question.a11y_input_ariaRole,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage},v.createElement("legend",{className:"sv-hidden"},this.question.locTitle.renderedHtml),this.getHeader(),this.question.hasColumns?this.getColumnedBody(e):this.getBody(e),this.getFooter(),this.question.isOtherSelected?this.renderOther():null)}getHeader(){if(this.question.hasHeadItems)return this.question.headItems.map((e,t)=>this.renderItem(e,!1,this.question.cssClasses))}getFooter(){if(this.question.hasFootItems)return this.question.footItems.map((e,t)=>this.renderItem(e,!1,this.question.cssClasses))}getColumnedBody(e){return v.createElement("div",{className:e.rootMultiColumn},this.getColumns(e))}getColumns(e){return this.question.columns.map((t,i)=>{var s=t.map((n,o)=>this.renderItem(n,i===0&&o===0,e,""+i+o));return v.createElement("div",{key:"column"+i+this.question.getItemsColumnKey(t),className:this.question.getColumnClass(),role:"presentation"},s)})}getBody(e){return this.question.blockedRow?v.createElement("div",{className:e.rootRow},this.getItems(e,this.question.dataChoices)):v.createElement(v.Fragment,null,this.getItems(e,this.question.bodyItems))}getItems(e,t){for(var i=[],s=0;s<t.length;s++){var n=t[s];""+n.value;var o=this.renderItem(n,s==0,e,""+s);o&&i.push(o)}return i}get textStyle(){return null}renderOther(){let e=this.question.cssClasses;return v.createElement("div",{className:this.question.getCommentAreaCss(!0)},v.createElement(jf,{question:this.question,otherCss:e.other,cssClasses:e,isDisplayMode:this.isDisplayMode}))}renderItem(e,t,i,s){const n=Ie.Instance.createElement(this.question.itemComponent,{key:e.value,question:this.question,cssClasses:i,isDisplayMode:this.isDisplayMode,item:e,textStyle:this.textStyle,index:s,isFirst:t}),o=this.question.survey;let h=null;return o&&n&&(h=Zr.wrapItemValue(o,n,this.question,e)),h??n}}class Bw extends Pi{constructor(e){super(e),this.handleOnChange=t=>{this.question.clickItemHandler(this.item,t.target.checked)},this.rootRef=v.createRef()}getStateElement(){return this.item}get question(){return this.props.question}get item(){return this.props.item}get textStyle(){return this.props.textStyle}get isFirst(){return this.props.isFirst}get index(){return this.props.index}get hideCaption(){return this.props.hideCaption===!0}get ariaLabel(){return this.props.ariaLabel||null}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.item!==this.props.item&&!this.question.isDesignMode&&(this.props.item&&this.props.item.setRootElement(this.rootRef.current),e.item&&e.item.setRootElement(void 0))}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?!this.question.customWidget||!!this.question.customWidgetData.isNeedRender||!!this.question.customWidget.widgetJson.isDefaultRender||!!this.question.customWidget.widgetJson.render:!1}canRender(){return!!this.item&&!!this.question}renderElement(){var e=this.question.isItemSelected(this.item);return this.renderCheckbox(e,null)}get inputStyle(){return null}renderCheckbox(e,t){const i=this.question.getItemId(this.item),s=this.question.getItemClass(this.item),n=this.question.getLabelClass(this.item),o=this.hideCaption?null:v.createElement("span",{className:this.cssClasses.controlLabel},this.renderLocString(this.item.locText,this.textStyle));return v.createElement("div",{className:s,role:"presentation",ref:this.rootRef},v.createElement("label",{className:n},v.createElement("input",{className:this.cssClasses.itemControl,type:"checkbox",name:this.question.name+this.item.id,value:this.item.value,id:i,style:this.inputStyle,disabled:!this.question.getItemEnabled(this.item),readOnly:this.question.isReadOnlyAttr,checked:e,onChange:this.handleOnChange,required:this.question.hasRequiredError(),"aria-label":this.ariaLabel}),this.cssClasses.materialDecorator?v.createElement("span",{className:this.cssClasses.materialDecorator},this.question.itemSvgIcon?v.createElement("svg",{className:this.cssClasses.itemDecorator},v.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,o),t)}componentDidMount(){super.componentDidMount(),this.question.isDesignMode||this.item.setRootElement(this.rootRef.current)}componentWillUnmount(){super.componentWillUnmount(),this.question.isDesignMode||this.item.setRootElement(void 0)}}Ie.Instance.registerElement("survey-checkbox-item",r=>v.createElement(Bw,r));Xt.Instance.registerQuestion("checkbox",r=>v.createElement(H5,r));class Q5 extends Ji{get question(){return this.questionBase}renderElement(){return this.question.selectToRankEnabled?v.createElement("div",{className:this.question.rootClass,ref:t=>this.setControl(t)},v.createElement("div",{className:this.question.getContainerClasses("from"),"data-ranking":"from-container"},this.getItems(this.question.renderedUnRankingChoices,!0),this.question.renderedUnRankingChoices.length===0?v.createElement("div",{className:this.question.cssClasses.containerPlaceholder}," ",this.renderLocString(this.question.locSelectToRankEmptyRankedAreaText)," "):null),v.createElement("div",{className:this.question.cssClasses.containersDivider}),v.createElement("div",{className:this.question.getContainerClasses("to"),"data-ranking":"to-container"},this.getItems(),this.question.renderedRankingChoices.length===0?v.createElement("div",{className:this.question.cssClasses.containerPlaceholder}," ",this.renderLocString(this.question.locSelectToRankEmptyUnrankedAreaText)," "):null)):v.createElement("div",{className:this.question.rootClass,ref:e=>this.setControl(e)},this.getItems())}getItems(e=this.question.renderedRankingChoices,t){const i=[];for(let s=0;s<e.length;s++){const n=e[s];i.push(this.renderItem(n,s,o=>{this.question.handleKeydown.call(this.question,o,n)},o=>{o.persist(),this.question.handlePointerDown.call(this.question,o,n,o.currentTarget)},o=>{o.persist(),this.question.handlePointerUp.call(this.question,o,n,o.currentTarget)},this.question.cssClasses,this.question.getItemClass(n),this.question,t))}return i}renderItem(e,t,i,s,n,o,h,d,f){""+e.renderedId;const p=this.renderLocString(e.locText),y=t,b=this.question.getNumberByIndex(y),w=this.question.getItemTabIndex(e),T=v.createElement(U5,{key:e.value,text:p,index:y,indexText:b,itemTabIndex:w,handleKeydown:i,handlePointerDown:s,handlePointerUp:n,cssClasses:o,itemClass:h,question:d,unrankedItem:f,item:e}),P=this.question.survey;let D=null;return P&&(D=Zr.wrapItemValue(P,T,this.question,e)),D??T}}class U5 extends Pi{get text(){return this.props.text}get index(){return this.props.index}get indexText(){return this.props.indexText}get handleKeydown(){return this.props.handleKeydown}get handlePointerDown(){return this.props.handlePointerDown}get handlePointerUp(){return this.props.handlePointerUp}get cssClasses(){return this.props.cssClasses}get itemClass(){return this.props.itemClass}get itemTabIndex(){return this.props.itemTabIndex}get question(){return this.props.question}get unrankedItem(){return this.props.unrankedItem}get item(){return this.props.item}renderEmptyIcon(){return v.createElement("svg",null,v.createElement("use",{xlinkHref:this.question.dashSvgIcon}))}renderElement(){let e=Ie.Instance.createElement(this.question.itemComponent,{item:this.item,cssClasses:this.cssClasses});return v.createElement("div",{id:this.question.getItemId(this.item),tabIndex:this.itemTabIndex,className:this.itemClass,onKeyDown:this.handleKeydown,onPointerDown:this.handlePointerDown,onPointerUp:this.handlePointerUp,"data-sv-drop-target-ranking-item":this.index},v.createElement("div",{tabIndex:-1,style:{outline:"none"}},v.createElement("div",{className:this.cssClasses.itemGhostNode}),v.createElement("div",{className:this.cssClasses.itemContent},v.createElement("div",{className:this.cssClasses.itemIconContainer},v.createElement("svg",{className:this.question.getIconHoverCss()},v.createElement("use",{xlinkHref:this.question.dragDropSvgIcon})),v.createElement("svg",{className:this.question.getIconFocusCss()},v.createElement("use",{xlinkHref:this.question.arrowsSvgIcon}))),v.createElement("div",{className:this.question.getItemIndexClasses(this.item)},!this.unrankedItem&&this.indexText?this.indexText:this.renderEmptyIcon()),e)))}}class _5 extends Pi{get item(){return this.props.item}get cssClasses(){return this.props.cssClasses}renderElement(){return v.createElement("div",{className:this.cssClasses.controlLabel},ft.renderLocString(this.item.locText))}}Ie.Instance.registerElement("sv-ranking-item",r=>v.createElement(_5,r));Xt.Instance.registerQuestion("ranking",r=>v.createElement(Q5,r));class Lv extends ft{constructor(e){super(e),this.handleOnMouseDown=this.handleOnMouseDown.bind(this)}get question(){return this.props.question}get item(){return this.props.item}get index(){return this.props.index}getStateElement(){return this.item}handleOnMouseDown(e){this.question.onMouseDown()}}class W5 extends Lv{render(){var e=this.renderLocString(this.item.locText);return v.createElement("label",{onMouseDown:this.handleOnMouseDown,className:this.question.getItemClassByText(this.item.itemValue,this.item.text)},v.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.questionName,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:()=>{},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-errormessage":this.question.ariaErrormessage}),v.createElement("span",{className:this.question.cssClasses.itemText,"data-text":this.item.text},e))}componentDidMount(){super.componentDidMount()}}Ie.Instance.registerElement("sv-rating-item",r=>v.createElement(W5,r));class j5 extends Lv{render(){return v.createElement("label",{onMouseDown:this.handleOnMouseDown,className:this.question.getItemClass(this.item.itemValue),onMouseOver:e=>this.question.onItemMouseIn(this.item),onMouseOut:e=>this.question.onItemMouseOut(this.item),title:this.item.text},v.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.questionName,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:()=>{},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-errormessage":this.question.ariaErrormessage}),v.createElement(fi,{className:"sv-star",size:"auto",iconName:this.question.itemStarIcon}),v.createElement(fi,{className:"sv-star-2",size:"auto",iconName:this.question.itemStarIconAlt}))}}Ie.Instance.registerElement("sv-rating-item-star",r=>v.createElement(j5,r));class G5 extends Lv{render(){return v.createElement("label",{onMouseDown:this.handleOnMouseDown,style:this.question.getItemStyle(this.item.itemValue,this.item.highlight),className:this.question.getItemClass(this.item.itemValue),onMouseOver:e=>this.question.onItemMouseIn(this.item),onMouseOut:e=>this.question.onItemMouseOut(this.item),title:this.item.text},v.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.questionName,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:()=>{},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-errormessage":this.question.ariaErrormessage}),v.createElement(fi,{size:"auto",iconName:this.question.getItemSmileyIconName(this.item.itemValue)}))}}Ie.Instance.registerElement("sv-rating-item-smiley",r=>v.createElement(G5,r));class Z5 extends ft{get item(){return this.props.item}getStateElement(){return this.item}render(){if(!this.item)return null;const e=this.props.item,t=this.renderDescription(e);return v.createElement("div",{className:"sd-rating-dropdown-item"},v.createElement("span",{className:"sd-rating-dropdown-item_text"},e.title),t)}renderDescription(e){return e.description?v.createElement("div",{className:"sd-rating-dropdown-item_description"},this.renderLocString(e.description,void 0,"locString")):null}}Ie.Instance.registerElement("sv-rating-dropdown-item",r=>v.createElement(Z5,r));class zw extends ft{get model(){return this.props.model}get question(){return this.props.question}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateDomElement()}componentDidMount(){super.componentDidMount(),this.updateDomElement()}updateDomElement(){if(this.inputElement){const e=this.inputElement,t=this.model.inputStringRendered;z.isTwoValueEquals(t,e.value,!1,!0,!1)||(e.value=this.model.inputStringRendered)}}onChange(e){const{root:t}=X.environment;e.target===t.activeElement&&(this.model.inputStringRendered=e.target.value)}keyhandler(e){this.model.inputKeyHandler(e)}onBlur(e){this.question.onBlur(e)}onFocus(e){this.question.onFocus(e)}constructor(e){super(e)}getStateElement(){return this.model}render(){return v.createElement("div",{className:this.question.cssClasses.hint},this.model.showHintPrefix?v.createElement("div",{className:this.question.cssClasses.hintPrefix},v.createElement("span",null,this.model.hintStringPrefix)):null,v.createElement("div",{className:this.question.cssClasses.hintSuffixWrapper},this.model.showHintString?v.createElement("div",{className:this.question.cssClasses.hintSuffix},v.createElement("span",{style:{visibility:"hidden"},"data-bind":"text: model.filterString"},this.model.inputStringRendered),v.createElement("span",null,this.model.hintStringSuffix)):null,v.createElement("input",{type:"text",autoComplete:"off",id:this.question.getInputId(),inputMode:this.model.inputMode,ref:e=>this.inputElement=e,className:this.question.cssClasses.filterStringInput,disabled:this.question.isInputReadOnly,readOnly:this.model.filterReadOnly?!0:void 0,size:this.model.inputStringRendered?void 0:1,role:this.model.ariaInputRole,"aria-required":this.model.ariaInputRequired,"aria-invalid":this.model.ariaInputInvalid,"aria-errormessage":this.model.ariaInputErrorMessage,"aria-expanded":this.model.ariaInputExpanded,"aria-label":this.model.ariaInputLabel,"aria-labelledby":this.model.ariaInputLabelledby,"aria-describedby":this.model.ariaInputDescribedby,"aria-controls":this.model.ariaInputControls,"aria-activedescendant":this.model.ariaInputActivedescendant,placeholder:this.model.filterStringPlaceholder,onKeyDown:e=>{this.keyhandler(e)},onChange:e=>{this.onChange(e)},onBlur:e=>{this.onBlur(e)},onFocus:e=>{this.onFocus(e)}})))}}Xt.Instance.registerQuestion("sv-tagbox-filter",r=>v.createElement(zw,r));class K5 extends Pi{constructor(e){super(e),this.state={changed:0},this.setupModel()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.setupModel()}componentDidMount(){super.componentDidMount(),this.setupModel()}componentWillUnmount(){super.componentWillUnmount(),this.item&&(this.item.locText.onChanged=()=>{})}setupModel(){if(!this.item.locText)return;const e=this;this.item.locText.onChanged=()=>{e.setState({changed:e.state.changed+1})}}getStateElement(){return this.item}get item(){return this.props.item}canRender(){return!!this.item}renderElement(){return v.createElement("option",{value:this.item.value,disabled:!this.item.isEnabled},this.item.text)}}class Zf extends Xh{constructor(){super(...arguments),this.click=e=>{var t;(t=this.question.dropdownListModel)===null||t===void 0||t.onClick(e)},this.chevronPointerDown=e=>{var t;(t=this.question.dropdownListModel)===null||t===void 0||t.chevronPointerDown(e)},this.clear=e=>{var t;(t=this.question.dropdownListModel)===null||t===void 0||t.onClear(e)},this.keyhandler=e=>{var t;(t=this.question.dropdownListModel)===null||t===void 0||t.keyHandler(e)},this.blur=e=>{this.updateInputDomElement(),this.question.onBlur(e)},this.focus=e=>{this.question.onFocus(e)}}get dropdownListModel(){return this.question.dropdownListModel}getStateElement(){return this.question.dropdownListModel}setValueCore(e){this.questionBase.renderedValue=e}getValueCore(){return this.questionBase.renderedValue}renderReadOnlyElement(){return this.question.locReadOnlyText?v.createElement("div",{className:this.question.cssClasses.controlValue},this.renderLocString(this.question.locReadOnlyText)):null}renderSelect(e){let t=null;const i=this.dropdownListModel;return this.question.isReadOnly?t=v.createElement("div",{id:this.question.inputId,role:i?.ariaQuestionRole,"aria-label":i?.ariaQuestionLabel,"aria-labelledby":i?.ariaQuestionLabelledby,"aria-describedby":i?.ariaQuestionDescribedby,"aria-expanded":"false","aria-readonly":"true","aria-disabled":"true",tabIndex:this.question.isDisabledAttr?void 0:0,className:this.question.getControlClass(),ref:s=>this.setControl(s)},this.renderReadOnlyElement(),this.renderEditorButtons()):t=v.createElement(v.Fragment,null,this.renderInput(),this.question.isInputReadOnly?null:v.createElement(Yh,{model:i.popupModel})),v.createElement("div",{className:e.selectWrapper,onClick:this.click},t)}renderValueElement(){return this.question.showInputFieldComponent?Ie.Instance.createElement(this.question.inputFieldComponentName,{item:this.dropdownListModel.getSelectedAction(),question:this.question}):this.question.showSelectedItemLocText?this.renderLocString(this.question.selectedItemLocText):null}renderInput(){const e=this.dropdownListModel;let t=this.renderValueElement();return v.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),tabIndex:e.noTabIndex?void 0:0,disabled:this.question.isDisabledAttr,required:this.question.isRequired,onKeyDown:this.keyhandler,onBlur:this.blur,onFocus:this.focus,role:e.ariaQuestionRole,"aria-required":e.ariaQuestionRequired,"aria-invalid":e.ariaQuestionInvalid,"aria-errormessage":e.ariaQuestionErrorMessage,"aria-expanded":e.ariaQuestionExpanded,"aria-label":e.ariaQuestionLabel,"aria-labelledby":e.ariaQuestionLabelledby,"aria-describedby":e.ariaQuestionDescribedby,"aria-controls":e.ariaQuestionControls,"aria-activedescendant":e.ariaQuestionActivedescendant,ref:i=>this.setControl(i)},e.showHintPrefix?v.createElement("div",{className:this.question.cssClasses.hintPrefix},v.createElement("span",null,e.hintStringPrefix)):null,v.createElement("div",{className:this.question.cssClasses.controlValue},e.showHintString?v.createElement("div",{className:this.question.cssClasses.hintSuffix},v.createElement("span",{style:{visibility:"hidden"},"data-bind":"text: model.filterString"},e.inputStringRendered),v.createElement("span",null,e.hintStringSuffix)):null,t,e.needRenderInput?this.renderFilterInput():null),this.renderEditorButtons())}renderFilterInput(){const{root:e}=X.environment,t=this.dropdownListModel,i=s=>{s.target===e.activeElement&&(t.inputStringRendered=s.target.value)};return v.createElement("input",{type:"text",autoComplete:"off",id:this.question.getInputId(),ref:s=>this.inputElement=s,className:this.question.cssClasses.filterStringInput,role:t.ariaInputRole,"aria-required":t.ariaInputRequired,"aria-invalid":t.ariaInputInvalid,"aria-errormessage":t.ariaInputErrorMessage,"aria-expanded":t.ariaInputExpanded,"aria-label":t.ariaInputLabel,"aria-labelledby":t.ariaInputLabelledby,"aria-describedby":t.ariaInputDescribedby,"aria-controls":t.ariaInputControls,"aria-activedescendant":t.ariaInputActivedescendant,placeholder:t.placeholderRendered,readOnly:t.filterReadOnly?!0:void 0,tabIndex:t.noTabIndex?void 0:-1,disabled:this.question.isDisabledAttr,inputMode:t.inputMode,onChange:s=>{i(s)},onBlur:this.blur,onFocus:this.focus})}renderOther(e){return v.createElement("div",{className:this.question.getCommentAreaCss(!0)},v.createElement(jf,{question:this.question,otherCss:e.other,cssClasses:e,isDisplayMode:this.isDisplayMode,isOther:!0}))}renderEditorButtons(){return v.createElement(Ar,{model:this.dropdownListModel.editorButtons})}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateInputDomElement()}componentDidMount(){super.componentDidMount(),this.updateInputDomElement()}componentWillUnmount(){super.componentWillUnmount(),this.question.dropdownListModel&&(this.question.dropdownListModel.focused=!1)}updateInputDomElement(){if(this.inputElement){const e=this.inputElement,t=this.question.dropdownListModel.inputStringRendered;z.isTwoValueEquals(t,e.value,!1,!0,!1)||(e.value=this.question.dropdownListModel.inputStringRendered)}}}class Hw extends Zf{constructor(e){super(e)}renderElement(){const e=this.question.cssClasses,t=this.question.isOtherSelected?this.renderOther(e):null,i=this.renderSelect(e);return v.createElement("div",{className:this.question.renderCssRoot},i,t)}}Xt.Instance.registerQuestion("dropdown",r=>v.createElement(Hw,r));class X5 extends Pi{constructor(e){super(e)}get question(){return this.props.question}get item(){return this.props.item}canRender(){return!!this.item&&!!this.question}renderElement(){const e=this.renderLocString(this.item.locText),t=i=>{this.question.dropdownListModel.deselectItem(this.item.value),i.stopPropagation()};return v.createElement("div",{className:"sv-tagbox__item"},v.createElement("div",{className:"sv-tagbox__item-text"},e),v.createElement("div",{className:this.question.cssClasses.cleanItemButton,onClick:t},v.createElement(fi,{className:this.question.cssClasses.cleanItemButtonSvg,iconName:this.question.cssClasses.cleanItemButtonIconId,size:"auto"})))}}class Y5 extends Zf{constructor(e){super(e)}renderItem(e,t){return v.createElement(X5,{key:e,question:this.question,item:t})}renderInput(){const e=this.dropdownListModel,t=this.question.selectedChoices.map((i,s)=>this.renderItem("item"+s,i));return v.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),tabIndex:e.noTabIndex?void 0:0,disabled:this.question.isInputReadOnly,required:this.question.isRequired,onKeyDown:this.keyhandler,onBlur:this.blur,role:e.ariaQuestionRole,"aria-required":e.ariaQuestionRequired,"aria-invalid":e.ariaQuestionInvalid,"aria-errormessage":e.ariaQuestionErrorMessage,"aria-label":e.ariaQuestionLabel,"aria-labelledby":e.ariaQuestionLabelledby,"aria-describedby":e.ariaQuestionDescribedby,"aria-expanded":e.ariaQuestionExpanded,"aria-controls":e.ariaQuestionControls,"aria-activedescendant":e.ariaQuestionActivedescendant,ref:i=>this.setControl(i)},v.createElement("div",{className:this.question.cssClasses.controlValue},t,e.needRenderInput?v.createElement(zw,{model:e,question:this.question}):null),this.renderEditorButtons())}renderElement(){const e=this.question.cssClasses,t=this.question.isOtherSelected?this.renderOther(e):null,i=this.renderSelect(e);return v.createElement("div",{className:this.question.renderCssRoot},i,t)}}Xt.Instance.registerQuestion("tagbox",r=>v.createElement(Y5,r));class J5 extends Hw{constructor(e){super(e)}renderSelect(e){const t=n=>{this.question.onClick(n)},i=n=>{this.question.onKeyUp(n)},s=this.isDisplayMode?v.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),disabled:!0},this.question.readOnlyText):v.createElement("select",{id:this.question.inputId,className:this.question.getControlClass(),ref:n=>this.setControl(n),autoComplete:this.question.autocomplete,onChange:this.updateValueOnEvent,onInput:this.updateValueOnEvent,onClick:t,onKeyUp:i,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage,required:this.question.isRequired},this.question.allowClear?v.createElement("option",{value:""},this.question.placeholder):null,this.question.visibleChoices.map((n,o)=>v.createElement(K5,{key:"item"+o,item:n})));return v.createElement("div",{className:e.selectWrapper},s,this.createChevronButton())}createChevronButton(){return this.question.cssClasses.chevronButtonIconId?v.createElement("div",{className:this.question.cssClasses.chevronButton,"aria-hidden":"true",onPointerDown:this.chevronPointerDown},v.createElement(fi,{className:this.question.cssClasses.chevronButtonSvg,iconName:this.question.cssClasses.chevronButtonIconId,size:"auto"})):null}}Xt.Instance.registerQuestion("sv-dropdown-select",r=>v.createElement(J5,r));Un.Instance.registerRenderer("dropdown","select","sv-dropdown-select");class $5 extends Ji{constructor(e){super(e),this.state={rowsChanged:0}}get question(){return this.questionBase}componentDidMount(){if(super.componentDidMount(),this.question){var e=this;this.question.visibleRowsChangedCallback=function(){e.setState({rowsChanged:e.state.rowsChanged+1})}}}componentWillUnmount(){super.componentWillUnmount(),this.question&&(this.question.visibleRowsChangedCallback=null)}renderElement(){for(var e=this.question.cssClasses,t=this.question.hasRows?v.createElement("td",null):null,i=[],s=0;s<this.question.visibleColumns.length;s++){var n=this.question.visibleColumns[s],o="column"+s,h=this.renderLocString(n.locText);const b={};this.question.columnMinWidth&&(b.minWidth=this.question.columnMinWidth,b.width=this.question.columnMinWidth),i.push(v.createElement("th",{className:this.question.cssClasses.headerCell,style:b,key:o},this.wrapCell({column:n},h,"column-header")))}for(var d=[],f=this.question.visibleRows,s=0;s<f.length;s++){var p=f[s],o="row-"+p.name+"-"+s;d.push(v.createElement(eT,{key:o,question:this.question,cssClasses:e,row:p,isFirst:s==0}))}var y=this.question.showHeader?v.createElement("thead",{role:"presentation"},v.createElement("tr",null,t,i)):null;return v.createElement("div",{className:e.tableWrapper,ref:b=>this.setControl(b)},v.createElement("fieldset",{role:"radiogroup"},v.createElement("legend",{className:"sv-visuallyhidden"},this.question.locTitle.renderedHtml),v.createElement("table",{className:this.question.getTableCss(),role:"presentation"},y,v.createElement("tbody",null,d))))}}class eT extends Pi{constructor(e){super(e)}getStateElement(){return this.row?this.row.item:super.getStateElement()}get question(){return this.props.question}get row(){return this.props.row}wrapCell(e,t,i){if(!i)return t;const s=this.question.survey;let n=null;return s&&(n=Zr.wrapMatrixCell(s,t,e,i)),n??t}canRender(){return!!this.row}renderElement(){var e=null;if(this.question.hasRows){var t=this.renderLocString(this.row.locText);const s={};this.question.rowTitleWidth&&(s.minWidth=this.question.rowTitleWidth,s.width=this.question.rowTitleWidth),e=v.createElement("td",{style:s,className:this.row.rowTextClasses},this.wrapCell({row:this.row},t,"row-header"))}var i=this.generateTds();return v.createElement("tr",{className:this.row.rowClasses||void 0},e,i)}generateTds(){const e=[],t=this.row,i=this.question.cellComponent;for(var s=0;s<this.question.visibleColumns.length;s++){let n=null;const o=this.question.visibleColumns[s],h="value"+s;let d=this.question.getItemClass(t,o);if(this.question.hasCellText){const f=p=>()=>this.cellClick(t,p);n=v.createElement("td",{key:h,className:d,onClick:f?f(o):()=>{}},this.renderLocString(this.question.getCellDisplayLocText(t.name,o)))}else{const f=Ie.Instance.createElement(i,{question:this.question,row:this.row,column:o,columnIndex:s,cssClasses:this.cssClasses,cellChanged:()=>{this.cellClick(this.row,o)}});n=v.createElement("td",{key:h,"data-responsive-title":o.locText.renderedHtml,className:this.question.cssClasses.cell},f)}e.push(n)}return e}cellClick(e,t){e.value=t.value,this.setState({value:this.row.value})}}class tT extends Pi{constructor(e){super(e),this.handleOnMouseDown=this.handleOnMouseDown.bind(this),this.handleOnChange=this.handleOnChange.bind(this)}handleOnChange(e){this.props.cellChanged&&this.props.cellChanged()}handleOnMouseDown(e){this.question.onMouseDown()}get question(){return this.props.question}get row(){return this.props.row}get column(){return this.props.column}get columnIndex(){return this.props.columnIndex}canRender(){return!!this.question&&!!this.row}renderElement(){const e=this.row.value==this.column.value,t=this.question.inputId+"_"+this.row.name+"_"+this.columnIndex,i=this.question.getItemClass(this.row,this.column),s=this.question.isMobile?v.createElement("span",{className:this.question.cssClasses.cellResponsiveTitle},this.renderLocString(this.column.locText)):void 0;return v.createElement("label",{onMouseDown:this.handleOnMouseDown,className:i},this.renderInput(t,e),v.createElement("span",{className:this.question.cssClasses.materialDecorator},this.question.itemSvgIcon?v.createElement("svg",{className:this.cssClasses.itemDecorator},v.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null),s)}renderInput(e,t){return v.createElement("input",{id:e,type:"radio",className:this.cssClasses.itemValue,name:this.row.fullName,value:this.column.value,disabled:this.row.isDisabledAttr,readOnly:this.row.isReadOnlyAttr,checked:t,onChange:this.handleOnChange,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.getCellAriaLabel(this.row,this.column),"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage})}}Ie.Instance.registerElement("survey-matrix-cell",r=>v.createElement(tT,r));Xt.Instance.registerQuestion("matrix",r=>v.createElement($5,r));class iT extends Ji{constructor(e){super(e)}get question(){return this.questionBase}componentDidMount(){this.reactOnStrChanged()}componentWillUnmount(){this.question.locHtml.onChanged=function(){}}componentDidUpdate(e,t){this.reactOnStrChanged()}reactOnStrChanged(){this.question.locHtml.onChanged=()=>{this.setState({changed:this.state&&this.state.changed?this.state.changed+1:1})}}canRender(){return super.canRender()&&!!this.question.html}renderElement(){var e={__html:this.question.locHtml.renderedHtml};return v.createElement("div",{className:this.question.renderCssRoot,dangerouslySetInnerHTML:e})}}Xt.Instance.registerQuestion("html",r=>v.createElement(iT,r));class Qw extends v.Component{render(){return v.createElement("div",{className:"sd-loading-indicator"},v.createElement(fi,{iconName:"icon-loading",size:"auto"}))}}class sT extends Ji{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){const e=this.question.allowShowPreview?this.renderPreview():null,t=this.question.showLoadingIndicator?this.renderLoadingIndicator():null,i=this.question.isPlayingVideo?this.renderVideo():null,s=this.question.showFileDecorator?this.renderFileDecorator():null,n=this.question.fileNavigatorVisible?v.createElement(Ar,{model:this.question.fileNavigator}):null;let o;return this.question.isReadOnlyAttr?o=v.createElement("input",{readOnly:!0,type:"file",className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:h=>this.setControl(h),style:this.isDisplayMode?{color:"transparent"}:{},multiple:this.question.allowMultiple,placeholder:this.question.title,accept:this.question.acceptedTypes}):this.question.isDisabledAttr?o=v.createElement("input",{disabled:!0,type:"file",className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:h=>this.setControl(h),style:this.isDisplayMode?{color:"transparent"}:{},multiple:this.question.allowMultiple,placeholder:this.question.title,accept:this.question.acceptedTypes}):this.question.hasFileUI?o=v.createElement("input",{type:"file",disabled:this.isDisplayMode,tabIndex:-1,className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:h=>this.setControl(h),style:this.isDisplayMode?{color:"transparent"}:{},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-errormessage":this.question.ariaErrormessage,multiple:this.question.allowMultiple,title:this.question.inputTitle,accept:this.question.acceptedTypes,capture:this.question.renderCapture}):o=null,v.createElement("div",{className:this.question.fileRootCss,ref:h=>this.setContent(h)},o,v.createElement("div",{className:this.question.cssClasses.dragArea,onDrop:this.question.onDrop,onDragOver:this.question.onDragOver,onDragLeave:this.question.onDragLeave,onDragEnter:this.question.onDragEnter},s,t,i,e,n))}renderFileDecorator(){const e=this.question.actionsContainerVisible?v.createElement(Ar,{model:this.question.actionsContainer}):null;return v.createElement("div",{className:this.question.getFileDecoratorCss()},this.question.showDragAreaPlaceholder?v.createElement("span",{className:this.question.cssClasses.dragAreaPlaceholder},this.renderLocString(this.question.locRenderedPlaceholder)):!1,v.createElement("div",{className:this.question.cssClasses.wrapper},e))}renderPreview(){return Ie.Instance.createElement("sv-file-preview",{question:this.question})}renderLoadingIndicator(){return v.createElement("div",{className:this.question.cssClasses.loadingIndicator},v.createElement(Qw,null))}renderVideo(){return v.createElement("div",{className:this.question.cssClasses.videoContainer},v.createElement(Rh,{item:this.question.changeCameraAction}),v.createElement(Rh,{item:this.question.closeCameraAction}),v.createElement("video",{autoPlay:!0,playsInline:!0,id:this.question.videoId,className:this.question.cssClasses.video}),v.createElement(Rh,{item:this.question.takePictureAction}))}}Xt.Instance.registerQuestion("file",r=>v.createElement(sT,r));class rT extends Pi{constructor(e){super(e)}get question(){return this.props.item&&this.props.item.data.question||this.props.data.question}render(){return Av(v.createElement("label",{tabIndex:0,className:this.question.getChooseFileCss(),htmlFor:this.question.inputId,"aria-label":this.question.chooseButtonText,onClick:e=>this.question.chooseFile(e.nativeEvent)},this.question.cssClasses.chooseFileIconId?v.createElement(fi,{title:this.question.chooseButtonText,iconName:this.question.cssClasses.chooseFileIconId,size:"auto"}):null,v.createElement("span",null,this.question.chooseButtonText)))}}Ie.Instance.registerElement("sv-file-choose-btn",r=>v.createElement(rT,r));class nT extends ft{get question(){return this.props.question}get item(){return this.props.item}renderFileSign(e,t){return!e||!t.name?null:v.createElement("div",{className:e},v.createElement("a",{href:t.content,onClick:i=>{this.question.doDownloadFile(i,t)},title:t.name,download:t.name,style:{width:this.question.imageWidth}},t.name))}renderElement(){const e=this.item;return v.createElement("span",{className:this.question.cssClasses.previewItem,onClick:t=>this.question.doDownloadFileFromContainer(t)},this.renderFileSign(this.question.cssClasses.fileSign,e),v.createElement("div",{className:this.question.getImageWrapperCss(e)},this.question.canPreviewImage(e)?v.createElement("img",{src:e.content,style:{height:this.question.imageHeight,width:this.question.imageWidth},alt:"File preview"}):this.question.cssClasses.defaultImage?v.createElement(fi,{iconName:this.question.cssClasses.defaultImageIconId,size:"auto",className:this.question.cssClasses.defaultImage}):null,e.name&&!this.question.isReadOnly?v.createElement("div",{className:this.question.getRemoveButtonCss(),onClick:t=>this.question.doRemoveFile(e,t)},v.createElement("span",{className:this.question.cssClasses.removeFile},this.question.removeFileCaption),this.question.cssClasses.removeFileSvgIconId?v.createElement(fi,{title:this.question.removeFileCaption,iconName:this.question.cssClasses.removeFileSvgIconId,size:"auto",className:this.question.cssClasses.removeFileSvg}):null):null),this.renderFileSign(this.question.cssClasses.fileSignBottom,e))}canRender(){return this.question.showPreviewContainer}}class aT extends ft{get question(){return this.props.question}get page(){return this.props.page}renderElement(){const e=this.page.items.map((t,i)=>v.createElement(nT,{item:t,question:this.question,key:i}));return v.createElement("div",{className:this.page.css,id:this.page.id},e)}}class oT extends ft{get question(){return this.props.question}renderFileSign(e,t){return!e||!t.name?null:v.createElement("div",{className:e},v.createElement("a",{href:t.content,onClick:i=>{this.question.doDownloadFile(i,t)},title:t.name,download:t.name,style:{width:this.question.imageWidth}},t.name))}renderElement(){const e=this.question.renderedPages.map((t,i)=>v.createElement(aT,{page:t,question:this.question,key:t.id}));return v.createElement("div",{className:this.question.cssClasses.fileList||void 0},e)}canRender(){return this.question.showPreviewContainer}}Ie.Instance.registerElement("sv-file-preview",r=>v.createElement(oT,r));class lT extends Ji{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){for(var e=this.question.cssClasses,t=this.question.getRows(),i=[],s=0;s<t.length;s++)t[s].isVisible&&i.push(this.renderRow(s,t[s].cells,e));return v.createElement("table",{className:this.question.getQuestionRootCss()},v.createElement("tbody",null,i))}renderCell(e,t,i){let s;const n=()=>{e.item.focusIn()};return e.isErrorsCell?s=v.createElement(Mw,{question:e.item.editor,creator:this.creator}):s=v.createElement(uT,{question:this.question,item:e.item,creator:this.creator,cssClasses:t}),v.createElement("td",{key:"item"+i,className:e.className,onFocus:n},s)}renderRow(e,t,i){const s="item"+e,n=[];for(let o=0;o<t.length;o++){const h=t[o];n.push(this.renderCell(h,i,o))}return v.createElement("tr",{key:s,className:i.row},n)}}class uT extends Pi{get question(){return this.props.question}get item(){return this.props.item}getStateElements(){return[this.item,this.item.editor]}get creator(){return this.props.creator}renderElement(){const e=this.item,t=this.cssClasses,i={};return this.question.itemTitleWidth&&(i.minWidth=this.question.itemTitleWidth,i.width=this.question.itemTitleWidth),v.createElement("label",{className:this.question.getItemLabelCss(e)},v.createElement("span",{className:t.itemTitle,style:i},v.createElement(Pw,{element:e.editor,cssClasses:e.editor.cssClasses})),v.createElement(hT,{cssClasses:t,itemCss:this.question.getItemCss(),question:e.editor,creator:this.creator}))}}class hT extends Ow{renderElement(){return v.createElement("div",{className:this.itemCss},this.renderContent())}}Xt.Instance.registerQuestion("multipletext",r=>v.createElement(lT,r));class dT extends Ji{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses,t=null;return this.question.showClearButtonInContent&&(t=v.createElement("div",null,v.createElement("input",{type:"button",className:this.question.cssClasses.clearButton,onClick:()=>this.question.clearValue(!0),value:this.question.clearButtonCaption}))),v.createElement("fieldset",{className:this.question.getSelectBaseRootCss(),ref:i=>this.setControl(i),role:this.question.a11y_input_ariaRole,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage},this.question.hasColumns?this.getColumnedBody(e):this.getBody(e),this.getFooter(),this.question.isOtherSelected?this.renderOther(e):null,t)}getFooter(){if(this.question.hasFootItems)return this.question.footItems.map((e,t)=>this.renderItem(e,!1,this.question.cssClasses))}getColumnedBody(e){return v.createElement("div",{className:e.rootMultiColumn},this.getColumns(e))}getColumns(e){var t=this.getStateValue();return this.question.columns.map((i,s)=>{var n=i.map((o,h)=>this.renderItem(o,t,e,""+s+h));return v.createElement("div",{key:"column"+s+this.question.getItemsColumnKey(i),className:this.question.getColumnClass(),role:"presentation"},n)})}getBody(e){return this.question.blockedRow?v.createElement("div",{className:e.rootRow},this.getItems(e,this.question.dataChoices)):v.createElement(v.Fragment,null,this.getItems(e,this.question.bodyItems))}getItems(e,t){for(var i=[],s=this.getStateValue(),n=0;n<t.length;n++){var o=t[n],h=this.renderItem(o,s,e,""+n);i.push(h)}return i}get textStyle(){return null}renderOther(e){return v.createElement("div",{className:this.question.getCommentAreaCss(!0)},v.createElement(jf,{question:this.question,otherCss:e.other,cssClasses:e,isDisplayMode:this.isDisplayMode}))}renderItem(e,t,i,s){const n=Ie.Instance.createElement(this.question.itemComponent,{key:e.value,question:this.question,cssClasses:i,isDisplayMode:this.isDisplayMode,item:e,textStyle:this.textStyle,index:s,isChecked:t===e.value}),o=this.question.survey;let h=null;return o&&(h=Zr.wrapItemValue(o,n,this.question,e)),h??n}getStateValue(){return this.question.isEmpty()?"":this.question.renderedValue}}class Uw extends Pi{constructor(e){super(e),this.rootRef=v.createRef(),this.handleOnChange=this.handleOnChange.bind(this),this.handleOnMouseDown=this.handleOnMouseDown.bind(this)}getStateElement(){return this.item}get question(){return this.props.question}get item(){return this.props.item}get textStyle(){return this.props.textStyle}get index(){return this.props.index}get isChecked(){return this.props.isChecked}get hideCaption(){return this.props.hideCaption===!0}get ariaLabel(){return this.props.ariaLabel||null}shouldComponentUpdate(e,t){return!super.shouldComponentUpdate(e,t)||!this.question?!1:!this.question.customWidget||!!this.question.customWidgetData.isNeedRender||!!this.question.customWidget.widgetJson.isDefaultRender||!!this.question.customWidget.widgetJson.render}handleOnChange(e){this.question.clickItemHandler(this.item)}handleOnMouseDown(e){this.question.onMouseDown()}canRender(){return!!this.question&&!!this.item}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.item!==this.props.item&&!this.question.isDesignMode&&(this.props.item&&this.props.item.setRootElement(this.rootRef.current),e.item&&e.item.setRootElement(void 0))}renderElement(){var e=this.question.getItemClass(this.item),t=this.question.getLabelClass(this.item),i=this.question.getControlLabelClass(this.item);const s=this.hideCaption?null:v.createElement("span",{className:i},this.renderLocString(this.item.locText,this.textStyle));return v.createElement("div",{className:e,role:"presentation",ref:this.rootRef},v.createElement("label",{onMouseDown:this.handleOnMouseDown,className:t},v.createElement("input",{"aria-errormessage":this.question.ariaErrormessage,className:this.cssClasses.itemControl,id:this.question.getItemId(this.item),type:"radio",name:this.question.questionName,checked:this.isChecked,value:this.item.value,disabled:!this.question.getItemEnabled(this.item),readOnly:this.question.isReadOnlyAttr,onChange:this.handleOnChange,"aria-label":this.ariaLabel}),this.cssClasses.materialDecorator?v.createElement("span",{className:this.cssClasses.materialDecorator},this.question.itemSvgIcon?v.createElement("svg",{className:this.cssClasses.itemDecorator},v.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,s))}componentDidMount(){super.componentDidMount(),this.question.isDesignMode||this.item.setRootElement(this.rootRef.current)}componentWillUnmount(){super.componentWillUnmount(),this.question.isDesignMode||this.item.setRootElement(void 0)}}Ie.Instance.registerElement("survey-radiogroup-item",r=>v.createElement(Uw,r));Xt.Instance.registerQuestion("radiogroup",r=>v.createElement(dT,r));class cT extends Xh{constructor(e){super(e)}renderInput(){const e=this.question.getControlClass(),t=this.question.renderedPlaceholder;if(this.question.isReadOnlyRenderDiv())return v.createElement("div",null,this.question.inputValue);const i=this.question.getMaxLength()?v.createElement(Pv,{counter:this.question.characterCounter,remainingCharacterCounter:this.question.cssClasses.remainingCharacterCounter}):null;return v.createElement(v.Fragment,null,v.createElement("input",{id:this.question.inputId,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,className:e,type:this.question.inputType,ref:s=>this.setControl(s),style:this.question.inputStyle,maxLength:this.question.getMaxLength(),min:this.question.renderedMin,max:this.question.renderedMax,step:this.question.renderedStep,size:this.question.inputSize,placeholder:t,list:this.question.dataListId,autoComplete:this.question.autocomplete,onBlur:s=>{this.question.onBlur(s)},onFocus:s=>{this.question.onFocus(s)},onChange:this.question.onChange,onClick:this.question.readOnlyBlocker,onPointerDown:this.question.readOnlyBlocker,onKeyUp:this.question.onKeyUp,onKeyDown:this.question.onKeyDown,onCompositionUpdate:s=>this.question.onCompositionUpdate(s.nativeEvent),"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage}),i)}renderElement(){return this.question.dataListId?v.createElement("div",null,this.renderInput(),this.renderDataList()):this.renderInput()}setValueCore(e){this.question.inputValue=e}getValueCore(){return this.question.inputValue}renderDataList(){if(!this.question.dataListId)return null;var e=this.question.dataList;if(e.length==0)return null;for(var t=[],i=0;i<e.length;i++)t.push(v.createElement("option",{key:"item"+i,value:e[i]}));return v.createElement("datalist",{id:this.question.dataListId},t)}}Xt.Instance.registerQuestion("text",r=>v.createElement(cT,r));class Ov extends Ji{constructor(e){super(e),this.handleOnChange=this.handleOnChange.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.handleOnLabelClick=this.handleOnLabelClick.bind(this),this.handleOnSwitchClick=this.handleOnSwitchClick.bind(this),this.handleOnKeyDown=this.handleOnKeyDown.bind(this),this.checkRef=v.createRef()}getStateElement(){return this.question}get question(){return this.questionBase}doCheck(e){this.question.booleanValue=e}handleOnChange(e){this.doCheck(e.target.checked)}handleOnClick(e){this.question.onLabelClick(e,!0)}handleOnSwitchClick(e){this.question.onSwitchClickModel(e.nativeEvent)}handleOnLabelClick(e,t){this.question.onLabelClick(e,t)}handleOnKeyDown(e){this.question.onKeyDownCore(e)}updateDomElement(){if(!this.question)return;const e=this.checkRef.current;e&&(e.indeterminate=this.question.isIndeterminate),this.setControl(e),super.updateDomElement()}renderElement(){const e=this.question.cssClasses,t=this.question.getItemCss();return v.createElement("div",{className:e.root,onKeyDown:this.handleOnKeyDown},v.createElement("label",{className:t},v.createElement("input",{ref:this.checkRef,type:"checkbox",name:this.question.name,value:this.question.booleanValue===null?"":this.question.booleanValue,id:this.question.inputId,className:e.control,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.booleanValue||!1,onChange:this.handleOnChange,role:this.question.a11y_input_ariaRole,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage}),v.createElement("div",{className:e.sliderGhost,onClick:i=>this.handleOnLabelClick(i,this.question.swapOrder)},v.createElement("span",{className:this.question.getLabelCss(this.question.swapOrder)},this.renderLocString(this.question.locLabelLeft))),v.createElement("div",{className:e.switch,onClick:this.handleOnSwitchClick},v.createElement("span",{className:e.slider},this.question.isDeterminated&&e.sliderText?v.createElement("span",{className:e.sliderText},this.renderLocString(this.question.getCheckedLabel())):null)),v.createElement("div",{className:e.sliderGhost,onClick:i=>this.handleOnLabelClick(i,!this.question.swapOrder)},v.createElement("span",{className:this.question.getLabelCss(!this.question.swapOrder)},this.renderLocString(this.question.locLabelRight)))))}}Xt.Instance.registerQuestion("boolean",r=>v.createElement(Ov,r));class fT extends Ov{constructor(e){super(e)}renderElement(){const e=this.question.cssClasses,t=this.question.getCheckboxItemCss(),i=this.question.canRenderLabelDescription?ft.renderQuestionDescription(this.question):null;return v.createElement("div",{className:e.rootCheckbox},v.createElement("div",{className:t},v.createElement("label",{className:e.checkboxLabel},v.createElement("input",{ref:this.checkRef,type:"checkbox",name:this.question.name,value:this.question.booleanValue===null?"":this.question.booleanValue,id:this.question.inputId,className:e.controlCheckbox,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,checked:this.question.booleanValue||!1,onChange:this.handleOnChange,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage}),v.createElement("span",{className:e.checkboxMaterialDecorator},this.question.svgIcon?v.createElement("svg",{className:e.checkboxItemDecorator},v.createElement("use",{xlinkHref:this.question.svgIcon})):null,v.createElement("span",{className:"check"})),this.question.isLabelRendered&&v.createElement("span",{className:e.checkboxControlLabel,id:this.question.labelRenderedAriaID},v.createElement(Rv,{element:this.question,cssClasses:this.question.cssClasses}))),i))}}Xt.Instance.registerQuestion("sv-boolean-checkbox",r=>v.createElement(fT,r));Un.Instance.registerRenderer("boolean","checkbox","sv-boolean-checkbox");class gT extends Ov{constructor(e){super(e),this.handleOnChange=t=>{this.question.booleanValue=t.nativeEvent.target.value=="true"}}renderRadioItem(e,t){const i=this.question.cssClasses;return v.createElement("div",{role:"presentation",className:this.question.getRadioItemClass(i,e)},v.createElement("label",{className:i.radioLabel},v.createElement("input",{type:"radio",name:this.question.name,value:e,"aria-errormessage":this.question.ariaErrormessage,checked:e===this.question.booleanValueRendered,disabled:this.question.isDisabledAttr,readOnly:this.question.isReadOnlyAttr,className:i.itemRadioControl,onChange:this.handleOnChange}),this.question.cssClasses.materialRadioDecorator?v.createElement("span",{className:i.materialRadioDecorator},this.question.itemSvgIcon?v.createElement("svg",{className:i.itemRadioDecorator},v.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,v.createElement("span",{className:i.radioControlLabel},this.renderLocString(t))))}renderElement(){const e=this.question.cssClasses;return v.createElement("div",{className:e.rootRadio},v.createElement("fieldset",{role:"presentation",className:e.radioFieldset},this.question.swapOrder?v.createElement(v.Fragment,null,this.renderRadioItem(!0,this.question.locLabelTrue),this.renderRadioItem(!1,this.question.locLabelFalse)):v.createElement(v.Fragment,null,this.renderRadioItem(!1,this.question.locLabelFalse),this.renderRadioItem(!0,this.question.locLabelTrue))))}}Xt.Instance.registerQuestion("sv-boolean-radio",r=>v.createElement(gT,r));Un.Instance.registerRenderer("boolean","radio","sv-boolean-radio");class pT extends Ji{constructor(e){super(e),this.state={value:this.question.value}}get question(){return this.questionBase}renderElement(){return v.createElement("div",null)}}Xt.Instance.registerQuestion("empty",r=>v.createElement(pT,r));class _w extends ft{constructor(e){super(e),this.root=v.createRef(),this.onPointerDownHandler=t=>{this.parentMatrix.onPointerDown(t.nativeEvent,this.model.row)}}get model(){return this.props.model}get parentMatrix(){return this.props.parentMatrix}getStateElement(){return this.model}componentDidMount(){super.componentDidMount(),this.root.current&&this.model.setRootElement(this.root.current)}componentWillUnmount(){super.componentWillUnmount(),this.model.setRootElement(void 0)}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)?(e.model!==this.model&&(e.element&&e.element.setRootElement(this.root.current),this.model&&this.model.setRootElement(void 0)),!0):!1}render(){const e=this.model;return e.visible?v.createElement("tr",{ref:this.root,className:e.className,"data-sv-drop-target-matrix-row":e.dropTargetId,onPointerDown:t=>this.onPointerDownHandler(t)},this.props.children):null}}Ie.Instance.registerElement("sv-matrix-row",r=>v.createElement(_w,r));class Ww extends Pi{get question(){return this.props.item.data.question}renderElement(){return v.createElement("div",null,this.renderIcon())}renderIcon(){return this.question.iconDragElement?v.createElement("svg",{className:this.question.cssClasses.dragElementDecorator},v.createElement("use",{xlinkHref:this.question.iconDragElement})):v.createElement("span",{className:this.question.cssClasses.iconDrag})}}Ie.Instance.registerElement("sv-matrix-drag-drop-icon",r=>v.createElement(Ww,r));class mT extends ft{get question(){return this.props.question}get creator(){return this.props.creator}get table(){return this.question.renderedTable}getStateElement(){return this.table}wrapCell(e,t,i){return this.props.wrapCell(e,t,i)}renderHeader(){const e=this.question.renderedTable;if(!e.showHeader)return null;const t=[],i=e.headerRow.cells;for(var s=0;s<i.length;s++){const n=i[s],o="column"+s,h={};n.width&&(h.width=n.width),n.minWidth&&(h.minWidth=n.minWidth);const d=this.renderCellContent(n,"column-header",{}),f=n.hasTitle?v.createElement("th",{className:n.className,key:o,style:h}," ",d," "):v.createElement("td",{className:n.className,key:o,style:h});t.push(f)}return v.createElement("thead",null,v.createElement("tr",null,t))}renderFooter(){const e=this.question.renderedTable;if(!e.showFooter)return null;const t=this.renderRow("footer",e.footerRow,this.question.cssClasses,"row-footer");return v.createElement("tfoot",null,t)}renderRows(){const e=this.question.cssClasses,t=[],i=this.question.renderedTable.renderedRows;for(var s=0;s<i.length;s++)t.push(this.renderRow(i[s].id,i[s],e));return v.createElement("tbody",null,t)}renderRow(e,t,i,s){const n=[],o=t.cells;for(var h=0;h<o.length;h++)n.push(this.renderCell(o[h],i,s));const d="row"+e;return v.createElement(v.Fragment,{key:d},s=="row-footer"?v.createElement("tr",null,n):v.createElement(_w,{model:t,parentMatrix:this.question},n))}renderCell(e,t,i){const s="cell"+e.id;if(e.hasQuestion)return v.createElement(CT,{key:s,cssClasses:t,cell:e,creator:this.creator,reason:i});if(e.isErrorsCell&&e.isErrorsCell)return v.createElement(yT,{cell:e,key:s,keyValue:s,question:e.question,creator:this.creator});let n=i;n||(n=e.hasTitle?"row-header":"");const o=this.renderCellContent(e,n,t);let h=null;return(e.width||e.minWidth)&&(h={},e.width&&(h.width=e.width),e.minWidth&&(h.minWidth=e.minWidth)),v.createElement("td",{className:e.className,key:s,style:h,colSpan:e.colSpans,title:e.getTitle()},o)}renderCellContent(e,t,i){let s=null,n=null;if((e.width||e.minWidth)&&(n={},e.width&&(n.width=e.width),e.minWidth&&(n.minWidth=e.minWidth)),e.hasTitle){t="row-header";const h=this.renderLocString(e.locTitle),d=e.column?v.createElement(Gw,{column:e.column,question:this.question}):null;s=v.createElement(v.Fragment,null,h,d)}if(e.isDragHandlerCell&&(s=v.createElement(v.Fragment,null,v.createElement(Ww,{item:{data:{row:e.row,question:this.question}}}))),e.isActionsCell&&(s=Ie.Instance.createElement("sv-matrixdynamic-actions-cell",{question:this.question,cssClasses:i,cell:e,model:e.item.getData()})),e.hasPanel&&(s=v.createElement(Jh,{key:e.panel.id,element:e.panel,survey:this.question.survey,cssClasses:i,isDisplayMode:this.isDisplayMode,creator:this.creator})),!s)return null;const o=v.createElement(v.Fragment,null,s);return this.wrapCell(e,o,t)}renderElement(){const e=this.renderHeader(),t=this.renderFooter(),i=this.renderRows();return v.createElement("table",{className:this.question.getTableCss()},e,i,t)}}class jw extends Ji{constructor(e){super(e),this.question.renderedTable,this.state=this.getState()}get question(){return this.questionBase}getState(e=null){return{rowCounter:e?e.rowCounter+1:0}}updateStateOnCallback(){this.isRendering||this.setState(this.getState(this.state))}componentDidMount(){super.componentDidMount(),this.question.onRenderedTableResetCallback=()=>{this.updateStateOnCallback()}}componentWillUnmount(){super.componentWillUnmount(),this.question.onRenderedTableResetCallback=()=>{}}renderElement(){return this.renderTableDiv()}renderTableDiv(){return v.createElement("div",{className:this.question.cssClasses.tableWrapper,ref:e=>this.setControl(e)},v.createElement(mT,{question:this.question,creator:this.creator,wrapCell:(e,t,i)=>this.wrapCell(e,t,i)}))}}class vT extends Pi{constructor(e){super(e)}get model(){return this.props.model}renderElement(){return v.createElement(Ar,{model:this.model,handleClick:!1})}}class yT extends Mw{constructor(e){super(e)}get key(){return this.props.keyValue}get cell(){return this.props.cell}render(){return this.cell.isVisible?v.createElement("td",{className:this.cell.className,key:this.key,colSpan:this.cell.colSpans,title:this.cell.getTitle()},super.render()):null}getQuestionPropertiesToTrack(){return super.getQuestionPropertiesToTrack().concat(["visible"])}}Ie.Instance.registerElement("sv-matrixdynamic-actions-cell",r=>v.createElement(vT,r));class Gw extends Pi{constructor(e){super(e)}get column(){return this.props.column}get question(){return this.props.question}getStateElement(){return this.column}renderElement(){return this.column.isRenderedRequired?v.createElement(v.Fragment,null,v.createElement("span",null," "),v.createElement("span",{className:this.question.cssClasses.cellRequiredMark},this.column.requiredMark)):null}}class CT extends M5{constructor(e){super(e)}get cell(){return this.props.cell}get itemCss(){return this.cell?this.cell.className:""}getQuestion(){var e=super.getQuestion();return e||(this.cell?this.cell.question:null)}doAfterRender(){var e=this.cellRef.current;if(e&&this.cell&&this.question&&this.question.survey&&e.getAttribute("data-rendered")!=="r"){e.setAttribute("data-rendered","r");const t={cell:this.cell,cellQuestion:this.question,htmlElement:e,row:this.cell.row,column:this.cell.cell.column};this.question.survey.matrixAfterCellRender(t),this.question.afterRenderCore(e)}}getShowErrors(){return this.question.isVisible&&(!this.cell.isChoice||this.cell.isFirstChoice)}getCellStyle(){var e=super.getCellStyle();return(this.cell.width||this.cell.minWidth)&&(e||(e={}),this.cell.width&&(e.width=this.cell.width),this.cell.minWidth&&(e.minWidth=this.cell.minWidth)),e}getHeaderText(){return this.cell.headers}renderElement(){return this.cell.isVisible?super.renderElement():null}renderCellContent(){const e=super.renderCellContent(),t=this.cell.showResponsiveTitle?v.createElement("span",{className:this.cell.responsiveTitleCss},this.renderLocString(this.cell.responsiveLocTitle),v.createElement(Gw,{column:this.cell.column,question:this.cell.matrix})):null;return v.createElement(v.Fragment,null,t,e)}renderQuestion(){return this.question.isVisible?this.cell.isChoice?this.cell.isOtherChoice?this.renderOtherComment():this.cell.isCheckbox?this.renderCellCheckboxButton():this.renderCellRadiogroupButton():Ma.renderQuestionBody(this.creator,this.question):v.createElement(v.Fragment,null)}renderOtherComment(){const e=this.cell.question,t=e.cssClasses||{};return v.createElement(jf,{question:e,cssClasses:t,otherCss:t.other,isDisplayMode:e.isInputReadOnly})}renderCellCheckboxButton(){var e=this.cell.question.id+"item"+this.cell.choiceIndex;return v.createElement(Bw,{key:e,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isInputReadOnly,item:this.cell.item,isFirst:this.cell.isFirstChoice,index:this.cell.choiceIndex.toString(),hideCaption:!0,ariaLabel:this.getCellAriaLabel()})}renderCellRadiogroupButton(){var e=this.cell.question.id+"item"+this.cell.choiceIndex;return v.createElement(Uw,{key:e,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isInputReadOnly,item:this.cell.item,index:this.cell.choiceIndex.toString(),isChecked:this.cell.question.value===this.cell.item.value,isDisabled:this.cell.question.isReadOnly||!this.cell.item.isEnabled,hideCaption:!0,ariaLabel:this.getCellAriaLabel()})}getCellAriaLabel(){return this.question.parentQuestion.getCellAriaLabel(this.cell.row,this.cell.column)}}class bT extends jw{constructor(e){super(e)}}Xt.Instance.registerQuestion("matrixdropdown",r=>v.createElement(bT,r));class wT extends jw{constructor(e){super(e),this.handleOnRowAddClick=this.handleOnRowAddClick.bind(this)}get matrix(){return this.questionBase}handleOnRowAddClick(e){this.matrix.addRowUI()}renderElement(){var e=this.question.cssClasses,t=this.question.renderedTable.showTable,i=t?this.renderTableDiv():this.renderNoRowsContent(e);return v.createElement("div",null,this.renderAddRowButtonOnTop(e),i,this.renderAddRowButtonOnBottom(e))}renderAddRowButtonOnTop(e){return this.matrix.renderedTable.showAddRowOnTop?this.renderAddRowButton(e):null}renderAddRowButtonOnBottom(e){return this.matrix.renderedTable.showAddRowOnBottom?this.renderAddRowButton(e):null}renderNoRowsContent(e){return Ie.Instance.createElement("sv-placeholder-matrixdynamic",{cssClasses:e,question:this.matrix})}renderAddRowButton(e,t=!1){return Ie.Instance.createElement("sv-matrixdynamic-add-btn",{question:this.question,cssClasses:e,isEmptySection:t})}}Xt.Instance.registerQuestion("matrixdynamic",r=>v.createElement(wT,r));class xT extends Pi{constructor(e){super(e),this.handleOnRowAddClick=this.handleOnRowAddClick.bind(this)}get matrix(){return this.props.question}handleOnRowAddClick(e){this.matrix.addRowUI()}renderElement(){const e=this.renderLocString(this.matrix.locAddRowText),t=v.createElement("button",{className:this.matrix.getAddRowButtonCss(this.props.isEmptySection),type:"button",disabled:this.matrix.isInputReadOnly,onClick:this.matrix.isDesignMode?void 0:this.handleOnRowAddClick},e,v.createElement("span",{className:this.props.cssClasses.iconAdd}));return this.props.isEmptySection?t:v.createElement("div",{className:this.props.cssClasses.footer},t)}}class VT extends Pi{constructor(e){super(e)}renderElement(){const e=this.props.cssClasses,t=this.props.question,i=t.renderedTable.showAddRow,s=this.renderLocString(t.locNoRowsText),n=v.createElement("div",{className:e.noRowsText},s),o=i?this.renderAddRowButton(e,t):void 0;return v.createElement("div",{className:e.noRowsSection},n,o)}renderAddRowButton(e,t){return Ie.Instance.createElement("sv-matrixdynamic-add-btn",{question:t,cssClasses:e,isEmptySection:!0})}}Ie.Instance.registerElement("sv-matrixdynamic-add-btn",r=>v.createElement(xT,r));Ie.Instance.registerElement("sv-placeholder-matrixdynamic",r=>v.createElement(VT,r));class ST extends Ji{constructor(e){super(e)}get question(){return this.questionBase}componentDidMount(){super.componentDidMount(),this.setState({panelCounter:0});const e=this;this.question.panelCountChangedCallback=function(){e.updateQuestionRendering()},this.question.currentIndexChangedCallback=function(){e.updateQuestionRendering()},this.question.renderModeChangedCallback=function(){e.updateQuestionRendering()}}componentWillUnmount(){super.componentWillUnmount(),this.question.panelCountChangedCallback=()=>{},this.question.currentIndexChangedCallback=()=>{},this.question.renderModeChangedCallback=()=>{}}updateQuestionRendering(){this.setState({panelCounter:this.state?this.state.panelCounter+1:1})}renderElement(){const e=[],t=this.question.cssClasses;this.question.renderedPanels.forEach((o,h)=>{e.push(v.createElement(ET,{key:o.id,element:o,question:this.question,index:h,cssClasses:t,isDisplayMode:this.isDisplayMode,creator:this.creator}))});const i=this.question.isRangeShowing&&this.question.isProgressTopShowing?this.renderRange():null,s=this.renderNavigatorV2(),n=this.renderPlaceholder(t);return v.createElement("div",{className:t.root},this.question.hasTabbedMenu?v.createElement("div",{className:this.question.getTabsContainerCss()},v.createElement(Ar,{model:this.question.tabbedMenu})):null,n,i,v.createElement("div",{className:this.question.cssClasses.panelsContainer},e),s)}renderRange(){return v.createElement("div",{className:this.question.cssClasses.progress},v.createElement("div",{className:this.question.cssClasses.progressBar,style:{width:this.question.progress},role:"progressbar","aria-label":this.question.progressBarAriaLabel}))}renderAddRowButton(){return Ie.Instance.createElement("sv-paneldynamic-add-btn",{data:{question:this.question}})}renderNavigatorV2(){if(!this.question.showNavigation)return null;const e=this.question.isRangeShowing&&this.question.isProgressBottomShowing?this.renderRange():null;return v.createElement("div",{className:this.question.cssClasses.footer},v.createElement("hr",{className:this.question.cssClasses.separator}),e,this.question.footerToolbar.hasVisibleActions?v.createElement("div",{className:this.question.cssClasses.footerButtonsContainer},v.createElement(Ar,{model:this.question.footerToolbar})):null)}renderPlaceholder(e){return this.question.getShowNoEntriesPlaceholder()?Ie.Instance.createElement("sv-placeholder-paneldynamic",{cssClasses:e,question:this.question}):null}}class ET extends Jh{get question(){return this.props.question}get index(){return this.props.index}getSurvey(){return this.question?this.question.survey:null}getCss(){const e=this.getSurvey();return e?e.getCss():{}}render(){const e=super.render(),t=this.renderButton(),i=this.question.showSeparator(this.index)?v.createElement("hr",{className:this.question.cssClasses.separator}):null;return v.createElement(v.Fragment,null,v.createElement("div",{className:this.question.getPanelWrapperCss(this.panel)},e,t),i)}renderButton(){return this.question.canRenderRemovePanelOnRight(this.panel)?Ie.Instance.createElement("sv-paneldynamic-remove-btn",{data:{question:this.question,panel:this.panel}}):null}}Xt.Instance.registerQuestion("paneldynamic",r=>v.createElement(ST,r));class TT extends Pi{constructor(e){super(e)}renderElement(){const e=this.props.cssClasses,t=this.props.question;return v.createElement("div",{className:e.noEntriesPlaceholder},v.createElement("span",null,this.renderLocString(t.locNoEntriesText)),this.renderAddRowButton(t))}renderAddRowButton(e){return Ie.Instance.createElement("sv-paneldynamic-add-btn",{data:{question:e}})}}Ie.Instance.registerElement("sv-placeholder-paneldynamic",r=>v.createElement(TT,r));class Kf extends Dv{constructor(e){super(e)}get isTop(){return this.props.isTop}get progress(){return this.survey.progressValue}get progressText(){return this.survey.progressText}get progressBarAriaLabel(){return this.survey.progressBarAriaLabel}render(){var e={width:this.progress+"%"};return v.createElement("div",{className:this.survey.getProgressCssClasses(this.props.container)},v.createElement("div",{style:e,className:this.css.progressBar,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-label":this.progressBarAriaLabel},v.createElement("span",{className:OC.getProgressTextInBarCss(this.css)},this.progressText)),v.createElement("span",{className:OC.getProgressTextUnderBarCss(this.css)},this.progressText))}}Ie.Instance.registerElement("sv-progress-pages",r=>v.createElement(Kf,r));Ie.Instance.registerElement("sv-progress-questions",r=>v.createElement(Kf,r));Ie.Instance.registerElement("sv-progress-correctquestions",r=>v.createElement(Kf,r));Ie.Instance.registerElement("sv-progress-requiredquestions",r=>v.createElement(Kf,r));class RT extends Dv{constructor(e){super(e),this.listContainerRef=v.createRef()}get model(){return this.props.model}get container(){return this.props.container}onResize(e){this.setState({canShowItemTitles:e}),this.setState({canShowHeader:!e})}onUpdateScroller(e){this.setState({hasScroller:e})}onUpdateSettings(){this.setState({canShowItemTitles:this.model.showItemTitles}),this.setState({canShowFooter:!this.model.showItemTitles})}render(){return v.createElement("div",{className:this.model.getRootCss(this.props.container),style:{maxWidth:this.model.progressWidth},role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-label":this.model.progressBarAriaLabel},this.state.canShowHeader?v.createElement("div",{className:this.css.progressButtonsHeader},v.createElement("div",{className:this.css.progressButtonsPageTitle,title:this.model.headerText},this.model.headerText)):null,v.createElement("div",{className:this.css.progressButtonsContainer},v.createElement("div",{className:this.model.getScrollButtonCss(this.state.hasScroller,!0),role:"button",onClick:()=>this.clickScrollButton(this.listContainerRef.current,!0)}),v.createElement("div",{className:this.css.progressButtonsListContainer,ref:this.listContainerRef},v.createElement("ul",{className:this.css.progressButtonsList},this.getListElements())),v.createElement("div",{className:this.model.getScrollButtonCss(this.state.hasScroller,!1),role:"button",onClick:()=>this.clickScrollButton(this.listContainerRef.current,!1)})),this.state.canShowFooter?v.createElement("div",{className:this.css.progressButtonsFooter},v.createElement("div",{className:this.css.progressButtonsPageTitle,title:this.model.footerText},this.model.footerText)):null)}getListElements(){let e=[];return this.survey.visiblePages.forEach((t,i)=>{e.push(this.renderListElement(t,i))}),e}renderListElement(e,t){const i=ft.renderLocString(e.locNavigationTitle);return v.createElement("li",{key:"listelement"+t,className:this.model.getListElementCss(t),onClick:this.model.isListElementClickable(t)?()=>this.model.clickListElement(e):void 0,"data-page-number":this.model.getItemNumber(e)},v.createElement("div",{className:this.css.progressButtonsConnector}),this.state.canShowItemTitles?v.createElement(v.Fragment,null,v.createElement("div",{className:this.css.progressButtonsPageTitle,title:e.renderedNavigationTitle},i),v.createElement("div",{className:this.css.progressButtonsPageDescription,title:e.navigationDescription},e.navigationDescription)):null,v.createElement("div",{className:this.css.progressButtonsButton},v.createElement("div",{className:this.css.progressButtonsButtonBackground}),v.createElement("div",{className:this.css.progressButtonsButtonContent}),v.createElement("span",null,this.model.getItemNumber(e))))}clickScrollButton(e,t){e&&(e.scrollLeft+=(t?-1:1)*70)}componentDidMount(){super.componentDidMount(),setTimeout(()=>{this.respManager=new FE(this.model,this.listContainerRef.current,this)},10)}componentWillUnmount(){this.respManager&&this.respManager.dispose(),super.componentWillUnmount()}}Ie.Instance.registerElement("sv-progress-buttons",r=>v.createElement(RT,r));class Zw extends ft{constructor(){super(...arguments),this.handleKeydown=e=>{this.model.onKeyDown(e)}}get model(){return this.props.model}get item(){return this.props.item}getStateElement(){return this.item}render(){if(!this.item)return null;const e=this.model.getItemClass(this.item),t=this.item.component||this.model.itemComponent,i=Ie.Instance.createElement(t,{item:this.item,key:this.item.id,model:this.model}),s=v.createElement("div",{style:this.model.getItemStyle(this.item),className:this.model.cssClasses.itemBody,title:this.item.getTooltip(),onMouseOver:d=>{this.model.onItemHover(this.item)},onMouseLeave:d=>{this.model.onItemLeave(this.item)}},i),n=this.item.needSeparator?v.createElement("div",{className:this.model.cssClasses.itemSeparator}):null,h={display:this.model.isItemVisible(this.item)?null:"none"};return Av(v.createElement("li",{className:e,role:this.model.listItemRole,style:h,id:this.item.elementId,"aria-selected":this.model.getA11yItemAriaSelected(this.item),"aria-checked":this.model.getA11yItemAriaChecked(this.item),onClick:d=>{this.model.onItemClick(this.item),d.stopPropagation()},onPointerDown:d=>this.model.onPointerDown(d,this.item)},n,s),this.item)}componentDidMount(){super.componentDidMount(),this.model.onLastItemRended(this.item)}}Ie.Instance.registerElement("sv-list-item",r=>v.createElement(Zw,r));class Kw extends ft{constructor(e){super(e),this.handleKeydown=t=>{this.model.onKeyDown(t)},this.handleMouseMove=t=>{this.model.onMouseMove(t)},this.state={filterString:this.model.filterString||""},this.listContainerRef=v.createRef()}get model(){return this.props.model}getStateElement(){return this.model}componentDidMount(){super.componentDidMount(),this.listContainerRef&&this.listContainerRef.current&&this.model.initListContainerHtmlElement(this.listContainerRef.current)}componentDidUpdate(e,t){var i;super.componentDidUpdate(e,t),this.model!==e.model&&(this.model&&(!((i=this.listContainerRef)===null||i===void 0)&&i.current)&&this.model.initListContainerHtmlElement(this.listContainerRef.current),e.model&&e.model.initListContainerHtmlElement(void 0))}componentWillUnmount(){super.componentWillUnmount(),this.model&&this.model.initListContainerHtmlElement(void 0)}renderElement(){return v.createElement("div",{className:this.model.cssClasses.root,ref:this.listContainerRef},this.searchElementContent(),this.emptyContent(),this.renderList())}renderList(){if(!this.model.renderElements)return null;const e=this.renderItems(),t={display:this.model.isEmpty?"none":null};return v.createElement("ul",{className:this.model.getListClass(),style:t,role:this.model.listRole,"aria-label":this.model.a11ya11y_input_ariaLabel,id:this.model.elementId,onMouseDown:i=>{i.preventDefault()},onKeyDown:this.handleKeydown,onMouseMove:this.handleMouseMove},e)}renderItems(){if(!this.model)return null;const e=this.model.renderedActions;return e?e.map((t,i)=>v.createElement(Zw,{model:this.model,item:t,key:"item"+i})):null}searchElementContent(){if(this.model.showFilter){const e=s=>{const{root:n}=X.environment;s.target===n.activeElement&&(this.model.filterString=s.target.value)},t=s=>{this.model.goToItems(s)},i=this.model.showSearchClearButton&&this.model.filterString?v.createElement("button",{className:this.model.cssClasses.searchClearButtonIcon,onClick:s=>{this.model.onClickSearchClearButton(s)}},v.createElement(fi,{iconName:"icon-searchclear",size:"auto"})):null;return v.createElement("div",{className:this.model.cssClasses.filter},v.createElement("div",{className:this.model.cssClasses.filterIcon},v.createElement(fi,{iconName:"icon-search",size:"auto"})),v.createElement("input",{type:"text",className:this.model.cssClasses.filterInput,"aria-label":this.model.filterStringPlaceholder,placeholder:this.model.filterStringPlaceholder,value:this.state.filterString,onKeyUp:t,onChange:e}),i)}else return null}emptyContent(){const e={display:this.model.isEmpty?null:"none"};return v.createElement("div",{className:this.model.cssClasses.emptyContainer,style:e},v.createElement("div",{className:this.model.cssClasses.emptyText,"aria-label":this.model.emptyMessage},this.model.emptyMessage))}}Ie.Instance.registerElement("sv-list",r=>v.createElement(Kw,r));class PT extends Dv{componentDidMount(){super.componentDidMount(),this.props.model.updateStickyTOCSize(this.survey.rootElement)}render(){const e=this.props.model;let t;return e.isMobile?t=v.createElement("div",{onClick:e.togglePopup},v.createElement(fi,{iconName:e.icon,size:24}),v.createElement(Yh,{model:e.popupModel})):t=v.createElement(Kw,{model:e.listModel}),v.createElement("div",{className:e.containerCss},t)}}Ie.Instance.registerElement("sv-navigation-toc",r=>v.createElement(PT,r));class IT extends Ji{constructor(e){super(e),this.handleOnClick=this.handleOnClick.bind(this)}get question(){return this.questionBase}handleOnClick(e){this.question.setValueFromClick(e.target.value),this.setState({value:this.question.value})}renderItem(e,t){return Ie.Instance.createElement(this.question.itemComponent,{question:this.question,item:e,index:t,key:"value"+t,handleOnClick:this.handleOnClick,isDisplayMode:this.isDisplayMode})}renderElement(){var e=this.question.cssClasses,t=this.question.minRateDescription?this.renderLocString(this.question.locMinRateDescription):null,i=this.question.maxRateDescription?this.renderLocString(this.question.locMaxRateDescription):null;return v.createElement("div",{className:this.question.ratingRootCss,ref:s=>this.setControl(s)},v.createElement("fieldset",{role:"radiogroup"},v.createElement("legend",{role:"presentation",className:"sv-hidden"}),this.question.hasMinLabel?v.createElement("span",{className:e.minText},t):null,this.question.renderedRateItems.map((s,n)=>this.renderItem(s,n)),this.question.hasMaxLabel?v.createElement("span",{className:e.maxText},i):null))}}Xt.Instance.registerQuestion("rating",r=>v.createElement(IT,r));class AT extends Zf{constructor(e){super(e)}renderElement(){var e=this.question.cssClasses,t=this.renderSelect(e);return v.createElement("div",{className:this.question.cssClasses.rootDropdown},t)}}Xt.Instance.registerQuestion("sv-rating-dropdown",r=>v.createElement(AT,r));Un.Instance.registerRenderer("rating","dropdown","sv-rating-dropdown");class DT extends Ji{constructor(e){super(e),this.rangeInputRef=v.createRef()}componentDidMount(){super.componentDidMount(),this.question.refreshInputRange(this.rangeInputRef.current)}get question(){return this.questionBase}getStateElement(){return this.question}renderElement(){const{cssClasses:e,showLabels:t,sliderType:i,getTrackPercentLeft:s,getTrackPercentRight:n,allowDragRange:o,setValueByClickOnPath:h}=this.question,d=i==="single"&&o?null:this.getRangeInput(),f=this.getInputsAndThumbs(),p=t?this.getLabels():null;return v.createElement("div",{className:this.question.rootCss,ref:y=>this.setControl(y)},d,v.createElement("div",{className:e.visualContainer,onPointerUp:y=>{h(y.nativeEvent,this.control)}},v.createElement("div",{className:e.visualContainerSlider},v.createElement("div",{className:e.inverseTrackLeft,style:{width:s()+"%"}}),v.createElement("div",{className:e.inverseTrackRight,style:{width:n()+"%"}}),v.createElement("div",{className:e.rangeTrack,style:{left:s()+"%",right:n()+"%"}}),f)),p)}getInputsAndThumbs(){const e=[],t=this.question.renderedValue;for(let i=0;i<t.length;i++){const s=v.createElement(v.Fragment,{key:i},this.getInput(i),this.getThumb(i));e.push(s)}return e}getThumb(e){const{cssClasses:t,getThumbContainerCss:i,tooltipVisibility:s,tooltipCss:n,getPercent:o,renderedValue:h,getTooltipValue:d}=this.question,f=h[e];let p=null;return s!=="never"&&(p=v.createElement("div",{className:n},v.createElement("div",{className:t.tooltipPanel},v.createElement("div",{className:t.tooltipValue},d(e))))),v.createElement("div",{className:i(e),style:{left:o(f)+"%"}},p,v.createElement("div",{className:t.thumb},v.createElement("div",{className:t.thumbDot})))}getInput(e){const{renderedMax:t,renderedMin:i,step:s,cssClasses:n,isDisabledAttr:o,renderedValue:h,handleOnChange:d,handlePointerDown:f,handlePointerUp:p,handleKeyDown:y,handleKeyUp:b,handleOnFocus:w,handleOnBlur:T}=this.question,P=h[e];return v.createElement("input",{className:n.input,id:"sjs-slider-input-"+e,type:"range",min:i,max:t,step:s,value:P,onChange:L=>{d(L.nativeEvent,e)},onPointerDown:L=>{f(L.nativeEvent)},onPointerUp:L=>{L.stopPropagation(),p(L.nativeEvent)},onKeyDown:L=>{y(L.nativeEvent)},onKeyUp:L=>{b(L.nativeEvent)},onFocus:()=>{w(e)},onBlur:()=>{T()},disabled:o,"aria-required":this.question.a11y_input_ariaRequired,"aria-label":this.question.a11y_input_ariaLabel,"aria-labelledby":this.question.a11y_input_ariaLabelledBy,"aria-describedby":this.question.a11y_input_ariaDescribedBy,"aria-invalid":this.question.a11y_input_ariaInvalid,"aria-errormessage":this.question.a11y_input_ariaErrormessage})}getRangeInput(){const{renderedMax:e,renderedMin:t,step:i,cssClasses:s,handleRangeOnChange:n,handleRangePointerDown:o,handleRangePointerUp:h}=this.question;return v.createElement("input",{name:"range-input",id:"sjs-slider-input-range-input",ref:this.rangeInputRef,className:s.input,type:"range","aria-hidden":"true",min:t,max:e,step:i,tabIndex:-1,onChange:d=>{n(d.nativeEvent)},onPointerDown:d=>{d.persist(),o(d.nativeEvent,this.control)},onPointerUp:d=>{h(d.nativeEvent,this.control)}})}getLabels(){const e=[],{renderedLabels:t,cssClasses:i}=this.question;for(let s=0;s<t.length;s++){const n=Ie.Instance.createElement("sv-slider-label-item",{item:t[s],question:this.question,key:t[s].id});e.push(n)}return v.createElement("div",{className:i.labelsContainer},v.createElement("div",null,e))}}Xt.Instance.registerQuestion("slider",r=>v.createElement(DT,r));class LT extends Ji{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses;return v.createElement("div",{id:this.question.inputId,className:e.root,ref:t=>this.setControl(t)},this.question.formatedValue)}}Xt.Instance.registerQuestion("expression",r=>v.createElement(LT,r));class OT extends Ji{constructor(e){super(e)}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses;return v.createElement("fieldset",{className:this.question.getSelectBaseRootCss(),style:this.question.getContainerStyle()},v.createElement("legend",{className:"sv-hidden"},this.question.locTitle.renderedHtml),this.question.hasColumns?this.getColumns(e):this.getItems(e))}getColumns(e){return this.question.columns.map((t,i)=>{var s=t.map((n,o)=>this.renderItem("item"+o,n,e));return v.createElement("div",{key:"column"+i+this.question.getItemsColumnKey(t),className:this.question.getColumnClass(),role:"presentation"},s)})}getItems(e){for(var t=[],i=0;i<this.question.visibleChoices.length;i++){var s=this.question.visibleChoices[i],n="item"+i;t.push(this.renderItem(n,s,e))}return t}get textStyle(){return{marginLeft:"3px",display:"inline",position:"static"}}renderItem(e,t,i){const s=v.createElement(MT,{key:e,question:this.question,item:t,cssClasses:i}),n=this.question.survey;let o=null;return n&&(o=Zr.wrapItemValue(n,s,this.question,t)),o??s}}class MT extends Pi{constructor(e){super(e),this.handleOnChange=this.handleOnChange.bind(this)}getStateElement(){return this.item}componentDidMount(){super.componentDidMount(),this.reactOnStrChanged()}componentWillUnmount(){super.componentWillUnmount(),this.item.locImageLink.onChanged=function(){}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.reactOnStrChanged()}reactOnStrChanged(){this.item.locImageLink.onChanged=()=>{this.setState({locImageLinkchanged:this.state&&this.state.locImageLink?this.state.locImageLink+1:1})}}get cssClasses(){return this.props.cssClasses}get item(){return this.props.item}get question(){return this.props.question}handleOnChange(e){if(!this.question.isReadOnlyAttr){if(this.question.multiSelect)if(e.target.checked)this.question.value=this.question.value.concat(e.target.value);else{var t=this.question.value;t.splice(this.question.value.indexOf(e.target.value),1),this.question.value=t}else this.question.value=e.target.value;this.setState({value:this.question.value})}}renderElement(){const e=this.item,t=this.question,i=this.cssClasses;var s=t.isItemSelected(e),n=t.getItemClass(e),o=null;t.showLabel&&(o=v.createElement("span",{className:t.cssClasses.itemText},e.text?ft.renderLocString(e.locText):e.value));var h={objectFit:this.question.imageFit},d=null;if(e.locImageLink.renderedHtml&&this.question.contentMode==="image"&&(d=v.createElement("img",{className:i.image,src:e.locImageLink.renderedHtml,width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,alt:e.locText.renderedHtml,style:h,onLoad:p=>{this.question.onContentLoaded(e,p.nativeEvent)},onError:p=>{e.onErrorHandler(e,p.nativeEvent)}})),e.locImageLink.renderedHtml&&this.question.contentMode==="video"&&(d=v.createElement("video",{controls:!0,className:i.image,src:e.locImageLink.renderedHtml,width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,style:h,onLoadedMetadata:p=>{this.question.onContentLoaded(e,p.nativeEvent)},onError:p=>{e.onErrorHandler(e,p.nativeEvent)}})),!e.locImageLink.renderedHtml||e.contentNotLoaded){let p={width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,objectFit:this.question.imageFit};d=v.createElement("div",{className:i.itemNoImage,style:p},i.itemNoImageSvgIcon?v.createElement(fi,{className:i.itemNoImageSvgIcon,iconName:this.question.cssClasses.itemNoImageSvgIconId,size:48}):null)}return v.createElement("div",{className:n},v.createElement("label",{className:i.label},v.createElement("input",{className:i.itemControl,id:this.question.getItemId(e),type:this.question.inputType,name:this.question.questionName,checked:s,value:e.value,disabled:!this.question.getItemEnabled(e),readOnly:this.question.isReadOnlyAttr,onChange:this.handleOnChange,"aria-required":this.question.ariaRequired,"aria-label":e.locText.renderedHtml,"aria-invalid":this.question.ariaInvalid,"aria-errormessage":this.question.ariaErrormessage}),v.createElement("div",{className:this.question.cssClasses.itemDecorator},v.createElement("div",{className:this.question.cssClasses.imageContainer},this.question.cssClasses.checkedItemDecorator?v.createElement("span",{className:this.question.cssClasses.checkedItemDecorator,"aria-hidden":"true"},this.question.cssClasses.checkedItemSvgIconId?v.createElement(fi,{size:"auto",className:this.question.cssClasses.checkedItemSvgIcon,iconName:this.question.cssClasses.checkedItemSvgIconId}):null):null,d),o)))}}Xt.Instance.registerQuestion("imagepicker",r=>v.createElement(OT,r));class NT extends Ji{constructor(e){super(e)}componentDidMount(){super.componentDidMount(),this.question.locImageLink.onChanged=()=>{this.forceUpdate()}}componentWillUnmount(){super.componentWillUnmount(),this.question.locImageLink.onChanged=()=>{}}get question(){return this.questionBase}renderElement(){var e=this.question.getImageCss(),t={objectFit:this.question.imageFit,width:this.question.renderedStyleWidth,height:this.question.renderedStyleHeight};(!this.question.imageLink||this.question.contentNotLoaded)&&(t.display="none");var i=null;this.question.renderedMode==="image"&&(i=v.createElement("img",{className:e,src:this.question.locImageLink.renderedHtml||null,alt:this.question.renderedAltText,width:this.question.renderedWidth,height:this.question.renderedHeight,style:t,onLoad:n=>{this.question.onLoadHandler()},onError:n=>{this.question.onErrorHandler()}})),this.question.renderedMode==="video"&&(i=v.createElement("video",{controls:!0,className:e,src:this.question.locImageLink.renderedHtml,width:this.question.renderedWidth,height:this.question.renderedHeight,style:t,onLoadedMetadata:n=>{this.question.onLoadHandler()},onError:n=>{this.question.onErrorHandler()}})),this.question.renderedMode==="youtube"&&(i=v.createElement("iframe",{className:e,src:this.question.locImageLink.renderedHtml,width:this.question.renderedWidth,height:this.question.renderedHeight,style:t,title:this.question.renderedAltText}));var s=null;return(!this.question.imageLink||this.question.contentNotLoaded)&&(s=v.createElement("div",{className:this.question.cssClasses.noImage},v.createElement(fi,{iconName:this.question.cssClasses.noImageSvgIconId,size:48}))),v.createElement("div",{className:this.question.cssClasses.root},i,s)}}Xt.Instance.registerQuestion("image",r=>v.createElement(NT,r));class kT extends Ji{constructor(e){super(e),this.state={value:this.question.value}}get question(){return this.questionBase}renderElement(){var e=this.question.cssClasses;const t=this.question.showLoadingIndicator?this.renderLoadingIndicator():null;var i=this.renderCleanButton();return v.createElement("div",{className:e.root,ref:s=>this.setControl(s),style:{width:this.question.renderedCanvasWidth}},v.createElement("div",{className:e.placeholder,style:{display:this.question.needShowPlaceholder()?"":"none"}},this.renderLocString(this.question.locRenderedPlaceholder)),v.createElement("div",null,this.renderBackgroundImage(),v.createElement("canvas",{tabIndex:-1,className:this.question.cssClasses.canvas,onBlur:s=>{this.question.onBlur(s)}})),i,t)}renderBackgroundImage(){return this.question.backgroundImage?v.createElement("img",{className:this.question.cssClasses.backgroundImage,src:this.question.backgroundImage,style:{width:this.question.renderedCanvasWidth},role:"presentation"}):null}renderLoadingIndicator(){return v.createElement("div",{className:this.question.cssClasses.loadingIndicator},v.createElement(Qw,null))}renderCleanButton(){if(!this.question.canShowClearButton)return null;var e=this.question.cssClasses;return v.createElement("div",{className:e.controls},v.createElement("button",{type:"button",className:e.clearButton,title:this.question.clearButtonCaption,onClick:()=>this.question.clearValue(!0)},this.question.cssClasses.clearButtonIconId?v.createElement(fi,{iconName:this.question.cssClasses.clearButtonIconId,size:"auto"}):v.createElement("span",null,"✖")))}}Xt.Instance.registerQuestion("signaturepad",r=>v.createElement(kT,r));class qT extends Ji{constructor(e){super(e)}get question(){return this.questionBase}getStateElement(){return this.question}renderElement(){const e=this.renderItems();return v.createElement("div",{className:this.question.cssClasses.root},e)}renderItems(){return this.question.visibleChoices.map((e,t)=>v.createElement(FT,{key:this.question.inputId+"_"+t,item:e,question:this.question,index:t}))}}Xt.Instance.registerQuestion("buttongroup",r=>v.createElement(qT,r));class FT extends ft{constructor(e){super(e)}get index(){return this.props.index}get question(){return this.props.question}get item(){return this.props.item}getStateElement(){return this.item}renderElement(){this.model=new b5(this.question,this.item,this.index);const e=this.renderIcon(),t=this.renderInput(),i=this.renderCaption();return v.createElement("label",{className:this.model.css.label,title:this.model.caption.renderedHtml},t,v.createElement("div",{className:this.model.css.decorator},e,i))}renderIcon(){return this.model.iconName?v.createElement(fi,{className:this.model.css.icon,iconName:this.model.iconName,size:this.model.iconSize||24}):null}renderInput(){return v.createElement("input",{className:this.model.css.control,id:this.model.id,type:"radio",name:this.model.name,checked:this.model.selected,value:this.model.value,disabled:this.model.readOnly,onChange:()=>{this.model.onChange()},"aria-required":this.model.isRequired,"aria-label":this.model.caption.renderedHtml,"aria-invalid":this.model.hasErrors,"aria-errormessage":this.model.describedBy})}renderCaption(){if(!this.model.showCaption)return null;let e=this.renderLocString(this.model.caption);return v.createElement("span",{className:this.model.css.caption,title:this.model.caption.renderedHtml},e)}}class BT extends Zf{constructor(e){super(e)}renderElement(){const e=this.question.cssClasses,t=this.renderSelect(e);return v.createElement("div",{className:this.question.cssClasses.rootDropdown},t)}}Xt.Instance.registerQuestion("sv-buttongroup-dropdown",r=>v.createElement(BT,r));Un.Instance.registerRenderer("buttongroup","dropdown","sv-buttongroup-dropdown");class zT extends Xh{constructor(e){super(e)}getStateElements(){const e=super.getStateElements();return this.question.contentQuestion&&e.push(this.question.contentQuestion),e}renderElement(){return Ma.renderQuestionBody(this.creator,this.question.contentQuestion)}}class HT extends Xh{constructor(e){super(e)}canRender(){return!!this.question.contentPanel}renderElement(){return v.createElement(Jh,{element:this.question.contentPanel,creator:this.creator,survey:this.question.survey})}}Xt.Instance.registerQuestion("custom",r=>v.createElement(zT,r));Xt.Instance.registerQuestion("composite",r=>v.createElement(HT,r));class QT extends ft{get model(){return this.props.model}get item(){return this.props.item}getStateElement(){return this.item}render(){if(!this.item)return null;const e=this.renderLocString(this.item.locTitle,void 0,"locString"),t=this.item.iconName?v.createElement(fi,{className:this.model.cssClasses.itemIcon,iconName:this.item.iconName,size:this.item.iconSize,"aria-label":this.item.title}):null,i=this.item.markerIconName?v.createElement(fi,{className:this.item.cssClasses.itemMarkerIcon,iconName:this.item.markerIconName,size:"auto"}):null;return v.createElement(v.Fragment,null,t,e,i)}}Ie.Instance.registerElement("sv-list-item-content",r=>v.createElement(QT,r));class UT extends ft{get model(){return this.props.model}get item(){return this.props.item}getStateElement(){return this.item}render(){var e;if(!this.item)return null;const t=Ie.Instance.createElement("sv-list-item-content",{item:this.item,key:"content"+this.item.id,model:this.model});return v.createElement(v.Fragment,null,t,v.createElement(Yh,{model:(e=this.item)===null||e===void 0?void 0:e.popupModel}))}}Ie.Instance.registerElement("sv-list-item-group",r=>v.createElement(UT,r));class _T extends v.Component{constructor(e){super(e)}get survey(){return this.props.data}render(){const e=[];return e.push(v.createElement("div",{key:"logo-image",className:this.survey.logoClassNames},v.createElement("img",{className:this.survey.css.logoImage,src:this.survey.locLogo.renderedHtml||null,alt:this.survey.locTitle.renderedHtml,width:this.survey.renderedLogoWidth,height:this.survey.renderedLogoHeight,style:{objectFit:this.survey.logoFit,width:this.survey.renderedStyleLogoWidth,height:this.survey.renderedStyleLogoHeight}}))),v.createElement(v.Fragment,null,e)}}Ie.Instance.registerElement("sv-logo-image",r=>v.createElement(_T,r));class WT extends Pi{constructor(e){super(e),this.handleOnRowRemoveClick=this.handleOnRowRemoveClick.bind(this)}get question(){return this.props.item.data.question}get row(){return this.props.item.data.row}handleOnRowRemoveClick(e){this.question.removeRowUI(this.row)}renderElement(){var e=this.renderLocString(this.question.locRemoveRowText);return v.createElement("button",{className:this.question.getRemoveRowButtonCss(),type:"button",onClick:this.handleOnRowRemoveClick,disabled:this.question.isInputReadOnly},e,v.createElement("span",{className:this.question.cssClasses.iconRemove}))}}Ie.Instance.registerElement("sv-matrix-remove-button",r=>v.createElement(WT,r));class jT extends Pi{constructor(e){super(e),this.handleOnShowHideClick=this.handleOnShowHideClick.bind(this)}getStateElement(){return this.props.item}get item(){return this.props.item}get question(){return this.props.item.data.question}get row(){return this.props.item.data.row}handleOnShowHideClick(e){this.row.showHideDetailPanelClick()}renderElement(){var e=this.row.isDetailPanelShowing,t=e,i=e?this.row.detailPanelId:void 0;return v.createElement("button",{type:"button",title:this.props.item.title,onClick:this.handleOnShowHideClick,className:this.question.getDetailPanelButtonCss(this.row),"aria-expanded":t,"aria-controls":i},v.createElement(fi,{className:this.question.getDetailPanelIconCss(this.row),iconName:this.question.getDetailPanelIconId(this.row),size:"auto"}))}}Ie.Instance.registerElement("sv-matrix-detail-button",r=>v.createElement(jT,r));class $h extends Pi{constructor(e){super(e)}get data(){return this.props.item&&this.props.item.data||this.props.data}get question(){return this.props.item&&this.props.item.data.question||this.props.data.question}}class GT extends $h{constructor(){super(...arguments),this.handleClick=e=>{this.question.addPanelUI()}}renderElement(){if(!this.question.canAddPanel)return null;const e=this.renderLocString(this.question.locAddPanelText);return v.createElement("button",{type:"button",id:this.question.addButtonId,className:this.question.getAddButtonCss(),onClick:this.handleClick},v.createElement("span",{className:this.question.cssClasses.buttonAddText},e))}}Ie.Instance.registerElement("sv-paneldynamic-add-btn",r=>v.createElement(GT,r));class ZT extends $h{constructor(){super(...arguments),this.handleClick=e=>{this.question.removePanelUI(this.data.panel)}}renderElement(){const e=this.renderLocString(this.question.locRemovePanelText),t=this.question.getPanelRemoveButtonId(this.data.panel);return v.createElement("button",{id:t,className:this.question.getPanelRemoveButtonCss(),onClick:this.handleClick,type:"button"},v.createElement("span",{className:this.question.cssClasses.buttonRemoveText},e),v.createElement("span",{className:this.question.cssClasses.iconRemove}))}}Ie.Instance.registerElement("sv-paneldynamic-remove-btn",r=>v.createElement(ZT,r));class KT extends $h{constructor(){super(...arguments),this.handleClick=e=>{this.question.goToPrevPanel()}}renderElement(){return v.createElement("div",{title:this.question.panelPrevText,onClick:this.handleClick,className:this.question.getPrevButtonCss()},v.createElement(fi,{iconName:this.question.cssClasses.progressBtnIcon,size:"auto"}))}}Ie.Instance.registerElement("sv-paneldynamic-prev-btn",r=>v.createElement(KT,r));class XT extends $h{constructor(){super(...arguments),this.handleClick=e=>{this.question.goToNextPanel()}}renderElement(){return v.createElement("div",{title:this.question.panelNextText,onClick:this.handleClick,className:this.question.getNextButtonCss()},v.createElement(fi,{iconName:this.question.cssClasses.progressBtnIcon,size:"auto"}))}}Ie.Instance.registerElement("sv-paneldynamic-next-btn",r=>v.createElement(XT,r));class YT extends $h{renderElement(){return v.createElement("div",{className:this.question.cssClasses.progressText},this.question.progressText)}}Ie.Instance.registerElement("sv-paneldynamic-progress-text",r=>v.createElement(YT,r));class JT extends Pi{get item(){return this.props.item}canRender(){return this.item.isVisible}renderElement(){return v.createElement("input",{className:this.item.innerCss,type:"button",disabled:this.item.disabled,onMouseDown:this.item.data&&this.item.data.mouseDown,onClick:this.item.action,title:this.item.getTooltip(),value:this.item.title})}}Ie.Instance.registerElement("sv-nav-btn",r=>v.createElement(JT,r));class Xw extends v.Component{constructor(e){super(e),this.onChangedHandler=(t,i)=>{this.isRendering||this.setState({changed:this.state&&this.state.changed?this.state.changed+1:1})},this.rootRef=v.createRef()}get locStr(){return this.props.locStr}get style(){return this.props.style}componentDidMount(){this.reactOnStrChanged()}componentWillUnmount(){this.locStr&&this.locStr.onStringChanged.remove(this.onChangedHandler)}componentDidUpdate(e,t){e.locStr&&e.locStr.onStringChanged.remove(this.onChangedHandler),this.reactOnStrChanged()}reactOnStrChanged(){this.locStr&&this.locStr.onStringChanged.add(this.onChangedHandler)}render(){if(!this.locStr)return null;this.isRendering=!0;const e=this.renderString();return this.isRendering=!1,e}renderString(){const e=this.locStr.allowLineBreaks?"sv-string-viewer sv-string-viewer--multiline":"sv-string-viewer";if(this.locStr.hasHtml){let t={__html:this.locStr.renderedHtml};return v.createElement("span",{ref:this.rootRef,className:e,style:this.style,dangerouslySetInnerHTML:t})}return v.createElement("span",{ref:this.rootRef,className:e,style:this.style},this.locStr.renderedHtml)}}Ie.Instance.registerElement(Yi.defaultRenderer,r=>v.createElement(Xw,r));class $T extends v.Component{render(){return v.createElement("div",null,v.createElement("span",{className:this.props.cssClasses.error.icon||void 0,"aria-hidden":"true"}),v.createElement("span",{className:this.props.cssClasses.error.item||void 0},v.createElement(Xw,{locStr:this.props.error.locText})))}}Ie.Instance.registerElement("sv-question-error",r=>v.createElement($T,r));class eR extends ft{getStateElement(){return this.item}get item(){return this.props.item}get question(){return this.props.question}componentDidUpdate(e,t){super.componentDidUpdate(e,t)}renderElement(){const{cssClasses:e,handleLabelPointerUp:t,getLabelCss:i,getPercent:s}=this.question,{value:n,locText:o}=this.item;return v.createElement("div",{key:this.item.id,className:i(o),style:{left:s(n)+"%"},onPointerUp:h=>{t(h.nativeEvent,n)}},v.createElement("div",{className:e.labelTick}),v.createElement("div",{className:e.labelText},this.renderLocString(o)))}}Ie.Instance.registerElement("sv-slider-label-item",r=>v.createElement(eR,r));class tR extends v.Component{render(){var e,t;return v.createElement("div",{className:"sv-skeleton-element",id:(e=this.props.element)===null||e===void 0?void 0:e.id,style:{height:(t=this.props.element)===null||t===void 0?void 0:t.skeletonHeight}})}}Ie.Instance.registerElement("sv-skeleton",r=>v.createElement(tR,r));class iR extends v.Component{get model(){return this.props.model}renderLogoImage(){const e=this.model.survey.getElementWrapperComponentName(this.model.survey,"logo-image"),t=this.model.survey.getElementWrapperComponentData(this.model.survey,"logo-image");return Ie.Instance.createElement(e,{data:t})}render(){return v.createElement("div",{className:"sv-header--mobile"},this.model.survey.hasLogo?v.createElement("div",{className:"sv-header__logo"},this.renderLogoImage()):null,this.model.survey.hasTitle?v.createElement("div",{className:"sv-header__title",style:{maxWidth:this.model.renderedTextAreaWidth}},v.createElement(jl,{element:this.model.survey})):null,this.model.survey.renderedHasDescription?v.createElement("div",{className:"sv-header__description",style:{maxWidth:this.model.renderedTextAreaWidth}},v.createElement("div",{className:this.model.survey.css.description},ft.renderLocString(this.model.survey.locDescription))):null)}}class sR extends v.Component{get model(){return this.props.model}renderLogoImage(){const e=this.model.survey.getElementWrapperComponentName(this.model.survey,"logo-image"),t=this.model.survey.getElementWrapperComponentData(this.model.survey,"logo-image");return Ie.Instance.createElement(e,{data:t})}render(){return v.createElement("div",{className:this.model.css,style:this.model.style},v.createElement("div",{className:"sv-header__cell-content",style:this.model.contentStyle},this.model.showLogo?v.createElement("div",{className:"sv-header__logo"},this.renderLogoImage()):null,this.model.showTitle?v.createElement("div",{className:"sv-header__title",style:{maxWidth:this.model.textAreaWidth}},v.createElement(jl,{element:this.model.survey})):null,this.model.showDescription?v.createElement("div",{className:"sv-header__description",style:{maxWidth:this.model.textAreaWidth}},v.createElement("div",{className:this.model.survey.css.description},ft.renderLocString(this.model.survey.locDescription))):null))}}class rR extends ft{get model(){return this.props.model}getStateElement(){return this.model}renderElement(){if(this.model.survey=this.props.survey,this.props.survey.headerView!=="advanced"||this.model.isEmpty)return null;let e=null;return this.props.survey.isMobile?e=v.createElement(iR,{model:this.model}):e=v.createElement("div",{className:this.model.contentClasses,style:{maxWidth:this.model.maxWidth}},this.model.cells.map((t,i)=>v.createElement(sR,{key:i,model:t}))),v.createElement("div",{className:this.model.headerClasses,style:{height:this.model.renderedHeight}},this.model.backgroundImage?v.createElement("div",{style:this.model.backgroundImageStyle,className:this.model.backgroundImageClasses}):null,e)}componentDidMount(){super.componentDidMount(),this.model.processResponsiveness()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.model.processResponsiveness()}}Ie.Instance.registerElement("sv-header",r=>v.createElement(rR,r));class nR extends v.Component{constructor(e){super(e),this.onInput=t=>{this.locStr.text=t.target.innerText},this.onClick=t=>{t.preventDefault(),t.stopPropagation()},this.state={changed:0}}get locStr(){return this.props.locStr}get style(){return this.props.style}componentDidMount(){if(this.locStr){var e=this;this.locStr.onChanged=function(){e.setState({changed:e.state.changed+1})}}}componentWillUnmount(){this.locStr&&(this.locStr.onChanged=function(){})}render(){if(!this.locStr)return null;if(this.locStr.hasHtml){const e={__html:this.locStr.renderedHtml};return v.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,dangerouslySetInnerHTML:e,onBlur:this.onInput,onClick:this.onClick})}return v.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,onBlur:this.onInput,onClick:this.onClick},this.locStr.renderedHtml)}}Ie.Instance.registerElement(Yi.editableRenderer,r=>v.createElement(nR,r));T5("2.2.2","survey-react-ui");/*!
 * surveyjs - Survey JavaScript library v2.2.2
 * Copyright (c) 2015-2025 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var aR={themeName:"doubleborder",colorPalette:"light",isPanelless:!1,cssVariables:{"--sjs-general-backcolor":"rgba(255, 255, 255, 1)","--sjs-general-backcolor-dark":"rgba(239, 239, 239, 1)","--sjs-general-backcolor-dim":"rgba(245, 245, 245, 1)","--sjs-general-backcolor-dim-light":"rgba(255, 255, 255, 1)","--sjs-general-backcolor-dim-dark":"rgba(237, 237, 237, 1)","--sjs-general-forecolor":"rgba(0, 0, 0, 0.91)","--sjs-general-forecolor-light":"rgba(0, 0, 0, 0.45)","--sjs-general-dim-forecolor":"rgba(0, 0, 0, 0.91)","--sjs-general-dim-forecolor-light":"rgba(0, 0, 0, 0.45)","--sjs-primary-backcolor":"rgba(76, 100, 137, 1)","--sjs-primary-backcolor-light":"rgba(76, 100, 137, 0.1)","--sjs-primary-backcolor-dark":"rgba(62, 83, 115, 1)","--sjs-primary-forecolor":"rgba(255, 255, 255, 1)","--sjs-primary-forecolor-light":"rgba(255, 255, 255, 0.25)","--sjs-base-unit":"8px","--sjs-corner-radius":"4px","--sjs-secondary-backcolor":"rgba(255, 152, 20, 1)","--sjs-secondary-backcolor-light":"rgba(255, 152, 20, 0.1)","--sjs-secondary-backcolor-semi-light":"rgba(255, 152, 20, 0.25)","--sjs-secondary-forecolor":"rgba(255, 255, 255, 1)","--sjs-secondary-forecolor-light":"rgba(255, 255, 255, 0.25)","--sjs-shadow-small":"0px 0px 0px 2px rgba(0, 0, 0, 0.07)","--sjs-shadow-small-reset":"0px 0px 0px 0px rgba(0, 0, 0, 0.07)","--sjs-shadow-medium":"0px 0px 0px 2px rgba(0, 0, 0, 0.08),0px 2px 6px 0px rgba(0, 0, 0, 0.04)","--sjs-shadow-large":"0px 8px 16px 0px rgba(0, 0, 0, 0.08)","--sjs-shadow-inner":"0px 0px 0px 2px rgba(0, 0, 0, 0.1)","--sjs-shadow-inner-reset":"0px 0px 0px 0px rgba(0, 0, 0, 0.1)","--sjs-border-light":"rgba(0, 0, 0, 0.1)","--sjs-border-default":"rgba(0, 0, 0, 0.1)","--sjs-border-inside":"rgba(0, 0, 0, 0.16)","--sjs-special-red":"rgba(229, 10, 62, 1)","--sjs-special-red-light":"rgba(229, 10, 62, 0.1)","--sjs-special-red-forecolor":"rgba(255, 255, 255, 1)","--sjs-special-green":"rgba(25, 179, 148, 1)","--sjs-special-green-light":"rgba(25, 179, 148, 0.1)","--sjs-special-green-forecolor":"rgba(255, 255, 255, 1)","--sjs-special-blue":"rgba(67, 127, 217, 1)","--sjs-special-blue-light":"rgba(67, 127, 217, 0.1)","--sjs-special-blue-forecolor":"rgba(255, 255, 255, 1)","--sjs-special-yellow":"rgba(255, 152, 20, 1)","--sjs-special-yellow-light":"rgba(255, 152, 20, 0.1)","--sjs-special-yellow-forecolor":"rgba(255, 255, 255, 1)","--sjs-article-font-xx-large-textDecoration":"none","--sjs-article-font-xx-large-fontWeight":"700","--sjs-article-font-xx-large-fontStyle":"normal","--sjs-article-font-xx-large-fontStretch":"normal","--sjs-article-font-xx-large-letterSpacing":"0","--sjs-article-font-xx-large-lineHeight":"64px","--sjs-article-font-xx-large-paragraphIndent":"0px","--sjs-article-font-xx-large-textCase":"none","--sjs-article-font-x-large-textDecoration":"none","--sjs-article-font-x-large-fontWeight":"700","--sjs-article-font-x-large-fontStyle":"normal","--sjs-article-font-x-large-fontStretch":"normal","--sjs-article-font-x-large-letterSpacing":"0","--sjs-article-font-x-large-lineHeight":"56px","--sjs-article-font-x-large-paragraphIndent":"0px","--sjs-article-font-x-large-textCase":"none","--sjs-article-font-large-textDecoration":"none","--sjs-article-font-large-fontWeight":"700","--sjs-article-font-large-fontStyle":"normal","--sjs-article-font-large-fontStretch":"normal","--sjs-article-font-large-letterSpacing":"0","--sjs-article-font-large-lineHeight":"40px","--sjs-article-font-large-paragraphIndent":"0px","--sjs-article-font-large-textCase":"none","--sjs-article-font-medium-textDecoration":"none","--sjs-article-font-medium-fontWeight":"700","--sjs-article-font-medium-fontStyle":"normal","--sjs-article-font-medium-fontStretch":"normal","--sjs-article-font-medium-letterSpacing":"0","--sjs-article-font-medium-lineHeight":"32px","--sjs-article-font-medium-paragraphIndent":"0px","--sjs-article-font-medium-textCase":"none","--sjs-article-font-default-textDecoration":"none","--sjs-article-font-default-fontWeight":"400","--sjs-article-font-default-fontStyle":"normal","--sjs-article-font-default-fontStretch":"normal","--sjs-article-font-default-letterSpacing":"0","--sjs-article-font-default-lineHeight":"28px","--sjs-article-font-default-paragraphIndent":"0px","--sjs-article-font-default-textCase":"none"}};const oR={personaEquipmentExpenses:[8],other:[1,2,17],sixRoad:[22],vacationCancelation:[23,24],vacationVouchers:[28,29],bonusesExplanations:[30,31,32,33,34],emotionalSupport:[18,19,20],professionalDevelopment:[6],privateLessons:[4],tuitionRefund:[5],reCourse:[4],unemployedDamages:[13],selfEmployed:[16],unemployedPartner:[11],exDamages:[3,12],parentalLeave:[14],babysitter:[7],summerCamp:[27],household:[9],dogPension:[10],livingAbroad:[15],additionalEmotionalSupport:[21],movingRefund:[25],damagedWhileAmKelavi:[26]};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jm=function(r,e){return jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])},jm(r,e)};function Oe(r,e){jm(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ct=function(){return Ct=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ct.apply(this,arguments)};function lR(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t}function Et(r,e,t,i){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function h(p){try{f(i.next(p))}catch(y){o(y)}}function d(p){try{f(i.throw(p))}catch(y){o(y)}}function f(p){p.done?n(p.value):s(p.value).then(h,d)}f((i=i.apply(r,[])).next())})}function Tt(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,s,n,o;return o={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function h(f){return function(p){return d([f,p])}}function d(f){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,s&&(n=f[0]&2?s.return:f[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,f[1])).done)return n;switch(s=0,n&&(f=[f[0]&2,n.value]),f[0]){case 0:case 1:n=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,s=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!n||f[1]>n[0]&&f[1]<n[3])){t.label=f[1];break}if(f[0]===6&&t.label<n[1]){t.label=n[1],n=f;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(f);break}n[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(p){f=[6,p],s=0}finally{i=n=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function _t(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),s=0,e=0;e<t;e++)for(var n=arguments[e],o=0,h=n.length;o<h;o++,s++)i[s]=n[o];return i}var Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wh=new Uint8Array(256);for(var Fc=0;Fc<Pl.length;Fc++)wh[Pl.charCodeAt(Fc)]=Fc;var uR=function(r){for(var e="",t=r.length,i=0;i<t;i+=3)e+=Pl[r[i]>>2],e+=Pl[(r[i]&3)<<4|r[i+1]>>4],e+=Pl[(r[i+1]&15)<<2|r[i+2]>>6],e+=Pl[r[i+2]&63];return t%3===2?e=e.substring(0,e.length-1)+"=":t%3===1&&(e=e.substring(0,e.length-2)+"=="),e},kC=function(r){var e=r.length*.75,t=r.length,i,s=0,n,o,h,d;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var f=new Uint8Array(e);for(i=0;i<t;i+=4)n=wh[r.charCodeAt(i)],o=wh[r.charCodeAt(i+1)],h=wh[r.charCodeAt(i+2)],d=wh[r.charCodeAt(i+3)],f[s++]=n<<2|o>>4,f[s++]=(o&15)<<4|h>>2,f[s++]=(h&3)<<6|d&63;return f},hR=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,dR=function(r){var e=r.trim(),t=e.substring(0,100),i=t.match(hR);if(!i)return kC(e);var s=i[0],n=e.substring(s.length);return kC(n)},yt=function(r){return r.charCodeAt(0)},cR=function(r){return r.codePointAt(0)},ed=function(r,e){return jr(r.toString(16),e,"0").toUpperCase()},Xf=function(r){return ed(r,2)},Bn=function(r){return String.fromCharCode(r)},fR=function(r){return Bn(parseInt(r,16))},jr=function(r,e,t){for(var i="",s=0,n=e-r.length;s<n;s++)i+=t;return i+r},xs=function(r,e,t){for(var i=r.length,s=0;s<i;s++)e[t++]=r.charCodeAt(s);return i},gR=function(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},td=function(r){return r.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},pR=["\\n","\\f","\\r","\\u000B"],Yw=function(r){return/^[\n\f\r\u000B]$/.test(r)},Jw=function(r){return r.split(/[\n\f\r\u000B]/)},$w=function(r){return r.replace(/[\n\f\r\u000B]/g," ")},e2=function(r,e){var t=r.charCodeAt(e),i,s=e+1,n=1;return t>=55296&&t<=56319&&r.length>s&&(i=r.charCodeAt(s),i>=56320&&i<=57343&&(n=2)),[r.slice(e,e+n),n]},mR=function(r){for(var e=[],t=0,i=r.length;t<i;){var s=e2(r,t),n=s[0],o=s[1];e.push(n),t+=o}return e},vR=function(r){for(var e=pR.join("|"),t=["$"],i=0,s=r.length;i<s;i++){var n=r[i];if(Yw(n))throw new TypeError("`wordBreak` must not include "+e);t.push(n===""?".":gR(n))}var o=t.join("|");return new RegExp("("+e+")|((.*?)("+o+"))","gm")},yR=function(r,e,t,i){for(var s=vR(e),n=td(r).match(s),o="",h=0,d=[],f=function(){o!==""&&d.push(o),o="",h=0},p=0,y=n.length;p<y;p++){var b=n[p];if(Yw(b))f();else{var w=i(b);h+w>t&&f(),o+=b,h+=w}}return f(),d},CR=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,t2=function(r){var e=r.match(CR);if(e){var t=e[1],i=e[2],s=i===void 0?"01":i,n=e[3],o=n===void 0?"01":n,h=e[4],d=h===void 0?"00":h,f=e[5],p=f===void 0?"00":f,y=e[6],b=y===void 0?"00":y,w=e[7],T=w===void 0?"Z":w,P=e[8],D=P===void 0?"00":P,L=e[9],W=L===void 0?"00":L,H=T==="Z"?"Z":""+T+D+":"+W,ee=new Date(t+"-"+s+"-"+o+"T"+d+":"+p+":"+b+H);return ee}},Mv=function(r,e){for(var t,i=0,s;i<r.length;){var n=r.substring(i).match(e);if(!n)return{match:s,pos:i};s=n,i+=((t=n.index)!==null&&t!==void 0?t:0)+n[0].length}return{match:s,pos:i}},mf=function(r){return r[r.length-1]},Gm=function(r){if(r instanceof Uint8Array)return r;for(var e=r.length,t=new Uint8Array(e),i=0;i<e;i++)t[i]=r.charCodeAt(i);return t},bR=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=r.length,i=[],s=0;s<t;s++){var n=r[s];i[s]=n instanceof Uint8Array?n:Gm(n)}for(var o=0,s=0;s<t;s++)o+=r[s].length;for(var h=new Uint8Array(o),d=0,f=0;f<t;f++)for(var p=i[f],y=0,b=p.length;y<b;y++)h[d++]=p[y];return h},wR=function(r){for(var e=0,t=0,i=r.length;t<i;t++)e+=r[t].length;for(var s=new Uint8Array(e),n=0,t=0,i=r.length;t<i;t++){var o=r[t];s.set(o,n),n+=o.length}return s},i2=function(r){for(var e="",t=0,i=r.length;t<i;t++)e+=Bn(r[t]);return e},xR=function(r,e){return r.id-e.id},VR=function(r,e){for(var t=[],i=0,s=r.length;i<s;i++){var n=r[i],o=r[i-1];(i===0||e(n)!==e(o))&&t.push(n)}return t},xl=function(r){for(var e=r.length,t=0,i=Math.floor(e/2);t<i;t++){var s=t,n=e-t-1,o=r[t];r[s]=r[n],r[n]=o}return r},SR=function(r){for(var e=0,t=0,i=r.length;t<i;t++)e+=r[t];return e},ER=function(r,e){for(var t=new Array(e-r),i=0,s=t.length;i<s;i++)t[i]=r+i;return t},TR=function(r,e){for(var t=new Array(e.length),i=0,s=e.length;i<s;i++)t[i]=r[e[i]];return t},RR=function(r){return r instanceof Uint8Array||r instanceof ArrayBuffer||typeof r=="string"},gh=function(r){if(typeof r=="string")return dR(r);if(r instanceof ArrayBuffer)return new Uint8Array(r);if(r instanceof Uint8Array)return r;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},Bl=function(){return new Promise(function(r){setTimeout(function(){return r()},0)})},PR=function(r,e){e===void 0&&(e=!0);var t=[];e&&t.push(65279);for(var i=0,s=r.length;i<s;){var n=r.codePointAt(i);if(n<65536)t.push(n),i+=1;else if(n<1114112)t.push(s2(n),r2(n)),i+=2;else throw new Error("Invalid code point: 0x"+Xf(n))}return new Uint16Array(t)},IR=function(r){return r>=0&&r<=65535},AR=function(r){return r>=65536&&r<=1114111},s2=function(r){return Math.floor((r-65536)/1024)+55296},r2=function(r){return(r-65536)%1024+56320},La;(function(r){r.BigEndian="BigEndian",r.LittleEndian="LittleEndian"})(La||(La={}));var ph="�".codePointAt(0),n2=function(r,e){if(e===void 0&&(e=!0),r.length<=1)return String.fromCodePoint(ph);for(var t=e?LR(r):La.BigEndian,i=e?2:0,s=[];r.length-i>=2;){var n=FC(r[i++],r[i++],t);if(DR(n))if(r.length-i<2)s.push(ph);else{var o=FC(r[i++],r[i++],t);qC(o)?s.push(n,o):s.push(ph)}else qC(n)?(i+=2,s.push(ph)):s.push(n)}return i<r.length&&s.push(ph),String.fromCodePoint.apply(String,s)},DR=function(r){return r>=55296&&r<=56319},qC=function(r){return r>=56320&&r<=57343},FC=function(r,e,t){if(t===La.LittleEndian)return e<<8|r;if(t===La.BigEndian)return r<<8|e;throw new Error("Invalid byteOrder: "+t)},LR=function(r){return a2(r)?La.BigEndian:o2(r)?La.LittleEndian:La.BigEndian},a2=function(r){return r[0]===254&&r[1]===255},o2=function(r){return r[0]===255&&r[1]===254},l2=function(r){return a2(r)||o2(r)},OR=function(r){var e=String(r);if(Math.abs(r)<1){var t=parseInt(r.toString().split("e-")[1]);if(t){var i=r<0;i&&(r*=-1),r*=Math.pow(10,t-1),e="0."+new Array(t).join("0")+r.toString().substring(2),i&&(e="-"+e)}}else{var t=parseInt(r.toString().split("+")[1]);t>20&&(t-=20,r/=Math.pow(10,t),e=r.toString()+new Array(t+1).join("0"))}return e},$c=function(r){return Math.ceil(r.toString(2).length/8)},Vl=function(r){for(var e=new Uint8Array($c(r)),t=1;t<=e.length;t++)e[t-1]=r>>(e.length-t)*8;return e},id=function(r){throw new Error(r)},Cm={},BC;function Qa(){return BC||(BC=1,function(r){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function t(n,o){return Object.prototype.hasOwnProperty.call(n,o)}r.assign=function(n){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var h=o.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var d in h)t(h,d)&&(n[d]=h[d])}}return n},r.shrinkBuf=function(n,o){return n.length===o?n:n.subarray?n.subarray(0,o):(n.length=o,n)};var i={arraySet:function(n,o,h,d,f){if(o.subarray&&n.subarray){n.set(o.subarray(h,h+d),f);return}for(var p=0;p<d;p++)n[f+p]=o[h+p]},flattenChunks:function(n){var o,h,d,f,p,y;for(d=0,o=0,h=n.length;o<h;o++)d+=n[o].length;for(y=new Uint8Array(d),f=0,o=0,h=n.length;o<h;o++)p=n[o],y.set(p,f),f+=p.length;return y}},s={arraySet:function(n,o,h,d,f){for(var p=0;p<d;p++)n[f+p]=o[h+p]},flattenChunks:function(n){return[].concat.apply([],n)}};r.setTyped=function(n){n?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(e)}(Cm)),Cm}var Sl={},Qr={},Co={},zC;function MR(){if(zC)return Co;zC=1;var r=Qa(),e=4,t=0,i=1,s=2;function n(M){for(var Ve=M.length;--Ve>=0;)M[Ve]=0}var o=0,h=1,d=2,f=3,p=258,y=29,b=256,w=b+1+y,T=30,P=19,D=2*w+1,L=15,W=16,H=7,ee=256,Y=16,Z=17,K=18,pe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Re=512,ce=new Array((w+2)*2);n(ce);var ke=new Array(T*2);n(ke);var Ne=new Array(Re);n(Ne);var _=new Array(p-f+1);n(_);var ae=new Array(y);n(ae);var Me=new Array(T);n(Me);function Ke(M,Ve,De,_e,G){this.static_tree=M,this.extra_bits=Ve,this.extra_base=De,this.elems=_e,this.max_length=G,this.has_stree=M&&M.length}var Q,ge,Ae;function Pe(M,Ve){this.dyn_tree=M,this.max_code=0,this.stat_desc=Ve}function qe(M){return M<256?Ne[M]:Ne[256+(M>>>7)]}function it(M,Ve){M.pending_buf[M.pending++]=Ve&255,M.pending_buf[M.pending++]=Ve>>>8&255}function Fe(M,Ve,De){M.bi_valid>W-De?(M.bi_buf|=Ve<<M.bi_valid&65535,it(M,M.bi_buf),M.bi_buf=Ve>>W-M.bi_valid,M.bi_valid+=De-W):(M.bi_buf|=Ve<<M.bi_valid&65535,M.bi_valid+=De)}function Vt(M,Ve,De){Fe(M,De[Ve*2],De[Ve*2+1])}function Be(M,Ve){var De=0;do De|=M&1,M>>>=1,De<<=1;while(--Ve>0);return De>>>1}function ui(M){M.bi_valid===16?(it(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):M.bi_valid>=8&&(M.pending_buf[M.pending++]=M.bi_buf&255,M.bi_buf>>=8,M.bi_valid-=8)}function Fi(M,Ve){var De=Ve.dyn_tree,_e=Ve.max_code,G=Ve.stat_desc.static_tree,me=Ve.stat_desc.has_stree,R=Ve.stat_desc.extra_bits,Se=Ve.stat_desc.extra_base,ot=Ve.stat_desc.max_length,C,he,de,A,U,ne,Xe=0;for(A=0;A<=L;A++)M.bl_count[A]=0;for(De[M.heap[M.heap_max]*2+1]=0,C=M.heap_max+1;C<D;C++)he=M.heap[C],A=De[De[he*2+1]*2+1]+1,A>ot&&(A=ot,Xe++),De[he*2+1]=A,!(he>_e)&&(M.bl_count[A]++,U=0,he>=Se&&(U=R[he-Se]),ne=De[he*2],M.opt_len+=ne*(A+U),me&&(M.static_len+=ne*(G[he*2+1]+U)));if(Xe!==0){do{for(A=ot-1;M.bl_count[A]===0;)A--;M.bl_count[A]--,M.bl_count[A+1]+=2,M.bl_count[ot]--,Xe-=2}while(Xe>0);for(A=ot;A!==0;A--)for(he=M.bl_count[A];he!==0;)de=M.heap[--C],!(de>_e)&&(De[de*2+1]!==A&&(M.opt_len+=(A-De[de*2+1])*De[de*2],De[de*2+1]=A),he--)}}function $i(M,Ve,De){var _e=new Array(L+1),G=0,me,R;for(me=1;me<=L;me++)_e[me]=G=G+De[me-1]<<1;for(R=0;R<=Ve;R++){var Se=M[R*2+1];Se!==0&&(M[R*2]=Be(_e[Se]++,Se))}}function jt(){var M,Ve,De,_e,G,me=new Array(L+1);for(De=0,_e=0;_e<y-1;_e++)for(ae[_e]=De,M=0;M<1<<pe[_e];M++)_[De++]=_e;for(_[De-1]=_e,G=0,_e=0;_e<16;_e++)for(Me[_e]=G,M=0;M<1<<Ce[_e];M++)Ne[G++]=_e;for(G>>=7;_e<T;_e++)for(Me[_e]=G<<7,M=0;M<1<<Ce[_e]-7;M++)Ne[256+G++]=_e;for(Ve=0;Ve<=L;Ve++)me[Ve]=0;for(M=0;M<=143;)ce[M*2+1]=8,M++,me[8]++;for(;M<=255;)ce[M*2+1]=9,M++,me[9]++;for(;M<=279;)ce[M*2+1]=7,M++,me[7]++;for(;M<=287;)ce[M*2+1]=8,M++,me[8]++;for($i(ce,w+1,me),M=0;M<T;M++)ke[M*2+1]=5,ke[M*2]=Be(M,5);Q=new Ke(ce,pe,b+1,w,L),ge=new Ke(ke,Ce,0,T,L),Ae=new Ke(new Array(0),we,0,P,H)}function Wi(M){var Ve;for(Ve=0;Ve<w;Ve++)M.dyn_ltree[Ve*2]=0;for(Ve=0;Ve<T;Ve++)M.dyn_dtree[Ve*2]=0;for(Ve=0;Ve<P;Ve++)M.bl_tree[Ve*2]=0;M.dyn_ltree[ee*2]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function js(M){M.bi_valid>8?it(M,M.bi_buf):M.bi_valid>0&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function Rs(M,Ve,De,_e){js(M),it(M,De),it(M,~De),r.arraySet(M.pending_buf,M.window,Ve,De,M.pending),M.pending+=De}function vs(M,Ve,De,_e){var G=Ve*2,me=De*2;return M[G]<M[me]||M[G]===M[me]&&_e[Ve]<=_e[De]}function Ft(M,Ve,De){for(var _e=M.heap[De],G=De<<1;G<=M.heap_len&&(G<M.heap_len&&vs(Ve,M.heap[G+1],M.heap[G],M.depth)&&G++,!vs(Ve,_e,M.heap[G],M.depth));)M.heap[De]=M.heap[G],De=G,G<<=1;M.heap[De]=_e}function It(M,Ve,De){var _e,G,me=0,R,Se;if(M.last_lit!==0)do _e=M.pending_buf[M.d_buf+me*2]<<8|M.pending_buf[M.d_buf+me*2+1],G=M.pending_buf[M.l_buf+me],me++,_e===0?Vt(M,G,Ve):(R=_[G],Vt(M,R+b+1,Ve),Se=pe[R],Se!==0&&(G-=ae[R],Fe(M,G,Se)),_e--,R=qe(_e),Vt(M,R,De),Se=Ce[R],Se!==0&&(_e-=Me[R],Fe(M,_e,Se)));while(me<M.last_lit);Vt(M,ee,Ve)}function ys(M,Ve){var De=Ve.dyn_tree,_e=Ve.stat_desc.static_tree,G=Ve.stat_desc.has_stree,me=Ve.stat_desc.elems,R,Se,ot=-1,C;for(M.heap_len=0,M.heap_max=D,R=0;R<me;R++)De[R*2]!==0?(M.heap[++M.heap_len]=ot=R,M.depth[R]=0):De[R*2+1]=0;for(;M.heap_len<2;)C=M.heap[++M.heap_len]=ot<2?++ot:0,De[C*2]=1,M.depth[C]=0,M.opt_len--,G&&(M.static_len-=_e[C*2+1]);for(Ve.max_code=ot,R=M.heap_len>>1;R>=1;R--)Ft(M,De,R);C=me;do R=M.heap[1],M.heap[1]=M.heap[M.heap_len--],Ft(M,De,1),Se=M.heap[1],M.heap[--M.heap_max]=R,M.heap[--M.heap_max]=Se,De[C*2]=De[R*2]+De[Se*2],M.depth[C]=(M.depth[R]>=M.depth[Se]?M.depth[R]:M.depth[Se])+1,De[R*2+1]=De[Se*2+1]=C,M.heap[1]=C++,Ft(M,De,1);while(M.heap_len>=2);M.heap[--M.heap_max]=M.heap[1],Fi(M,Ve),$i(De,ot,M.bl_count)}function Mr(M,Ve,De){var _e,G=-1,me,R=Ve[0*2+1],Se=0,ot=7,C=4;for(R===0&&(ot=138,C=3),Ve[(De+1)*2+1]=65535,_e=0;_e<=De;_e++)me=R,R=Ve[(_e+1)*2+1],!(++Se<ot&&me===R)&&(Se<C?M.bl_tree[me*2]+=Se:me!==0?(me!==G&&M.bl_tree[me*2]++,M.bl_tree[Y*2]++):Se<=10?M.bl_tree[Z*2]++:M.bl_tree[K*2]++,Se=0,G=me,R===0?(ot=138,C=3):me===R?(ot=6,C=3):(ot=7,C=4))}function Os(M,Ve,De){var _e,G=-1,me,R=Ve[0*2+1],Se=0,ot=7,C=4;for(R===0&&(ot=138,C=3),_e=0;_e<=De;_e++)if(me=R,R=Ve[(_e+1)*2+1],!(++Se<ot&&me===R)){if(Se<C)do Vt(M,me,M.bl_tree);while(--Se!==0);else me!==0?(me!==G&&(Vt(M,me,M.bl_tree),Se--),Vt(M,Y,M.bl_tree),Fe(M,Se-3,2)):Se<=10?(Vt(M,Z,M.bl_tree),Fe(M,Se-3,3)):(Vt(M,K,M.bl_tree),Fe(M,Se-11,7));Se=0,G=me,R===0?(ot=138,C=3):me===R?(ot=6,C=3):(ot=7,C=4)}}function Ps(M){var Ve;for(Mr(M,M.dyn_ltree,M.l_desc.max_code),Mr(M,M.dyn_dtree,M.d_desc.max_code),ys(M,M.bl_desc),Ve=P-1;Ve>=3&&M.bl_tree[xe[Ve]*2+1]===0;Ve--);return M.opt_len+=3*(Ve+1)+5+5+4,Ve}function Nr(M,Ve,De,_e){var G;for(Fe(M,Ve-257,5),Fe(M,De-1,5),Fe(M,_e-4,4),G=0;G<_e;G++)Fe(M,M.bl_tree[xe[G]*2+1],3);Os(M,M.dyn_ltree,Ve-1),Os(M,M.dyn_dtree,De-1)}function dr(M){var Ve=4093624447,De;for(De=0;De<=31;De++,Ve>>>=1)if(Ve&1&&M.dyn_ltree[De*2]!==0)return t;if(M.dyn_ltree[9*2]!==0||M.dyn_ltree[10*2]!==0||M.dyn_ltree[13*2]!==0)return i;for(De=32;De<b;De++)if(M.dyn_ltree[De*2]!==0)return i;return t}var Ms=!1;function Hs(M){Ms||(jt(),Ms=!0),M.l_desc=new Pe(M.dyn_ltree,Q),M.d_desc=new Pe(M.dyn_dtree,ge),M.bl_desc=new Pe(M.bl_tree,Ae),M.bi_buf=0,M.bi_valid=0,Wi(M)}function Ai(M,Ve,De,_e){Fe(M,(o<<1)+(_e?1:0),3),Rs(M,Ve,De)}function bi(M){Fe(M,h<<1,3),Vt(M,ee,ce),ui(M)}function xi(M,Ve,De,_e){var G,me,R=0;M.level>0?(M.strm.data_type===s&&(M.strm.data_type=dr(M)),ys(M,M.l_desc),ys(M,M.d_desc),R=Ps(M),G=M.opt_len+3+7>>>3,me=M.static_len+3+7>>>3,me<=G&&(G=me)):G=me=De+5,De+4<=G&&Ve!==-1?Ai(M,Ve,De,_e):M.strategy===e||me===G?(Fe(M,(h<<1)+(_e?1:0),3),It(M,ce,ke)):(Fe(M,(d<<1)+(_e?1:0),3),Nr(M,M.l_desc.max_code+1,M.d_desc.max_code+1,R+1),It(M,M.dyn_ltree,M.dyn_dtree)),Wi(M),_e&&js(M)}function Yr(M,Ve,De){return M.pending_buf[M.d_buf+M.last_lit*2]=Ve>>>8&255,M.pending_buf[M.d_buf+M.last_lit*2+1]=Ve&255,M.pending_buf[M.l_buf+M.last_lit]=De&255,M.last_lit++,Ve===0?M.dyn_ltree[De*2]++:(M.matches++,Ve--,M.dyn_ltree[(_[De]+b+1)*2]++,M.dyn_dtree[qe(Ve)*2]++),M.last_lit===M.lit_bufsize-1}return Co._tr_init=Hs,Co._tr_stored_block=Ai,Co._tr_flush_block=xi,Co._tr_tally=Yr,Co._tr_align=bi,Co}var bm,HC;function u2(){if(HC)return bm;HC=1;function r(e,t,i,s){for(var n=e&65535|0,o=e>>>16&65535|0,h=0;i!==0;){h=i>2e3?2e3:i,i-=h;do n=n+t[s++]|0,o=o+n|0;while(--h);n%=65521,o%=65521}return n|o<<16|0}return bm=r,bm}var wm,QC;function h2(){if(QC)return wm;QC=1;function r(){for(var i,s=[],n=0;n<256;n++){i=n;for(var o=0;o<8;o++)i=i&1?3988292384^i>>>1:i>>>1;s[n]=i}return s}var e=r();function t(i,s,n,o){var h=e,d=o+n;i^=-1;for(var f=o;f<d;f++)i=i>>>8^h[(i^s[f])&255];return i^-1}return wm=t,wm}var xm,UC;function Nv(){return UC||(UC=1,xm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),xm}var _C;function NR(){if(_C)return Qr;_C=1;var r=Qa(),e=MR(),t=u2(),i=h2(),s=Nv(),n=0,o=1,h=3,d=4,f=5,p=0,y=1,b=-2,w=-3,T=-5,P=-1,D=1,L=2,W=3,H=4,ee=0,Y=2,Z=8,K=9,pe=15,Ce=8,we=29,xe=256,Re=xe+1+we,ce=30,ke=19,Ne=2*Re+1,_=15,ae=3,Me=258,Ke=Me+ae+1,Q=32,ge=42,Ae=69,Pe=73,qe=91,it=103,Fe=113,Vt=666,Be=1,ui=2,Fi=3,$i=4,jt=3;function Wi(C,he){return C.msg=s[he],he}function js(C){return(C<<1)-(C>4?9:0)}function Rs(C){for(var he=C.length;--he>=0;)C[he]=0}function vs(C){var he=C.state,de=he.pending;de>C.avail_out&&(de=C.avail_out),de!==0&&(r.arraySet(C.output,he.pending_buf,he.pending_out,de,C.next_out),C.next_out+=de,he.pending_out+=de,C.total_out+=de,C.avail_out-=de,he.pending-=de,he.pending===0&&(he.pending_out=0))}function Ft(C,he){e._tr_flush_block(C,C.block_start>=0?C.block_start:-1,C.strstart-C.block_start,he),C.block_start=C.strstart,vs(C.strm)}function It(C,he){C.pending_buf[C.pending++]=he}function ys(C,he){C.pending_buf[C.pending++]=he>>>8&255,C.pending_buf[C.pending++]=he&255}function Mr(C,he,de,A){var U=C.avail_in;return U>A&&(U=A),U===0?0:(C.avail_in-=U,r.arraySet(he,C.input,C.next_in,U,de),C.state.wrap===1?C.adler=t(C.adler,he,U,de):C.state.wrap===2&&(C.adler=i(C.adler,he,U,de)),C.next_in+=U,C.total_in+=U,U)}function Os(C,he){var de=C.max_chain_length,A=C.strstart,U,ne,Xe=C.prev_length,ze=C.nice_match,je=C.strstart>C.w_size-Ke?C.strstart-(C.w_size-Ke):0,Ot=C.window,ji=C.w_mask,Pt=C.prev,lt=C.strstart+Me,hi=Ot[A+Xe-1],Mi=Ot[A+Xe];C.prev_length>=C.good_match&&(de>>=2),ze>C.lookahead&&(ze=C.lookahead);do if(U=he,!(Ot[U+Xe]!==Mi||Ot[U+Xe-1]!==hi||Ot[U]!==Ot[A]||Ot[++U]!==Ot[A+1])){A+=2,U++;do;while(Ot[++A]===Ot[++U]&&Ot[++A]===Ot[++U]&&Ot[++A]===Ot[++U]&&Ot[++A]===Ot[++U]&&Ot[++A]===Ot[++U]&&Ot[++A]===Ot[++U]&&Ot[++A]===Ot[++U]&&Ot[++A]===Ot[++U]&&A<lt);if(ne=Me-(lt-A),A=lt-Me,ne>Xe){if(C.match_start=he,Xe=ne,ne>=ze)break;hi=Ot[A+Xe-1],Mi=Ot[A+Xe]}}while((he=Pt[he&ji])>je&&--de!==0);return Xe<=C.lookahead?Xe:C.lookahead}function Ps(C){var he=C.w_size,de,A,U,ne,Xe;do{if(ne=C.window_size-C.lookahead-C.strstart,C.strstart>=he+(he-Ke)){r.arraySet(C.window,C.window,he,he,0),C.match_start-=he,C.strstart-=he,C.block_start-=he,A=C.hash_size,de=A;do U=C.head[--de],C.head[de]=U>=he?U-he:0;while(--A);A=he,de=A;do U=C.prev[--de],C.prev[de]=U>=he?U-he:0;while(--A);ne+=he}if(C.strm.avail_in===0)break;if(A=Mr(C.strm,C.window,C.strstart+C.lookahead,ne),C.lookahead+=A,C.lookahead+C.insert>=ae)for(Xe=C.strstart-C.insert,C.ins_h=C.window[Xe],C.ins_h=(C.ins_h<<C.hash_shift^C.window[Xe+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[Xe+ae-1])&C.hash_mask,C.prev[Xe&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=Xe,Xe++,C.insert--,!(C.lookahead+C.insert<ae)););}while(C.lookahead<Ke&&C.strm.avail_in!==0)}function Nr(C,he){var de=65535;for(de>C.pending_buf_size-5&&(de=C.pending_buf_size-5);;){if(C.lookahead<=1){if(Ps(C),C.lookahead===0&&he===n)return Be;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var A=C.block_start+de;if((C.strstart===0||C.strstart>=A)&&(C.lookahead=C.strstart-A,C.strstart=A,Ft(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-Ke&&(Ft(C,!1),C.strm.avail_out===0))return Be}return C.insert=0,he===d?(Ft(C,!0),C.strm.avail_out===0?Fi:$i):(C.strstart>C.block_start&&(Ft(C,!1),C.strm.avail_out===0),Be)}function dr(C,he){for(var de,A;;){if(C.lookahead<Ke){if(Ps(C),C.lookahead<Ke&&he===n)return Be;if(C.lookahead===0)break}if(de=0,C.lookahead>=ae&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ae-1])&C.hash_mask,de=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),de!==0&&C.strstart-de<=C.w_size-Ke&&(C.match_length=Os(C,de)),C.match_length>=ae)if(A=e._tr_tally(C,C.strstart-C.match_start,C.match_length-ae),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=ae){C.match_length--;do C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ae-1])&C.hash_mask,de=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart;while(--C.match_length!==0);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else A=e._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(A&&(Ft(C,!1),C.strm.avail_out===0))return Be}return C.insert=C.strstart<ae-1?C.strstart:ae-1,he===d?(Ft(C,!0),C.strm.avail_out===0?Fi:$i):C.last_lit&&(Ft(C,!1),C.strm.avail_out===0)?Be:ui}function Ms(C,he){for(var de,A,U;;){if(C.lookahead<Ke){if(Ps(C),C.lookahead<Ke&&he===n)return Be;if(C.lookahead===0)break}if(de=0,C.lookahead>=ae&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ae-1])&C.hash_mask,de=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=ae-1,de!==0&&C.prev_length<C.max_lazy_match&&C.strstart-de<=C.w_size-Ke&&(C.match_length=Os(C,de),C.match_length<=5&&(C.strategy===D||C.match_length===ae&&C.strstart-C.match_start>4096)&&(C.match_length=ae-1)),C.prev_length>=ae&&C.match_length<=C.prev_length){U=C.strstart+C.lookahead-ae,A=e._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-ae),C.lookahead-=C.prev_length-1,C.prev_length-=2;do++C.strstart<=U&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ae-1])&C.hash_mask,de=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart);while(--C.prev_length!==0);if(C.match_available=0,C.match_length=ae-1,C.strstart++,A&&(Ft(C,!1),C.strm.avail_out===0))return Be}else if(C.match_available){if(A=e._tr_tally(C,0,C.window[C.strstart-1]),A&&Ft(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return Be}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(A=e._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<ae-1?C.strstart:ae-1,he===d?(Ft(C,!0),C.strm.avail_out===0?Fi:$i):C.last_lit&&(Ft(C,!1),C.strm.avail_out===0)?Be:ui}function Hs(C,he){for(var de,A,U,ne,Xe=C.window;;){if(C.lookahead<=Me){if(Ps(C),C.lookahead<=Me&&he===n)return Be;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=ae&&C.strstart>0&&(U=C.strstart-1,A=Xe[U],A===Xe[++U]&&A===Xe[++U]&&A===Xe[++U])){ne=C.strstart+Me;do;while(A===Xe[++U]&&A===Xe[++U]&&A===Xe[++U]&&A===Xe[++U]&&A===Xe[++U]&&A===Xe[++U]&&A===Xe[++U]&&A===Xe[++U]&&U<ne);C.match_length=Me-(ne-U),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=ae?(de=e._tr_tally(C,1,C.match_length-ae),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(de=e._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),de&&(Ft(C,!1),C.strm.avail_out===0))return Be}return C.insert=0,he===d?(Ft(C,!0),C.strm.avail_out===0?Fi:$i):C.last_lit&&(Ft(C,!1),C.strm.avail_out===0)?Be:ui}function Ai(C,he){for(var de;;){if(C.lookahead===0&&(Ps(C),C.lookahead===0)){if(he===n)return Be;break}if(C.match_length=0,de=e._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,de&&(Ft(C,!1),C.strm.avail_out===0))return Be}return C.insert=0,he===d?(Ft(C,!0),C.strm.avail_out===0?Fi:$i):C.last_lit&&(Ft(C,!1),C.strm.avail_out===0)?Be:ui}function bi(C,he,de,A,U){this.good_length=C,this.max_lazy=he,this.nice_length=de,this.max_chain=A,this.func=U}var xi;xi=[new bi(0,0,0,0,Nr),new bi(4,4,8,4,dr),new bi(4,5,16,8,dr),new bi(4,6,32,32,dr),new bi(4,4,16,16,Ms),new bi(8,16,32,32,Ms),new bi(8,16,128,128,Ms),new bi(8,32,128,256,Ms),new bi(32,128,258,1024,Ms),new bi(32,258,258,4096,Ms)];function Yr(C){C.window_size=2*C.w_size,Rs(C.head),C.max_lazy_match=xi[C.level].max_lazy,C.good_match=xi[C.level].good_length,C.nice_match=xi[C.level].nice_length,C.max_chain_length=xi[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=ae-1,C.match_available=0,C.ins_h=0}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(Ne*2),this.dyn_dtree=new r.Buf16((2*ce+1)*2),this.bl_tree=new r.Buf16((2*ke+1)*2),Rs(this.dyn_ltree),Rs(this.dyn_dtree),Rs(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(_+1),this.heap=new r.Buf16(2*Re+1),Rs(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*Re+1),Rs(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ve(C){var he;return!C||!C.state?Wi(C,b):(C.total_in=C.total_out=0,C.data_type=Y,he=C.state,he.pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?ge:Fe,C.adler=he.wrap===2?0:1,he.last_flush=n,e._tr_init(he),p)}function De(C){var he=Ve(C);return he===p&&Yr(C.state),he}function _e(C,he){return!C||!C.state||C.state.wrap!==2?b:(C.state.gzhead=he,p)}function G(C,he,de,A,U,ne){if(!C)return b;var Xe=1;if(he===P&&(he=6),A<0?(Xe=0,A=-A):A>15&&(Xe=2,A-=16),U<1||U>K||de!==Z||A<8||A>15||he<0||he>9||ne<0||ne>H)return Wi(C,b);A===8&&(A=9);var ze=new M;return C.state=ze,ze.strm=C,ze.wrap=Xe,ze.gzhead=null,ze.w_bits=A,ze.w_size=1<<ze.w_bits,ze.w_mask=ze.w_size-1,ze.hash_bits=U+7,ze.hash_size=1<<ze.hash_bits,ze.hash_mask=ze.hash_size-1,ze.hash_shift=~~((ze.hash_bits+ae-1)/ae),ze.window=new r.Buf8(ze.w_size*2),ze.head=new r.Buf16(ze.hash_size),ze.prev=new r.Buf16(ze.w_size),ze.lit_bufsize=1<<U+6,ze.pending_buf_size=ze.lit_bufsize*4,ze.pending_buf=new r.Buf8(ze.pending_buf_size),ze.d_buf=1*ze.lit_bufsize,ze.l_buf=3*ze.lit_bufsize,ze.level=he,ze.strategy=ne,ze.method=de,De(C)}function me(C,he){return G(C,he,Z,pe,Ce,ee)}function R(C,he){var de,A,U,ne;if(!C||!C.state||he>f||he<0)return C?Wi(C,b):b;if(A=C.state,!C.output||!C.input&&C.avail_in!==0||A.status===Vt&&he!==d)return Wi(C,C.avail_out===0?T:b);if(A.strm=C,de=A.last_flush,A.last_flush=he,A.status===ge)if(A.wrap===2)C.adler=0,It(A,31),It(A,139),It(A,8),A.gzhead?(It(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),It(A,A.gzhead.time&255),It(A,A.gzhead.time>>8&255),It(A,A.gzhead.time>>16&255),It(A,A.gzhead.time>>24&255),It(A,A.level===9?2:A.strategy>=L||A.level<2?4:0),It(A,A.gzhead.os&255),A.gzhead.extra&&A.gzhead.extra.length&&(It(A,A.gzhead.extra.length&255),It(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(C.adler=i(C.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=Ae):(It(A,0),It(A,0),It(A,0),It(A,0),It(A,0),It(A,A.level===9?2:A.strategy>=L||A.level<2?4:0),It(A,jt),A.status=Fe);else{var Xe=Z+(A.w_bits-8<<4)<<8,ze=-1;A.strategy>=L||A.level<2?ze=0:A.level<6?ze=1:A.level===6?ze=2:ze=3,Xe|=ze<<6,A.strstart!==0&&(Xe|=Q),Xe+=31-Xe%31,A.status=Fe,ys(A,Xe),A.strstart!==0&&(ys(A,C.adler>>>16),ys(A,C.adler&65535)),C.adler=1}if(A.status===Ae)if(A.gzhead.extra){for(U=A.pending;A.gzindex<(A.gzhead.extra.length&65535)&&!(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>U&&(C.adler=i(C.adler,A.pending_buf,A.pending-U,U)),vs(C),U=A.pending,A.pending===A.pending_buf_size));)It(A,A.gzhead.extra[A.gzindex]&255),A.gzindex++;A.gzhead.hcrc&&A.pending>U&&(C.adler=i(C.adler,A.pending_buf,A.pending-U,U)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=Pe)}else A.status=Pe;if(A.status===Pe)if(A.gzhead.name){U=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>U&&(C.adler=i(C.adler,A.pending_buf,A.pending-U,U)),vs(C),U=A.pending,A.pending===A.pending_buf_size)){ne=1;break}A.gzindex<A.gzhead.name.length?ne=A.gzhead.name.charCodeAt(A.gzindex++)&255:ne=0,It(A,ne)}while(ne!==0);A.gzhead.hcrc&&A.pending>U&&(C.adler=i(C.adler,A.pending_buf,A.pending-U,U)),ne===0&&(A.gzindex=0,A.status=qe)}else A.status=qe;if(A.status===qe)if(A.gzhead.comment){U=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>U&&(C.adler=i(C.adler,A.pending_buf,A.pending-U,U)),vs(C),U=A.pending,A.pending===A.pending_buf_size)){ne=1;break}A.gzindex<A.gzhead.comment.length?ne=A.gzhead.comment.charCodeAt(A.gzindex++)&255:ne=0,It(A,ne)}while(ne!==0);A.gzhead.hcrc&&A.pending>U&&(C.adler=i(C.adler,A.pending_buf,A.pending-U,U)),ne===0&&(A.status=it)}else A.status=it;if(A.status===it&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&vs(C),A.pending+2<=A.pending_buf_size&&(It(A,C.adler&255),It(A,C.adler>>8&255),C.adler=0,A.status=Fe)):A.status=Fe),A.pending!==0){if(vs(C),C.avail_out===0)return A.last_flush=-1,p}else if(C.avail_in===0&&js(he)<=js(de)&&he!==d)return Wi(C,T);if(A.status===Vt&&C.avail_in!==0)return Wi(C,T);if(C.avail_in!==0||A.lookahead!==0||he!==n&&A.status!==Vt){var je=A.strategy===L?Ai(A,he):A.strategy===W?Hs(A,he):xi[A.level].func(A,he);if((je===Fi||je===$i)&&(A.status=Vt),je===Be||je===Fi)return C.avail_out===0&&(A.last_flush=-1),p;if(je===ui&&(he===o?e._tr_align(A):he!==f&&(e._tr_stored_block(A,0,0,!1),he===h&&(Rs(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),vs(C),C.avail_out===0))return A.last_flush=-1,p}return he!==d?p:A.wrap<=0?y:(A.wrap===2?(It(A,C.adler&255),It(A,C.adler>>8&255),It(A,C.adler>>16&255),It(A,C.adler>>24&255),It(A,C.total_in&255),It(A,C.total_in>>8&255),It(A,C.total_in>>16&255),It(A,C.total_in>>24&255)):(ys(A,C.adler>>>16),ys(A,C.adler&65535)),vs(C),A.wrap>0&&(A.wrap=-A.wrap),A.pending!==0?p:y)}function Se(C){var he;return!C||!C.state?b:(he=C.state.status,he!==ge&&he!==Ae&&he!==Pe&&he!==qe&&he!==it&&he!==Fe&&he!==Vt?Wi(C,b):(C.state=null,he===Fe?Wi(C,w):p))}function ot(C,he){var de=he.length,A,U,ne,Xe,ze,je,Ot,ji;if(!C||!C.state||(A=C.state,Xe=A.wrap,Xe===2||Xe===1&&A.status!==ge||A.lookahead))return b;for(Xe===1&&(C.adler=t(C.adler,he,de,0)),A.wrap=0,de>=A.w_size&&(Xe===0&&(Rs(A.head),A.strstart=0,A.block_start=0,A.insert=0),ji=new r.Buf8(A.w_size),r.arraySet(ji,he,de-A.w_size,A.w_size,0),he=ji,de=A.w_size),ze=C.avail_in,je=C.next_in,Ot=C.input,C.avail_in=de,C.next_in=0,C.input=he,Ps(A);A.lookahead>=ae;){U=A.strstart,ne=A.lookahead-(ae-1);do A.ins_h=(A.ins_h<<A.hash_shift^A.window[U+ae-1])&A.hash_mask,A.prev[U&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=U,U++;while(--ne);A.strstart=U,A.lookahead=ae-1,Ps(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=ae-1,A.match_available=0,C.next_in=je,C.input=Ot,C.avail_in=ze,A.wrap=Xe,p}return Qr.deflateInit=me,Qr.deflateInit2=G,Qr.deflateReset=De,Qr.deflateResetKeep=Ve,Qr.deflateSetHeader=_e,Qr.deflate=R,Qr.deflateEnd=Se,Qr.deflateSetDictionary=ot,Qr.deflateInfo="pako deflate (from Nodeca project)",Qr}var bo={},WC;function d2(){if(WC)return bo;WC=1;var r=Qa(),e=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var i=new r.Buf8(256),s=0;s<256;s++)i[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;i[254]=i[254]=1,bo.string2buf=function(o){var h,d,f,p,y,b=o.length,w=0;for(p=0;p<b;p++)d=o.charCodeAt(p),(d&64512)===55296&&p+1<b&&(f=o.charCodeAt(p+1),(f&64512)===56320&&(d=65536+(d-55296<<10)+(f-56320),p++)),w+=d<128?1:d<2048?2:d<65536?3:4;for(h=new r.Buf8(w),y=0,p=0;y<w;p++)d=o.charCodeAt(p),(d&64512)===55296&&p+1<b&&(f=o.charCodeAt(p+1),(f&64512)===56320&&(d=65536+(d-55296<<10)+(f-56320),p++)),d<128?h[y++]=d:d<2048?(h[y++]=192|d>>>6,h[y++]=128|d&63):d<65536?(h[y++]=224|d>>>12,h[y++]=128|d>>>6&63,h[y++]=128|d&63):(h[y++]=240|d>>>18,h[y++]=128|d>>>12&63,h[y++]=128|d>>>6&63,h[y++]=128|d&63);return h};function n(o,h){if(h<65534&&(o.subarray&&t||!o.subarray&&e))return String.fromCharCode.apply(null,r.shrinkBuf(o,h));for(var d="",f=0;f<h;f++)d+=String.fromCharCode(o[f]);return d}return bo.buf2binstring=function(o){return n(o,o.length)},bo.binstring2buf=function(o){for(var h=new r.Buf8(o.length),d=0,f=h.length;d<f;d++)h[d]=o.charCodeAt(d);return h},bo.buf2string=function(o,h){var d,f,p,y,b=h||o.length,w=new Array(b*2);for(f=0,d=0;d<b;){if(p=o[d++],p<128){w[f++]=p;continue}if(y=i[p],y>4){w[f++]=65533,d+=y-1;continue}for(p&=y===2?31:y===3?15:7;y>1&&d<b;)p=p<<6|o[d++]&63,y--;if(y>1){w[f++]=65533;continue}p<65536?w[f++]=p:(p-=65536,w[f++]=55296|p>>10&1023,w[f++]=56320|p&1023)}return n(w,f)},bo.utf8border=function(o,h){var d;for(h=h||o.length,h>o.length&&(h=o.length),d=h-1;d>=0&&(o[d]&192)===128;)d--;return d<0||d===0?h:d+i[o[d]]>h?d:h},bo}var Vm,jC;function c2(){if(jC)return Vm;jC=1;function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Vm=r,Vm}var GC;function kR(){if(GC)return Sl;GC=1;var r=NR(),e=Qa(),t=d2(),i=Nv(),s=c2(),n=Object.prototype.toString,o=0,h=4,d=0,f=1,p=2,y=-1,b=0,w=8;function T(W){if(!(this instanceof T))return new T(W);this.options=e.assign({level:y,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},W||{});var H=this.options;H.raw&&H.windowBits>0?H.windowBits=-H.windowBits:H.gzip&&H.windowBits>0&&H.windowBits<16&&(H.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var ee=r.deflateInit2(this.strm,H.level,H.method,H.windowBits,H.memLevel,H.strategy);if(ee!==d)throw new Error(i[ee]);if(H.header&&r.deflateSetHeader(this.strm,H.header),H.dictionary){var Y;if(typeof H.dictionary=="string"?Y=t.string2buf(H.dictionary):n.call(H.dictionary)==="[object ArrayBuffer]"?Y=new Uint8Array(H.dictionary):Y=H.dictionary,ee=r.deflateSetDictionary(this.strm,Y),ee!==d)throw new Error(i[ee]);this._dict_set=!0}}T.prototype.push=function(W,H){var ee=this.strm,Y=this.options.chunkSize,Z,K;if(this.ended)return!1;K=H===~~H?H:H===!0?h:o,typeof W=="string"?ee.input=t.string2buf(W):n.call(W)==="[object ArrayBuffer]"?ee.input=new Uint8Array(W):ee.input=W,ee.next_in=0,ee.avail_in=ee.input.length;do{if(ee.avail_out===0&&(ee.output=new e.Buf8(Y),ee.next_out=0,ee.avail_out=Y),Z=r.deflate(ee,K),Z!==f&&Z!==d)return this.onEnd(Z),this.ended=!0,!1;(ee.avail_out===0||ee.avail_in===0&&(K===h||K===p))&&(this.options.to==="string"?this.onData(t.buf2binstring(e.shrinkBuf(ee.output,ee.next_out))):this.onData(e.shrinkBuf(ee.output,ee.next_out)))}while((ee.avail_in>0||ee.avail_out===0)&&Z!==f);return K===h?(Z=r.deflateEnd(this.strm),this.onEnd(Z),this.ended=!0,Z===d):(K===p&&(this.onEnd(d),ee.avail_out=0),!0)},T.prototype.onData=function(W){this.chunks.push(W)},T.prototype.onEnd=function(W){W===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=W,this.msg=this.strm.msg};function P(W,H){var ee=new T(H);if(ee.push(W,!0),ee.err)throw ee.msg||i[ee.err];return ee.result}function D(W,H){return H=H||{},H.raw=!0,P(W,H)}function L(W,H){return H=H||{},H.gzip=!0,P(W,H)}return Sl.Deflate=T,Sl.deflate=P,Sl.deflateRaw=D,Sl.gzip=L,Sl}var El={},Cr={},Sm,ZC;function qR(){if(ZC)return Sm;ZC=1;var r=30,e=12;return Sm=function(i,s){var n,o,h,d,f,p,y,b,w,T,P,D,L,W,H,ee,Y,Z,K,pe,Ce,we,xe,Re,ce;n=i.state,o=i.next_in,Re=i.input,h=o+(i.avail_in-5),d=i.next_out,ce=i.output,f=d-(s-i.avail_out),p=d+(i.avail_out-257),y=n.dmax,b=n.wsize,w=n.whave,T=n.wnext,P=n.window,D=n.hold,L=n.bits,W=n.lencode,H=n.distcode,ee=(1<<n.lenbits)-1,Y=(1<<n.distbits)-1;e:do{L<15&&(D+=Re[o++]<<L,L+=8,D+=Re[o++]<<L,L+=8),Z=W[D&ee];t:for(;;){if(K=Z>>>24,D>>>=K,L-=K,K=Z>>>16&255,K===0)ce[d++]=Z&65535;else if(K&16){pe=Z&65535,K&=15,K&&(L<K&&(D+=Re[o++]<<L,L+=8),pe+=D&(1<<K)-1,D>>>=K,L-=K),L<15&&(D+=Re[o++]<<L,L+=8,D+=Re[o++]<<L,L+=8),Z=H[D&Y];i:for(;;){if(K=Z>>>24,D>>>=K,L-=K,K=Z>>>16&255,K&16){if(Ce=Z&65535,K&=15,L<K&&(D+=Re[o++]<<L,L+=8,L<K&&(D+=Re[o++]<<L,L+=8)),Ce+=D&(1<<K)-1,Ce>y){i.msg="invalid distance too far back",n.mode=r;break e}if(D>>>=K,L-=K,K=d-f,Ce>K){if(K=Ce-K,K>w&&n.sane){i.msg="invalid distance too far back",n.mode=r;break e}if(we=0,xe=P,T===0){if(we+=b-K,K<pe){pe-=K;do ce[d++]=P[we++];while(--K);we=d-Ce,xe=ce}}else if(T<K){if(we+=b+T-K,K-=T,K<pe){pe-=K;do ce[d++]=P[we++];while(--K);if(we=0,T<pe){K=T,pe-=K;do ce[d++]=P[we++];while(--K);we=d-Ce,xe=ce}}}else if(we+=T-K,K<pe){pe-=K;do ce[d++]=P[we++];while(--K);we=d-Ce,xe=ce}for(;pe>2;)ce[d++]=xe[we++],ce[d++]=xe[we++],ce[d++]=xe[we++],pe-=3;pe&&(ce[d++]=xe[we++],pe>1&&(ce[d++]=xe[we++]))}else{we=d-Ce;do ce[d++]=ce[we++],ce[d++]=ce[we++],ce[d++]=ce[we++],pe-=3;while(pe>2);pe&&(ce[d++]=ce[we++],pe>1&&(ce[d++]=ce[we++]))}}else if((K&64)===0){Z=H[(Z&65535)+(D&(1<<K)-1)];continue i}else{i.msg="invalid distance code",n.mode=r;break e}break}}else if((K&64)===0){Z=W[(Z&65535)+(D&(1<<K)-1)];continue t}else if(K&32){n.mode=e;break e}else{i.msg="invalid literal/length code",n.mode=r;break e}break}}while(o<h&&d<p);pe=L>>3,o-=pe,L-=pe<<3,D&=(1<<L)-1,i.next_in=o,i.next_out=d,i.avail_in=o<h?5+(h-o):5-(o-h),i.avail_out=d<p?257+(p-d):257-(d-p),n.hold=D,n.bits=L},Sm}var Em,KC;function FR(){if(KC)return Em;KC=1;var r=Qa(),e=15,t=852,i=592,s=0,n=1,o=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Em=function(b,w,T,P,D,L,W,H){var ee=H.bits,Y=0,Z=0,K=0,pe=0,Ce=0,we=0,xe=0,Re=0,ce=0,ke=0,Ne,_,ae,Me,Ke,Q=null,ge=0,Ae,Pe=new r.Buf16(e+1),qe=new r.Buf16(e+1),it=null,Fe=0,Vt,Be,ui;for(Y=0;Y<=e;Y++)Pe[Y]=0;for(Z=0;Z<P;Z++)Pe[w[T+Z]]++;for(Ce=ee,pe=e;pe>=1&&Pe[pe]===0;pe--);if(Ce>pe&&(Ce=pe),pe===0)return D[L++]=1<<24|64<<16|0,D[L++]=1<<24|64<<16|0,H.bits=1,0;for(K=1;K<pe&&Pe[K]===0;K++);for(Ce<K&&(Ce=K),Re=1,Y=1;Y<=e;Y++)if(Re<<=1,Re-=Pe[Y],Re<0)return-1;if(Re>0&&(b===s||pe!==1))return-1;for(qe[1]=0,Y=1;Y<e;Y++)qe[Y+1]=qe[Y]+Pe[Y];for(Z=0;Z<P;Z++)w[T+Z]!==0&&(W[qe[w[T+Z]]++]=Z);if(b===s?(Q=it=W,Ae=19):b===n?(Q=h,ge-=257,it=d,Fe-=257,Ae=256):(Q=f,it=p,Ae=-1),ke=0,Z=0,Y=K,Ke=L,we=Ce,xe=0,ae=-1,ce=1<<Ce,Me=ce-1,b===n&&ce>t||b===o&&ce>i)return 1;for(;;){Vt=Y-xe,W[Z]<Ae?(Be=0,ui=W[Z]):W[Z]>Ae?(Be=it[Fe+W[Z]],ui=Q[ge+W[Z]]):(Be=96,ui=0),Ne=1<<Y-xe,_=1<<we,K=_;do _-=Ne,D[Ke+(ke>>xe)+_]=Vt<<24|Be<<16|ui|0;while(_!==0);for(Ne=1<<Y-1;ke&Ne;)Ne>>=1;if(Ne!==0?(ke&=Ne-1,ke+=Ne):ke=0,Z++,--Pe[Y]===0){if(Y===pe)break;Y=w[T+W[Z]]}if(Y>Ce&&(ke&Me)!==ae){for(xe===0&&(xe=Ce),Ke+=K,we=Y-xe,Re=1<<we;we+xe<pe&&(Re-=Pe[we+xe],!(Re<=0));)we++,Re<<=1;if(ce+=1<<we,b===n&&ce>t||b===o&&ce>i)return 1;ae=ke&Me,D[ae]=Ce<<24|we<<16|Ke-L|0}}return ke!==0&&(D[Ke+ke]=Y-xe<<24|64<<16|0),H.bits=Ce,0},Em}var XC;function BR(){if(XC)return Cr;XC=1;var r=Qa(),e=u2(),t=h2(),i=qR(),s=FR(),n=0,o=1,h=2,d=4,f=5,p=6,y=0,b=1,w=2,T=-2,P=-3,D=-4,L=-5,W=8,H=1,ee=2,Y=3,Z=4,K=5,pe=6,Ce=7,we=8,xe=9,Re=10,ce=11,ke=12,Ne=13,_=14,ae=15,Me=16,Ke=17,Q=18,ge=19,Ae=20,Pe=21,qe=22,it=23,Fe=24,Vt=25,Be=26,ui=27,Fi=28,$i=29,jt=30,Wi=31,js=32,Rs=852,vs=592,Ft=15,It=Ft;function ys(G){return(G>>>24&255)+(G>>>8&65280)+((G&65280)<<8)+((G&255)<<24)}function Mr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Os(G){var me;return!G||!G.state?T:(me=G.state,G.total_in=G.total_out=me.total=0,G.msg="",me.wrap&&(G.adler=me.wrap&1),me.mode=H,me.last=0,me.havedict=0,me.dmax=32768,me.head=null,me.hold=0,me.bits=0,me.lencode=me.lendyn=new r.Buf32(Rs),me.distcode=me.distdyn=new r.Buf32(vs),me.sane=1,me.back=-1,y)}function Ps(G){var me;return!G||!G.state?T:(me=G.state,me.wsize=0,me.whave=0,me.wnext=0,Os(G))}function Nr(G,me){var R,Se;return!G||!G.state||(Se=G.state,me<0?(R=0,me=-me):(R=(me>>4)+1,me<48&&(me&=15)),me&&(me<8||me>15))?T:(Se.window!==null&&Se.wbits!==me&&(Se.window=null),Se.wrap=R,Se.wbits=me,Ps(G))}function dr(G,me){var R,Se;return G?(Se=new Mr,G.state=Se,Se.window=null,R=Nr(G,me),R!==y&&(G.state=null),R):T}function Ms(G){return dr(G,It)}var Hs=!0,Ai,bi;function xi(G){if(Hs){var me;for(Ai=new r.Buf32(512),bi=new r.Buf32(32),me=0;me<144;)G.lens[me++]=8;for(;me<256;)G.lens[me++]=9;for(;me<280;)G.lens[me++]=7;for(;me<288;)G.lens[me++]=8;for(s(o,G.lens,0,288,Ai,0,G.work,{bits:9}),me=0;me<32;)G.lens[me++]=5;s(h,G.lens,0,32,bi,0,G.work,{bits:5}),Hs=!1}G.lencode=Ai,G.lenbits=9,G.distcode=bi,G.distbits=5}function Yr(G,me,R,Se){var ot,C=G.state;return C.window===null&&(C.wsize=1<<C.wbits,C.wnext=0,C.whave=0,C.window=new r.Buf8(C.wsize)),Se>=C.wsize?(r.arraySet(C.window,me,R-C.wsize,C.wsize,0),C.wnext=0,C.whave=C.wsize):(ot=C.wsize-C.wnext,ot>Se&&(ot=Se),r.arraySet(C.window,me,R-Se,ot,C.wnext),Se-=ot,Se?(r.arraySet(C.window,me,R-Se,Se,0),C.wnext=Se,C.whave=C.wsize):(C.wnext+=ot,C.wnext===C.wsize&&(C.wnext=0),C.whave<C.wsize&&(C.whave+=ot))),0}function M(G,me){var R,Se,ot,C,he,de,A,U,ne,Xe,ze,je,Ot,ji,Pt=0,lt,hi,Mi,os,Kn,pn,gi,ls,Vi=new r.Buf8(4),us,hs,kr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return T;R=G.state,R.mode===ke&&(R.mode=Ne),he=G.next_out,ot=G.output,A=G.avail_out,C=G.next_in,Se=G.input,de=G.avail_in,U=R.hold,ne=R.bits,Xe=de,ze=A,ls=y;e:for(;;)switch(R.mode){case H:if(R.wrap===0){R.mode=Ne;break}for(;ne<16;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if(R.wrap&2&&U===35615){R.check=0,Vi[0]=U&255,Vi[1]=U>>>8&255,R.check=t(R.check,Vi,2,0),U=0,ne=0,R.mode=ee;break}if(R.flags=0,R.head&&(R.head.done=!1),!(R.wrap&1)||(((U&255)<<8)+(U>>8))%31){G.msg="incorrect header check",R.mode=jt;break}if((U&15)!==W){G.msg="unknown compression method",R.mode=jt;break}if(U>>>=4,ne-=4,gi=(U&15)+8,R.wbits===0)R.wbits=gi;else if(gi>R.wbits){G.msg="invalid window size",R.mode=jt;break}R.dmax=1<<gi,G.adler=R.check=1,R.mode=U&512?Re:ke,U=0,ne=0;break;case ee:for(;ne<16;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if(R.flags=U,(R.flags&255)!==W){G.msg="unknown compression method",R.mode=jt;break}if(R.flags&57344){G.msg="unknown header flags set",R.mode=jt;break}R.head&&(R.head.text=U>>8&1),R.flags&512&&(Vi[0]=U&255,Vi[1]=U>>>8&255,R.check=t(R.check,Vi,2,0)),U=0,ne=0,R.mode=Y;case Y:for(;ne<32;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}R.head&&(R.head.time=U),R.flags&512&&(Vi[0]=U&255,Vi[1]=U>>>8&255,Vi[2]=U>>>16&255,Vi[3]=U>>>24&255,R.check=t(R.check,Vi,4,0)),U=0,ne=0,R.mode=Z;case Z:for(;ne<16;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}R.head&&(R.head.xflags=U&255,R.head.os=U>>8),R.flags&512&&(Vi[0]=U&255,Vi[1]=U>>>8&255,R.check=t(R.check,Vi,2,0)),U=0,ne=0,R.mode=K;case K:if(R.flags&1024){for(;ne<16;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}R.length=U,R.head&&(R.head.extra_len=U),R.flags&512&&(Vi[0]=U&255,Vi[1]=U>>>8&255,R.check=t(R.check,Vi,2,0)),U=0,ne=0}else R.head&&(R.head.extra=null);R.mode=pe;case pe:if(R.flags&1024&&(je=R.length,je>de&&(je=de),je&&(R.head&&(gi=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),r.arraySet(R.head.extra,Se,C,je,gi)),R.flags&512&&(R.check=t(R.check,Se,je,C)),de-=je,C+=je,R.length-=je),R.length))break e;R.length=0,R.mode=Ce;case Ce:if(R.flags&2048){if(de===0)break e;je=0;do gi=Se[C+je++],R.head&&gi&&R.length<65536&&(R.head.name+=String.fromCharCode(gi));while(gi&&je<de);if(R.flags&512&&(R.check=t(R.check,Se,je,C)),de-=je,C+=je,gi)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=we;case we:if(R.flags&4096){if(de===0)break e;je=0;do gi=Se[C+je++],R.head&&gi&&R.length<65536&&(R.head.comment+=String.fromCharCode(gi));while(gi&&je<de);if(R.flags&512&&(R.check=t(R.check,Se,je,C)),de-=je,C+=je,gi)break e}else R.head&&(R.head.comment=null);R.mode=xe;case xe:if(R.flags&512){for(;ne<16;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if(U!==(R.check&65535)){G.msg="header crc mismatch",R.mode=jt;break}U=0,ne=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),G.adler=R.check=0,R.mode=ke;break;case Re:for(;ne<32;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}G.adler=R.check=ys(U),U=0,ne=0,R.mode=ce;case ce:if(R.havedict===0)return G.next_out=he,G.avail_out=A,G.next_in=C,G.avail_in=de,R.hold=U,R.bits=ne,w;G.adler=R.check=1,R.mode=ke;case ke:if(me===f||me===p)break e;case Ne:if(R.last){U>>>=ne&7,ne-=ne&7,R.mode=ui;break}for(;ne<3;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}switch(R.last=U&1,U>>>=1,ne-=1,U&3){case 0:R.mode=_;break;case 1:if(xi(R),R.mode=Ae,me===p){U>>>=2,ne-=2;break e}break;case 2:R.mode=Ke;break;case 3:G.msg="invalid block type",R.mode=jt}U>>>=2,ne-=2;break;case _:for(U>>>=ne&7,ne-=ne&7;ne<32;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if((U&65535)!==(U>>>16^65535)){G.msg="invalid stored block lengths",R.mode=jt;break}if(R.length=U&65535,U=0,ne=0,R.mode=ae,me===p)break e;case ae:R.mode=Me;case Me:if(je=R.length,je){if(je>de&&(je=de),je>A&&(je=A),je===0)break e;r.arraySet(ot,Se,C,je,he),de-=je,C+=je,A-=je,he+=je,R.length-=je;break}R.mode=ke;break;case Ke:for(;ne<14;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if(R.nlen=(U&31)+257,U>>>=5,ne-=5,R.ndist=(U&31)+1,U>>>=5,ne-=5,R.ncode=(U&15)+4,U>>>=4,ne-=4,R.nlen>286||R.ndist>30){G.msg="too many length or distance symbols",R.mode=jt;break}R.have=0,R.mode=Q;case Q:for(;R.have<R.ncode;){for(;ne<3;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}R.lens[kr[R.have++]]=U&7,U>>>=3,ne-=3}for(;R.have<19;)R.lens[kr[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,us={bits:R.lenbits},ls=s(n,R.lens,0,19,R.lencode,0,R.work,us),R.lenbits=us.bits,ls){G.msg="invalid code lengths set",R.mode=jt;break}R.have=0,R.mode=ge;case ge:for(;R.have<R.nlen+R.ndist;){for(;Pt=R.lencode[U&(1<<R.lenbits)-1],lt=Pt>>>24,hi=Pt>>>16&255,Mi=Pt&65535,!(lt<=ne);){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if(Mi<16)U>>>=lt,ne-=lt,R.lens[R.have++]=Mi;else{if(Mi===16){for(hs=lt+2;ne<hs;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if(U>>>=lt,ne-=lt,R.have===0){G.msg="invalid bit length repeat",R.mode=jt;break}gi=R.lens[R.have-1],je=3+(U&3),U>>>=2,ne-=2}else if(Mi===17){for(hs=lt+3;ne<hs;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}U>>>=lt,ne-=lt,gi=0,je=3+(U&7),U>>>=3,ne-=3}else{for(hs=lt+7;ne<hs;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}U>>>=lt,ne-=lt,gi=0,je=11+(U&127),U>>>=7,ne-=7}if(R.have+je>R.nlen+R.ndist){G.msg="invalid bit length repeat",R.mode=jt;break}for(;je--;)R.lens[R.have++]=gi}}if(R.mode===jt)break;if(R.lens[256]===0){G.msg="invalid code -- missing end-of-block",R.mode=jt;break}if(R.lenbits=9,us={bits:R.lenbits},ls=s(o,R.lens,0,R.nlen,R.lencode,0,R.work,us),R.lenbits=us.bits,ls){G.msg="invalid literal/lengths set",R.mode=jt;break}if(R.distbits=6,R.distcode=R.distdyn,us={bits:R.distbits},ls=s(h,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,us),R.distbits=us.bits,ls){G.msg="invalid distances set",R.mode=jt;break}if(R.mode=Ae,me===p)break e;case Ae:R.mode=Pe;case Pe:if(de>=6&&A>=258){G.next_out=he,G.avail_out=A,G.next_in=C,G.avail_in=de,R.hold=U,R.bits=ne,i(G,ze),he=G.next_out,ot=G.output,A=G.avail_out,C=G.next_in,Se=G.input,de=G.avail_in,U=R.hold,ne=R.bits,R.mode===ke&&(R.back=-1);break}for(R.back=0;Pt=R.lencode[U&(1<<R.lenbits)-1],lt=Pt>>>24,hi=Pt>>>16&255,Mi=Pt&65535,!(lt<=ne);){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if(hi&&(hi&240)===0){for(os=lt,Kn=hi,pn=Mi;Pt=R.lencode[pn+((U&(1<<os+Kn)-1)>>os)],lt=Pt>>>24,hi=Pt>>>16&255,Mi=Pt&65535,!(os+lt<=ne);){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}U>>>=os,ne-=os,R.back+=os}if(U>>>=lt,ne-=lt,R.back+=lt,R.length=Mi,hi===0){R.mode=Be;break}if(hi&32){R.back=-1,R.mode=ke;break}if(hi&64){G.msg="invalid literal/length code",R.mode=jt;break}R.extra=hi&15,R.mode=qe;case qe:if(R.extra){for(hs=R.extra;ne<hs;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}R.length+=U&(1<<R.extra)-1,U>>>=R.extra,ne-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=it;case it:for(;Pt=R.distcode[U&(1<<R.distbits)-1],lt=Pt>>>24,hi=Pt>>>16&255,Mi=Pt&65535,!(lt<=ne);){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if((hi&240)===0){for(os=lt,Kn=hi,pn=Mi;Pt=R.distcode[pn+((U&(1<<os+Kn)-1)>>os)],lt=Pt>>>24,hi=Pt>>>16&255,Mi=Pt&65535,!(os+lt<=ne);){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}U>>>=os,ne-=os,R.back+=os}if(U>>>=lt,ne-=lt,R.back+=lt,hi&64){G.msg="invalid distance code",R.mode=jt;break}R.offset=Mi,R.extra=hi&15,R.mode=Fe;case Fe:if(R.extra){for(hs=R.extra;ne<hs;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}R.offset+=U&(1<<R.extra)-1,U>>>=R.extra,ne-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){G.msg="invalid distance too far back",R.mode=jt;break}R.mode=Vt;case Vt:if(A===0)break e;if(je=ze-A,R.offset>je){if(je=R.offset-je,je>R.whave&&R.sane){G.msg="invalid distance too far back",R.mode=jt;break}je>R.wnext?(je-=R.wnext,Ot=R.wsize-je):Ot=R.wnext-je,je>R.length&&(je=R.length),ji=R.window}else ji=ot,Ot=he-R.offset,je=R.length;je>A&&(je=A),A-=je,R.length-=je;do ot[he++]=ji[Ot++];while(--je);R.length===0&&(R.mode=Pe);break;case Be:if(A===0)break e;ot[he++]=R.length,A--,R.mode=Pe;break;case ui:if(R.wrap){for(;ne<32;){if(de===0)break e;de--,U|=Se[C++]<<ne,ne+=8}if(ze-=A,G.total_out+=ze,R.total+=ze,ze&&(G.adler=R.check=R.flags?t(R.check,ot,ze,he-ze):e(R.check,ot,ze,he-ze)),ze=A,(R.flags?U:ys(U))!==R.check){G.msg="incorrect data check",R.mode=jt;break}U=0,ne=0}R.mode=Fi;case Fi:if(R.wrap&&R.flags){for(;ne<32;){if(de===0)break e;de--,U+=Se[C++]<<ne,ne+=8}if(U!==(R.total&4294967295)){G.msg="incorrect length check",R.mode=jt;break}U=0,ne=0}R.mode=$i;case $i:ls=b;break e;case jt:ls=P;break e;case Wi:return D;case js:default:return T}return G.next_out=he,G.avail_out=A,G.next_in=C,G.avail_in=de,R.hold=U,R.bits=ne,(R.wsize||ze!==G.avail_out&&R.mode<jt&&(R.mode<ui||me!==d))&&Yr(G,G.output,G.next_out,ze-G.avail_out),Xe-=G.avail_in,ze-=G.avail_out,G.total_in+=Xe,G.total_out+=ze,R.total+=ze,R.wrap&&ze&&(G.adler=R.check=R.flags?t(R.check,ot,ze,G.next_out-ze):e(R.check,ot,ze,G.next_out-ze)),G.data_type=R.bits+(R.last?64:0)+(R.mode===ke?128:0)+(R.mode===Ae||R.mode===ae?256:0),(Xe===0&&ze===0||me===d)&&ls===y&&(ls=L),ls}function Ve(G){if(!G||!G.state)return T;var me=G.state;return me.window&&(me.window=null),G.state=null,y}function De(G,me){var R;return!G||!G.state||(R=G.state,(R.wrap&2)===0)?T:(R.head=me,me.done=!1,y)}function _e(G,me){var R=me.length,Se,ot,C;return!G||!G.state||(Se=G.state,Se.wrap!==0&&Se.mode!==ce)?T:Se.mode===ce&&(ot=1,ot=e(ot,me,R,0),ot!==Se.check)?P:(C=Yr(G,me,R,R),C?(Se.mode=Wi,D):(Se.havedict=1,y))}return Cr.inflateReset=Ps,Cr.inflateReset2=Nr,Cr.inflateResetKeep=Os,Cr.inflateInit=Ms,Cr.inflateInit2=dr,Cr.inflate=M,Cr.inflateEnd=Ve,Cr.inflateGetHeader=De,Cr.inflateSetDictionary=_e,Cr.inflateInfo="pako inflate (from Nodeca project)",Cr}var Tm,YC;function f2(){return YC||(YC=1,Tm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Tm}var Rm,JC;function zR(){if(JC)return Rm;JC=1;function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Rm=r,Rm}var $C;function HR(){if($C)return El;$C=1;var r=BR(),e=Qa(),t=d2(),i=f2(),s=Nv(),n=c2(),o=zR(),h=Object.prototype.toString;function d(y){if(!(this instanceof d))return new d(y);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),b.windowBits>=0&&b.windowBits<16&&!(y&&y.windowBits)&&(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&(b.windowBits&15)===0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var w=r.inflateInit2(this.strm,b.windowBits);if(w!==i.Z_OK)throw new Error(s[w]);if(this.header=new o,r.inflateGetHeader(this.strm,this.header),b.dictionary&&(typeof b.dictionary=="string"?b.dictionary=t.string2buf(b.dictionary):h.call(b.dictionary)==="[object ArrayBuffer]"&&(b.dictionary=new Uint8Array(b.dictionary)),b.raw&&(w=r.inflateSetDictionary(this.strm,b.dictionary),w!==i.Z_OK)))throw new Error(s[w])}d.prototype.push=function(y,b){var w=this.strm,T=this.options.chunkSize,P=this.options.dictionary,D,L,W,H,ee,Y=!1;if(this.ended)return!1;L=b===~~b?b:b===!0?i.Z_FINISH:i.Z_NO_FLUSH,typeof y=="string"?w.input=t.binstring2buf(y):h.call(y)==="[object ArrayBuffer]"?w.input=new Uint8Array(y):w.input=y,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new e.Buf8(T),w.next_out=0,w.avail_out=T),D=r.inflate(w,i.Z_NO_FLUSH),D===i.Z_NEED_DICT&&P&&(D=r.inflateSetDictionary(this.strm,P)),D===i.Z_BUF_ERROR&&Y===!0&&(D=i.Z_OK,Y=!1),D!==i.Z_STREAM_END&&D!==i.Z_OK)return this.onEnd(D),this.ended=!0,!1;w.next_out&&(w.avail_out===0||D===i.Z_STREAM_END||w.avail_in===0&&(L===i.Z_FINISH||L===i.Z_SYNC_FLUSH))&&(this.options.to==="string"?(W=t.utf8border(w.output,w.next_out),H=w.next_out-W,ee=t.buf2string(w.output,W),w.next_out=H,w.avail_out=T-H,H&&e.arraySet(w.output,w.output,W,H,0),this.onData(ee)):this.onData(e.shrinkBuf(w.output,w.next_out))),w.avail_in===0&&w.avail_out===0&&(Y=!0)}while((w.avail_in>0||w.avail_out===0)&&D!==i.Z_STREAM_END);return D===i.Z_STREAM_END&&(L=i.Z_FINISH),L===i.Z_FINISH?(D=r.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===i.Z_OK):(L===i.Z_SYNC_FLUSH&&(this.onEnd(i.Z_OK),w.avail_out=0),!0)},d.prototype.onData=function(y){this.chunks.push(y)},d.prototype.onEnd=function(y){y===i.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg};function f(y,b){var w=new d(b);if(w.push(y,!0),w.err)throw w.msg||s[w.err];return w.result}function p(y,b){return b=b||{},b.raw=!0,f(y,b)}return El.Inflate=d,El.inflate=f,El.inflateRaw=p,El.ungzip=f,El}var Pm,eb;function QR(){if(eb)return Pm;eb=1;var r=Qa().assign,e=kR(),t=HR(),i=f2(),s={};return r(s,e,t,i),Pm=s,Pm}var UR=QR();const Yf=wV(UR);var tb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xh=new Uint8Array(256);for(var Bc=0;Bc<tb.length;Bc++)xh[tb.charCodeAt(Bc)]=Bc;var _R=function(r){var e=r.length*.75,t=r.length,i,s=0,n,o,h,d;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var f=new Uint8Array(e);for(i=0;i<t;i+=4)n=xh[r.charCodeAt(i)],o=xh[r.charCodeAt(i+1)],h=xh[r.charCodeAt(i+2)],d=xh[r.charCodeAt(i+3)],f[s++]=n<<2|o>>4,f[s++]=(o&15)<<4|h>>2,f[s++]=(h&3)<<6|d&63;return f},WR=function(r){for(var e="",t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},g2=function(r){return WR(Yf.inflate(_R(r)))},jR=function(r,e,t){for(var i="",s=0,n=e-r.length;s<n;s++)i+=t;return i+r};const GR="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",ZR="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",KR="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",XR="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",YR=JSON.parse('"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"'),JR=JSON.parse('"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"'),$R=JSON.parse('"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"'),eP=JSON.parse('"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"'),tP=JSON.parse('"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"'),iP=JSON.parse('"eJyFnV9TG0myxb8K0U/3RjC7NgZj5o0ZZnYGz5pZGyH3bsyDEA3oImhWfxCajf3ut1Xqyjx5Mkt+cbh/p9RdlZV1qrrVJf5T/dg+PjZPi+r76urvy/nortk7PPpwfLh39P7DyUm1X/3cPi0+jR6brsDl5LGZf/dDO735dTGaTsYbdTmdorq3UfdUHj1Opmss0MFhM7m731xwU7Y73pY+fbqbdqW+e3vUkfnPk9fm5vfJYnxffb+YLZv96sf70Ww0XjSzL83msz+9Lpqnm+bmc/s4euqr+cMP7Wv1/b++O3jzZv+7g7cf9k9O3u+fHLz9Y78adGVn08lT83s7nywm7dPmSl0xFS7vJ+OHp2Y+r74/6vhVM5unYtWbNwd/efPmTXeNT+1iMt605Mf2eT3bNGLvf8b/u/f25MPR/ubf4/Tvyebfkzfp33fp3+O905v2utn7sp4vmsf53q9P43b23M5Gi+bmL3t7p9Pp3ufN2eZ7n5t5M3vp6DaYk/neaG8xG900j6PZw157u/fb5KldrJ+b735puk+d/m1v9HTz13a2N+k+PF9ezyc3k9Fs0sz/0lX3p+4yN5Onuy/j+yZ1QKrFl0X3kdHsJqtdwR9Hz7/0ffL+/cl+9TUfHb4/2K9O5+NNpGed+OHdfnXWyHEX4+P96svi5pdhV/Yg/feq++/bg7fb/vp7s5hNxl1E//Wfavi1+v5gE9lPXU3mz6MukP/d3+J3XcwSbl7H09Gj8KOjoy3/97LtQnU9VeVNf6Kn5eP1pqfunrx2006no5nwD+/ebflzMxtvMj4Lx8cftsLosZPmXXi0ZvkzqQapy732PJo1T9PmtiTZj0n1RvPNGecPqhz3yvN0ORcqMRt3A3XkL3G/fr5vnnzxrimTVltykBs5n47m9742fzaz1tP2qfFwsQpKLu5nTVD2tl3OAjp5CcrOJ68BbF6aoG+bOKZPE6iwhGjcTtsnj+fN48RK0gPTjQ842vx7OZp6fDdrupEcNPPfy2aevEZT8KDve637+/fHW3bq0Q8e/ahpe9Cf7MyX+smjn/0H/+aHwC9+UP7qG3buT/9R0du3W/Sbtjuf6+++Ep88uvDn+t2X+oevxGewjvdb9MWf69Kfa+DPdeVrP/SlvvrT1x790yffdTeZPTQLYxsyRq87zY5T/hx5yrF4yngyGU9m4+Wj77XlxrXn3dQTDJHkb6Yy6lMeXQs6PDzsx1jgv75UcOVb/8E73433PkgTj/7Pn+vBl9IhLGn/6K8YmE5ge8/BqPdDaObR3Ndr4Sux9CF88Um48pV49R9c+0r8qejwg+aXTYSDg9zrMJna8ruycTGZ3hSn+pt2FcTZzM46EyzSQk2T421u/+1mYYg+K59ZR3PH7bSdTQI+bwpnGS9n3TQ+XvsuS8NmPklL18D+t6uWeFjdLSed8tgu4pXDRk4n/oZMoc+JczsJWLB+6lZy4XLgZnR3F01pW45LMVpwbPqumTU3/qPdWmh0Nxs9g6nlj153dxFN0EoN7/VoviPCu9XC+ks6wOrdXUGOzXQ6eZ5P5oHUtXVx3y7NWtFN+ya5tedmo5fABkfj5SJauiQvv502r16jkZXx42g8i5Y717MmuvBNuxiNzYhTadL1JAZAlBmOQ61sc9OFNFqjLp/uRrPl43S0DC7T3nXLzIfgdCNsB/TLo8nZk2xwp7rqOXjf53w7u7ntlnlmXagLFDvH6vrDcrnAhV7gncwJs5vHzueWU7yCnGmkTDzjZjPk5/Ng+poW1uZtoZ5tkPTd6OxuiLush16TlZzrUJ2Ybf7p5G+zRiemsEv1dLbvdG3kaiCTxc3kZXITdFJta6bL5WBoaLXth3SdF3xIJ0gagzJVpzsvGiTQVH9KvZ4ZKIp9GKTmNBr0M9RD0hP0Ab0HcBfRO4bOIeAWxN5iUkOPD4+z2D/0CC5FnqOrQpsH2so4Lp+iCujwKOWotVRd50dn0xup0tmsrUI4vVFqhphmAidH1MWrvfrhSR+waftn83QXXP6zvYTew0WN1OTYOUgCUYcXTyOylrUVga6mturdj4+c9tF9OwtadUFX1zAURsEXcok32WwLYRvQBTRidmozjzfmy7TGmQX1pRSUKJY42Wo2wcfldDF5nq6DelEDNcltd+RE6lZbi8loejO5vfV9tS5bwyd7HU3YXcny08402zHrlKVxoaOfSjZIHQqeEo/NX+lE+PCtWzDgEzi5AZq1D80T3gaJOc6au8ncLnx1iNLKS6djPy7kXmTZjWpzN6LBphWkDMyCobU8lmRcFlLqn2Tahyd55Zqec9mnYNLKnxb3vq4/Fg1wGvnWu7xsWxRMpinOjqVZ8LS0fNiRlYUA/1kaGqVKXZR6pDT1lDx3XrpyeRxf7FyW8IyZ1wXNdBE87lkYk1ZPXLU7HDFY6b3PJhe0xNZIQxWuM3UsUOj1PtWucI6P0Me7BJ51iQxVk2nE3cJ8OMj5OgonpI/hIkPuMGzH6T2MfKkTmWJ5ofFrITV/LY3x32j+y3HoonY/msKztzzIN7cm9Jxb+iJyefFlu2zSVPtGB9I6SILA87Pc31gzxQb13Rr16iic67+E613J4PgWRzKss4noG4+2MOX/WKjEkjL/UOz8ZjKOjPasMKHNdrbmk+0frW5huft5d17vXFqfFs55WjTp+HbgovDs8M9g4tSlSGG6LznFQ9iUN9mrzEpAz7ZzKNgq6PPdnVeatneb/n5qg0dVrTdTSR8v5QzqTlUYyXfhTYM8X4GZXGNeSN+ncB6H7w/dFKGeXxrjPy0330X+sV99bGZPv48ms803yP+qTjdfVVf7370/+mO/P9q6h0HbelrUmzrCv22O3sjR1lUMwoahcNEdHelRrgIgSA7DpasM3Y5/g4zzGKUPmWHbp0MGbQcOon9sjqT1l/YoxwyRab0KA3PWgW/9oND6Qdj6gW/9oNj6QdD6vPAzLNkJkqvu6ETaMOyOuqk4H9bd4bEe5SYBgqorhVcCOnyY8bI7eieFlvlsgEyAgMNVgOYAAaIAgSIBAiYBAtYHSMmLacPKHK3tkcRHEcZnS/tCOF4F0aAVTiNXOQ/frMAYFkQDWXg4mrMKQ1oQZbbwKL1F9DkuEiW68DjbReaUF4FGvXAa+pnD+M/oMkDkBMojO8jqwF+OjUH4rvAFFiFSIXwFsxC5FD5nGyJY78gYDCQjdJHMwEoEkZ8I96aSpchZsgb2Iog8RnhkNCJ6txGJLEd47Dsis/mIwA4kgrWhjF98q1cerQNE1iTc+1NvE+hPgsifhJM/KWd/ygr4kyDyJ+GhP2UV/EkQDTDh0QAT0Q8wkWiACY8HmMg8wEQgfxJO/pQ5+FNGlwEif1Ie+VNWB/5y7E/Cd4Uv8CeRCuEr+JPIpfA5fxLB+lPG4E8ZoT9lBv4kiPxJuPenLEX+lDXwJ0HkT8IjfxLR+5NI5E/CY38Smf1JBPYnEaw/ZfziW73yaB0g8ifh3p8wNGhSlpNTWZHsikT2LCODcVlO7mXF0MJMEfAxy2k0WjEakraEH5dWp8FpxXiE2jI8TK1KVmdF8jsjgukZflniZH8kRh5oigwK9WA3tOI34x/4otV3xb/gkLbMzvg7r7SqNUyjgWsajtZpBPBPy8lEreid1OiRnZoC4KmWk7FaMXJXW8JbrNXJZ60Ym60tw45rVbZdq1rvNdpLIU6rAl+XOPmxFb0pK0FLRkqGjBLZsZHYjEEEK0ZKRoxSaMNQAEwYKVkASpEBoO6HP6o0+FGKhz6W4IGPGtkuSmS6IIHlAr2MKdmtkSKzhQKD8OpstCh9I8qByaJajnLBYLHEjig7c0XNWisoYKxA0VYBg6kiJUtFyRsqqJGdggxmipSsFKXISFH3NooqmShKsYViCTZQ1Ng+UbPmCcpLGJNVSNcxJdNEyVtm33r0S0FklsLJKZWzTWYFPFIQGaTw0B2zCtYoiEas8Gi4iujHqkg0UIXHo1RkHqIikAsKJwvMHPwvo8sAkfMpj2wvqwN/OTY84bvCF1idSIXwFUxO5FL4nL2JYL0tYzC2jNDVMgNLE0R+JtybWZYiJ8sa2Jgg8jDhkYGJ6N1LJLIu4bFvicymJQI7lgjWrjJ+8a1eebQOEFmUcO9Pua5oUMrIoVQgiwKBPUokMCll5FIqhDYlMviUMhppKkRDTVU/1lSjwaZCPNpU5+GmCtmVCuRXIoBhCbuMGFkWCJFniTwIrsmupcLOWAa+pVoplgXnUr0YS+ddqljzEg7uJQztSyD4lzIyMBW8g4kWWZiI4GHKyMRUiFxMVW9jqpGPqRAbmersZKqwlalivUz4S9D+VcDWESM/U8EbWq4YGpoyMjQVyNBAYEMTCQxNGRmaCqGhiQyGpowGoQrRIFTVD0LVaBCqEA9C1XkQqkKGpgIZmghgaMIuI0aGBkJkaCIPgmuyoamwM5aBoalWimXB0FQvxtIZmirW0ISDoQlDQxMIhqaMDE0Fb2iiRYYmIhiaMjI0FSJDU9UbmmpkaCrEhqY6G5oqbGiqWEMT/hK0fxWwjaG9YyYxYQFbvdVm/W+UqANlQmaWMVmZYDayXgAby4RMLOPQwnoRDCwTGnIZRwMua364ZYUGW8bxUMsqD7TMybIyJsPqMdhVTy49IasSHBlVLw7cldikMt4RscCgshJHrGBOWS1EzBlT5taWegqm1BO0pB6BIWVCdpSxN6Neiayol8CIMiEbyjgyoax5C8oKGVDGsf1klc0nc7aezK3x9PTFtXXlyNoTWkFl7NdP/SBAvxFEhiOcHEc5W05WwHMEkekID10nq2A7gmgUCY+GkYh+HIlEA0l4PJJE5qEkArmPcLKfzMF/MroMEDmQ8siCsjrwl2MTEr4rfIENiVQIX8GIRC6Fz1mRCNaLMgYzygjdKDOwI0HkR8K9IWUpcqSsgSUJIk8SHpmSiN6VRCJbEh77kshsTCKwM4lgrSnjF9/qlUfrAJE9CXf+9ENHT7ujgyM5yp8FlL0EkAkpcLgC0BxIQBIkYBIfYH1ogOSBrWiQMlCOcgsAmeoCh+oCzdUFRF0OijQEmDQEWN+QLTkzcT/zcT/zcT8rxP0sjPuZj/tZEPezIO5nLu5nPu5nvRkcSXs2PnAoR7XRamuDZzTue9qbLkZGEIVHOMVIeBQoEX20RKKQCee4icDBE8FGUDCFMfMrHwYIaEa1L8WhFR7EN21itPHNiOObOcc38zC+WQzimyWOb+Yuvllw8c0CxTdjjm/Pr3wYML49qn0pF9/MXXx/7kPbT4Y/Y1iR5ZAiI4NSwTiUYrUoZeBECsGKFIoXKcphAzaSuT4d5aYAyi0BZBoCHNoBNDcDkLQCmDQCWN8GILkJira/cdk16uAkI2pjE3RQkxd/hhU6qIk7CHbdWh50XBN1XBN13EQyNh3lugMy1QQOtQSaKwNI6gJMqqKsldVaOrJru4RMTYC75V6iuSaAaMoFReoILN8GAMr5oKj/EVOTEDMzfmd2tCck9wKA7G1AEs6Ns557Uz33fnpesNLz0EXPvYGeB955HtjmuXPMc2+W5/2gP5T2jGyKneOgBxRk3TkNeqA2687NoAdGWXcOgx5IboEiGfRCrN74NsmIRxS3qQnbZIY7YN/UJmhqEzS1tUe+zm2hgm1YwdbXhAcYKEEdZYAB8rHXASZoaQosfUOWhYYsw4YsfUP4fgyUoCHLINhLk1cfq+2TkHd6ZO8sEwpuKhN395OJ2lvJhMK7yKTQDWRiOfyAcvgV6VD+iIkOKCc6Im8/HynRkUKiA7au9NEkOjBypY99osORr3NbqGAbVrD1NeFEByWooyQ6IGuTH/usPpC4S1YDsrVWjrVWKrVWxLVWRWutTCOrLPu9kLU98rVe+9qZqQ7HBQk0REiNRgsV8QOHCtAYIjUeTlSIRxbJNMhIpfFmVUgPEiijSaUByWqQ+lTEjwIu4EcslaAhQyqPEZJ5SFu5LQo7wxKOeSryrYazE5AamwIV2t12tgpSyTWsuiyNMPYSUiNboSLfGsNsNqTGvkOF2IJIZjci2RqTFddFYWdgvHP9Vm0f7b/9IEdyYwfIrORV2DwveHecj4bmqLZH4nyK0MuEmsfZ268OfusbrIXW/mxrfzbcc9/X2e25dzxqKW5Ip3MPPaoDRPWN9qOTFMUBt2FTcY5ItA27l2xKQHBIoBCxGgXKlrkqXXNYEuqiQM0j9VuNjILpB1T4UQ5seUD1BXq7w8AKopAqj4KZ1St/7qFHdYCo6sLLlY4ClbW1L87BEe6u8Kna3vdvlwXpyK6FEsp3zYCCNVHibiGUqF39JESrmcToO6bEzNdLidilzKc8pE4DRG0RTg0SHrVKRN80kah9wrmRInBLRbDNFUxtxi8bGFGb3ZcNzKM2R182sERt9l82sMBt5i8bGHObzQg/LQrcfqtyFKwaxsIWCSJiC3BcrOqiY2UXIytTpKxI8cpfnJ4GiGIknKIjPIqLiD4iIlEshHMUROD2i2BbLti2+aJv7qEe2Uc2F9hIQMFTnAtqGlD7FOfCNAgYPau5gGYAsc+hLvoZCo7s470LPy+poN8TXfSzkR59NSVro9HXRBdV9A3RBRrtISEKszNa5lHAI6NliULvjZYF7gQ2WsbUHbhWZUQdU1irknrl4zn06Kv/YO1LcbdFy9deMtu5oQMtp160InWlFaP+tCV8p1qdetaK3L1W5T62qu1oq1Fvux+eCDn1+64fnoiKXBV6ZVjgXwvnqQvlOSuKv7/Q67BpFRIDKaUFSpQUKEUpgbpPCFQpHVDiZECNUwE1mwioUBrQZviAUgqUN8P7Aldh5Ich/RqeoQ7LcrcX9oj3at4GCD0uiLpbOPW18KijRfS9LBJ1sXDuXxG4c0WwPSuYuhX3+DKiDi3s8SX1ysdz6NFX/8Hal+Lui7bE9pJ9xoVdyAr1JMvUoSxH/cplfPdyCepllrmzWec+Z912PauUASRflhXKBydHaUGFroo9NiwqX4tnq4uf4cxh2SeQ7JmD1FFGSaMCpYsKUaKo6lNENUoOFTgtVOGEUMWmgnJKArNz1jHq+NLOWZavgugOA/Y1+GwdlONODTeY9lp+ugO9KYg6Uzj1pfCoK0X0PSkSdaRw7kcRuBtFsL0omDoRn+Yxoi4sPM0j9crHc+jRV//B2pfizose8PUS3qQfEqK+czfpzKO+i27SWaK+8zfpLHDf8U06Y+o73LrAiPqusHWB1Csfz6FHX/0Ha1+K+y56038r/d5324cjOcqfBZQ7C5DpJ+BwBaC5dwBJxwCTPgHWdweQ3BOK9JWpdGRzLiGbbgkFmZa4S7JEbX4lRKmVGGVVYiahErG5tEH0nuQGNaaTGtulCdnX4rbIb2pJPOx488U0YLvDJSHavZIYbVzZsM2XzUfSLfINMyBbQeVYQaVSE0W8zUYVraMy2ZukSLYlCeKXEv9R4Y6GdGR3NCQU7GhI3O1oSNTuaEgo3NGQFNrRkBjtaEjM7Gj4XG1fDjnUIzsQEgqyPnGX9YnarE8ofNUrKTQeErPvrCVkk/9z76Hv9CinNSLjnCoMzHkGvr2DQnsHYXsHvr3cS6AE7R3Q+P8MvaRkY/Xb7+E+9y6vR7U9krxThPm1pfmRGfS+IAqJ8CguIvrgiEQREh6HSWSOlQiUIMIpS/AR5jtClC+FR5ikDvy5OX2E74pVkEgiFWJVSCmRS7FyySWCzTB8SksZMvSoDhBlXfRItpfy91yQeoIonMKjcIrowykShVN4HE6ROZwiUOoJp9TLHFJPEKWe8ij1sjrw5+bUE74rVkHqiVSIVSH1RC7FyqWeCDb1cC8VZcjQozpAlHrRXqosudcicyXi1yJjNQxw8bXIuAAHe+drkXEhF/j4tchY5YR17+C8CwVO3l3v4IRlBqVrunS26rdjHqW2LbAz5qU0t4V2x9ynvJUp8d3LSWGWDktCXRR4QBRfTtoW6Lo73dBtV7fpyK7CE8q3Q4CChXnibmGeqF2YJ0TL78T0FkFZ3tauxK7IL/vRrO25sDG4dOMWeBgQGaGAePWtiq6+leUBCEj26wlK2/UO5CjXGpBs11Nkt+spx+16SmW7niLdrqdMt+spy9v1lMh2PUHjdrrd1nWoZHtjqmXsJxrfSrkvRRS30tyXAoX7UigsSadIk05Z0Pj79fN9Y6u02cm3fX0sHdmXzRLS1ziEbe5vTyRL5f4WULD7MnG3+zJRu/syIcpLUGhfZmI5LwHZTZgbJPe32vqZadbMt1723CGyU4II8+Zx4jNnacos/SXoVyGUuxf8EpXXcBTxjgNV9N0cZUF/yu8+CFmZo7U98m3wLyPmaRVd2L3Wxpz8OH6tjUXvzO61Nubs0f61NhasW7vX2oiDb7vbAOaRg0e3ASyRl5duA1hmV3e3AczJ3zMHMxREHiic7F545IYieuMXidxfOE8BIrAVimAnA8E0I2ROg1uxmRsyDk7As4RwmiqU74hQMGmo5GcO0Wj6EM5ziAil6PFskjlMKYLIMoSzGWUBZhhBNM0Ij+YaEf2EIxLNOsLjqUdknn9EoElIOM1EmfN0lPnMR4MnJuE0OymPpqisBvNUlpa+NM9YwqNpS8TyfMATmPB4FhOZpzIRSilEk1rGK4/WASq0Opro3LvMeTaI32WOVZ76drzLHBcJpsH4XeZYdVNi4V3mWKbpMX6XOVRxqowfWMRqOG0WH1jEBXgK3fnAIi7kptP4gUWs8tRqVJxRrMCTiFV5srVqOKHYIsHEawvw9GtVNwlb2U0mVqYJ2Yo8LRuVHY1EO0XbnaNFYWek3aRN6jcjHU3gVCCYxm0Jnsyt6qZ0K+/uCze9GxUneSuwc1rVubXdqgrTpBV48rdquASwRYKFgC3AywGrFhYFtpBbGliZFwhW5WWCUd1iwaizUjzdwsGqvHwgNVxEmDLRUsIUWJY+6ZYVVg0XF7bIt2Zit9CwamG5YQu5RYeVdyczL0CMuCoJ66KwM2J+YTLoVyOHR3Ikz6MVyRshiuxzaeX4MFqpPIFWpE+UleljZGX52bESeYS/RWaXCiFqi9+lQjxqVbhLhSRqX7BLhQRuqdulQpja7Hd3RJxaX9jdEYlRHMq7OyKdIlLa3RGpHJt4d0ekUZR4o4OnFKFwo4OXouiUNjp4lSITb3TwGkcl2ujgFYqI2QVAiGLhdwEQj6IQ7gIgidof7AIggVvudgEQpjZHb8/HCkWg+PZ8LEfx2PX2fFyColN+ez7WOValt+djlSJnXxtnRtEKXhtnIYpQ/No4axSV6LVxVjgS/rVx5tR6+bsMpxGj1qtArVchar2qvvWqUetV4Narwq1XxbZeObW+/5H4U0+o5RlTuzOOWp013+asUIsz5vZmzq3N3LY1U9vSq76VH/TIvtV7ha0DFLzVe0WtAmrf6r0yrQFGb/VeQSuA2Ld6N2jzo/rbVxvTkf5oqyC7UFdBfyMrHdmN4gkFe8ETd9vAE7U7wBMKf+wqKbQtPDH7s1YJ2U3fG5Te/337Vg7lORAwCQIw+0QIBHwOBFie/gDTxzkA9ZVTgPmdU0DyOEeZvTfaEvOG8wbRZ5qgwfpLsMgKDcbnCsdA8YdgobT84qki/V1TZVEU5BHBsfTe5rnAkeTuxD70TIgeJW5Ya0/bBhFoS61t4+5tg+7lm3iUop6XG3ZkQS/zi9Mb5u+MN3Rpmr300VkGT3oTd493E7XPdBMKXwxPCj3iTSzojKV5mDvsPXTbhiF6KKA8HgHZn91VjsmpVJJQkSahMqkusL66QOT3dgWlp8zSHn20rMiml3LMLqWSXIo4t1TR1FImmaVIEkvQSOaBIRohIDt3DZ0NAndz1xBNEBDNXUNjgcDM3DVEA1SUR8ARkK3/ad+kZ15v5Ege9CmSB62AzAM/5W6Dx5CtDwrbDR5D43zA9DGpMDE+LaYPRIeVewo6rPyjz2FvfB/kFOJ7gGx3KsfuVCrdqYjyEhTtaGU5LwFJrwoSv9NORLvTzl7aI2t3w4LdDUO7G3q7GxbtbhjY3TCwu2Fod2t75Gu9drWrjUvW3iVr75J1wSXr0CVr75J14JJ14JK1c8nau2Tdu+SBtEdcElDwa5g1uSRQ+7uXdeCSoNAvXNbokoDsb1nWFX5RVlfu27G6cl+J1c4lgbsvv+rKfeNVV/5rrrry323VFX+hVVfuW6waXBIJfl9VV2aRWFd+kVhXfpFYO6M8Vu7WiDUbJZ7FrhHryq8R6ypYI9aV+xqprnCNWFdujVhXfo1YV2aNWFd+jVg7s0TBrxHryq8R68AvUeI1Yl35NWJd+TVi7T2zJs/U4CztkU/nZSF3l2HuLn3usmeCEmT1Msjqpc1qfEzfN889pmdOXhg/pmfRu6J7TM+c/dE/pmfBOqV7TE8cPNNtNmMeuWe02Ywl8tHSZjOW2VHdZjPm5K2Zj3xPs8sKJ6sVHuWsiD5xRaLsFc6JKgJnqwhxyrIbZ07jUrHx5YxxrAtjgxKBbVqFwKtF9IatUuDaIpJ1C2f/FsGZeFbYyTMHOxdEni6cjT0LbXA9Z/EihD4vamD2orHji1CwfdGd94vCE4AIPAtkgaeCzIP5IEvLABWGYDg9iFgeajxRCI9nC5FLI9HNGyLYkUjf5PUxib7JCySaRYrf5AW6n0uib/ICiWeU8Ju8QLPzSvRNnpdgdkFKEwxK0RyDup9mUKWZBqV4ssESPN+gRlMOSjTrgDQKs4TnHpRo+kEpGhao+5GBKg0OlHgAoMZjALXiMOA5CSSyB6OYmQkUtCDE7K6o8RRltGCWQt1PVEYN5irUabpCiWcs1NykBSLPWyDB1IWUZi+UeAIDrY0v76Yx1MKZDAsEkxnKPJ+hVpjSsIib1VDkiQ01nttA4+kNpGCGA3UZ0/JwD6c61HeOaZ7wUIrnPCyxY9S7mQ81M+qvO3Jd5a/srjF4h4L0D3RcYzgABX+K45qaD9T+0Y3roLmg0J/XuDbNA2b+kMZ4M+ikWZujB3sUfWE5lmWmRw8BCs8hW1M8eghQfI78183NWQQ+hDA809aStz/4f3M9zb/5v33B06hWakxaZKNGlFuACF+XAg7Jh1RtGHF+0QaQvEQBTF4tUHZb8R+825DuMtNmPk/PxgU2pgj84UtB9m9WCqbf/tmw2yq/Pn+bHVi01p+Z/Fa5/V2i28g+VRFjVKR/tTQj+gt0t9TV2+njoQ/HNjgPGA5A9hcKHtwkDNx9cf/A8QRsv89/MHMsMPod9wcT6Acf6IdCoB94PlNqw/9QDP+DnbSU2S558F1iRygGvfDOf6xSV+x65z8u4jtoxzv/cQnqttI7/7HMnenfvw/jxV286/37uIjv+ML797Eap0Pp/ftYpiQpvH+/VTeO9yLz8FP2YEDZgxGZM4KQf3lQUdsfbb/t3Rxt3gg/kCMN5OZobY9sZyTkwttilfurZASXyujVf3AdILqycH95Mx9BHQyHihj+WjjPusSpXlb0lYNJEaoGFCoG9DU8wzqmVCWUfIXyxAu1yQiqktGr/+A6QFQD4f7y9LYo1IIUqAwpr8WzrcsK1ZBlX1FZjUAVhUHlhL0Gn11HjKqigq9E/g1YqENGUIWMXv0H1wGi60d/5qmX0Ez6y2cEl8/o1X9wHSC6vHB3+byuKSxrrWy1hKbN7SLL2//3N4r4gepG2mbxePtH7yPNXDA45Sz+mGyRijR5DhJpdsnvS8zjeszt80yr5QuGWr7diFVTnajE82hcuKxugLI42gFmSmgKdtGV9f97IbII7hF/j0KYi/MvLBB2xcM9n6FIH+1js/37SseG2Bd5BMtfV7I42LcmGi79rGJ3qgmm3WfC6UUi4Wa/mVB5w9bgzW9zbd/azGToSO2J5K7F+MwvKS/QAdsLv/Sr7m26vOBSG5AdcC9uUQ3cvZn3wstnwPaFvRezUAamd5jCWnvk69wWKtiGFWx9TdzaVpWgjq19dfDFLF0FSX5vg9/NC5Xemacja/gJ2VfLEwoW9om7aSFRu4RPiJbkidF9fGLmN3wTsevxlUuoVYWPElaVe5SwMgkFKG5TE7YpeBaxMgmlKGgqP7JYmYRa+YRaFRJqFSbUyifUqphQqyChVj6hVj6hVj6hXk3wX33wX33wXwvBfw2D/xoH/9UH/zUI/msQ/LVLobVv2JqnKMJcPPgKxiv4oT/++/9jjgIE"'),sP=JSON.parse('"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"'),rP=JSON.parse('"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"'),nP="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",aP="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var oP={Courier:XR,"Courier-Bold":GR,"Courier-Oblique":KR,"Courier-BoldOblique":ZR,Helvetica:eP,"Helvetica-Bold":YR,"Helvetica-Oblique":$R,"Helvetica-BoldOblique":JR,"Times-Roman":rP,"Times-Bold":tP,"Times-Italic":sP,"Times-BoldItalic":iP,Symbol:nP,ZapfDingbats:aP},Bh;(function(r){r.Courier="Courier",r.CourierBold="Courier-Bold",r.CourierOblique="Courier-Oblique",r.CourierBoldOblique="Courier-BoldOblique",r.Helvetica="Helvetica",r.HelveticaBold="Helvetica-Bold",r.HelveticaOblique="Helvetica-Oblique",r.HelveticaBoldOblique="Helvetica-BoldOblique",r.TimesRoman="Times-Roman",r.TimesRomanBold="Times-Bold",r.TimesRomanItalic="Times-Italic",r.TimesRomanBoldItalic="Times-BoldItalic",r.Symbol="Symbol",r.ZapfDingbats="ZapfDingbats"})(Bh||(Bh={}));var ib={},lP=function(){function r(){var e=this;this.getWidthOfGlyph=function(t){return e.CharWidths[t]},this.getXAxisKerningForPair=function(t,i){return(e.KernPairXAmounts[t]||{})[i]}}return r.load=function(e){var t=ib[e];if(t)return t;var i=g2(oP[e]),s=Object.assign(new r,JSON.parse(i));return s.CharWidths=s.CharMetrics.reduce(function(n,o){return n[o.N]=o.WX,n},{}),s.KernPairXAmounts=s.KernPairs.reduce(function(n,o){var h=o[0],d=o[1],f=o[2];return n[h]||(n[h]={}),n[h][d]=f,n},{}),ib[e]=s,s},r}();const uP="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";var hP=g2(uP),Im=JSON.parse(hP),Am=function(){function r(e,t){var i=this;this.canEncodeUnicodeCodePoint=function(s){return s in i.unicodeMappings},this.encodeUnicodeCodePoint=function(s){var n=i.unicodeMappings[s];if(!n){var o=String.fromCharCode(s),h="0x"+jR(s.toString(16),4,"0"),d=i.name+' cannot encode "'+o+'" ('+h+")";throw new Error(d)}return{code:n[0],name:n[1]}},this.name=e,this.supportedCodePoints=Object.keys(t).map(Number).sort(function(s,n){return s-n}),this.unicodeMappings=t}return r}(),zc={Symbol:new Am("Symbol",Im.symbol),ZapfDingbats:new Am("ZapfDingbats",Im.zapfdingbats),WinAnsi:new Am("WinAnsi",Im.win1252)},Jf=function(r){return Object.keys(r).map(function(e){return r[e]})},dP=Jf(Bh),sb=function(r){return dP.includes(r)},Hc=function(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height},is=function(r){return"`"+r+"`"},cP=function(r){return"'"+r+"'"},rb=function(r){var e=typeof r;return e==="string"?cP(r):e==="undefined"?is(r):r},fP=function(r,e,t){for(var i=new Array(t.length),s=0,n=t.length;s<n;s++){var o=t[s];i[s]=rb(o)}var h=i.join(" or ");return is(e)+" must be one of "+h+", but was actually "+rb(r)},Da=function(r,e,t){Array.isArray(t)||(t=Jf(t));for(var i=0,s=t.length;i<s;i++)if(r===t[i])return;throw new TypeError(fP(r,e,t))},br=function(r,e,t){Array.isArray(t)||(t=Jf(t)),Da(r,e,t.concat(void 0))},gP=function(r,e,t){Array.isArray(t)||(t=Jf(t));for(var i=0,s=r.length;i<s;i++)Da(r[i],e,t)},pP=function(r){return r===null?"null":r===void 0?"undefined":typeof r=="string"?"string":isNaN(r)?"NaN":typeof r=="number"?"number":typeof r=="boolean"?"boolean":typeof r=="symbol"?"symbol":typeof r=="bigint"?"bigint":r.constructor&&r.constructor.name?r.constructor.name:r.name?r.name:r.constructor?String(r.constructor):String(r)},mP=function(r,e){return e==="null"?r===null:e==="undefined"?r===void 0:e==="string"?typeof r=="string":e==="number"?typeof r=="number"&&!isNaN(r):e==="boolean"?typeof r=="boolean":e==="symbol"?typeof r=="symbol":e==="bigint"?typeof r=="bigint":e===Date?r instanceof Date:e===Array?r instanceof Array:e===Uint8Array?r instanceof Uint8Array:e===ArrayBuffer?r instanceof ArrayBuffer:e===Function?r instanceof Function:r instanceof e[0]},vP=function(r,e,t){for(var i=new Array(t.length),s=0,n=t.length;s<n;s++){var o=t[s];o==="null"&&(i[s]=is("null")),o==="undefined"&&(i[s]=is("undefined")),o==="string"?i[s]=is("string"):o==="number"?i[s]=is("number"):o==="boolean"?i[s]=is("boolean"):o==="symbol"?i[s]=is("symbol"):o==="bigint"?i[s]=is("bigint"):o===Array?i[s]=is("Array"):o===Uint8Array?i[s]=is("Uint8Array"):o===ArrayBuffer?i[s]=is("ArrayBuffer"):i[s]=is(o[1])}var h=i.join(" or ");return is(e)+" must be of type "+h+", but was actually of type "+is(pP(r))},te=function(r,e,t){for(var i=0,s=t.length;i<s;i++)if(mP(r,t[i]))return;throw new TypeError(vP(r,e,t))},Le=function(r,e,t){te(r,e,t.concat("undefined"))},p2=function(r,e,t){for(var i=0,s=r.length;i<s;i++)te(r[i],e,t)},sr=function(r,e,t,i){if(te(r,e,["number"]),te(t,"min",["number"]),te(i,"max",["number"]),i=Math.max(t,i),r<t||r>i)throw new Error(is(e)+" must be at least "+t+" and at most "+i+", but was actually "+r)},Ur=function(r,e,t,i){te(r,e,["number","undefined"]),typeof r=="number"&&sr(r,e,t,i)},m2=function(r,e,t){if(te(r,e,["number"]),r%t!==0)throw new Error(is(e)+" must be a multiple of "+t+", but was actually "+r)},yP=function(r,e){if(!Number.isInteger(r))throw new Error(is(e)+" must be an integer, but was actually "+r)},$f=function(r,e){if(![1,0].includes(Math.sign(r)))throw new Error(is(e)+" must be a positive number or 0, but was actually "+r)},bt=new Uint16Array(256);for(var Qc=0;Qc<256;Qc++)bt[Qc]=Qc;bt[22]=yt("");bt[24]=yt("˘");bt[25]=yt("ˇ");bt[26]=yt("ˆ");bt[27]=yt("˙");bt[28]=yt("˝");bt[29]=yt("˛");bt[30]=yt("˚");bt[31]=yt("˜");bt[127]=yt("�");bt[128]=yt("•");bt[129]=yt("†");bt[130]=yt("‡");bt[131]=yt("…");bt[132]=yt("—");bt[133]=yt("–");bt[134]=yt("ƒ");bt[135]=yt("⁄");bt[136]=yt("‹");bt[137]=yt("›");bt[138]=yt("−");bt[139]=yt("‰");bt[140]=yt("„");bt[141]=yt("“");bt[142]=yt("”");bt[143]=yt("‘");bt[144]=yt("’");bt[145]=yt("‚");bt[146]=yt("™");bt[147]=yt("ﬁ");bt[148]=yt("ﬂ");bt[149]=yt("Ł");bt[150]=yt("Œ");bt[151]=yt("Š");bt[152]=yt("Ÿ");bt[153]=yt("Ž");bt[154]=yt("ı");bt[155]=yt("ł");bt[156]=yt("œ");bt[157]=yt("š");bt[158]=yt("ž");bt[159]=yt("�");bt[160]=yt("€");bt[173]=yt("�");var v2=function(r){for(var e=new Array(r.length),t=0,i=r.length;t<i;t++)e[t]=bt[r[t]];return String.fromCodePoint.apply(String,e)},zn=function(){function r(e){this.populate=e,this.value=void 0}return r.prototype.getValue=function(){return this.value},r.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},r.prototype.invalidate=function(){this.value=void 0},r.populatedBy=function(e){return new r(e)},r}(),Rr=function(r){Oe(e,r);function e(t,i){var s=this,n="Method "+t+"."+i+"() not implemented";return s=r.call(this,n)||this,s}return e}(Error),kv=function(r){Oe(e,r);function e(t){var i=this,s="Cannot construct "+t+" - it has a private constructor";return i=r.call(this,s)||this,i}return e}(Error),vf=function(r){Oe(e,r);function e(t,i){var s=this,n=function(d){var f,p;return(f=d?.name)!==null&&f!==void 0?f:(p=d?.constructor)===null||p===void 0?void 0:p.name},o=Array.isArray(t)?t.map(n):[n(t)],h="Expected instance of "+o.join(" or ")+", "+("but got instance of "+(i&&n(i)));return s=r.call(this,h)||this,s}return e}(Error),CP=function(r){Oe(e,r);function e(t){var i=this,s=t+" stream encoding not supported";return i=r.call(this,s)||this,i}return e}(Error),qv=function(r){Oe(e,r);function e(t,i){var s=this,n="Cannot call "+t+"."+i+"() more than once";return s=r.call(this,n)||this,s}return e}(Error);(function(r){Oe(e,r);function e(t){var i=this,s="Missing catalog (ref="+t+")";return i=r.call(this,s)||this,i}return e})(Error);var bP=function(r){Oe(e,r);function e(){var t=this,i="Can't embed page with missing Contents";return t=r.call(this,i)||this,t}return e}(Error),wP=function(r){Oe(e,r);function e(t){var i,s,n,o=this,h=(n=(s=(i=t?.contructor)===null||i===void 0?void 0:i.name)!==null&&s!==void 0?s:t?.name)!==null&&n!==void 0?n:t,d="Unrecognized stream type: "+h;return o=r.call(this,d)||this,o}return e}(Error),xP=function(r){Oe(e,r);function e(){var t=this,i="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return t=r.call(this,i)||this,t}return e}(Error),VP=function(r){Oe(e,r);function e(t){var i=this,s="Attempted to convert PDFArray with "+t+" elements to rectangle, but must have exactly 4 elements.";return i=r.call(this,s)||this,i}return e}(Error),y2=function(r){Oe(e,r);function e(t){var i=this,s='Attempted to convert "'+t+'" to a date, but it does not match the PDF date string format.';return i=r.call(this,s)||this,i}return e}(Error),nb=function(r){Oe(e,r);function e(t,i){var s=this,n="Invalid targetIndex specified: targetIndex="+t+" must be less than Count="+i;return s=r.call(this,n)||this,s}return e}(Error),ab=function(r){Oe(e,r);function e(t,i){var s=this,n="Failed to "+i+" at targetIndex="+t+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return s=r.call(this,n)||this,s}return e}(Error),yf=function(r){Oe(e,r);function e(t,i,s){var n=this,o="index should be at least "+i+" and at most "+s+", but was actually "+t;return n=r.call(this,o)||this,n}return e}(Error),Fv=function(r){Oe(e,r);function e(){var t=this,i="Attempted to set invalid field value";return t=r.call(this,i)||this,t}return e}(Error),SP=function(r){Oe(e,r);function e(){var t=this,i="Attempted to select multiple values for single-select field";return t=r.call(this,i)||this,t}return e}(Error),EP=function(r){Oe(e,r);function e(t){var i=this,s="No /DA (default appearance) entry found for field: "+t;return i=r.call(this,s)||this,i}return e}(Error),TP=function(r){Oe(e,r);function e(t){var i=this,s="No Tf operator found for DA of field: "+t;return i=r.call(this,s)||this,i}return e}(Error),ob=function(r){Oe(e,r);function e(t,i){var s=this,n="Failed to parse number "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+'): "'+i+'"');return s=r.call(this,n)||this,s}return e}(Error),Ua=function(r){Oe(e,r);function e(t,i){var s=this,n="Failed to parse PDF document "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+"): "+i);return s=r.call(this,n)||this,s}return e}(Error),RP=function(r){Oe(e,r);function e(t,i,s){var n=this,o="Expected next byte to be "+i+" but it was actually "+s;return n=r.call(this,t,o)||this,n}return e}(Ua),PP=function(r){Oe(e,r);function e(t,i){var s=this,n="Failed to parse PDF object starting with the following byte: "+i;return s=r.call(this,t,n)||this,s}return e}(Ua),IP=function(r){Oe(e,r);function e(t){var i=this,s="Failed to parse invalid PDF object";return i=r.call(this,t,s)||this,i}return e}(Ua),AP=function(r){Oe(e,r);function e(t){var i=this,s="Failed to parse PDF stream";return i=r.call(this,t,s)||this,i}return e}(Ua),DP=function(r){Oe(e,r);function e(t){var i=this,s="Failed to parse PDF literal string due to unbalanced parenthesis";return i=r.call(this,t,s)||this,i}return e}(Ua),LP=function(r){Oe(e,r);function e(t){var i=this,s="Parser stalled";return i=r.call(this,t,s)||this,i}return e}(Ua),OP=function(r){Oe(e,r);function e(t){var i=this,s="No PDF header found";return i=r.call(this,t,s)||this,i}return e}(Ua),MP=function(r){Oe(e,r);function e(t,i){var s=this,n="Did not find expected keyword '"+i2(i)+"'";return s=r.call(this,t,n)||this,s}return e}(Ua),Zm;(function(r){r[r.Null=0]="Null",r[r.Backspace=8]="Backspace",r[r.Tab=9]="Tab",r[r.Newline=10]="Newline",r[r.FormFeed=12]="FormFeed",r[r.CarriageReturn=13]="CarriageReturn",r[r.Space=32]="Space",r[r.ExclamationPoint=33]="ExclamationPoint",r[r.Hash=35]="Hash",r[r.Percent=37]="Percent",r[r.LeftParen=40]="LeftParen",r[r.RightParen=41]="RightParen",r[r.Plus=43]="Plus",r[r.Minus=45]="Minus",r[r.Dash=45]="Dash",r[r.Period=46]="Period",r[r.ForwardSlash=47]="ForwardSlash",r[r.Zero=48]="Zero",r[r.One=49]="One",r[r.Two=50]="Two",r[r.Three=51]="Three",r[r.Four=52]="Four",r[r.Five=53]="Five",r[r.Six=54]="Six",r[r.Seven=55]="Seven",r[r.Eight=56]="Eight",r[r.Nine=57]="Nine",r[r.LessThan=60]="LessThan",r[r.GreaterThan=62]="GreaterThan",r[r.A=65]="A",r[r.D=68]="D",r[r.E=69]="E",r[r.F=70]="F",r[r.O=79]="O",r[r.P=80]="P",r[r.R=82]="R",r[r.LeftSquareBracket=91]="LeftSquareBracket",r[r.BackSlash=92]="BackSlash",r[r.RightSquareBracket=93]="RightSquareBracket",r[r.a=97]="a",r[r.b=98]="b",r[r.d=100]="d",r[r.e=101]="e",r[r.f=102]="f",r[r.i=105]="i",r[r.j=106]="j",r[r.l=108]="l",r[r.m=109]="m",r[r.n=110]="n",r[r.o=111]="o",r[r.r=114]="r",r[r.s=115]="s",r[r.t=116]="t",r[r.u=117]="u",r[r.x=120]="x",r[r.LeftCurly=123]="LeftCurly",r[r.RightCurly=125]="RightCurly",r[r.Tilde=126]="Tilde"})(Zm||(Zm={}));const F=Zm;var eg=function(){function r(e,t){this.major=String(e),this.minor=String(t)}return r.prototype.toString=function(){var e=Bn(129);return"%PDF-"+this.major+"."+this.minor+`
%`+e+e+e+e},r.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},r.prototype.copyBytesInto=function(e,t){var i=t;return e[t++]=F.Percent,e[t++]=F.P,e[t++]=F.D,e[t++]=F.F,e[t++]=F.Dash,t+=xs(this.major,e,t),e[t++]=F.Period,t+=xs(this.minor,e,t),e[t++]=F.Newline,e[t++]=F.Percent,e[t++]=129,e[t++]=129,e[t++]=129,e[t++]=129,t-i},r.forVersion=function(e,t){return new r(e,t)},r}(),Bs=function(){function r(){}return r.prototype.clone=function(e){throw new Rr(this.constructor.name,"clone")},r.prototype.toString=function(){throw new Rr(this.constructor.name,"toString")},r.prototype.sizeInBytes=function(){throw new Rr(this.constructor.name,"sizeInBytes")},r.prototype.copyBytesInto=function(e,t){throw new Rr(this.constructor.name,"copyBytesInto")},r}(),mt=function(r){Oe(e,r);function e(t){var i=r.call(this)||this;return i.numberValue=t,i.stringValue=OR(t),i}return e.prototype.asNumber=function(){return this.numberValue},e.prototype.value=function(){return this.numberValue},e.prototype.clone=function(){return e.of(this.numberValue)},e.prototype.toString=function(){return this.stringValue},e.prototype.sizeInBytes=function(){return this.stringValue.length},e.prototype.copyBytesInto=function(t,i){return i+=xs(this.stringValue,t,i),this.stringValue.length},e.of=function(t){return new e(t)},e}(Bs),Yt=function(r){Oe(e,r);function e(t){var i=r.call(this)||this;return i.array=[],i.context=t,i}return e.prototype.size=function(){return this.array.length},e.prototype.push=function(t){this.array.push(t)},e.prototype.insert=function(t,i){this.array.splice(t,0,i)},e.prototype.indexOf=function(t){var i=this.array.indexOf(t);return i===-1?void 0:i},e.prototype.remove=function(t){this.array.splice(t,1)},e.prototype.set=function(t,i){this.array[t]=i},e.prototype.get=function(t){return this.array[t]},e.prototype.lookupMaybe=function(t){for(var i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return(i=this.context).lookupMaybe.apply(i,_t([this.get(t)],s))},e.prototype.lookup=function(t){for(var i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return(i=this.context).lookup.apply(i,_t([this.get(t)],s))},e.prototype.asRectangle=function(){if(this.size()!==4)throw new VP(this.size());var t=this.lookup(0,mt).asNumber(),i=this.lookup(1,mt).asNumber(),s=this.lookup(2,mt).asNumber(),n=this.lookup(3,mt).asNumber(),o=t,h=i,d=s-t,f=n-i;return{x:o,y:h,width:d,height:f}},e.prototype.asArray=function(){return this.array.slice()},e.prototype.clone=function(t){for(var i=e.withContext(t||this.context),s=0,n=this.size();s<n;s++)i.push(this.array[s]);return i},e.prototype.toString=function(){for(var t="[ ",i=0,s=this.size();i<s;i++)t+=this.get(i).toString(),t+=" ";return t+="]",t},e.prototype.sizeInBytes=function(){for(var t=3,i=0,s=this.size();i<s;i++)t+=this.get(i).sizeInBytes()+1;return t},e.prototype.copyBytesInto=function(t,i){var s=i;t[i++]=F.LeftSquareBracket,t[i++]=F.Space;for(var n=0,o=this.size();n<o;n++)i+=this.get(n).copyBytesInto(t,i),t[i++]=F.Space;return t[i++]=F.RightSquareBracket,i-s},e.prototype.scalePDFNumbers=function(t,i){for(var s=0,n=this.size();s<n;s++){var o=this.lookup(s);if(o instanceof mt){var h=s%2===0?t:i;this.set(s,mt.of(o.asNumber()*h))}}},e.withContext=function(t){return new e(t)},e}(Bs),Dm={},zh=function(r){Oe(e,r);function e(t,i){var s=this;if(t!==Dm)throw new kv("PDFBool");return s=r.call(this)||this,s.value=i,s}return e.prototype.asBoolean=function(){return this.value},e.prototype.clone=function(){return this},e.prototype.toString=function(){return String(this.value)},e.prototype.sizeInBytes=function(){return this.value?4:5},e.prototype.copyBytesInto=function(t,i){return this.value?(t[i++]=F.t,t[i++]=F.r,t[i++]=F.u,t[i++]=F.e,4):(t[i++]=F.f,t[i++]=F.a,t[i++]=F.l,t[i++]=F.s,t[i++]=F.e,5)},e.True=new e(Dm,!0),e.False=new e(Dm,!1),e}(Bs),Or=new Uint8Array(256);Or[F.LeftParen]=1;Or[F.RightParen]=1;Or[F.LessThan]=1;Or[F.GreaterThan]=1;Or[F.LeftSquareBracket]=1;Or[F.RightSquareBracket]=1;Or[F.LeftCurly]=1;Or[F.RightCurly]=1;Or[F.ForwardSlash]=1;Or[F.Percent]=1;var Gn=new Uint8Array(256);Gn[F.Null]=1;Gn[F.Tab]=1;Gn[F.Newline]=1;Gn[F.FormFeed]=1;Gn[F.CarriageReturn]=1;Gn[F.Space]=1;var Bv=new Uint8Array(256);for(var mh=0,NP=256;mh<NP;mh++)Bv[mh]=Gn[mh]||Or[mh]?1:0;Bv[F.Hash]=1;var kP=function(r){return r.replace(/#([\dABCDEF]{2})/g,function(e,t){return fR(t)})},qP=function(r){return r>=F.ExclamationPoint&&r<=F.Tilde&&!Bv[r]},lb={},ub=new Map,q=function(r){Oe(e,r);function e(t,i){var s=this;if(t!==lb)throw new kv("PDFName");s=r.call(this)||this;for(var n="/",o=0,h=i.length;o<h;o++){var d=i[o],f=yt(d);n+=qP(f)?d:"#"+Xf(f)}return s.encodedName=n,s}return e.prototype.asBytes=function(){for(var t=[],i="",s=!1,n=function(y){y!==void 0&&t.push(y),s=!1},o=1,h=this.encodedName.length;o<h;o++){var d=this.encodedName[o],f=yt(d),p=this.encodedName[o+1];s?f>=F.Zero&&f<=F.Nine||f>=F.a&&f<=F.f||f>=F.A&&f<=F.F?(i+=d,(i.length===2||!(p>="0"&&p<="9"||p>="a"&&p<="f"||p>="A"&&p<="F"))&&(n(parseInt(i,16)),i="")):n(f):f===F.Hash?s=!0:n(f)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return String.fromCharCode.apply(String,Array.from(t))},e.prototype.asString=function(){return this.encodedName},e.prototype.value=function(){return this.encodedName},e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.encodedName},e.prototype.sizeInBytes=function(){return this.encodedName.length},e.prototype.copyBytesInto=function(t,i){return i+=xs(this.encodedName,t,i),this.encodedName.length},e.of=function(t){var i=kP(t),s=ub.get(i);return s||(s=new e(lb,i),ub.set(i,s)),s},e.Length=e.of("Length"),e.FlateDecode=e.of("FlateDecode"),e.Resources=e.of("Resources"),e.Font=e.of("Font"),e.XObject=e.of("XObject"),e.ExtGState=e.of("ExtGState"),e.Contents=e.of("Contents"),e.Type=e.of("Type"),e.Parent=e.of("Parent"),e.MediaBox=e.of("MediaBox"),e.Page=e.of("Page"),e.Annots=e.of("Annots"),e.TrimBox=e.of("TrimBox"),e.ArtBox=e.of("ArtBox"),e.BleedBox=e.of("BleedBox"),e.CropBox=e.of("CropBox"),e.Rotate=e.of("Rotate"),e.Title=e.of("Title"),e.Author=e.of("Author"),e.Subject=e.of("Subject"),e.Creator=e.of("Creator"),e.Keywords=e.of("Keywords"),e.Producer=e.of("Producer"),e.CreationDate=e.of("CreationDate"),e.ModDate=e.of("ModDate"),e}(Bs),FP=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.asNull=function(){return null},e.prototype.clone=function(){return this},e.prototype.toString=function(){return"null"},e.prototype.sizeInBytes=function(){return 4},e.prototype.copyBytesInto=function(t,i){return t[i++]=F.n,t[i++]=F.u,t[i++]=F.l,t[i++]=F.l,4},e}(Bs);const Ws=new FP;var xt=function(r){Oe(e,r);function e(t,i){var s=r.call(this)||this;return s.dict=t,s.context=i,s}return e.prototype.keys=function(){return Array.from(this.dict.keys())},e.prototype.values=function(){return Array.from(this.dict.values())},e.prototype.entries=function(){return Array.from(this.dict.entries())},e.prototype.set=function(t,i){this.dict.set(t,i)},e.prototype.get=function(t,i){i===void 0&&(i=!1);var s=this.dict.get(t);if(!(s===Ws&&!i))return s},e.prototype.has=function(t){var i=this.dict.get(t);return i!==void 0&&i!==Ws},e.prototype.lookupMaybe=function(t){for(var i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];var o=s.includes(Ws),h=(i=this.context).lookupMaybe.apply(i,_t([this.get(t,o)],s));if(!(h===Ws&&!o))return h},e.prototype.lookup=function(t){for(var i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];var o=s.includes(Ws),h=(i=this.context).lookup.apply(i,_t([this.get(t,o)],s));if(!(h===Ws&&!o))return h},e.prototype.delete=function(t){return this.dict.delete(t)},e.prototype.asMap=function(){return new Map(this.dict)},e.prototype.uniqueKey=function(t){t===void 0&&(t="");for(var i=this.keys(),s=q.of(this.context.addRandomSuffix(t,10));i.includes(s);)s=q.of(this.context.addRandomSuffix(t,10));return s},e.prototype.clone=function(t){for(var i=e.withContext(t||this.context),s=this.entries(),n=0,o=s.length;n<o;n++){var h=s[n],d=h[0],f=h[1];i.set(d,f)}return i},e.prototype.toString=function(){for(var t=`<<
`,i=this.entries(),s=0,n=i.length;s<n;s++){var o=i[s],h=o[0],d=o[1];t+=h.toString()+" "+d.toString()+`
`}return t+=">>",t},e.prototype.sizeInBytes=function(){for(var t=5,i=this.entries(),s=0,n=i.length;s<n;s++){var o=i[s],h=o[0],d=o[1];t+=h.sizeInBytes()+d.sizeInBytes()+2}return t},e.prototype.copyBytesInto=function(t,i){var s=i;t[i++]=F.LessThan,t[i++]=F.LessThan,t[i++]=F.Newline;for(var n=this.entries(),o=0,h=n.length;o<h;o++){var d=n[o],f=d[0],p=d[1];i+=f.copyBytesInto(t,i),t[i++]=F.Space,i+=p.copyBytesInto(t,i),t[i++]=F.Newline}return t[i++]=F.GreaterThan,t[i++]=F.GreaterThan,i-s},e.withContext=function(t){return new e(new Map,t)},e.fromMapWithContext=function(t,i){return new e(t,i)},e}(Bs),nr=function(r){Oe(e,r);function e(t){var i=r.call(this)||this;return i.dict=t,i}return e.prototype.clone=function(t){throw new Rr(this.constructor.name,"clone")},e.prototype.getContentsString=function(){throw new Rr(this.constructor.name,"getContentsString")},e.prototype.getContents=function(){throw new Rr(this.constructor.name,"getContents")},e.prototype.getContentsSize=function(){throw new Rr(this.constructor.name,"getContentsSize")},e.prototype.updateDict=function(){var t=this.getContentsSize();this.dict.set(q.Length,mt.of(t))},e.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},e.prototype.toString=function(){this.updateDict();var t=this.dict.toString();return t+=`
stream
`,t+=this.getContentsString(),t+=`
endstream`,t},e.prototype.copyBytesInto=function(t,i){this.updateDict();var s=i;i+=this.dict.copyBytesInto(t,i),t[i++]=F.Newline,t[i++]=F.s,t[i++]=F.t,t[i++]=F.r,t[i++]=F.e,t[i++]=F.a,t[i++]=F.m,t[i++]=F.Newline;for(var n=this.getContents(),o=0,h=n.length;o<h;o++)t[i++]=n[o];return t[i++]=F.Newline,t[i++]=F.e,t[i++]=F.n,t[i++]=F.d,t[i++]=F.s,t[i++]=F.t,t[i++]=F.r,t[i++]=F.e,t[i++]=F.a,t[i++]=F.m,i-s},e}(Bs),Hh=function(r){Oe(e,r);function e(t,i){var s=r.call(this,t)||this;return s.contents=i,s}return e.prototype.asUint8Array=function(){return this.contents.slice()},e.prototype.clone=function(t){return e.of(this.dict.clone(t),this.contents.slice())},e.prototype.getContentsString=function(){return i2(this.contents)},e.prototype.getContents=function(){return this.contents},e.prototype.getContentsSize=function(){return this.contents.length},e.of=function(t,i){return new e(t,i)},e}(nr),hb={},db=new Map,ri=function(r){Oe(e,r);function e(t,i,s){var n=this;if(t!==hb)throw new kv("PDFRef");return n=r.call(this)||this,n.objectNumber=i,n.generationNumber=s,n.tag=i+" "+s+" R",n}return e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.tag},e.prototype.sizeInBytes=function(){return this.tag.length},e.prototype.copyBytesInto=function(t,i){return i+=xs(this.tag,t,i),this.tag.length},e.of=function(t,i){i===void 0&&(i=0);var s=t+" "+i+" R",n=db.get(s);return n||(n=new e(hb,t,i),db.set(s,n)),n},e}(Bs),Qt=function(){function r(e,t){this.name=e,this.args=t||[]}return r.prototype.clone=function(e){for(var t=new Array(this.args.length),i=0,s=t.length;i<s;i++){var n=this.args[i];t[i]=n instanceof Bs?n.clone(e):n}return r.of(this.name,t)},r.prototype.toString=function(){for(var e="",t=0,i=this.args.length;t<i;t++)e+=String(this.args[t])+" ";return e+=this.name,e},r.prototype.sizeInBytes=function(){for(var e=0,t=0,i=this.args.length;t<i;t++){var s=this.args[t];e+=(s instanceof Bs?s.sizeInBytes():s.length)+1}return e+=this.name.length,e},r.prototype.copyBytesInto=function(e,t){for(var i=t,s=0,n=this.args.length;s<n;s++){var o=this.args[s];o instanceof Bs?t+=o.copyBytesInto(e,t):t+=xs(o,e,t),e[t++]=F.Space}return t+=xs(this.name,e,t),t-i},r.of=function(e,t){return new r(e,t)},r}(),Km;(function(r){r.NonStrokingColor="sc",r.NonStrokingColorN="scn",r.NonStrokingColorRgb="rg",r.NonStrokingColorGray="g",r.NonStrokingColorCmyk="k",r.NonStrokingColorspace="cs",r.StrokingColor="SC",r.StrokingColorN="SCN",r.StrokingColorRgb="RG",r.StrokingColorGray="G",r.StrokingColorCmyk="K",r.StrokingColorspace="CS",r.BeginMarkedContentSequence="BDC",r.BeginMarkedContent="BMC",r.EndMarkedContent="EMC",r.MarkedContentPointWithProps="DP",r.MarkedContentPoint="MP",r.DrawObject="Do",r.ConcatTransformationMatrix="cm",r.PopGraphicsState="Q",r.PushGraphicsState="q",r.SetFlatness="i",r.SetGraphicsStateParams="gs",r.SetLineCapStyle="J",r.SetLineDashPattern="d",r.SetLineJoinStyle="j",r.SetLineMiterLimit="M",r.SetLineWidth="w",r.SetTextMatrix="Tm",r.SetRenderingIntent="ri",r.AppendRectangle="re",r.BeginInlineImage="BI",r.BeginInlineImageData="ID",r.EndInlineImage="EI",r.ClipEvenOdd="W*",r.ClipNonZero="W",r.CloseAndStroke="s",r.CloseFillEvenOddAndStroke="b*",r.CloseFillNonZeroAndStroke="b",r.ClosePath="h",r.AppendBezierCurve="c",r.CurveToReplicateFinalPoint="y",r.CurveToReplicateInitialPoint="v",r.EndPath="n",r.FillEvenOddAndStroke="B*",r.FillEvenOdd="f*",r.FillNonZeroAndStroke="B",r.FillNonZero="f",r.LegacyFillNonZero="F",r.LineTo="l",r.MoveTo="m",r.ShadingFill="sh",r.StrokePath="S",r.BeginText="BT",r.EndText="ET",r.MoveText="Td",r.MoveTextSetLeading="TD",r.NextLine="T*",r.SetCharacterSpacing="Tc",r.SetFontAndSize="Tf",r.SetTextHorizontalScaling="Tz",r.SetTextLineHeight="TL",r.SetTextRenderingMode="Tr",r.SetTextRise="Ts",r.SetWordSpacing="Tw",r.ShowText="Tj",r.ShowTextAdjusted="TJ",r.ShowTextLine="'",r.ShowTextLineAndSpace='"',r.Type3D0="d0",r.Type3D1="d1",r.BeginCompatibilitySection="BX",r.EndCompatibilitySection="EX"})(Km||(Km={}));const Wt=Km;var zv=function(r){Oe(e,r);function e(t,i){var s=r.call(this,t)||this;return s.computeContents=function(){var n=s.getUnencodedContents();return s.encode?Yf.deflate(n):n},s.encode=i,i&&t.set(q.of("Filter"),q.of("FlateDecode")),s.contentsCache=zn.populatedBy(s.computeContents),s}return e.prototype.getContents=function(){return this.contentsCache.access()},e.prototype.getContentsSize=function(){return this.contentsCache.access().length},e.prototype.getUnencodedContents=function(){throw new Rr(this.constructor.name,"getUnencodedContents")},e}(nr),Ph=function(r){Oe(e,r);function e(t,i,s){s===void 0&&(s=!0);var n=r.call(this,t,s)||this;return n.operators=i,n}return e.prototype.push=function(){for(var t,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];(t=this.operators).push.apply(t,i)},e.prototype.clone=function(t){for(var i=new Array(this.operators.length),s=0,n=this.operators.length;s<n;s++)i[s]=this.operators[s].clone(t);var o=this,h=o.dict,d=o.encode;return e.of(h.clone(t),i,d)},e.prototype.getContentsString=function(){for(var t="",i=0,s=this.operators.length;i<s;i++)t+=this.operators[i]+`
`;return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),i=0,s=0,n=this.operators.length;s<n;s++)i+=this.operators[s].copyBytesInto(t,i),t[i++]=F.Newline;return t},e.prototype.getUnencodedContentsSize=function(){for(var t=0,i=0,s=this.operators.length;i<s;i++)t+=this.operators[i].sizeInBytes()+1;return t},e.of=function(t,i,s){return s===void 0&&(s=!0),new e(t,i,s)},e}(zv),BP=function(){function r(e){this.seed=e}return r.prototype.nextInt=function(){var e=Math.sin(this.seed++)*1e4;return e-Math.floor(e)},r.withSeed=function(e){return new r(e)},r}(),zP=function(r,e){var t=r[0],i=e[0];return t.objectNumber-i.objectNumber},Xm=function(){function r(){this.largestObjectNumber=0,this.header=eg.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=BP.withSeed(1)}return r.prototype.assign=function(e,t){this.indirectObjects.set(e,t),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},r.prototype.nextRef=function(){return this.largestObjectNumber+=1,ri.of(this.largestObjectNumber)},r.prototype.register=function(e){var t=this.nextRef();return this.assign(t,e),t},r.prototype.delete=function(e){return this.indirectObjects.delete(e)},r.prototype.lookupMaybe=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var s=t.includes(Ws),n=e instanceof ri?this.indirectObjects.get(e):e;if(!(!n||n===Ws&&!s)){for(var o=0,h=t.length;o<h;o++){var d=t[o];if(d===Ws){if(n===Ws)return n}else if(n instanceof d)return n}throw new vf(t,n)}},r.prototype.lookup=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var s=e instanceof ri?this.indirectObjects.get(e):e;if(t.length===0)return s;for(var n=0,o=t.length;n<o;n++){var h=t[n];if(h===Ws){if(s===Ws)return s}else if(s instanceof h)return s}throw new vf(t,s)},r.prototype.getObjectRef=function(e){for(var t=Array.from(this.indirectObjects.entries()),i=0,s=t.length;i<s;i++){var n=t[i],o=n[0],h=n[1];if(h===e)return o}},r.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(zP)},r.prototype.obj=function(e){if(e instanceof Bs)return e;if(e==null)return Ws;if(typeof e=="string")return q.of(e);if(typeof e=="number")return mt.of(e);if(typeof e=="boolean")return e?zh.True:zh.False;if(Array.isArray(e)){for(var t=Yt.withContext(this),i=0,s=e.length;i<s;i++)t.push(this.obj(e[i]));return t}else{for(var n=xt.withContext(this),o=Object.keys(e),i=0,s=o.length;i<s;i++){var h=o[i],d=e[h];d!==void 0&&n.set(q.of(h),this.obj(d))}return n}},r.prototype.stream=function(e,t){return t===void 0&&(t={}),Hh.of(this.obj(t),Gm(e))},r.prototype.flateStream=function(e,t){return t===void 0&&(t={}),this.stream(Yf.deflate(Gm(e)),Ct(Ct({},t),{Filter:"FlateDecode"}))},r.prototype.contentStream=function(e,t){return t===void 0&&(t={}),Ph.of(this.obj(t),e)},r.prototype.formXObject=function(e,t){return t===void 0&&(t={}),this.contentStream(e,Ct(Ct({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},t),{Type:"XObject",Subtype:"Form"}))},r.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),t=Qt.of(Wt.PushGraphicsState),i=Ph.of(e,[t]);return this.pushGraphicsStateContentStreamRef=this.register(i),this.pushGraphicsStateContentStreamRef},r.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),t=Qt.of(Wt.PopGraphicsState),i=Ph.of(e,[t]);return this.popGraphicsStateContentStreamRef=this.register(i),this.popGraphicsStateContentStreamRef},r.prototype.addRandomSuffix=function(e,t){return t===void 0&&(t=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,t))},r.create=function(){return new r},r}(),Hn=function(r){Oe(e,r);function e(t,i,s){s===void 0&&(s=!0);var n=r.call(this,t,i)||this;return n.normalized=!1,n.autoNormalizeCTM=s,n}return e.prototype.clone=function(t){for(var i=e.fromMapWithContext(new Map,t||this.context,this.autoNormalizeCTM),s=this.entries(),n=0,o=s.length;n<o;n++){var h=s[n],d=h[0],f=h[1];i.set(d,f)}return i},e.prototype.Parent=function(){return this.lookupMaybe(q.Parent,xt)},e.prototype.Contents=function(){return this.lookup(q.of("Contents"))},e.prototype.Annots=function(){return this.lookupMaybe(q.Annots,Yt)},e.prototype.BleedBox=function(){return this.lookupMaybe(q.BleedBox,Yt)},e.prototype.TrimBox=function(){return this.lookupMaybe(q.TrimBox,Yt)},e.prototype.ArtBox=function(){return this.lookupMaybe(q.ArtBox,Yt)},e.prototype.Resources=function(){var t=this.getInheritableAttribute(q.Resources);return this.context.lookupMaybe(t,xt)},e.prototype.MediaBox=function(){var t=this.getInheritableAttribute(q.MediaBox);return this.context.lookup(t,Yt)},e.prototype.CropBox=function(){var t=this.getInheritableAttribute(q.CropBox);return this.context.lookupMaybe(t,Yt)},e.prototype.Rotate=function(){var t=this.getInheritableAttribute(q.Rotate);return this.context.lookupMaybe(t,mt)},e.prototype.getInheritableAttribute=function(t){var i;return this.ascend(function(s){i||(i=s.get(t))}),i},e.prototype.setParent=function(t){this.set(q.Parent,t)},e.prototype.addContentStream=function(t){var i=this.normalizedEntries().Contents||this.context.obj([]);this.set(q.Contents,i),i.push(t)},e.prototype.wrapContentStreams=function(t,i){var s=this.Contents();return s instanceof Yt?(s.insert(0,t),s.push(i),!0):!1},e.prototype.addAnnot=function(t){var i=this.normalizedEntries().Annots;i.push(t)},e.prototype.removeAnnot=function(t){var i=this.normalizedEntries().Annots,s=i.indexOf(t);s!==void 0&&i.remove(s)},e.prototype.setFontDictionary=function(t,i){var s=this.normalizedEntries().Font;s.set(t,i)},e.prototype.newFontDictionaryKey=function(t){var i=this.normalizedEntries().Font;return i.uniqueKey(t)},e.prototype.newFontDictionary=function(t,i){var s=this.newFontDictionaryKey(t);return this.setFontDictionary(s,i),s},e.prototype.setXObject=function(t,i){var s=this.normalizedEntries().XObject;s.set(t,i)},e.prototype.newXObjectKey=function(t){var i=this.normalizedEntries().XObject;return i.uniqueKey(t)},e.prototype.newXObject=function(t,i){var s=this.newXObjectKey(t);return this.setXObject(s,i),s},e.prototype.setExtGState=function(t,i){var s=this.normalizedEntries().ExtGState;s.set(t,i)},e.prototype.newExtGStateKey=function(t){var i=this.normalizedEntries().ExtGState;return i.uniqueKey(t)},e.prototype.newExtGState=function(t,i){var s=this.newExtGStateKey(t);return this.setExtGState(s,i),s},e.prototype.ascend=function(t){t(this);var i=this.Parent();i&&i.ascend(t)},e.prototype.normalize=function(){if(!this.normalized){var t=this.context,i=this.get(q.Contents),s=this.context.lookup(i);s instanceof nr&&this.set(q.Contents,t.obj([i])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var n=this.getInheritableAttribute(q.Resources),o=t.lookupMaybe(n,xt)||t.obj({});this.set(q.Resources,o);var h=o.lookupMaybe(q.Font,xt)||t.obj({});o.set(q.Font,h);var d=o.lookupMaybe(q.XObject,xt)||t.obj({});o.set(q.XObject,d);var f=o.lookupMaybe(q.ExtGState,xt)||t.obj({});o.set(q.ExtGState,f);var p=this.Annots()||t.obj([]);this.set(q.Annots,p),this.normalized=!0}},e.prototype.normalizedEntries=function(){this.normalize();var t=this.Annots(),i=this.Resources(),s=this.Contents();return{Annots:t,Resources:i,Contents:s,Font:i.lookup(q.Font,xt),XObject:i.lookup(q.XObject,xt),ExtGState:i.lookup(q.ExtGState,xt)}},e.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],e.withContextAndParent=function(t,i){var s=new Map;return s.set(q.Type,q.Page),s.set(q.Parent,i),s.set(q.Resources,t.obj({})),s.set(q.MediaBox,t.obj([0,0,612,792])),new e(s,t,!1)},e.fromMapWithContext=function(t,i,s){return s===void 0&&(s=!0),new e(t,i,s)},e}(xt),cb=function(){function r(e,t){var i=this;this.traversedObjects=new Map,this.copy=function(s){return s instanceof Hn?i.copyPDFPage(s):s instanceof xt?i.copyPDFDict(s):s instanceof Yt?i.copyPDFArray(s):s instanceof nr?i.copyPDFStream(s):s instanceof ri?i.copyPDFIndirectObject(s):s.clone()},this.copyPDFPage=function(s){for(var n=s.clone(),o=Hn.InheritableEntries,h=0,d=o.length;h<d;h++){var f=q.of(o[h]),p=n.getInheritableAttribute(f);!n.get(f)&&p&&n.set(f,p)}return n.delete(q.of("Parent")),i.copyPDFDict(n)},this.copyPDFDict=function(s){if(i.traversedObjects.has(s))return i.traversedObjects.get(s);var n=s.clone(i.dest);i.traversedObjects.set(s,n);for(var o=s.entries(),h=0,d=o.length;h<d;h++){var f=o[h],p=f[0],y=f[1];n.set(p,i.copy(y))}return n},this.copyPDFArray=function(s){if(i.traversedObjects.has(s))return i.traversedObjects.get(s);var n=s.clone(i.dest);i.traversedObjects.set(s,n);for(var o=0,h=s.size();o<h;o++){var d=s.get(o);n.set(o,i.copy(d))}return n},this.copyPDFStream=function(s){if(i.traversedObjects.has(s))return i.traversedObjects.get(s);var n=s.clone(i.dest);i.traversedObjects.set(s,n);for(var o=s.dict.entries(),h=0,d=o.length;h<d;h++){var f=o[h],p=f[0],y=f[1];n.dict.set(p,i.copy(y))}return n},this.copyPDFIndirectObject=function(s){var n=i.traversedObjects.has(s);if(!n){var o=i.dest.nextRef();i.traversedObjects.set(s,o);var h=i.src.lookup(s);if(h){var d=i.copy(h);i.dest.assign(o,d)}}return i.traversedObjects.get(s)},this.src=e,this.dest=t}return r.for=function(e,t){return new r(e,t)},r}(),C2=function(){function r(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return r.prototype.addEntry=function(e,t){this.append({ref:e,offset:t,deleted:!1})},r.prototype.addDeletedEntry=function(e,t){this.append({ref:e,offset:t,deleted:!0})},r.prototype.toString=function(){for(var e=`xref
`,t=0,i=this.subsections.length;t<i;t++){var s=this.subsections[t];e+=s[0].ref.objectNumber+" "+s.length+`
`;for(var n=0,o=s.length;n<o;n++){var h=s[n];e+=jr(String(h.offset),10,"0"),e+=" ",e+=jr(String(h.ref.generationNumber),5,"0"),e+=" ",e+=h.deleted?"f":"n",e+=` 
`}}return e},r.prototype.sizeInBytes=function(){for(var e=5,t=0,i=this.subsections.length;t<i;t++){var s=this.subsections[t],n=s.length,o=s[0];e+=2,e+=String(o.ref.objectNumber).length,e+=String(n).length,e+=20*n}return e},r.prototype.copyBytesInto=function(e,t){var i=t;return e[t++]=F.x,e[t++]=F.r,e[t++]=F.e,e[t++]=F.f,e[t++]=F.Newline,t+=this.copySubsectionsIntoBuffer(this.subsections,e,t),t-i},r.prototype.copySubsectionsIntoBuffer=function(e,t,i){for(var s=i,n=e.length,o=0;o<n;o++){var h=this.subsections[o],d=String(h[0].ref.objectNumber);i+=xs(d,t,i),t[i++]=F.Space;var f=String(h.length);i+=xs(f,t,i),t[i++]=F.Newline,i+=this.copyEntriesIntoBuffer(h,t,i)}return i-s},r.prototype.copyEntriesIntoBuffer=function(e,t,i){for(var s=e.length,n=0;n<s;n++){var o=e[n],h=jr(String(o.offset),10,"0");i+=xs(h,t,i),t[i++]=F.Space;var d=jr(String(o.ref.generationNumber),5,"0");i+=xs(d,t,i),t[i++]=F.Space,t[i++]=o.deleted?F.f:F.n,t[i++]=F.Space,t[i++]=F.Newline}return 20*s},r.prototype.append=function(e){if(this.chunkLength===0){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var t=this.subsections[this.chunkIdx],i=t[this.chunkLength-1];e.ref.objectNumber-i.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(t.push(e),this.chunkLength+=1)},r.create=function(){return new r({ref:ri.of(0,65535),offset:0,deleted:!0})},r.createEmpty=function(){return new r},r}(),Hv=function(){function r(e){this.lastXRefOffset=String(e)}return r.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},r.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},r.prototype.copyBytesInto=function(e,t){var i=t;return e[t++]=F.s,e[t++]=F.t,e[t++]=F.a,e[t++]=F.r,e[t++]=F.t,e[t++]=F.x,e[t++]=F.r,e[t++]=F.e,e[t++]=F.f,e[t++]=F.Newline,t+=xs(this.lastXRefOffset,e,t),e[t++]=F.Newline,e[t++]=F.Percent,e[t++]=F.Percent,e[t++]=F.E,e[t++]=F.O,e[t++]=F.F,t-i},r.forLastCrossRefSectionOffset=function(e){return new r(e)},r}(),HP=function(){function r(e){this.dict=e}return r.prototype.toString=function(){return`trailer
`+this.dict.toString()},r.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},r.prototype.copyBytesInto=function(e,t){var i=t;return e[t++]=F.t,e[t++]=F.r,e[t++]=F.a,e[t++]=F.i,e[t++]=F.l,e[t++]=F.e,e[t++]=F.r,e[t++]=F.Newline,t+=this.dict.copyBytesInto(e,t),t-i},r.of=function(e){return new r(e)},r}(),b2=function(r){Oe(e,r);function e(t,i,s){s===void 0&&(s=!0);var n=r.call(this,t.obj({}),s)||this;return n.objects=i,n.offsets=n.computeObjectOffsets(),n.offsetsString=n.computeOffsetsString(),n.dict.set(q.of("Type"),q.of("ObjStm")),n.dict.set(q.of("N"),mt.of(n.objects.length)),n.dict.set(q.of("First"),mt.of(n.offsetsString.length)),n}return e.prototype.getObjectsCount=function(){return this.objects.length},e.prototype.clone=function(t){return e.withContextAndObjects(t||this.dict.context,this.objects.slice(),this.encode)},e.prototype.getContentsString=function(){for(var t=this.offsetsString,i=0,s=this.objects.length;i<s;i++){var n=this.objects[i],o=n[1];t+=o+`
`}return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),i=xs(this.offsetsString,t,0),s=0,n=this.objects.length;s<n;s++){var o=this.objects[s],h=o[1];i+=h.copyBytesInto(t,i),t[i++]=F.Newline}return t},e.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+mf(this.offsets)[1]+mf(this.objects)[1].sizeInBytes()+1},e.prototype.computeOffsetsString=function(){for(var t="",i=0,s=this.offsets.length;i<s;i++){var n=this.offsets[i],o=n[0],h=n[1];t+=o+" "+h+" "}return t},e.prototype.computeObjectOffsets=function(){for(var t=0,i=new Array(this.objects.length),s=0,n=this.objects.length;s<n;s++){var o=this.objects[s],h=o[0],d=o[1];i[s]=[h.objectNumber,t],t+=d.sizeInBytes()+1}return i},e.withContextAndObjects=function(t,i,s){return s===void 0&&(s=!0),new e(t,i,s)},e}(zv),w2=function(){function r(e,t){var i=this;this.parsedObjects=0,this.shouldWaitForTick=function(s){return i.parsedObjects+=s,i.parsedObjects%i.objectsPerTick===0},this.context=e,this.objectsPerTick=t}return r.prototype.serializeToBuffer=function(){return Et(this,void 0,void 0,function(){var e,t,i,s,n,o,h,d,f,p,y,b,w,T,P,D,L;return Tt(this,function(W){switch(W.label){case 0:return[4,this.computeBufferSize()];case 1:e=W.sent(),t=e.size,i=e.header,s=e.indirectObjects,n=e.xref,o=e.trailerDict,h=e.trailer,d=0,f=new Uint8Array(t),d+=i.copyBytesInto(f,d),f[d++]=F.Newline,f[d++]=F.Newline,p=0,y=s.length,W.label=2;case 2:return p<y?(b=s[p],w=b[0],T=b[1],P=String(w.objectNumber),d+=xs(P,f,d),f[d++]=F.Space,D=String(w.generationNumber),d+=xs(D,f,d),f[d++]=F.Space,f[d++]=F.o,f[d++]=F.b,f[d++]=F.j,f[d++]=F.Newline,d+=T.copyBytesInto(f,d),f[d++]=F.Newline,f[d++]=F.e,f[d++]=F.n,f[d++]=F.d,f[d++]=F.o,f[d++]=F.b,f[d++]=F.j,f[d++]=F.Newline,f[d++]=F.Newline,L=T instanceof b2?T.getObjectsCount():1,this.shouldWaitForTick(L)?[4,Bl()]:[3,4]):[3,5];case 3:W.sent(),W.label=4;case 4:return p++,[3,2];case 5:return n&&(d+=n.copyBytesInto(f,d),f[d++]=F.Newline),o&&(d+=o.copyBytesInto(f,d),f[d++]=F.Newline,f[d++]=F.Newline),d+=h.copyBytesInto(f,d),[2,f]}})})},r.prototype.computeIndirectObjectSize=function(e){var t=e[0],i=e[1],s=t.sizeInBytes()+3,n=i.sizeInBytes()+9;return s+n},r.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},r.prototype.computeBufferSize=function(){return Et(this,void 0,void 0,function(){var e,t,i,s,n,o,h,d,f,p,y;return Tt(this,function(b){switch(b.label){case 0:e=eg.forVersion(1,7),t=e.sizeInBytes()+2,i=C2.create(),s=this.context.enumerateIndirectObjects(),n=0,o=s.length,b.label=1;case 1:return n<o?(h=s[n],d=h[0],i.addEntry(d,t),t+=this.computeIndirectObjectSize(h),this.shouldWaitForTick(1)?[4,Bl()]:[3,3]):[3,4];case 2:b.sent(),b.label=3;case 3:return n++,[3,1];case 4:return f=t,t+=i.sizeInBytes()+1,p=HP.of(this.createTrailerDict()),t+=p.sizeInBytes()+2,y=Hv.forLastCrossRefSectionOffset(f),t+=y.sizeInBytes(),[2,{size:t,header:e,indirectObjects:s,xref:i,trailerDict:p,trailer:y}]}})})},r.forContext=function(e,t){return new r(e,t)},r}(),x2=function(r){Oe(e,r);function e(t){var i=r.call(this)||this;return i.data=t,i}return e.prototype.clone=function(){return e.of(this.data.slice())},e.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},e.prototype.sizeInBytes=function(){return this.data.length},e.prototype.copyBytesInto=function(t,i){for(var s=this.data.length,n=0;n<s;n++)t[i++]=this.data[n];return s},e.of=function(t){return new e(t)},e}(Bs),Pa;(function(r){r[r.Deleted=0]="Deleted",r[r.Uncompressed=1]="Uncompressed",r[r.Compressed=2]="Compressed"})(Pa||(Pa={}));var QP=function(r){Oe(e,r);function e(t,i,s){s===void 0&&(s=!0);var n=r.call(this,t,s)||this;return n.computeIndex=function(){for(var o=[],h=0,d=0,f=n.entries.length;d<f;d++){var p=n.entries[d],y=n.entries[d-1];d===0?o.push(p.ref.objectNumber):p.ref.objectNumber-y.ref.objectNumber>1&&(o.push(h),o.push(p.ref.objectNumber),h=0),h+=1}return o.push(h),o},n.computeEntryTuples=function(){for(var o=new Array(n.entries.length),h=0,d=n.entries.length;h<d;h++){var f=n.entries[h];if(f.type===Pa.Deleted){var p=f.type,y=f.nextFreeObjectNumber,b=f.ref;o[h]=[p,y,b.generationNumber]}if(f.type===Pa.Uncompressed){var p=f.type,w=f.offset,b=f.ref;o[h]=[p,w,b.generationNumber]}if(f.type===Pa.Compressed){var p=f.type,T=f.objectStreamRef,P=f.index;o[h]=[p,T.objectNumber,P]}}return o},n.computeMaxEntryByteWidths=function(){for(var o=n.entryTuplesCache.access(),h=[0,0,0],d=0,f=o.length;d<f;d++){var p=o[d],y=p[0],b=p[1],w=p[2],T=$c(y),P=$c(b),D=$c(w);T>h[0]&&(h[0]=T),P>h[1]&&(h[1]=P),D>h[2]&&(h[2]=D)}return h},n.entries=i||[],n.entryTuplesCache=zn.populatedBy(n.computeEntryTuples),n.maxByteWidthsCache=zn.populatedBy(n.computeMaxEntryByteWidths),n.indexCache=zn.populatedBy(n.computeIndex),t.set(q.of("Type"),q.of("XRef")),n}return e.prototype.addDeletedEntry=function(t,i){var s=Pa.Deleted;this.entries.push({type:s,ref:t,nextFreeObjectNumber:i}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addUncompressedEntry=function(t,i){var s=Pa.Uncompressed;this.entries.push({type:s,ref:t,offset:i}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addCompressedEntry=function(t,i,s){var n=Pa.Compressed;this.entries.push({type:n,ref:t,objectStreamRef:i,index:s}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.clone=function(t){var i=this,s=i.dict,n=i.entries,o=i.encode;return e.of(s.clone(t),n.slice(),o)},e.prototype.getContentsString=function(){for(var t=this.entryTuplesCache.access(),i=this.maxByteWidthsCache.access(),s="",n=0,o=t.length;n<o;n++){for(var h=t[n],d=h[0],f=h[1],p=h[2],y=xl(Vl(d)),b=xl(Vl(f)),w=xl(Vl(p)),T=i[0]-1;T>=0;T--)s+=(y[T]||0).toString(2);for(var T=i[1]-1;T>=0;T--)s+=(b[T]||0).toString(2);for(var T=i[2]-1;T>=0;T--)s+=(w[T]||0).toString(2)}return s},e.prototype.getUnencodedContents=function(){for(var t=this.entryTuplesCache.access(),i=this.maxByteWidthsCache.access(),s=new Uint8Array(this.getUnencodedContentsSize()),n=0,o=0,h=t.length;o<h;o++){for(var d=t[o],f=d[0],p=d[1],y=d[2],b=xl(Vl(f)),w=xl(Vl(p)),T=xl(Vl(y)),P=i[0]-1;P>=0;P--)s[n++]=b[P]||0;for(var P=i[1]-1;P>=0;P--)s[n++]=w[P]||0;for(var P=i[2]-1;P>=0;P--)s[n++]=T[P]||0}return s},e.prototype.getUnencodedContentsSize=function(){var t=this.maxByteWidthsCache.access(),i=SR(t);return i*this.entries.length},e.prototype.updateDict=function(){r.prototype.updateDict.call(this);var t=this.maxByteWidthsCache.access(),i=this.indexCache.access(),s=this.dict.context;this.dict.set(q.of("W"),s.obj(t)),this.dict.set(q.of("Index"),s.obj(i))},e.create=function(t,i){i===void 0&&(i=!0);var s=new e(t,[],i);return s.addDeletedEntry(ri.of(0,65535),0),s},e.of=function(t,i,s){return s===void 0&&(s=!0),new e(t,i,s)},e}(zv),UP=function(r){Oe(e,r);function e(t,i,s,n){var o=r.call(this,t,i)||this;return o.encodeStreams=s,o.objectsPerStream=n,o}return e.prototype.computeBufferSize=function(){return Et(this,void 0,void 0,function(){var t,i,s,n,o,h,d,f,T,P,p,L,y,b,D,w,T,P,D,L,W,H,ee,Y;return Tt(this,function(Z){switch(Z.label){case 0:t=this.context.largestObjectNumber+1,i=eg.forVersion(1,7),s=i.sizeInBytes()+2,n=QP.create(this.createTrailerDict(),this.encodeStreams),o=[],h=[],d=[],f=this.context.enumerateIndirectObjects(),T=0,P=f.length,Z.label=1;case 1:return T<P?(p=f[T],L=p[0],y=p[1],b=L===this.context.trailerInfo.Encrypt||y instanceof nr||y instanceof x2||L.generationNumber!==0,b?(o.push(p),n.addUncompressedEntry(L,s),s+=this.computeIndirectObjectSize(p),this.shouldWaitForTick(1)?[4,Bl()]:[3,3]):[3,4]):[3,6];case 2:Z.sent(),Z.label=3;case 3:return[3,5];case 4:D=mf(h),w=mf(d),(!D||D.length%this.objectsPerStream===0)&&(D=[],h.push(D),w=ri.of(t++),d.push(w)),n.addCompressedEntry(L,w,D.length),D.push(p),Z.label=5;case 5:return T++,[3,1];case 6:T=0,P=h.length,Z.label=7;case 7:return T<P?(D=h[T],L=d[T],W=b2.withContextAndObjects(this.context,D,this.encodeStreams),n.addUncompressedEntry(L,s),s+=this.computeIndirectObjectSize([L,W]),o.push([L,W]),this.shouldWaitForTick(D.length)?[4,Bl()]:[3,9]):[3,10];case 8:Z.sent(),Z.label=9;case 9:return T++,[3,7];case 10:return H=ri.of(t++),n.dict.set(q.of("Size"),mt.of(t)),n.addUncompressedEntry(H,s),ee=s,s+=this.computeIndirectObjectSize([H,n]),o.push([H,n]),Y=Hv.forLastCrossRefSectionOffset(ee),s+=Y.sizeInBytes(),[2,{size:s,header:i,indirectObjects:o,trailer:Y}]}})})},e.forContext=function(t,i,s,n){return s===void 0&&(s=!0),n===void 0&&(n=50),new e(t,i,s,n)},e}(w2),ct=function(r){Oe(e,r);function e(t){var i=r.call(this)||this;return i.value=t,i}return e.prototype.asBytes=function(){for(var t=this.value+(this.value.length%2===1?"0":""),i=t.length,s=new Uint8Array(t.length/2),n=0,o=0;n<i;){var h=parseInt(t.substring(n,n+2),16);s[o]=h,n+=2,o+=1}return s},e.prototype.decodeText=function(){var t=this.asBytes();return l2(t)?n2(t):v2(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),i=t2(t);if(!i)throw new y2(t);return i},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"<"+this.value+">"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,i){return t[i++]=F.LessThan,i+=xs(this.value,t,i),t[i++]=F.GreaterThan,this.value.length+2},e.of=function(t){return new e(t)},e.fromText=function(t){for(var i=PR(t),s="",n=0,o=i.length;n<o;n++)s+=ed(i[n],4);return new e(s)},e}(Bs),Cf=function(){function r(e,t){this.encoding=e===Bh.ZapfDingbats?zc.ZapfDingbats:e===Bh.Symbol?zc.Symbol:zc.WinAnsi,this.font=lP.load(e),this.fontName=this.font.FontName,this.customName=t}return r.prototype.encodeText=function(e){for(var t=this.encodeTextAsGlyphs(e),i=new Array(t.length),s=0,n=t.length;s<n;s++)i[s]=Xf(t[s].code);return ct.of(i.join(""))},r.prototype.widthOfTextAtSize=function(e,t){for(var i=this.encodeTextAsGlyphs(e),s=0,n=0,o=i.length;n<o;n++){var h=i[n].name,d=(i[n+1]||{}).name,f=this.font.getXAxisKerningForPair(h,d)||0;s+=this.widthOfGlyph(h)+f}var p=t/1e3;return s*p},r.prototype.heightOfFontAtSize=function(e,t){t===void 0&&(t={});var i=t.descender,s=i===void 0?!0:i,n=this.font,o=n.Ascender,h=n.Descender,d=n.FontBBox,f=o||d[3],p=h||d[1],y=f-p;return s||(y+=h||0),y/1e3*e},r.prototype.sizeOfFontAtHeight=function(e){var t=this.font,i=t.Ascender,s=t.Descender,n=t.FontBBox,o=i||n[3],h=s||n[1];return 1e3*e/(o-h)},r.prototype.embedIntoContext=function(e,t){var i=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===zc.WinAnsi?"WinAnsiEncoding":void 0});return t?(e.assign(t,i),t):e.register(i)},r.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},r.prototype.encodeTextAsGlyphs=function(e){for(var t=Array.from(e),i=new Array(t.length),s=0,n=t.length;s<n;s++){var o=cR(t[s]);i[s]=this.encoding.encodeUnicodeCodePoint(o)}return i},r.for=function(e,t){return new r(e,t)},r}(),_P=function(r,e){for(var t=new Array(r.length),i=0,s=r.length;i<s;i++){var n=r[i],o=fb(ef(e(n))),h=fb.apply(void 0,n.codePoints.map(jP));t[i]=[o,h]}return WP(t)},WP=function(r){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+r.length+` beginbfchar
`+r.map(function(e){var t=e[0],i=e[1];return t+" "+i}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},fb=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return"<"+r.join("")+">"},ef=function(r){return ed(r,4)},jP=function(r){if(IR(r))return ef(r);if(AR(r)){var e=s2(r),t=r2(r);return""+ef(e)+ef(t)}var i=Xf(r),s="0x"+i+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(s)},GP=function(r){var e=0,t=function(i){e|=1<<i-1};return r.fixedPitch&&t(1),r.serif&&t(2),t(3),r.script&&t(4),r.nonsymbolic&&t(6),r.italic&&t(7),r.allCap&&t(17),r.smallCap&&t(18),r.forceBold&&t(19),e},ZP=function(r){var e=r["OS/2"]?r["OS/2"].sFamilyClass:0,t=GP({fixedPitch:r.post.isFixedPitch,serif:1<=e&&e<=7,script:e===10,italic:r.head.macStyle.italic});return t},si=function(r){Oe(e,r);function e(t){var i=r.call(this)||this;return i.value=t,i}return e.prototype.asBytes=function(){for(var t=[],i="",s=!1,n=function(y){y!==void 0&&t.push(y),s=!1},o=0,h=this.value.length;o<h;o++){var d=this.value[o],f=yt(d),p=this.value[o+1];s?f===F.Newline||f===F.CarriageReturn?n():f===F.n?n(F.Newline):f===F.r?n(F.CarriageReturn):f===F.t?n(F.Tab):f===F.b?n(F.Backspace):f===F.f?n(F.FormFeed):f===F.LeftParen?n(F.LeftParen):f===F.RightParen?n(F.RightParen):f===F.Backspace?n(F.BackSlash):f>=F.Zero&&f<=F.Seven?(i+=d,(i.length===3||!(p>="0"&&p<="7"))&&(n(parseInt(i,8)),i="")):n(f):f===F.BackSlash?s=!0:n(f)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return l2(t)?n2(t):v2(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),i=t2(t);if(!i)throw new y2(t);return i},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"("+this.value+")"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,i){return t[i++]=F.LeftParen,i+=xs(this.value,t,i),t[i++]=F.RightParen,this.value.length+2},e.of=function(t){return new e(t)},e.fromDate=function(t){var i=jr(String(t.getUTCFullYear()),4,"0"),s=jr(String(t.getUTCMonth()+1),2,"0"),n=jr(String(t.getUTCDate()),2,"0"),o=jr(String(t.getUTCHours()),2,"0"),h=jr(String(t.getUTCMinutes()),2,"0"),d=jr(String(t.getUTCSeconds()),2,"0");return new e("D:"+i+s+n+o+h+d+"Z")},e}(Bs),Qv=function(){function r(e,t,i,s){var n=this;this.allGlyphsInFontSortedById=function(){for(var o=new Array(n.font.characterSet.length),h=0,d=o.length;h<d;h++){var f=n.font.characterSet[h];o[h]=n.font.glyphForCodePoint(f)}return VR(o.sort(xR),function(p){return p.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=t,this.fontName=this.font.postscriptName||"Font",this.customName=i,this.fontFeatures=s,this.baseFontName="",this.glyphCache=zn.populatedBy(this.allGlyphsInFontSortedById)}return r.for=function(e,t,i,s){return Et(this,void 0,void 0,function(){var n;return Tt(this,function(o){switch(o.label){case 0:return[4,e.create(t)];case 1:return n=o.sent(),[2,new r(n,t,i,s)]}})})},r.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,i=new Array(t.length),s=0,n=t.length;s<n;s++)i[s]=ed(t[s].id,4);return ct.of(i.join(""))},r.prototype.widthOfTextAtSize=function(e,t){for(var i=this.font.layout(e,this.fontFeatures).glyphs,s=0,n=0,o=i.length;n<o;n++)s+=i[n].advanceWidth*this.scale;var h=t/1e3;return s*h},r.prototype.heightOfFontAtSize=function(e,t){t===void 0&&(t={});var i=t.descender,s=i===void 0?!0:i,n=this.font,o=n.ascent,h=n.descent,d=n.bbox,f=(o||d.maxY)*this.scale,p=(h||d.minY)*this.scale,y=f-p;return s||(y-=Math.abs(h)||0),y/1e3*e},r.prototype.sizeOfFontAtHeight=function(e){var t=this.font,i=t.ascent,s=t.descent,n=t.bbox,o=(i||n.maxY)*this.scale,h=(s||n.minY)*this.scale;return 1e3*e/(o-h)},r.prototype.embedIntoContext=function(e,t){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,t)},r.prototype.embedFontDict=function(e,t){return Et(this,void 0,void 0,function(){var i,s,n;return Tt(this,function(o){switch(o.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return i=o.sent(),s=this.embedUnicodeCmap(e),n=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[i],ToUnicode:s}),t?(e.assign(t,n),[2,t]):[2,e.register(n)]}})})},r.prototype.isCFF=function(){return this.font.cff},r.prototype.embedCIDFontDict=function(e){return Et(this,void 0,void 0,function(){var t,i;return Tt(this,function(s){switch(s.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return t=s.sent(),i=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:si.of("Adobe"),Ordering:si.of("Identity"),Supplement:0},FontDescriptor:t,W:this.computeWidths()}),[2,e.register(i)]}})})},r.prototype.embedFontDescriptor=function(e){return Et(this,void 0,void 0,function(){var t,i,s,n,o,h,d,f,p,y,b,w,T,P,D;return Tt(this,function(L){switch(L.label){case 0:return[4,this.embedFontStream(e)];case 1:return t=L.sent(),i=this.scale,s=this.font,n=s.italicAngle,o=s.ascent,h=s.descent,d=s.capHeight,f=s.xHeight,p=this.font.bbox,y=p.minX,b=p.minY,w=p.maxX,T=p.maxY,P=e.obj((D={Type:"FontDescriptor",FontName:this.baseFontName,Flags:ZP(this.font),FontBBox:[y*i,b*i,w*i,T*i],ItalicAngle:n,Ascent:o*i,Descent:h*i,CapHeight:(d||o)*i,XHeight:(f||0)*i,StemV:0},D[this.isCFF()?"FontFile3":"FontFile2"]=t,D)),[2,e.register(P)]}})})},r.prototype.serializeFont=function(){return Et(this,void 0,void 0,function(){return Tt(this,function(e){return[2,this.fontData]})})},r.prototype.embedFontStream=function(e){return Et(this,void 0,void 0,function(){var t,i,s;return Tt(this,function(n){switch(n.label){case 0:return s=(i=e).flateStream,[4,this.serializeFont()];case 1:return t=s.apply(i,[n.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(t)]}})})},r.prototype.embedUnicodeCmap=function(e){var t=_P(this.glyphCache.access(),this.glyphId.bind(this)),i=e.flateStream(t);return e.register(i)},r.prototype.glyphId=function(e){return e?e.id:-1},r.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),t=[],i=[],s=0,n=e.length;s<n;s++){var o=e[s],h=e[s-1],d=this.glyphId(o),f=this.glyphId(h);s===0?t.push(d):d-f!==1&&(t.push(i),t.push(d),i=[]),i.push(o.advanceWidth*this.scale)}return t.push(i),t},r}(),KP=function(r){Oe(e,r);function e(t,i,s,n){var o=r.call(this,t,i,s,n)||this;return o.subset=o.font.createSubset(),o.glyphs=[],o.glyphCache=zn.populatedBy(function(){return o.glyphs}),o.glyphIdMap=new Map,o}return e.for=function(t,i,s,n){return Et(this,void 0,void 0,function(){var o;return Tt(this,function(h){switch(h.label){case 0:return[4,t.create(i)];case 1:return o=h.sent(),[2,new e(o,i,s,n)]}})})},e.prototype.encodeText=function(t){for(var i=this.font.layout(t,this.fontFeatures).glyphs,s=new Array(i.length),n=0,o=i.length;n<o;n++){var h=i[n],d=this.subset.includeGlyph(h);this.glyphs[d-1]=h,this.glyphIdMap.set(h.id,d),s[n]=ed(d,4)}return this.glyphCache.invalidate(),ct.of(s.join(""))},e.prototype.isCFF=function(){return this.subset.cff},e.prototype.glyphId=function(t){return t?this.glyphIdMap.get(t.id):-1},e.prototype.serializeFont=function(){var t=this;return new Promise(function(i,s){var n=[];t.subset.encodeStream().on("data",function(o){return n.push(o)}).on("end",function(){return i(wR(n))}).on("error",function(o){return s(o)})})},e}(Qv),Ym;(function(r){r.Source="Source",r.Data="Data",r.Alternative="Alternative",r.Supplement="Supplement",r.EncryptedPayload="EncryptedPayload",r.FormData="EncryptedPayload",r.Schema="Schema",r.Unspecified="Unspecified"})(Ym||(Ym={}));var XP=function(){function r(e,t,i){i===void 0&&(i={}),this.fileData=e,this.fileName=t,this.options=i}return r.for=function(e,t,i){return i===void 0&&(i={}),new r(e,t,i)},r.prototype.embedIntoContext=function(e,t){return Et(this,void 0,void 0,function(){var i,s,n,o,h,d,f,p,y;return Tt(this,function(b){return i=this.options,s=i.mimeType,n=i.description,o=i.creationDate,h=i.modificationDate,d=i.afRelationship,f=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:s??void 0,Params:{Size:this.fileData.length,CreationDate:o?si.fromDate(o):void 0,ModDate:h?si.fromDate(h):void 0}}),p=e.register(f),y=e.obj({Type:"Filespec",F:si.of(this.fileName),UF:ct.fromText(this.fileName),EF:{F:p},Desc:n?ct.fromText(n):void 0,AFRelationship:d??void 0}),t?(e.assign(t,y),[2,t]):[2,e.register(y)]})})},r}(),gb=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],Ll;(function(r){r.DeviceGray="DeviceGray",r.DeviceRGB="DeviceRGB",r.DeviceCMYK="DeviceCMYK"})(Ll||(Ll={}));var YP={1:Ll.DeviceGray,3:Ll.DeviceRGB,4:Ll.DeviceCMYK},V2=function(){function r(e,t,i,s,n){this.imageData=e,this.bitsPerComponent=t,this.width=i,this.height=s,this.colorSpace=n}return r.for=function(e){return Et(this,void 0,void 0,function(){var t,i,s,n,o,h,d,f,p,y;return Tt(this,function(b){if(t=new DataView(e.buffer),i=t.getUint16(0),i!==65496)throw new Error("SOI not found in JPEG");for(s=2;s<t.byteLength&&(n=t.getUint16(s),s+=2,!gb.includes(n));)s+=t.getUint16(s);if(!gb.includes(n))throw new Error("Invalid JPEG");if(s+=2,o=t.getUint8(s++),h=t.getUint16(s),s+=2,d=t.getUint16(s),s+=2,f=t.getUint8(s++),p=YP[f],!p)throw new Error("Unknown JPEG channel.");return y=p,[2,new r(e,o,d,h,y)]})})},r.prototype.embedIntoContext=function(e,t){return Et(this,void 0,void 0,function(){var i;return Tt(this,function(s){return i=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===Ll.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),t?(e.assign(t,i),[2,t]):[2,e.register(i)]})})},r}(),Ee={};Ee.toRGBA8=function(r){var e=r.width,t=r.height;if(r.tabs.acTL==null)return[Ee.toRGBA8.decodeImage(r.data,e,t,r).buffer];var i=[];r.frames[0].data==null&&(r.frames[0].data=r.data);for(var s=e*t*4,n=new Uint8Array(s),o=new Uint8Array(s),h=new Uint8Array(s),d=0;d<r.frames.length;d++){var f=r.frames[d],p=f.rect.x,y=f.rect.y,b=f.rect.width,w=f.rect.height,T=Ee.toRGBA8.decodeImage(f.data,b,w,r);if(d!=0)for(var P=0;P<s;P++)h[P]=n[P];if(f.blend==0?Ee._copyTile(T,b,w,n,e,t,p,y,0):f.blend==1&&Ee._copyTile(T,b,w,n,e,t,p,y,1),i.push(n.buffer.slice(0)),f.dispose!=0){if(f.dispose==1)Ee._copyTile(o,b,w,n,e,t,p,y,0);else if(f.dispose==2)for(var P=0;P<s;P++)n[P]=h[P]}}return i};Ee.toRGBA8.decodeImage=function(r,e,t,i){var s=e*t,n=Ee.decode._getBPP(i),o=Math.ceil(e*n/8),h=new Uint8Array(s*4),d=new Uint32Array(h.buffer),f=i.ctype,p=i.depth,y=Ee._bin.readUshort;if(f==6){var b=s<<2;if(p==8)for(var w=0;w<b;w+=4)h[w]=r[w],h[w+1]=r[w+1],h[w+2]=r[w+2],h[w+3]=r[w+3];if(p==16)for(var w=0;w<b;w++)h[w]=r[w<<1]}else if(f==2){var T=i.tabs.tRNS;if(T==null){if(p==8)for(var w=0;w<s;w++){var P=w*3;d[w]=255<<24|r[P+2]<<16|r[P+1]<<8|r[P]}if(p==16)for(var w=0;w<s;w++){var P=w*6;d[w]=255<<24|r[P+4]<<16|r[P+2]<<8|r[P]}}else{var D=T[0],L=T[1],W=T[2];if(p==8)for(var w=0;w<s;w++){var H=w<<2,P=w*3;d[w]=255<<24|r[P+2]<<16|r[P+1]<<8|r[P],r[P]==D&&r[P+1]==L&&r[P+2]==W&&(h[H+3]=0)}if(p==16)for(var w=0;w<s;w++){var H=w<<2,P=w*6;d[w]=255<<24|r[P+4]<<16|r[P+2]<<8|r[P],y(r,P)==D&&y(r,P+2)==L&&y(r,P+4)==W&&(h[H+3]=0)}}}else if(f==3){var ee=i.tabs.PLTE,Y=i.tabs.tRNS,Z=Y?Y.length:0;if(p==1)for(var K=0;K<t;K++)for(var pe=K*o,Ce=K*e,w=0;w<e;w++){var H=Ce+w<<2,we=r[pe+(w>>3)]>>7-((w&7)<<0)&1,xe=3*we;h[H]=ee[xe],h[H+1]=ee[xe+1],h[H+2]=ee[xe+2],h[H+3]=we<Z?Y[we]:255}if(p==2)for(var K=0;K<t;K++)for(var pe=K*o,Ce=K*e,w=0;w<e;w++){var H=Ce+w<<2,we=r[pe+(w>>2)]>>6-((w&3)<<1)&3,xe=3*we;h[H]=ee[xe],h[H+1]=ee[xe+1],h[H+2]=ee[xe+2],h[H+3]=we<Z?Y[we]:255}if(p==4)for(var K=0;K<t;K++)for(var pe=K*o,Ce=K*e,w=0;w<e;w++){var H=Ce+w<<2,we=r[pe+(w>>1)]>>4-((w&1)<<2)&15,xe=3*we;h[H]=ee[xe],h[H+1]=ee[xe+1],h[H+2]=ee[xe+2],h[H+3]=we<Z?Y[we]:255}if(p==8)for(var w=0;w<s;w++){var H=w<<2,we=r[w],xe=3*we;h[H]=ee[xe],h[H+1]=ee[xe+1],h[H+2]=ee[xe+2],h[H+3]=we<Z?Y[we]:255}}else if(f==4){if(p==8)for(var w=0;w<s;w++){var H=w<<2,Re=w<<1,ce=r[Re];h[H]=ce,h[H+1]=ce,h[H+2]=ce,h[H+3]=r[Re+1]}if(p==16)for(var w=0;w<s;w++){var H=w<<2,Re=w<<2,ce=r[Re];h[H]=ce,h[H+1]=ce,h[H+2]=ce,h[H+3]=r[Re+2]}}else if(f==0)for(var D=i.tabs.tRNS?i.tabs.tRNS:-1,K=0;K<t;K++){var ke=K*o,Ne=K*e;if(p==1)for(var _=0;_<e;_++){var ce=255*(r[ke+(_>>>3)]>>>7-(_&7)&1),ae=ce==D*255?0:255;d[Ne+_]=ae<<24|ce<<16|ce<<8|ce}else if(p==2)for(var _=0;_<e;_++){var ce=85*(r[ke+(_>>>2)]>>>6-((_&3)<<1)&3),ae=ce==D*85?0:255;d[Ne+_]=ae<<24|ce<<16|ce<<8|ce}else if(p==4)for(var _=0;_<e;_++){var ce=17*(r[ke+(_>>>1)]>>>4-((_&1)<<2)&15),ae=ce==D*17?0:255;d[Ne+_]=ae<<24|ce<<16|ce<<8|ce}else if(p==8)for(var _=0;_<e;_++){var ce=r[ke+_],ae=ce==D?0:255;d[Ne+_]=ae<<24|ce<<16|ce<<8|ce}else if(p==16)for(var _=0;_<e;_++){var ce=r[ke+(_<<1)],ae=y(r,ke+(_<<w))==D?0:255;d[Ne+_]=ae<<24|ce<<16|ce<<8|ce}}return h};Ee.decode=function(r){for(var e=new Uint8Array(r),t=8,i=Ee._bin,s=i.readUshort,n=i.readUint,o={tabs:{},frames:[]},h=new Uint8Array(e.length),d=0,f,p=0,y=[137,80,78,71,13,10,26,10],b=0;b<8;b++)if(e[b]!=y[b])throw"The input is not a PNG file!";for(;t<e.length;){var w=i.readUint(e,t);t+=4;var T=i.readASCII(e,t,4);if(t+=4,T=="IHDR")Ee.decode._IHDR(e,t,o);else if(T=="IDAT"){for(var b=0;b<w;b++)h[d+b]=e[t+b];d+=w}else if(T=="acTL")o.tabs[T]={num_frames:n(e,t),num_plays:n(e,t+4)},f=new Uint8Array(e.length);else if(T=="fcTL"){if(p!=0){var P=o.frames[o.frames.length-1];P.data=Ee.decode._decompress(o,f.slice(0,p),P.rect.width,P.rect.height),p=0}var D={x:n(e,t+12),y:n(e,t+16),width:n(e,t+4),height:n(e,t+8)},L=s(e,t+22);L=s(e,t+20)/(L==0?100:L);var W={rect:D,delay:Math.round(L*1e3),dispose:e[t+24],blend:e[t+25]};o.frames.push(W)}else if(T=="fdAT"){for(var b=0;b<w-4;b++)f[p+b]=e[t+b+4];p+=w-4}else if(T=="pHYs")o.tabs[T]=[i.readUint(e,t),i.readUint(e,t+4),e[t+8]];else if(T=="cHRM"){o.tabs[T]=[];for(var b=0;b<8;b++)o.tabs[T].push(i.readUint(e,t+b*4))}else if(T=="tEXt"){o.tabs[T]==null&&(o.tabs[T]={});var H=i.nextZero(e,t),ee=i.readASCII(e,t,H-t),Y=i.readASCII(e,H+1,t+w-H-1);o.tabs[T][ee]=Y}else if(T=="iTXt"){o.tabs[T]==null&&(o.tabs[T]={});var H=0,Z=t;H=i.nextZero(e,Z);var ee=i.readASCII(e,Z,H-Z);Z=H+1,e[Z],e[Z+1],Z+=2,H=i.nextZero(e,Z),i.readASCII(e,Z,H-Z),Z=H+1,H=i.nextZero(e,Z),i.readUTF8(e,Z,H-Z),Z=H+1;var Y=i.readUTF8(e,Z,w-(Z-t));o.tabs[T][ee]=Y}else if(T=="PLTE")o.tabs[T]=i.readBytes(e,t,w);else if(T=="hIST"){var K=o.tabs.PLTE.length/3;o.tabs[T]=[];for(var b=0;b<K;b++)o.tabs[T].push(s(e,t+b*2))}else if(T=="tRNS")o.ctype==3?o.tabs[T]=i.readBytes(e,t,w):o.ctype==0?o.tabs[T]=s(e,t):o.ctype==2&&(o.tabs[T]=[s(e,t),s(e,t+2),s(e,t+4)]);else if(T=="gAMA")o.tabs[T]=i.readUint(e,t)/1e5;else if(T=="sRGB")o.tabs[T]=e[t];else if(T=="bKGD")o.ctype==0||o.ctype==4?o.tabs[T]=[s(e,t)]:o.ctype==2||o.ctype==6?o.tabs[T]=[s(e,t),s(e,t+2),s(e,t+4)]:o.ctype==3&&(o.tabs[T]=e[t]);else if(T=="IEND")break;t+=w,i.readUint(e,t),t+=4}if(p!=0){var P=o.frames[o.frames.length-1];P.data=Ee.decode._decompress(o,f.slice(0,p),P.rect.width,P.rect.height),p=0}return o.data=Ee.decode._decompress(o,h,o.width,o.height),delete o.compress,delete o.interlace,delete o.filter,o};Ee.decode._decompress=function(r,e,t,i){var s=Ee.decode._getBPP(r),n=Math.ceil(t*s/8),o=new Uint8Array((n+1+r.interlace)*i);return e=Ee.decode._inflate(e,o),r.interlace==0?e=Ee.decode._filterZero(e,r,0,t,i):r.interlace==1&&(e=Ee.decode._readInterlace(e,r)),e};Ee.decode._inflate=function(r,e){var t=Ee.inflateRaw(new Uint8Array(r.buffer,2,r.length-6),e);return t};Ee.inflateRaw=function(){var r={};return r.H={},r.H.N=function(e,t){var i=Uint8Array,s=0,n=0,o=0,h=0,d=0,f=0,p=0,y=0,b=0,w,T;if(e[0]==3&&e[1]==0)return t||new i(0);var P=r.H,D=P.b,L=P.e,W=P.R,H=P.n,ee=P.A,Y=P.Z,Z=P.m,K=t==null;for(K&&(t=new i(e.length>>>2<<3));s==0;){if(s=D(e,b,1),n=D(e,b+1,2),b+=3,n==0){(b&7)!=0&&(b+=8-(b&7));var pe=(b>>>3)+4,Ce=e[pe-4]|e[pe-3]<<8;K&&(t=r.H.W(t,y+Ce)),t.set(new i(e.buffer,e.byteOffset+pe,Ce),y),b=pe+Ce<<3,y+=Ce;continue}if(K&&(t=r.H.W(t,y+(1<<17))),n==1&&(w=Z.J,T=Z.h,f=511,p=31),n==2){o=L(e,b,5)+257,h=L(e,b+5,5)+1,d=L(e,b+10,4)+4,b+=14;for(var we=1,xe=0;xe<38;xe+=2)Z.Q[xe]=0,Z.Q[xe+1]=0;for(var xe=0;xe<d;xe++){var Re=L(e,b+xe*3,3);Z.Q[(Z.X[xe]<<1)+1]=Re,Re>we&&(we=Re)}b+=3*d,H(Z.Q,we),ee(Z.Q,we,Z.u),w=Z.w,T=Z.d,b=W(Z.u,(1<<we)-1,o+h,e,b,Z.v);var ce=P.V(Z.v,0,o,Z.C);f=(1<<ce)-1;var ke=P.V(Z.v,o,h,Z.D);p=(1<<ke)-1,H(Z.C,ce),ee(Z.C,ce,w),H(Z.D,ke),ee(Z.D,ke,T)}for(;;){var Ne=w[Y(e,b)&f];b+=Ne&15;var _=Ne>>>4;if(!(_>>>8))t[y++]=_;else{if(_==256)break;var ae=y+_-254;if(_>264){var Me=Z.q[_-257];ae=y+(Me>>>3)+L(e,b,Me&7),b+=Me&7}var Ke=T[Y(e,b)&p];b+=Ke&15;var Q=Ke>>>4,ge=Z.c[Q],Ae=(ge>>>4)+D(e,b,ge&15);for(b+=ge&15;y<ae;)t[y]=t[y++-Ae],t[y]=t[y++-Ae],t[y]=t[y++-Ae],t[y]=t[y++-Ae];y=ae}}}return t.length==y?t:t.slice(0,y)},r.H.W=function(e,t){var i=e.length;if(t<=i)return e;var s=new Uint8Array(i<<1);return s.set(e,0),s},r.H.R=function(e,t,i,s,n,o){for(var h=r.H.e,d=r.H.Z,f=0;f<i;){var p=e[d(s,n)&t];n+=p&15;var y=p>>>4;if(y<=15)o[f]=y,f++;else{var b=0,w=0;y==16?(w=3+h(s,n,2),n+=2,b=o[f-1]):y==17?(w=3+h(s,n,3),n+=3):y==18&&(w=11+h(s,n,7),n+=7);for(var T=f+w;f<T;)o[f]=b,f++}}return n},r.H.V=function(e,t,i,s){for(var n=0,o=0,h=s.length>>>1;o<i;){var d=e[o+t];s[o<<1]=0,s[(o<<1)+1]=d,d>n&&(n=d),o++}for(;o<h;)s[o<<1]=0,s[(o<<1)+1]=0,o++;return n},r.H.n=function(e,t){for(var i=r.H.m,s=e.length,n,o,h,d,f,p=i.j,d=0;d<=t;d++)p[d]=0;for(d=1;d<s;d+=2)p[e[d]]++;var y=i.K;for(n=0,p[0]=0,o=1;o<=t;o++)n=n+p[o-1]<<1,y[o]=n;for(h=0;h<s;h+=2)f=e[h+1],f!=0&&(e[h]=y[f],y[f]++)},r.H.A=function(e,t,i){for(var s=e.length,n=r.H.m,o=n.r,h=0;h<s;h+=2)if(e[h+1]!=0)for(var d=h>>1,f=e[h+1],p=d<<4|f,y=t-f,b=e[h]<<y,w=b+(1<<y);b!=w;){var T=o[b]>>>15-t;i[T]=p,b++}},r.H.l=function(e,t){for(var i=r.H.m.r,s=15-t,n=0;n<e.length;n+=2){var o=e[n]<<t-e[n+1];e[n]=i[o]>>>s}},r.H.M=function(e,t,i){i=i<<(t&7);var s=t>>>3;e[s]|=i,e[s+1]|=i>>>8},r.H.I=function(e,t,i){i=i<<(t&7);var s=t>>>3;e[s]|=i,e[s+1]|=i>>>8,e[s+2]|=i>>>16},r.H.e=function(e,t,i){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(t&7)&(1<<i)-1},r.H.b=function(e,t,i){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)&(1<<i)-1},r.H.Z=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)},r.H.i=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16|e[(t>>>3)+3]<<24)>>>(t&7)},r.H.m=function(){var e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var e=r.H.m,t=32768,i=0;i<t;i++){var s=i;s=(s&2863311530)>>>1|(s&1431655765)<<1,s=(s&3435973836)>>>2|(s&858993459)<<2,s=(s&4042322160)>>>4|(s&252645135)<<4,s=(s&4278255360)>>>8|(s&16711935)<<8,e.r[i]=(s>>>16|s<<16)>>>17}function n(o,h,d){for(;h--!=0;)o.push(0,d)}for(var i=0;i<32;i++)e.q[i]=e.S[i]<<3|e.T[i],e.c[i]=e.p[i]<<4|e.z[i];n(e._,144,8),n(e._,112,9),n(e._,24,7),n(e._,8,8),r.H.n(e._,9),r.H.A(e._,9,e.J),r.H.l(e._,9),n(e.$,32,5),r.H.n(e.$,5),r.H.A(e.$,5,e.h),r.H.l(e.$,5),n(e.Q,19,0),n(e.C,286,0),n(e.D,30,0),n(e.v,320,0)}(),r.H.N}();Ee.decode._readInterlace=function(r,e){for(var t=e.width,i=e.height,s=Ee.decode._getBPP(e),n=s>>3,o=Math.ceil(t*s/8),h=new Uint8Array(i*o),d=0,f=[0,0,4,0,2,0,1],p=[0,4,0,2,0,1,0],y=[8,8,8,4,4,2,2],b=[8,8,4,4,2,2,1],w=0;w<7;){for(var T=y[w],P=b[w],D=0,L=0,W=f[w];W<i;)W+=T,L++;for(var H=p[w];H<t;)H+=P,D++;var ee=Math.ceil(D*s/8);Ee.decode._filterZero(r,e,d,D,L);for(var Y=0,Z=f[w];Z<i;){for(var K=p[w],pe=d+Y*ee<<3;K<t;){if(s==1){var Ce=r[pe>>3];Ce=Ce>>7-(pe&7)&1,h[Z*o+(K>>3)]|=Ce<<7-((K&7)<<0)}if(s==2){var Ce=r[pe>>3];Ce=Ce>>6-(pe&7)&3,h[Z*o+(K>>2)]|=Ce<<6-((K&3)<<1)}if(s==4){var Ce=r[pe>>3];Ce=Ce>>4-(pe&7)&15,h[Z*o+(K>>1)]|=Ce<<4-((K&1)<<2)}if(s>=8)for(var we=Z*o+K*n,xe=0;xe<n;xe++)h[we+xe]=r[(pe>>3)+xe];pe+=s,K+=P}Y++,Z+=T}D*L!=0&&(d+=L*(1+ee)),w=w+1}return h};Ee.decode._getBPP=function(r){var e=[1,null,3,1,2,null,4][r.ctype];return e*r.depth};Ee.decode._filterZero=function(r,e,t,i,s){var n=Ee.decode._getBPP(e),o=Math.ceil(i*n/8),h=Ee.decode._paeth;n=Math.ceil(n/8);var d=0,f=1,p=r[t],y=0;if(p>1&&(r[t]=[0,0,1][p-2]),p==3)for(y=n;y<o;y++)r[y+1]=r[y+1]+(r[y+1-n]>>>1)&255;for(var b=0;b<s;b++)if(d=t+b*o,f=d+b+1,p=r[f-1],y=0,p==0)for(;y<o;y++)r[d+y]=r[f+y];else if(p==1){for(;y<n;y++)r[d+y]=r[f+y];for(;y<o;y++)r[d+y]=r[f+y]+r[d+y-n]}else if(p==2)for(;y<o;y++)r[d+y]=r[f+y]+r[d+y-o];else if(p==3){for(;y<n;y++)r[d+y]=r[f+y]+(r[d+y-o]>>>1);for(;y<o;y++)r[d+y]=r[f+y]+(r[d+y-o]+r[d+y-n]>>>1)}else{for(;y<n;y++)r[d+y]=r[f+y]+h(0,r[d+y-o],0);for(;y<o;y++)r[d+y]=r[f+y]+h(r[d+y-n],r[d+y-o],r[d+y-n-o])}return r};Ee.decode._paeth=function(r,e,t){var i=r+e-t,s=i-r,n=i-e,o=i-t;return s*s<=n*n&&s*s<=o*o?r:n*n<=o*o?e:t};Ee.decode._IHDR=function(r,e,t){var i=Ee._bin;t.width=i.readUint(r,e),e+=4,t.height=i.readUint(r,e),e+=4,t.depth=r[e],e++,t.ctype=r[e],e++,t.compress=r[e],e++,t.filter=r[e],e++,t.interlace=r[e],e++};Ee._bin={nextZero:function(r,e){for(;r[e]!=0;)e++;return e},readUshort:function(r,e){return r[e]<<8|r[e+1]},writeUshort:function(r,e,t){r[e]=t>>8&255,r[e+1]=t&255},readUint:function(r,e){return r[e]*(256*256*256)+(r[e+1]<<16|r[e+2]<<8|r[e+3])},writeUint:function(r,e,t){r[e]=t>>24&255,r[e+1]=t>>16&255,r[e+2]=t>>8&255,r[e+3]=t&255},readASCII:function(r,e,t){for(var i="",s=0;s<t;s++)i+=String.fromCharCode(r[e+s]);return i},writeASCII:function(r,e,t){for(var i=0;i<t.length;i++)r[e+i]=t.charCodeAt(i)},readBytes:function(r,e,t){for(var i=[],s=0;s<t;s++)i.push(r[e+s]);return i},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,e,t){for(var i="",s,n=0;n<t;n++)i+="%"+Ee._bin.pad(r[e+n].toString(16));try{s=decodeURIComponent(i)}catch{return Ee._bin.readASCII(r,e,t)}return s}};Ee._copyTile=function(r,e,t,i,s,n,o,h,d){for(var f=Math.min(e,s),p=Math.min(t,n),y=0,b=0,w=0;w<p;w++)for(var T=0;T<f;T++)if(o>=0&&h>=0?(y=w*e+T<<2,b=(h+w)*s+o+T<<2):(y=(-h+w)*e-o+T<<2,b=w*s+T<<2),d==0)i[b]=r[y],i[b+1]=r[y+1],i[b+2]=r[y+2],i[b+3]=r[y+3];else if(d==1){var P=r[y+3]*.00392156862745098,D=r[y]*P,L=r[y+1]*P,W=r[y+2]*P,H=i[b+3]*(1/255),ee=i[b]*H,Y=i[b+1]*H,Z=i[b+2]*H,K=1-P,pe=P+H*K,Ce=pe==0?0:1/pe;i[b+3]=255*pe,i[b+0]=(D+ee*K)*Ce,i[b+1]=(L+Y*K)*Ce,i[b+2]=(W+Z*K)*Ce}else if(d==2){var P=r[y+3],D=r[y],L=r[y+1],W=r[y+2],H=i[b+3],ee=i[b],Y=i[b+1],Z=i[b+2];P==H&&D==ee&&L==Y&&W==Z?(i[b]=0,i[b+1]=0,i[b+2]=0,i[b+3]=0):(i[b]=D,i[b+1]=L,i[b+2]=W,i[b+3]=P)}else if(d==3){var P=r[y+3],D=r[y],L=r[y+1],W=r[y+2],H=i[b+3],ee=i[b],Y=i[b+1],Z=i[b+2];if(P==H&&D==ee&&L==Y&&W==Z)continue;if(P<220&&H>20)return!1}return!0};Ee.encode=function(r,e,t,i,s,n,o){i==null&&(i=0),o==null&&(o=!1);var h=Ee.encode.compress(r,e,t,i,[!1,!1,!1,0,o]);return Ee.encode.compressPNG(h,-1),Ee.encode._main(h,e,t,s,n)};Ee.encodeLL=function(r,e,t,i,s,n,o,h){for(var d={ctype:0+(i==1?0:2)+(s==0?0:4),depth:n,frames:[]},f=(i+s)*n,p=f*e,y=0;y<r.length;y++)d.frames.push({rect:{x:0,y:0,width:e,height:t},img:new Uint8Array(r[y]),blend:0,dispose:1,bpp:Math.ceil(f/8),bpl:Math.ceil(p/8)});Ee.encode.compressPNG(d,0,!0);var b=Ee.encode._main(d,e,t,o,h);return b};Ee.encode._main=function(r,e,t,i,s){s==null&&(s={});var n=Ee.crc.crc,o=Ee._bin.writeUint,h=Ee._bin.writeUshort,d=Ee._bin.writeASCII,f=8,p=r.frames.length>1,y=!1,b=33+(p?20:0);if(s.sRGB!=null&&(b+=13),s.pHYs!=null&&(b+=21),r.ctype==3){for(var w=r.plte.length,T=0;T<w;T++)r.plte[T]>>>24!=255&&(y=!0);b+=8+w*3+4+(y?8+w*1+4:0)}for(var P=0;P<r.frames.length;P++){var D=r.frames[P];p&&(b+=38),b+=D.cimg.length+12,P!=0&&(b+=4)}b+=12;for(var L=new Uint8Array(b),W=[137,80,78,71,13,10,26,10],T=0;T<8;T++)L[T]=W[T];if(o(L,f,13),f+=4,d(L,f,"IHDR"),f+=4,o(L,f,e),f+=4,o(L,f,t),f+=4,L[f]=r.depth,f++,L[f]=r.ctype,f++,L[f]=0,f++,L[f]=0,f++,L[f]=0,f++,o(L,f,n(L,f-17,17)),f+=4,s.sRGB!=null&&(o(L,f,1),f+=4,d(L,f,"sRGB"),f+=4,L[f]=s.sRGB,f++,o(L,f,n(L,f-5,5)),f+=4),s.pHYs!=null&&(o(L,f,9),f+=4,d(L,f,"pHYs"),f+=4,o(L,f,s.pHYs[0]),f+=4,o(L,f,s.pHYs[1]),f+=4,L[f]=s.pHYs[2],f++,o(L,f,n(L,f-13,13)),f+=4),p&&(o(L,f,8),f+=4,d(L,f,"acTL"),f+=4,o(L,f,r.frames.length),f+=4,o(L,f,s.loop!=null?s.loop:0),f+=4,o(L,f,n(L,f-12,12)),f+=4),r.ctype==3){var w=r.plte.length;o(L,f,w*3),f+=4,d(L,f,"PLTE"),f+=4;for(var T=0;T<w;T++){var H=T*3,ee=r.plte[T],Y=ee&255,Z=ee>>>8&255,K=ee>>>16&255;L[f+H+0]=Y,L[f+H+1]=Z,L[f+H+2]=K}if(f+=w*3,o(L,f,n(L,f-w*3-4,w*3+4)),f+=4,y){o(L,f,w),f+=4,d(L,f,"tRNS"),f+=4;for(var T=0;T<w;T++)L[f+T]=r.plte[T]>>>24&255;f+=w,o(L,f,n(L,f-w-4,w+4)),f+=4}}for(var pe=0,P=0;P<r.frames.length;P++){var D=r.frames[P];p&&(o(L,f,26),f+=4,d(L,f,"fcTL"),f+=4,o(L,f,pe++),f+=4,o(L,f,D.rect.width),f+=4,o(L,f,D.rect.height),f+=4,o(L,f,D.rect.x),f+=4,o(L,f,D.rect.y),f+=4,h(L,f,i[P]),f+=2,h(L,f,1e3),f+=2,L[f]=D.dispose,f++,L[f]=D.blend,f++,o(L,f,n(L,f-30,30)),f+=4);var Ce=D.cimg,w=Ce.length;o(L,f,w+(P==0?0:4)),f+=4;var we=f;d(L,f,P==0?"IDAT":"fdAT"),f+=4,P!=0&&(o(L,f,pe++),f+=4),L.set(Ce,f),f+=w,o(L,f,n(L,we,f-we)),f+=4}return o(L,f,0),f+=4,d(L,f,"IEND"),f+=4,o(L,f,n(L,f-4,4)),f+=4,L.buffer};Ee.encode.compressPNG=function(r,e,t){for(var i=0;i<r.frames.length;i++){var s=r.frames[i];s.rect.width;var n=s.rect.height,o=new Uint8Array(n*s.bpl+n);s.cimg=Ee.encode._filterZero(s.img,n,s.bpp,s.bpl,o,e,t)}};Ee.encode.compress=function(r,e,t,i,s){for(var n=s[0],o=s[1],h=s[2],d=s[3],f=s[4],p=6,y=8,b=255,w=0;w<r.length;w++)for(var T=new Uint8Array(r[w]),P=T.length,D=0;D<P;D+=4)b&=T[D+3];var L=b!=255,W=Ee.encode.framize(r,e,t,n,o,h),H={},ee=[],Y=[];if(i!=0){for(var Z=[],D=0;D<W.length;D++)Z.push(W[D].img.buffer);for(var K=Ee.encode.concatRGBA(Z),pe=Ee.quantize(K,i),Ce=0,we=new Uint8Array(pe.abuf),D=0;D<W.length;D++){var xe=W[D].img,Re=xe.length;Y.push(new Uint8Array(pe.inds.buffer,Ce>>2,Re>>2));for(var w=0;w<Re;w+=4)xe[w]=we[Ce+w],xe[w+1]=we[Ce+w+1],xe[w+2]=we[Ce+w+2],xe[w+3]=we[Ce+w+3];Ce+=Re}for(var D=0;D<pe.plte.length;D++)ee.push(pe.plte[D].est.rgba)}else for(var w=0;w<W.length;w++){var ce=W[w],ke=new Uint32Array(ce.img.buffer),Ne=ce.rect.width,P=ke.length,_=new Uint8Array(P);Y.push(_);for(var D=0;D<P;D++){var ae=ke[D];if(D!=0&&ae==ke[D-1])_[D]=_[D-1];else if(D>Ne&&ae==ke[D-Ne])_[D]=_[D-Ne];else{var Me=H[ae];if(Me==null&&(H[ae]=Me=ee.length,ee.push(ae),ee.length>=300))break;_[D]=Me}}}var Ke=ee.length;Ke<=256&&f==!1&&(Ke<=2?y=1:Ke<=4?y=2:Ke<=16?y=4:y=8,y=Math.max(y,d));for(var w=0;w<W.length;w++){var ce=W[w];ce.rect.x,ce.rect.y;var Ne=ce.rect.width,Q=ce.rect.height,ge=ce.img;new Uint32Array(ge.buffer);var Ae=4*Ne,Pe=4;if(Ke<=256&&f==!1){Ae=Math.ceil(y*Ne/8);for(var qe=new Uint8Array(Ae*Q),it=Y[w],Fe=0;Fe<Q;Fe++){var D=Fe*Ae,Vt=Fe*Ne;if(y==8)for(var Be=0;Be<Ne;Be++)qe[D+Be]=it[Vt+Be];else if(y==4)for(var Be=0;Be<Ne;Be++)qe[D+(Be>>1)]|=it[Vt+Be]<<4-(Be&1)*4;else if(y==2)for(var Be=0;Be<Ne;Be++)qe[D+(Be>>2)]|=it[Vt+Be]<<6-(Be&3)*2;else if(y==1)for(var Be=0;Be<Ne;Be++)qe[D+(Be>>3)]|=it[Vt+Be]<<7-(Be&7)*1}ge=qe,p=3,Pe=1}else if(L==!1&&W.length==1){for(var qe=new Uint8Array(Ne*Q*3),ui=Ne*Q,D=0;D<ui;D++){var xe=D*3,Fi=D*4;qe[xe]=ge[Fi],qe[xe+1]=ge[Fi+1],qe[xe+2]=ge[Fi+2]}ge=qe,p=2,Pe=3,Ae=3*Ne}ce.img=ge,ce.bpl=Ae,ce.bpp=Pe}return{ctype:p,depth:y,plte:ee,frames:W}};Ee.encode.framize=function(r,e,t,i,s,n){for(var o=[],h=0;h<r.length;h++){var d=new Uint8Array(r[h]),f=new Uint32Array(d.buffer),p,y=0,b=0,w=e,T=t,P=i?1:0;if(h!=0){for(var D=n||i||h==1||o[h-2].dispose!=0?1:2,L=0,W=1e9,H=0;H<D;H++){for(var ce=new Uint8Array(r[h-1-H]),ee=new Uint32Array(r[h-1-H]),Y=e,Z=t,K=-1,pe=-1,Ce=0;Ce<t;Ce++)for(var we=0;we<e;we++){var xe=Ce*e+we;f[xe]!=ee[xe]&&(we<Y&&(Y=we),we>K&&(K=we),Ce<Z&&(Z=Ce),Ce>pe&&(pe=Ce))}K==-1&&(Y=Z=K=pe=0),s&&((Y&1)==1&&Y--,(Z&1)==1&&Z--);var Re=(K-Y+1)*(pe-Z+1);Re<W&&(W=Re,L=H,y=Y,b=Z,w=K-Y+1,T=pe-Z+1)}var ce=new Uint8Array(r[h-1-L]);L==1&&(o[h-1].dispose=2),p=new Uint8Array(w*T*4),Ee._copyTile(ce,e,t,p,w,T,-y,-b,0),P=Ee._copyTile(d,e,t,p,w,T,-y,-b,3)?1:0,P==1?Ee.encode._prepareDiff(d,e,t,p,{x:y,y:b,width:w,height:T}):Ee._copyTile(d,e,t,p,w,T,-y,-b,0)}else p=d.slice(0);o.push({rect:{x:y,y:b,width:w,height:T},img:p,blend:P,dispose:0})}if(i)for(var h=0;h<o.length;h++){var ke=o[h];if(ke.blend!=1){var Ne=ke.rect,_=o[h-1].rect,ae=Math.min(Ne.x,_.x),Me=Math.min(Ne.y,_.y),Ke=Math.max(Ne.x+Ne.width,_.x+_.width),Q=Math.max(Ne.y+Ne.height,_.y+_.height),ge={x:ae,y:Me,width:Ke-ae,height:Q-Me};o[h-1].dispose=1,h-1!=0&&Ee.encode._updateFrame(r,e,t,o,h-1,ge,s),Ee.encode._updateFrame(r,e,t,o,h,ge,s)}}var Ae=0;if(r.length!=1)for(var xe=0;xe<o.length;xe++){var ke=o[xe];Ae+=ke.rect.width*ke.rect.height}return o};Ee.encode._updateFrame=function(r,e,t,i,s,n,o){for(var h=Uint8Array,d=Uint32Array,f=new h(r[s-1]),p=new d(r[s-1]),y=s+1<r.length?new h(r[s+1]):null,b=new h(r[s]),w=new d(b.buffer),T=e,P=t,D=-1,L=-1,W=0;W<n.height;W++)for(var H=0;H<n.width;H++){var ee=n.x+H,Y=n.y+W,Z=Y*e+ee,K=w[Z];K==0||i[s-1].dispose==0&&p[Z]==K&&(y==null||y[Z*4+3]!=0)||(ee<T&&(T=ee),ee>D&&(D=ee),Y<P&&(P=Y),Y>L&&(L=Y))}D==-1&&(T=P=D=L=0),o&&((T&1)==1&&T--,(P&1)==1&&P--),n={x:T,y:P,width:D-T+1,height:L-P+1};var pe=i[s];pe.rect=n,pe.blend=1,pe.img=new Uint8Array(n.width*n.height*4),i[s-1].dispose==0?(Ee._copyTile(f,e,t,pe.img,n.width,n.height,-n.x,-n.y,0),Ee.encode._prepareDiff(b,e,t,pe.img,n)):Ee._copyTile(b,e,t,pe.img,n.width,n.height,-n.x,-n.y,0)};Ee.encode._prepareDiff=function(r,e,t,i,s){Ee._copyTile(r,e,t,i,s.width,s.height,-s.x,-s.y,2)};Ee.encode._filterZero=function(r,e,t,i,s,n,o){var h=[],d=[0,1,2,3,4];n!=-1?d=[n]:(e*i>5e5||t==1)&&(d=[0]);var f;o&&(f={level:0});for(var p=o&&UZIP!=null?UZIP:Yf,y=0;y<d.length;y++){for(var b=0;b<e;b++)Ee.encode._filterLine(s,r,b,i,t,d[y]);h.push(p.deflate(s,f))}for(var w,T=1e9,y=0;y<h.length;y++)h[y].length<T&&(w=y,T=h[y].length);return h[w]};Ee.encode._filterLine=function(r,e,t,i,s,n){var o=t*i,h=o+t,d=Ee.decode._paeth;if(r[h]=n,h++,n==0)if(i<500)for(var f=0;f<i;f++)r[h+f]=e[o+f];else r.set(new Uint8Array(e.buffer,o,i),h);else if(n==1){for(var f=0;f<s;f++)r[h+f]=e[o+f];for(var f=s;f<i;f++)r[h+f]=e[o+f]-e[o+f-s]+256&255}else if(t==0){for(var f=0;f<s;f++)r[h+f]=e[o+f];if(n==2)for(var f=s;f<i;f++)r[h+f]=e[o+f];if(n==3)for(var f=s;f<i;f++)r[h+f]=e[o+f]-(e[o+f-s]>>1)+256&255;if(n==4)for(var f=s;f<i;f++)r[h+f]=e[o+f]-d(e[o+f-s],0,0)+256&255}else{if(n==2)for(var f=0;f<i;f++)r[h+f]=e[o+f]+256-e[o+f-i]&255;if(n==3){for(var f=0;f<s;f++)r[h+f]=e[o+f]+256-(e[o+f-i]>>1)&255;for(var f=s;f<i;f++)r[h+f]=e[o+f]+256-(e[o+f-i]+e[o+f-s]>>1)&255}if(n==4){for(var f=0;f<s;f++)r[h+f]=e[o+f]+256-d(0,e[o+f-i],0)&255;for(var f=s;f<i;f++)r[h+f]=e[o+f]+256-d(e[o+f-s],e[o+f-i],e[o+f-s-i])&255}}};Ee.crc={table:function(){for(var r=new Uint32Array(256),e=0;e<256;e++){for(var t=e,i=0;i<8;i++)t&1?t=3988292384^t>>>1:t=t>>>1;r[e]=t}return r}(),update:function(r,e,t,i){for(var s=0;s<i;s++)r=Ee.crc.table[(r^e[t+s])&255]^r>>>8;return r},crc:function(r,e,t){return Ee.crc.update(4294967295,r,e,t)^4294967295}};Ee.quantize=function(r,e){var t=new Uint8Array(r),i=t.slice(0),s=new Uint32Array(i.buffer),n=Ee.quantize.getKDtree(i,e),o=n[0],h=n[1];Ee.quantize.planeDst;for(var d=t,f=s,p=d.length,y=new Uint8Array(t.length>>2),b=0;b<p;b+=4){var w=d[b]*.00392156862745098,T=d[b+1]*(1/255),P=d[b+2]*(1/255),D=d[b+3]*(1/255),L=Ee.quantize.getNearest(o,w,T,P,D);y[b>>2]=L.ind,f[b>>2]=L.est.rgba}return{abuf:i.buffer,inds:y,plte:h}};Ee.quantize.getKDtree=function(r,e,t){t==null&&(t=1e-4);var i=new Uint32Array(r.buffer),s={i0:0,i1:r.length,bst:null,est:null,tdst:0,left:null,right:null};s.bst=Ee.quantize.stats(r,s.i0,s.i1),s.est=Ee.quantize.estats(s.bst);for(var n=[s];n.length<e;){for(var o=0,h=0,d=0;d<n.length;d++)n[d].est.L>o&&(o=n[d].est.L,h=d);if(o<t)break;var f=n[h],p=Ee.quantize.splitPixels(r,i,f.i0,f.i1,f.est.e,f.est.eMq255),y=f.i0>=p||f.i1<=p;if(y){f.est.L=0;continue}var b={i0:f.i0,i1:p,bst:null,est:null,tdst:0,left:null,right:null};b.bst=Ee.quantize.stats(r,b.i0,b.i1),b.est=Ee.quantize.estats(b.bst);var w={i0:p,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};w.bst={R:[],m:[],N:f.bst.N-b.bst.N};for(var d=0;d<16;d++)w.bst.R[d]=f.bst.R[d]-b.bst.R[d];for(var d=0;d<4;d++)w.bst.m[d]=f.bst.m[d]-b.bst.m[d];w.est=Ee.quantize.estats(w.bst),f.left=b,f.right=w,n[h]=b,n.push(w)}n.sort(function(T,P){return P.bst.N-T.bst.N});for(var d=0;d<n.length;d++)n[d].ind=d;return[s,n]};Ee.quantize.getNearest=function(r,e,t,i,s){if(r.left==null)return r.tdst=Ee.quantize.dist(r.est.q,e,t,i,s),r;var n=Ee.quantize.planeDst(r.est,e,t,i,s),o=r.left,h=r.right;n>0&&(o=r.right,h=r.left);var d=Ee.quantize.getNearest(o,e,t,i,s);if(d.tdst<=n*n)return d;var f=Ee.quantize.getNearest(h,e,t,i,s);return f.tdst<d.tdst?f:d};Ee.quantize.planeDst=function(r,e,t,i,s){var n=r.e;return n[0]*e+n[1]*t+n[2]*i+n[3]*s-r.eMq};Ee.quantize.dist=function(r,e,t,i,s){var n=e-r[0],o=t-r[1],h=i-r[2],d=s-r[3];return n*n+o*o+h*h+d*d};Ee.quantize.splitPixels=function(r,e,t,i,s,n){var o=Ee.quantize.vecDot;for(i-=4;t<i;){for(;o(r,t,s)<=n;)t+=4;for(;o(r,i,s)>n;)i-=4;if(t>=i)break;var h=e[t>>2];e[t>>2]=e[i>>2],e[i>>2]=h,t+=4,i-=4}for(;o(r,t,s)>n;)t-=4;return t+4};Ee.quantize.vecDot=function(r,e,t){return r[e]*t[0]+r[e+1]*t[1]+r[e+2]*t[2]+r[e+3]*t[3]};Ee.quantize.stats=function(r,e,t){for(var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0],n=t-e>>2,o=e;o<t;o+=4){var h=r[o]*.00392156862745098,d=r[o+1]*(1/255),f=r[o+2]*(1/255),p=r[o+3]*(1/255);s[0]+=h,s[1]+=d,s[2]+=f,s[3]+=p,i[0]+=h*h,i[1]+=h*d,i[2]+=h*f,i[3]+=h*p,i[5]+=d*d,i[6]+=d*f,i[7]+=d*p,i[10]+=f*f,i[11]+=f*p,i[15]+=p*p}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:s,N:n}};Ee.quantize.estats=function(r){var e=r.R,t=r.m,i=r.N,s=t[0],n=t[1],o=t[2],h=t[3],d=i==0?0:1/i,f=[e[0]-s*s*d,e[1]-s*n*d,e[2]-s*o*d,e[3]-s*h*d,e[4]-n*s*d,e[5]-n*n*d,e[6]-n*o*d,e[7]-n*h*d,e[8]-o*s*d,e[9]-o*n*d,e[10]-o*o*d,e[11]-o*h*d,e[12]-h*s*d,e[13]-h*n*d,e[14]-h*o*d,e[15]-h*h*d],p=f,y=Ee.M4,b=[.5,.5,.5,.5],w=0,T=0;if(i!=0)for(var P=0;P<10&&(b=y.multVec(p,b),T=Math.sqrt(y.dot(b,b)),b=y.sml(1/T,b),!(Math.abs(T-w)<1e-9));P++)w=T;var D=[s*d,n*d,o*d,h*d],L=y.dot(y.sml(255,D),b);return{Cov:f,q:D,e:b,L:w,eMq255:L,eMq:y.dot(b,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2])<<16|Math.round(255*D[1])<<8|Math.round(255*D[0])<<0)>>>0}};Ee.M4={multVec:function(r,e){return[r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3],r[4]*e[0]+r[5]*e[1]+r[6]*e[2]+r[7]*e[3],r[8]*e[0]+r[9]*e[1]+r[10]*e[2]+r[11]*e[3],r[12]*e[0]+r[13]*e[1]+r[14]*e[2]+r[15]*e[3]]},dot:function(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3]},sml:function(r,e){return[r*e[0],r*e[1],r*e[2],r*e[3]]}};Ee.encode.concatRGBA=function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t].byteLength;for(var i=new Uint8Array(e),s=0,t=0;t<r.length;t++){for(var n=new Uint8Array(r[t]),o=n.length,h=0;h<o;h+=4){var d=n[h],f=n[h+1],p=n[h+2],y=n[h+3];y==0&&(d=f=p=0),i[s+h]=d,i[s+h+1]=f,i[s+h+2]=p,i[s+h+3]=y}s+=o}return i.buffer};var JP=function(r){if(r===0)return xo.Greyscale;if(r===2)return xo.Truecolour;if(r===3)return xo.IndexedColour;if(r===4)return xo.GreyscaleWithAlpha;if(r===6)return xo.TruecolourWithAlpha;throw new Error("Unknown color type: "+r)},$P=function(r){for(var e=Math.floor(r.length/4),t=new Uint8Array(e*3),i=new Uint8Array(e*1),s=0,n=0,o=0;s<r.length;)t[n++]=r[s++],t[n++]=r[s++],t[n++]=r[s++],i[o++]=r[s++];return{rgbChannel:t,alphaChannel:i}},xo;(function(r){r.Greyscale="Greyscale",r.Truecolour="Truecolour",r.IndexedColour="IndexedColour",r.GreyscaleWithAlpha="GreyscaleWithAlpha",r.TruecolourWithAlpha="TruecolourWithAlpha"})(xo||(xo={}));var e7=function(){function r(e){var t=Ee.decode(e),i=Ee.toRGBA8(t);if(i.length>1)throw new Error("Animated PNGs are not supported");var s=new Uint8Array(i[0]),n=$P(s),o=n.rgbChannel,h=n.alphaChannel;this.rgbChannel=o;var d=h.some(function(f){return f<255});d&&(this.alphaChannel=h),this.type=JP(t.ctype),this.width=t.width,this.height=t.height,this.bitsPerComponent=8}return r.load=function(e){return new r(e)},r}(),S2=function(){function r(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return r.for=function(e){return Et(this,void 0,void 0,function(){var t;return Tt(this,function(i){return t=e7.load(e),[2,new r(t)]})})},r.prototype.embedIntoContext=function(e,t){return Et(this,void 0,void 0,function(){var i,s;return Tt(this,function(n){return i=this.embedAlphaChannel(e),s=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:i}),t?(e.assign(t,s),[2,t]):[2,e.register(s)]})})},r.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var t=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(t)}},r}(),E2=function(){function r(e,t,i){this.bytes=e,this.start=t||0,this.pos=this.start,this.end=t&&i?t+i:this.bytes.length}return Object.defineProperty(r.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),r.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},r.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t},r.prototype.getInt32=function(){var e=this.getByte(),t=this.getByte(),i=this.getByte(),s=this.getByte();return(e<<24)+(t<<16)+(i<<8)+s},r.prototype.getBytes=function(e,t){t===void 0&&(t=!1);var i=this.bytes,s=this.pos,n=this.end;if(e){var h=s+e;h>n&&(h=n),this.pos=h;var o=i.subarray(s,h);return t?new Uint8ClampedArray(o):o}else{var o=i.subarray(s,n);return t?new Uint8ClampedArray(o):o}},r.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},r.prototype.peekBytes=function(e,t){t===void 0&&(t=!1);var i=this.getBytes(e,t);return this.pos-=i.length,i},r.prototype.skip=function(e){e||(e=1),this.pos+=e},r.prototype.reset=function(){this.pos=this.start},r.prototype.moveStart=function(){this.start=this.pos},r.prototype.makeSubStream=function(e,t){return new r(this.bytes,e,t)},r.prototype.decode=function(){return this.bytes},r}(),t7=new Uint8Array(0),sd=function(){function r(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=t7,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(r.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),r.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},r.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t},r.prototype.getInt32=function(){var e=this.getByte(),t=this.getByte(),i=this.getByte(),s=this.getByte();return(e<<24)+(t<<16)+(i<<8)+s},r.prototype.getBytes=function(e,t){t===void 0&&(t=!1);var i,s=this.pos;if(e){for(this.ensureBuffer(s+e),i=s+e;!this.eof&&this.bufferLength<i;)this.readBlock();var n=this.bufferLength;i>n&&(i=n)}else{for(;!this.eof;)this.readBlock();i=this.bufferLength}this.pos=i;var o=this.buffer.subarray(s,i);return t&&!(o instanceof Uint8ClampedArray)?new Uint8ClampedArray(o):o},r.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},r.prototype.peekBytes=function(e,t){t===void 0&&(t=!1);var i=this.getBytes(e,t);return this.pos-=i.length,i},r.prototype.skip=function(e){e||(e=1),this.pos+=e},r.prototype.reset=function(){this.pos=0},r.prototype.makeSubStream=function(e,t){for(var i=e+t;this.bufferLength<=i&&!this.eof;)this.readBlock();return new E2(this.buffer,e,t)},r.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},r.prototype.readBlock=function(){throw new Rr(this.constructor.name,"readBlock")},r.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var i=this.minBufferLength;i<e;)i*=2;var s=new Uint8Array(i);return s.set(t),this.buffer=s},r}(),pb=function(r){return r===32||r===9||r===13||r===10},i7=function(r){Oe(e,r);function e(t,i){var s=r.call(this,i)||this;return s.stream=t,s.input=new Uint8Array(5),i&&(i=.8*i),s}return e.prototype.readBlock=function(){for(var t=126,i=122,s=-1,n=this.stream,o=n.getByte();pb(o);)o=n.getByte();if(o===s||o===t){this.eof=!0;return}var h=this.bufferLength,d,f;if(o===i){for(d=this.ensureBuffer(h+4),f=0;f<4;++f)d[h+f]=0;this.bufferLength+=4}else{var p=this.input;for(p[0]=o,f=1;f<5;++f){for(o=n.getByte();pb(o);)o=n.getByte();if(p[f]=o,o===s||o===t)break}if(d=this.ensureBuffer(h+f-1),this.bufferLength+=f-1,f<5){for(;f<5;++f)p[f]=117;this.eof=!0}var y=0;for(f=0;f<5;++f)y=y*85+(p[f]-33);for(f=3;f>=0;--f)d[h+f]=y&255,y>>=8}},e}(sd),s7=function(r){Oe(e,r);function e(t,i){var s=r.call(this,i)||this;return s.stream=t,s.firstDigit=-1,i&&(i=.5*i),s}return e.prototype.readBlock=function(){var t=8e3,i=this.stream.getBytes(t);if(!i.length){this.eof=!0;return}for(var s=i.length+1>>1,n=this.ensureBuffer(this.bufferLength+s),o=this.bufferLength,h=this.firstDigit,d=0,f=i.length;d<f;d++){var p=i[d],y=void 0;if(p>=48&&p<=57)y=p&15;else if(p>=65&&p<=70||p>=97&&p<=102)y=(p&15)+9;else if(p===62){this.eof=!0;break}else continue;h<0?h=y:(n[o++]=h<<4|y,h=-1)}h>=0&&this.eof&&(n[o++]=h<<4,h=-1),this.firstDigit=h,this.bufferLength=o},e}(sd),mb=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r7=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),n7=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),a7=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],o7=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],l7=function(r){Oe(e,r);function e(t,i){var s=r.call(this,i)||this;s.stream=t;var n=t.getByte(),o=t.getByte();if(n===-1||o===-1)throw new Error("Invalid header in flate stream: "+n+", "+o);if((n&15)!==8)throw new Error("Unknown compression method in flate stream: "+n+", "+o);if(((n<<8)+o)%31!==0)throw new Error("Bad FCHECK in flate stream: "+n+", "+o);if(o&32)throw new Error("FDICT bit set in flate stream: "+n+", "+o);return s.codeSize=0,s.codeBuf=0,s}return e.prototype.readBlock=function(){var t,i,s=this.stream,n=this.getBits(3);if(n&1&&(this.eof=!0),n>>=1,n===0){var o=void 0;if((o=s.getByte())===-1)throw new Error("Bad block header in flate stream");var h=o;if((o=s.getByte())===-1)throw new Error("Bad block header in flate stream");if(h|=o<<8,(o=s.getByte())===-1)throw new Error("Bad block header in flate stream");var d=o;if((o=s.getByte())===-1)throw new Error("Bad block header in flate stream");if(d|=o<<8,d!==(~h&65535)&&(h!==0||d!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var f=this.bufferLength;t=this.ensureBuffer(f+h);var p=f+h;if(this.bufferLength=p,h===0)s.peekByte()===-1&&(this.eof=!0);else for(var y=f;y<p;++y){if((o=s.getByte())===-1){this.eof=!0;break}t[y]=o}return}var b,w;if(n===1)b=a7,w=o7;else if(n===2){var T=this.getBits(5)+257,P=this.getBits(5)+1,D=this.getBits(4)+4,L=new Uint8Array(mb.length),W=void 0;for(W=0;W<D;++W)L[mb[W]]=this.getBits(3);var H=this.generateHuffmanTable(L);i=0,W=0;for(var ee=T+P,Y=new Uint8Array(ee),Z=void 0,K=void 0,pe=void 0;W<ee;){var Ce=this.getCode(H);if(Ce===16)Z=2,K=3,pe=i;else if(Ce===17)Z=3,K=3,pe=i=0;else if(Ce===18)Z=7,K=11,pe=i=0;else{Y[W++]=i=Ce;continue}for(var we=this.getBits(Z)+K;we-- >0;)Y[W++]=pe}b=this.generateHuffmanTable(Y.subarray(0,T)),w=this.generateHuffmanTable(Y.subarray(T,ee))}else throw new Error("Unknown block type in flate stream");t=this.buffer;for(var xe=t?t.length:0,Re=this.bufferLength;;){var ce=this.getCode(b);if(ce<256){Re+1>=xe&&(t=this.ensureBuffer(Re+1),xe=t.length),t[Re++]=ce;continue}if(ce===256){this.bufferLength=Re;return}ce-=257,ce=r7[ce];var ke=ce>>16;ke>0&&(ke=this.getBits(ke)),i=(ce&65535)+ke,ce=this.getCode(w),ce=n7[ce],ke=ce>>16,ke>0&&(ke=this.getBits(ke));var Ne=(ce&65535)+ke;Re+i>=xe&&(t=this.ensureBuffer(Re+i),xe=t.length);for(var _=0;_<i;++_,++Re)t[Re]=t[Re-Ne]}},e.prototype.getBits=function(t){for(var i=this.stream,s=this.codeSize,n=this.codeBuf,o;s<t;){if((o=i.getByte())===-1)throw new Error("Bad encoding in flate stream");n|=o<<s,s+=8}return o=n&(1<<t)-1,this.codeBuf=n>>t,this.codeSize=s-=t,o},e.prototype.getCode=function(t){for(var i=this.stream,s=t[0],n=t[1],o=this.codeSize,h=this.codeBuf,d;o<n&&(d=i.getByte())!==-1;)h|=d<<o,o+=8;var f=s[h&(1<<n)-1];typeof s=="number"&&console.log("FLATE:",f);var p=f>>16,y=f&65535;if(p<1||o<p)throw new Error("Bad encoding in flate stream");return this.codeBuf=h>>p,this.codeSize=o-p,y},e.prototype.generateHuffmanTable=function(t){var i=t.length,s=0,n;for(n=0;n<i;++n)t[n]>s&&(s=t[n]);for(var o=1<<s,h=new Int32Array(o),d=1,f=0,p=2;d<=s;++d,f<<=1,p<<=1)for(var y=0;y<i;++y)if(t[y]===d){var b=0,w=f;for(n=0;n<d;++n)b=b<<1|w&1,w>>=1;for(n=b;n<o;n+=p)h[n]=d<<16|y;++f}return[h,s]},e}(sd),u7=function(r){Oe(e,r);function e(t,i,s){var n=r.call(this,i)||this;n.stream=t,n.cachedData=0,n.bitsCached=0;for(var o=4096,h={earlyChange:s,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(o),dictionaryLengths:new Uint16Array(o),dictionaryPrevCodes:new Uint16Array(o),currentSequence:new Uint8Array(o),currentSequenceLength:0},d=0;d<256;++d)h.dictionaryValues[d]=d,h.dictionaryLengths[d]=1;return n.lzwState=h,n}return e.prototype.readBlock=function(){var t=512,i=t*2,s=t,n,o,h,d=this.lzwState;if(d){var f=d.earlyChange,p=d.nextCode,y=d.dictionaryValues,b=d.dictionaryLengths,w=d.dictionaryPrevCodes,T=d.codeLength,P=d.prevCode,D=d.currentSequence,L=d.currentSequenceLength,W=0,H=this.bufferLength,ee=this.ensureBuffer(this.bufferLength+i);for(n=0;n<t;n++){var Y=this.readBits(T),Z=L>0;if(!Y||Y<256)D[0]=Y,L=1;else if(Y>=258)if(Y<p)for(L=b[Y],o=L-1,h=Y;o>=0;o--)D[o]=y[h],h=w[h];else D[L++]=D[0];else if(Y===256){T=9,p=258,L=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Z&&(w[p]=P,b[p]=b[P]+1,y[p]=D[0],p++,T=p+f&p+f-1?T:Math.min(Math.log(p+f)/.6931471805599453+1,12)|0),P=Y,W+=L,i<W){do i+=s;while(i<W);ee=this.ensureBuffer(this.bufferLength+i)}for(o=0;o<L;o++)ee[H++]=D[o]}d.nextCode=p,d.codeLength=T,d.prevCode=P,d.currentSequenceLength=L,this.bufferLength=H}},e.prototype.readBits=function(t){for(var i=this.bitsCached,s=this.cachedData;i<t;){var n=this.stream.getByte();if(n===-1)return this.eof=!0,null;s=s<<8|n,i+=8}return this.bitsCached=i-=t,this.cachedData=s,s>>>i&(1<<t)-1},e}(sd),h7=function(r){Oe(e,r);function e(t,i){var s=r.call(this,i)||this;return s.stream=t,s}return e.prototype.readBlock=function(){var t=this.stream.getBytes(2);if(!t||t.length<2||t[0]===128){this.eof=!0;return}var i,s=this.bufferLength,n=t[0];if(n<128){if(i=this.ensureBuffer(s+n+1),i[s++]=t[1],n>0){var o=this.stream.getBytes(n);i.set(o,s),s+=n}}else{n=257-n;var h=t[1];i=this.ensureBuffer(s+n+1);for(var d=0;d<n;d++)i[s++]=h}this.bufferLength=s},e}(sd),vb=function(r,e,t){if(e===q.of("FlateDecode"))return new l7(r);if(e===q.of("LZWDecode")){var i=1;if(t instanceof xt){var s=t.lookup(q.of("EarlyChange"));s instanceof mt&&(i=s.asNumber())}return new u7(r,void 0,i)}if(e===q.of("ASCII85Decode"))return new i7(r);if(e===q.of("ASCIIHexDecode"))return new s7(r);if(e===q.of("RunLengthDecode"))return new h7(r);throw new CP(e.asString())},T2=function(r){var e=r.dict,t=r.contents,i=new E2(t),s=e.lookup(q.of("Filter")),n=e.lookup(q.of("DecodeParms"));if(s instanceof q)i=vb(i,s,n);else if(s instanceof Yt)for(var o=0,h=s.size();o<h;o++)i=vb(i,s.lookup(o,q),n&&n.lookupMaybe(o,xt));else if(s)throw new vf([q,Yt],s);return i},d7=function(r){var e=r.MediaBox(),t=e.lookup(2,mt).asNumber()-e.lookup(0,mt).asNumber(),i=e.lookup(3,mt).asNumber()-e.lookup(1,mt).asNumber();return{left:0,bottom:0,right:t,top:i}},c7=function(r){return[1,0,0,1,-r.left,-r.bottom]},R2=function(){function r(e,t,i){this.page=e;var s=t??d7(e);this.width=s.right-s.left,this.height=s.top-s.bottom,this.boundingBox=s,this.transformationMatrix=i??c7(s)}return r.for=function(e,t,i){return Et(this,void 0,void 0,function(){return Tt(this,function(s){return[2,new r(e,t,i)]})})},r.prototype.embedIntoContext=function(e,t){return Et(this,void 0,void 0,function(){var i,s,n,o,h,d,f,p,y,b;return Tt(this,function(w){if(i=this.page.normalizedEntries(),s=i.Contents,n=i.Resources,!s)throw new bP;return o=this.decodeContents(s),h=this.boundingBox,d=h.left,f=h.bottom,p=h.right,y=h.top,b=e.flateStream(o,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[d,f,p,y],Matrix:this.transformationMatrix,Resources:n}),t?(e.assign(t,b),[2,t]):[2,e.register(b)]})})},r.prototype.decodeContents=function(e){for(var t=Uint8Array.of(F.Newline),i=[],s=0,n=e.size();s<n;s++){var o=e.lookup(s,nr),h=void 0;if(o instanceof Hh)h=T2(o).decode();else if(o instanceof Ph)h=o.getUnencodedContents();else throw new wP(o);i.push(h,t)}return bR.apply(void 0,i)},r}(),Uc=function(r,e){if(r!==void 0)return e[r]},Ih;(function(r){r.UseNone="UseNone",r.UseOutlines="UseOutlines",r.UseThumbs="UseThumbs",r.UseOC="UseOC"})(Ih||(Ih={}));var Ah;(function(r){r.L2R="L2R",r.R2L="R2L"})(Ah||(Ah={}));var Dh;(function(r){r.None="None",r.AppDefault="AppDefault"})(Dh||(Dh={}));var bf;(function(r){r.Simplex="Simplex",r.DuplexFlipShortEdge="DuplexFlipShortEdge",r.DuplexFlipLongEdge="DuplexFlipLongEdge"})(bf||(bf={}));var yb=function(){function r(e){this.dict=e}return r.prototype.lookupBool=function(e){var t=this.dict.lookup(q.of(e));if(t instanceof zh)return t},r.prototype.lookupName=function(e){var t=this.dict.lookup(q.of(e));if(t instanceof q)return t},r.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},r.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},r.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},r.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},r.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},r.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},r.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},r.prototype.Direction=function(){return this.lookupName("Direction")},r.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},r.prototype.Duplex=function(){return this.lookupName("Duplex")},r.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},r.prototype.PrintPageRange=function(){var e=this.dict.lookup(q.of("PrintPageRange"));if(e instanceof Yt)return e},r.prototype.NumCopies=function(){var e=this.dict.lookup(q.of("NumCopies"));if(e instanceof mt)return e},r.prototype.getHideToolbar=function(){var e,t;return(t=(e=this.HideToolbar())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getHideMenubar=function(){var e,t;return(t=(e=this.HideMenubar())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getHideWindowUI=function(){var e,t;return(t=(e=this.HideWindowUI())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getFitWindow=function(){var e,t;return(t=(e=this.FitWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getCenterWindow=function(){var e,t;return(t=(e=this.CenterWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getDisplayDocTitle=function(){var e,t;return(t=(e=this.DisplayDocTitle())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},r.prototype.getNonFullScreenPageMode=function(){var e,t,i=(e=this.NonFullScreenPageMode())===null||e===void 0?void 0:e.decodeText();return(t=Uc(i,Ih))!==null&&t!==void 0?t:Ih.UseNone},r.prototype.getReadingDirection=function(){var e,t,i=(e=this.Direction())===null||e===void 0?void 0:e.decodeText();return(t=Uc(i,Ah))!==null&&t!==void 0?t:Ah.L2R},r.prototype.getPrintScaling=function(){var e,t,i=(e=this.PrintScaling())===null||e===void 0?void 0:e.decodeText();return(t=Uc(i,Dh))!==null&&t!==void 0?t:Dh.AppDefault},r.prototype.getDuplex=function(){var e,t=(e=this.Duplex())===null||e===void 0?void 0:e.decodeText();return Uc(t,bf)},r.prototype.getPickTrayByPDFSize=function(){var e;return(e=this.PickTrayByPDFSize())===null||e===void 0?void 0:e.asBoolean()},r.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var t=[],i=0;i<e.size();i+=2){var s=e.lookup(i,mt).asNumber(),n=e.lookup(i+1,mt).asNumber();t.push({start:s,end:n})}return t},r.prototype.getNumCopies=function(){var e,t;return(t=(e=this.NumCopies())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:1},r.prototype.setHideToolbar=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("HideToolbar"),t)},r.prototype.setHideMenubar=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("HideMenubar"),t)},r.prototype.setHideWindowUI=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("HideWindowUI"),t)},r.prototype.setFitWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("FitWindow"),t)},r.prototype.setCenterWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("CenterWindow"),t)},r.prototype.setDisplayDocTitle=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("DisplayDocTitle"),t)},r.prototype.setNonFullScreenPageMode=function(e){Da(e,"nonFullScreenPageMode",Ih);var t=q.of(e);this.dict.set(q.of("NonFullScreenPageMode"),t)},r.prototype.setReadingDirection=function(e){Da(e,"readingDirection",Ah);var t=q.of(e);this.dict.set(q.of("Direction"),t)},r.prototype.setPrintScaling=function(e){Da(e,"printScaling",Dh);var t=q.of(e);this.dict.set(q.of("PrintScaling"),t)},r.prototype.setDuplex=function(e){Da(e,"duplex",bf);var t=q.of(e);this.dict.set(q.of("Duplex"),t)},r.prototype.setPickTrayByPDFSize=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("PickTrayByPDFSize"),t)},r.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var t=[],i=0,s=e.length;i<s;i++)t.push(e[i].start),t.push(e[i].end);p2(t,"printPageRange",["number"]);var n=this.dict.context.obj(t);this.dict.set(q.of("PrintPageRange"),n)},r.prototype.setNumCopies=function(e){sr(e,"numCopies",1,Number.MAX_VALUE),yP(e,"numCopies");var t=this.dict.context.obj(e);this.dict.set(q.of("NumCopies"),t)},r.fromDict=function(e){return new r(e)},r.create=function(e){var t=e.obj({});return new r(t)},r}(),f7=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,P2=function(){function r(e,t){this.dict=e,this.ref=t}return r.prototype.T=function(){return this.dict.lookupMaybe(q.of("T"),si,ct)},r.prototype.Ff=function(){var e=this.getInheritableAttribute(q.of("Ff"));return this.dict.context.lookupMaybe(e,mt)},r.prototype.V=function(){var e=this.getInheritableAttribute(q.of("V"));return this.dict.context.lookup(e)},r.prototype.Kids=function(){return this.dict.lookupMaybe(q.of("Kids"),Yt)},r.prototype.DA=function(){var e=this.dict.lookup(q.of("DA"));if(e instanceof si||e instanceof ct)return e},r.prototype.setKids=function(e){this.dict.set(q.of("Kids"),this.dict.context.obj(e))},r.prototype.getParent=function(){var e=this.dict.get(q.of("Parent"));if(e instanceof ri){var t=this.dict.lookup(q.of("Parent"),xt);return new r(t,e)}},r.prototype.setParent=function(e){e?this.dict.set(q.of("Parent"),e):this.dict.delete(q.of("Parent"))},r.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},r.prototype.getPartialName=function(){var e;return(e=this.T())===null||e===void 0?void 0:e.decodeText()},r.prototype.setPartialName=function(e){e?this.dict.set(q.of("T"),ct.fromText(e)):this.dict.delete(q.of("T"))},r.prototype.setDefaultAppearance=function(e){this.dict.set(q.of("DA"),si.of(e))},r.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof ct?e.decodeText():e?.asString()},r.prototype.setFontSize=function(e){var t,i=(t=this.getFullyQualifiedName())!==null&&t!==void 0?t:"",s=this.getDefaultAppearance();if(!s)throw new EP(i);var n=Mv(s,f7);if(!n.match)throw new TP(i);var o=s.slice(0,n.pos-n.match[0].length),h=n.pos<=s.length?s.slice(n.pos):"",d=n.match[1],f=o+" /"+d+" "+e+" Tf "+h;this.setDefaultAppearance(f)},r.prototype.getFlags=function(){var e,t;return(t=(e=this.Ff())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:0},r.prototype.setFlags=function(e){this.dict.set(q.of("Ff"),mt.of(e))},r.prototype.hasFlag=function(e){var t=this.getFlags();return(t&e)!==0},r.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},r.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},r.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},r.prototype.getInheritableAttribute=function(e){var t;return this.ascend(function(i){t||(t=i.dict.get(e))}),t},r.prototype.ascend=function(e){e(this);var t=this.getParent();t&&t.ascend(e)},r}(),Lm=function(){function r(e){this.dict=e}return r.prototype.W=function(){var e=this.dict.lookup(q.of("W"));if(e instanceof mt)return e},r.prototype.getWidth=function(){var e,t;return(t=(e=this.W())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:1},r.prototype.setWidth=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("W"),t)},r.fromDict=function(e){return new r(e)},r}(),g7=function(){function r(e){this.dict=e}return r.prototype.Rect=function(){return this.dict.lookup(q.of("Rect"),Yt)},r.prototype.AP=function(){return this.dict.lookupMaybe(q.of("AP"),xt)},r.prototype.F=function(){var e=this.dict.lookup(q.of("F"));return this.dict.context.lookupMaybe(e,mt)},r.prototype.getRectangle=function(){var e,t=this.Rect();return(e=t?.asRectangle())!==null&&e!==void 0?e:{x:0,y:0,width:0,height:0}},r.prototype.setRectangle=function(e){var t=e.x,i=e.y,s=e.width,n=e.height,o=this.dict.context.obj([t,i,t+s,i+n]);this.dict.set(q.of("Rect"),o)},r.prototype.getAppearanceState=function(){var e=this.dict.lookup(q.of("AS"));if(e instanceof q)return e},r.prototype.setAppearanceState=function(e){this.dict.set(q.of("AS"),e)},r.prototype.setAppearances=function(e){this.dict.set(q.of("AP"),e)},r.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(q.of("AP"),e)),e},r.prototype.getNormalAppearance=function(){var e=this.ensureAP(),t=e.get(q.of("N"));if(t instanceof ri||t instanceof xt)return t;throw new Error("Unexpected N type: "+t?.constructor.name)},r.prototype.setNormalAppearance=function(e){var t=this.ensureAP();t.set(q.of("N"),e)},r.prototype.setRolloverAppearance=function(e){var t=this.ensureAP();t.set(q.of("R"),e)},r.prototype.setDownAppearance=function(e){var t=this.ensureAP();t.set(q.of("D"),e)},r.prototype.removeRolloverAppearance=function(){var e=this.AP();e?.delete(q.of("R"))},r.prototype.removeDownAppearance=function(){var e=this.AP();e?.delete(q.of("D"))},r.prototype.getAppearances=function(){var e=this.AP();if(e){var t=e.lookup(q.of("N"),xt,nr),i=e.lookupMaybe(q.of("R"),xt,nr),s=e.lookupMaybe(q.of("D"),xt,nr);return{normal:t,rollover:i,down:s}}},r.prototype.getFlags=function(){var e,t;return(t=(e=this.F())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:0},r.prototype.setFlags=function(e){this.dict.set(q.of("F"),mt.of(e))},r.prototype.hasFlag=function(e){var t=this.getFlags();return(t&e)!==0},r.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},r.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},r.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},r.fromDict=function(e){return new r(e)},r}(),Om=function(){function r(e){this.dict=e}return r.prototype.R=function(){var e=this.dict.lookup(q.of("R"));if(e instanceof mt)return e},r.prototype.BC=function(){var e=this.dict.lookup(q.of("BC"));if(e instanceof Yt)return e},r.prototype.BG=function(){var e=this.dict.lookup(q.of("BG"));if(e instanceof Yt)return e},r.prototype.CA=function(){var e=this.dict.lookup(q.of("CA"));if(e instanceof ct||e instanceof si)return e},r.prototype.RC=function(){var e=this.dict.lookup(q.of("RC"));if(e instanceof ct||e instanceof si)return e},r.prototype.AC=function(){var e=this.dict.lookup(q.of("AC"));if(e instanceof ct||e instanceof si)return e},r.prototype.getRotation=function(){var e;return(e=this.R())===null||e===void 0?void 0:e.asNumber()},r.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var t=[],i=0,s=e?.size();i<s;i++){var n=e.get(i);n instanceof mt&&t.push(n.asNumber())}return t}},r.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var t=[],i=0,s=e?.size();i<s;i++){var n=e.get(i);n instanceof mt&&t.push(n.asNumber())}return t}},r.prototype.getCaptions=function(){var e=this.CA(),t=this.RC(),i=this.AC();return{normal:e?.decodeText(),rollover:t?.decodeText(),down:i?.decodeText()}},r.prototype.setRotation=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("R"),t)},r.prototype.setBorderColor=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("BC"),t)},r.prototype.setBackgroundColor=function(e){var t=this.dict.context.obj(e);this.dict.set(q.of("BG"),t)},r.prototype.setCaptions=function(e){var t=ct.fromText(e.normal);if(this.dict.set(q.of("CA"),t),e.rollover){var i=ct.fromText(e.rollover);this.dict.set(q.of("RC"),i)}else this.dict.delete(q.of("RC"));if(e.down){var s=ct.fromText(e.down);this.dict.set(q.of("AC"),s)}else this.dict.delete(q.of("AC"))},r.fromDict=function(e){return new r(e)},r}(),Jm=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.MK=function(){var t=this.dict.lookup(q.of("MK"));if(t instanceof xt)return t},e.prototype.BS=function(){var t=this.dict.lookup(q.of("BS"));if(t instanceof xt)return t},e.prototype.DA=function(){var t=this.dict.lookup(q.of("DA"));if(t instanceof si||t instanceof ct)return t},e.prototype.P=function(){var t=this.dict.get(q.of("P"));if(t instanceof ri)return t},e.prototype.setP=function(t){this.dict.set(q.of("P"),t)},e.prototype.setDefaultAppearance=function(t){this.dict.set(q.of("DA"),si.of(t))},e.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof ct?t.decodeText():t?.asString()},e.prototype.getAppearanceCharacteristics=function(){var t=this.MK();if(t)return Om.fromDict(t)},e.prototype.getOrCreateAppearanceCharacteristics=function(){var t=this.MK();if(t)return Om.fromDict(t);var i=Om.fromDict(this.dict.context.obj({}));return this.dict.set(q.of("MK"),i.dict),i},e.prototype.getBorderStyle=function(){var t=this.BS();if(t)return Lm.fromDict(t)},e.prototype.getOrCreateBorderStyle=function(){var t=this.BS();if(t)return Lm.fromDict(t);var i=Lm.fromDict(this.dict.context.obj({}));return this.dict.set(q.of("BS"),i.dict),i},e.prototype.getOnValue=function(){var t,i=(t=this.getAppearances())===null||t===void 0?void 0:t.normal;if(i instanceof xt)for(var s=i.keys(),n=0,o=s.length;n<o;n++){var h=s[n];if(h!==q.of("Off"))return h}},e.fromDict=function(t){return new e(t)},e.create=function(t,i){var s=t.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:i});return new e(s)},e}(g7),Gl=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.FT=function(){var t=this.getInheritableAttribute(q.of("FT"));return this.dict.context.lookup(t,q)},e.prototype.getWidgets=function(){var t=this.Kids();if(!t)return[Jm.fromDict(this.dict)];for(var i=new Array(t.size()),s=0,n=t.size();s<n;s++){var o=t.lookup(s,xt);i[s]=Jm.fromDict(o)}return i},e.prototype.addWidget=function(t){var i=this.normalizedEntries().Kids;i.push(t)},e.prototype.removeWidget=function(t){var i=this.Kids();if(i){if(t<0||t>i.size())throw new yf(t,0,i.size());i.remove(t)}else{if(t!==0)throw new yf(t,0,0);this.setKids([])}},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([this.ref]),this.dict.set(q.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,i){return new e(t,i)},e}(P2),Uv=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.Opt=function(){return this.dict.lookupMaybe(q.of("Opt"),si,ct,Yt)},e.prototype.setOpt=function(t){this.dict.set(q.of("Opt"),this.dict.context.obj(t))},e.prototype.getExportValues=function(){var t=this.Opt();if(t){if(t instanceof si||t instanceof ct)return[t];for(var i=[],s=0,n=t.size();s<n;s++){var o=t.lookup(s);(o instanceof si||o instanceof ct)&&i.push(o)}return i}},e.prototype.removeExportValue=function(t){var i=this.Opt();if(i)if(i instanceof si||i instanceof ct){if(t!==0)throw new yf(t,0,0);this.setOpt([])}else{if(t<0||t>i.size())throw new yf(t,0,i.size());i.remove(t)}},e.prototype.normalizeExportValues=function(){for(var t,i,s,n,o=(t=this.getExportValues())!==null&&t!==void 0?t:[],h=[],d=this.getWidgets(),f=0,p=d.length;f<p;f++){var y=d[f],b=(i=o[f])!==null&&i!==void 0?i:ct.fromText((n=(s=y.getOnValue())===null||s===void 0?void 0:s.decodeText())!==null&&n!==void 0?n:"");h.push(b)}this.setOpt(h)},e.prototype.addOpt=function(t,i){var s;this.normalizeExportValues();var n=t.decodeText(),o;if(i)for(var h=(s=this.getExportValues())!==null&&s!==void 0?s:[],d=0,f=h.length;d<f;d++){var p=h[d];p.decodeText()===n&&(o=d)}var y=this.Opt();return y.push(t),o??y.size()-1},e.prototype.addWidgetWithOpt=function(t,i,s){var n=this.addOpt(i,s),o=q.of(String(n));return this.addWidget(t),o},e}(Gl),tg=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setValue=function(t){var i,s=(i=this.getOnValue())!==null&&i!==void 0?i:q.of("Yes");if(t!==s&&t!==q.of("Off"))throw new Fv;this.dict.set(q.of("V"),t);for(var n=this.getWidgets(),o=0,h=n.length;o<h;o++){var d=n[o],f=d.getOnValue()===t?t:q.of("Off");d.setAppearanceState(f)}},e.prototype.getValue=function(){var t=this.V();return t instanceof q?t:q.of("Off")},e.prototype.getOnValue=function(){var t=this.getWidgets()[0];return t?.getOnValue()},e.fromDict=function(t,i){return new e(t,i)},e.create=function(t){var i=t.obj({FT:"Btn",Kids:[]}),s=t.register(i);return new e(i,s)},e}(Uv),Xi=function(r){return 1<<r},_r;(function(r){r[r.ReadOnly=Xi(0)]="ReadOnly",r[r.Required=Xi(1)]="Required",r[r.NoExport=Xi(2)]="NoExport"})(_r||(_r={}));var Vr;(function(r){r[r.NoToggleToOff=Xi(14)]="NoToggleToOff",r[r.Radio=Xi(15)]="Radio",r[r.PushButton=Xi(16)]="PushButton",r[r.RadiosInUnison=Xi(25)]="RadiosInUnison"})(Vr||(Vr={}));var ki;(function(r){r[r.Multiline=Xi(12)]="Multiline",r[r.Password=Xi(13)]="Password",r[r.FileSelect=Xi(20)]="FileSelect",r[r.DoNotSpellCheck=Xi(22)]="DoNotSpellCheck",r[r.DoNotScroll=Xi(23)]="DoNotScroll",r[r.Comb=Xi(24)]="Comb",r[r.RichText=Xi(25)]="RichText"})(ki||(ki={}));var ti;(function(r){r[r.Combo=Xi(17)]="Combo",r[r.Edit=Xi(18)]="Edit",r[r.Sort=Xi(19)]="Sort",r[r.MultiSelect=Xi(21)]="MultiSelect",r[r.DoNotSpellCheck=Xi(22)]="DoNotSpellCheck",r[r.CommitOnSelChange=Xi(26)]="CommitOnSelChange"})(ti||(ti={}));var I2=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setValues=function(t){if(this.hasFlag(ti.Combo)&&!this.hasFlag(ti.Edit)&&!this.valuesAreValid(t))throw new Fv;if(t.length===0&&this.dict.delete(q.of("V")),t.length===1&&this.dict.set(q.of("V"),t[0]),t.length>1){if(!this.hasFlag(ti.MultiSelect))throw new SP;this.dict.set(q.of("V"),this.dict.context.obj(t))}this.updateSelectedIndices(t)},e.prototype.valuesAreValid=function(t){for(var i=this.getOptions(),s=function(d,f){var p=t[d].decodeText();if(!i.find(function(y){return p===(y.display||y.value).decodeText()}))return{value:!1}},n=0,o=t.length;n<o;n++){var h=s(n);if(typeof h=="object")return h.value}return!0},e.prototype.updateSelectedIndices=function(t){if(t.length>1){for(var i=new Array(t.length),s=this.getOptions(),n=function(d,f){var p=t[d].decodeText();i[d]=s.findIndex(function(y){return p===(y.display||y.value).decodeText()})},o=0,h=t.length;o<h;o++)n(o,h);this.dict.set(q.of("I"),this.dict.context.obj(i.sort()))}else this.dict.delete(q.of("I"))},e.prototype.getValues=function(){var t=this.V();if(t instanceof si||t instanceof ct)return[t];if(t instanceof Yt){for(var i=[],s=0,n=t.size();s<n;s++){var o=t.lookup(s);(o instanceof si||o instanceof ct)&&i.push(o)}return i}return[]},e.prototype.Opt=function(){return this.dict.lookupMaybe(q.of("Opt"),si,ct,Yt)},e.prototype.setOptions=function(t){for(var i=new Array(t.length),s=0,n=t.length;s<n;s++){var o=t[s],h=o.value,d=o.display;i[s]=this.dict.context.obj([h,d||h])}this.dict.set(q.of("Opt"),this.dict.context.obj(i))},e.prototype.getOptions=function(){var t=this.Opt();if(t instanceof si||t instanceof ct)return[{value:t,display:t}];if(t instanceof Yt){for(var i=[],s=0,n=t.size();s<n;s++){var o=t.lookup(s);if((o instanceof si||o instanceof ct)&&i.push({value:o,display:o}),o instanceof Yt&&o.size()>0){var h=o.lookup(0,si,ct),d=o.lookupMaybe(1,si,ct);i.push({value:h,display:d||h})}}return i}return[]},e}(Gl),ig=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.fromDict=function(t,i){return new e(t,i)},e.create=function(t){var i=t.obj({FT:"Ch",Ff:ti.Combo,Kids:[]}),s=t.register(i);return new e(i,s)},e}(I2),wf=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.addField=function(t){var i=this.normalizedEntries().Kids;i?.push(t)},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([]),this.dict.set(q.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,i){return new e(t,i)},e.create=function(t){var i=t.obj({}),s=t.register(i);return new e(i,s)},e}(P2),_v=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.fromDict=function(t,i){return new e(t,i)},e}(Gl),sg=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.MaxLen=function(){var t=this.dict.lookup(q.of("MaxLen"));if(t instanceof mt)return t},e.prototype.Q=function(){var t=this.dict.lookup(q.of("Q"));if(t instanceof mt)return t},e.prototype.setMaxLength=function(t){this.dict.set(q.of("MaxLen"),mt.of(t))},e.prototype.removeMaxLength=function(){this.dict.delete(q.of("MaxLen"))},e.prototype.getMaxLength=function(){var t;return(t=this.MaxLen())===null||t===void 0?void 0:t.asNumber()},e.prototype.setQuadding=function(t){this.dict.set(q.of("Q"),mt.of(t))},e.prototype.getQuadding=function(){var t;return(t=this.Q())===null||t===void 0?void 0:t.asNumber()},e.prototype.setValue=function(t){this.dict.set(q.of("V"),t)},e.prototype.removeValue=function(){this.dict.delete(q.of("V"))},e.prototype.getValue=function(){var t=this.V();if(t instanceof si||t instanceof ct)return t},e.fromDict=function(t,i){return new e(t,i)},e.create=function(t){var i=t.obj({FT:"Tx",Kids:[]}),s=t.register(i);return new e(i,s)},e}(Gl),rg=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.fromDict=function(t,i){return new e(t,i)},e.create=function(t){var i=t.obj({FT:"Btn",Ff:Vr.PushButton,Kids:[]}),s=t.register(i);return new e(i,s)},e}(Uv),ng=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setValue=function(t){var i=this.getOnValues();if(!i.includes(t)&&t!==q.of("Off"))throw new Fv;this.dict.set(q.of("V"),t);for(var s=this.getWidgets(),n=0,o=s.length;n<o;n++){var h=s[n],d=h.getOnValue()===t?t:q.of("Off");h.setAppearanceState(d)}},e.prototype.getValue=function(){var t=this.V();return t instanceof q?t:q.of("Off")},e.prototype.getOnValues=function(){for(var t=this.getWidgets(),i=[],s=0,n=t.length;s<n;s++){var o=t[s].getOnValue();o&&i.push(o)}return i},e.fromDict=function(t,i){return new e(t,i)},e.create=function(t){var i=t.obj({FT:"Btn",Ff:Vr.Radio,Kids:[]}),s=t.register(i);return new e(i,s)},e}(Uv),ag=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.fromDict=function(t,i){return new e(t,i)},e.create=function(t){var i=t.obj({FT:"Ch",Kids:[]}),s=t.register(i);return new e(i,s)},e}(I2),Wv=function(r){if(!r)return[];for(var e=[],t=0,i=r.size();t<i;t++){var s=r.get(t),n=r.lookup(t);s instanceof ri&&n instanceof xt&&e.push([A2(n,s),s])}return e},A2=function(r,e){var t=p7(r);return t?wf.fromDict(r,e):m7(r,e)},p7=function(r){var e=r.lookup(q.of("Kids"));if(e instanceof Yt)for(var t=0,i=e.size();t<i;t++){var s=e.lookup(t),n=s instanceof xt&&s.has(q.of("T"));if(n)return!0}return!1},m7=function(r,e){var t=jv(r,q.of("FT")),i=r.context.lookup(t,q);return i===q.of("Btn")?v7(r,e):i===q.of("Ch")?y7(r,e):i===q.of("Tx")?sg.fromDict(r,e):i===q.of("Sig")?_v.fromDict(r,e):Gl.fromDict(r,e)},v7=function(r,e){var t,i=jv(r,q.of("Ff")),s=r.context.lookupMaybe(i,mt),n=(t=s?.asNumber())!==null&&t!==void 0?t:0;return $m(n,Vr.PushButton)?rg.fromDict(r,e):$m(n,Vr.Radio)?ng.fromDict(r,e):tg.fromDict(r,e)},y7=function(r,e){var t,i=jv(r,q.of("Ff")),s=r.context.lookupMaybe(i,mt),n=(t=s?.asNumber())!==null&&t!==void 0?t:0;return $m(n,ti.Combo)?ig.fromDict(r,e):ag.fromDict(r,e)},$m=function(r,e){return(r&e)!==0},jv=function(r,e){var t;return D2(r,function(i){t||(t=i.get(e))}),t},D2=function(r,e){e(r);var t=r.lookupMaybe(q.of("Parent"),xt);t&&D2(t,e)},xf=function(){function r(e){this.dict=e}return r.prototype.Fields=function(){var e=this.dict.lookup(q.of("Fields"));if(e instanceof Yt)return e},r.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,t=new Array(e.size()),i=0,s=e.size();i<s;i++){var n=e.get(i),o=e.lookup(i,xt);t[i]=[A2(o,n),n]}return t},r.prototype.getAllFields=function(){var e=[],t=function(i){if(i)for(var s=0,n=i.length;s<n;s++){var o=i[s];e.push(o);var h=o[0];h instanceof wf&&t(Wv(h.Kids()))}};return t(this.getFields()),e},r.prototype.addField=function(e){var t=this.normalizedEntries().Fields;t?.push(e)},r.prototype.removeField=function(e){var t=e.getParent(),i=t===void 0?this.normalizedEntries().Fields:t.Kids(),s=i?.indexOf(e.ref);if(i===void 0||s===void 0)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());i.remove(s),t!==void 0&&i.size()===0&&this.removeField(t)},r.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(q.of("Fields"),e)),{Fields:e}},r.fromDict=function(e){return new r(e)},r.create=function(e){var t=e.obj({Fields:[]});return new r(t)},r}(),L2=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.Pages=function(){return this.lookup(q.of("Pages"),xt)},e.prototype.AcroForm=function(){return this.lookupMaybe(q.of("AcroForm"),xt)},e.prototype.getAcroForm=function(){var t=this.AcroForm();if(t)return xf.fromDict(t)},e.prototype.getOrCreateAcroForm=function(){var t=this.getAcroForm();if(!t){t=xf.create(this.context);var i=this.context.register(t.dict);this.set(q.of("AcroForm"),i)}return t},e.prototype.ViewerPreferences=function(){return this.lookupMaybe(q.of("ViewerPreferences"),xt)},e.prototype.getViewerPreferences=function(){var t=this.ViewerPreferences();if(t)return yb.fromDict(t)},e.prototype.getOrCreateViewerPreferences=function(){var t=this.getViewerPreferences();if(!t){t=yb.create(this.context);var i=this.context.register(t.dict);this.set(q.of("ViewerPreferences"),i)}return t},e.prototype.insertLeafNode=function(t,i){var s=this.get(q.of("Pages")),n=this.Pages().insertLeafNode(t,i);return n||s},e.prototype.removeLeafNode=function(t){this.Pages().removeLeafNode(t)},e.withContextAndPages=function(t,i){var s=new Map;return s.set(q.of("Type"),q.of("Catalog")),s.set(q.of("Pages"),i),new e(s,t)},e.fromMapWithContext=function(t,i){return new e(t,i)},e}(xt),O2=function(r){Oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.Parent=function(){return this.lookup(q.of("Parent"))},e.prototype.Kids=function(){return this.lookup(q.of("Kids"),Yt)},e.prototype.Count=function(){return this.lookup(q.of("Count"),mt)},e.prototype.pushTreeNode=function(t){var i=this.Kids();i.push(t)},e.prototype.pushLeafNode=function(t){var i=this.Kids();this.insertLeafKid(i.size(),t)},e.prototype.insertLeafNode=function(t,i){var s=this.Kids(),n=this.Count().asNumber();if(i>n)throw new nb(i,n);for(var o=i,h=0,d=s.size();h<d;h++){if(o===0){this.insertLeafKid(h,t);return}var f=s.get(h),p=this.context.lookup(f);if(p instanceof e){if(p.Count().asNumber()>o)return p.insertLeafNode(t,o)||f;o-=p.Count().asNumber()}p instanceof Hn&&(o-=1)}if(o===0){this.insertLeafKid(s.size(),t);return}throw new ab(i,"insertLeafNode")},e.prototype.removeLeafNode=function(t,i){i===void 0&&(i=!0);var s=this.Kids(),n=this.Count().asNumber();if(t>=n)throw new nb(t,n);for(var o=t,h=0,d=s.size();h<d;h++){var f=s.get(h),p=this.context.lookup(f);if(p instanceof e)if(p.Count().asNumber()>o){p.removeLeafNode(o,i),i&&p.Kids().size()===0&&s.remove(h);return}else o-=p.Count().asNumber();if(p instanceof Hn)if(o===0){this.removeKid(h);return}else o-=1}throw new ab(t,"removeLeafNode")},e.prototype.ascend=function(t){t(this);var i=this.Parent();i&&i.ascend(t)},e.prototype.traverse=function(t){for(var i=this.Kids(),s=0,n=i.size();s<n;s++){var o=i.get(s),h=this.context.lookup(o);h instanceof e&&h.traverse(t),t(h,o)}},e.prototype.insertLeafKid=function(t,i){var s=this.Kids();this.ascend(function(n){var o=n.Count().asNumber()+1;n.set(q.of("Count"),mt.of(o))}),s.insert(t,i)},e.prototype.removeKid=function(t){var i=this.Kids(),s=i.lookup(t);s instanceof Hn&&this.ascend(function(n){var o=n.Count().asNumber()-1;n.set(q.of("Count"),mt.of(o))}),i.remove(t)},e.withContext=function(t,i){var s=new Map;return s.set(q.of("Type"),q.of("Pages")),s.set(q.of("Kids"),t.obj([])),s.set(q.of("Count"),t.obj(0)),i&&s.set(q.of("Parent"),i),new e(s,t)},e.fromMapWithContext=function(t,i){return new e(t,i)},e}(xt),Ls=new Uint8Array(256);Ls[F.Zero]=1;Ls[F.One]=1;Ls[F.Two]=1;Ls[F.Three]=1;Ls[F.Four]=1;Ls[F.Five]=1;Ls[F.Six]=1;Ls[F.Seven]=1;Ls[F.Eight]=1;Ls[F.Nine]=1;var og=new Uint8Array(256);og[F.Period]=1;og[F.Plus]=1;og[F.Minus]=1;var Gv=new Uint8Array(256);for(var vh=0,C7=256;vh<C7;vh++)Gv[vh]=Ls[vh]||og[vh]?1:0;var Cb=F.Newline,bb=F.CarriageReturn,b7=function(){function r(e,t){t===void 0&&(t=!1),this.bytes=e,this.capNumbers=t}return r.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!Ls[t])break;e+=Bn(this.bytes.next())}var i=Number(e);if(!e||!isFinite(i))throw new ob(this.bytes.position(),e);return i},r.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!Gv[t]||(e+=Bn(this.bytes.next()),t===F.Period))break}for(;!this.bytes.done();){var t=this.bytes.peek();if(!Ls[t])break;e+=Bn(this.bytes.next())}var i=Number(e);if(!e||!isFinite(i))throw new ob(this.bytes.position(),e);if(i>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var s="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(s),Number.MAX_SAFE_INTEGER}else{var s="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(s)}return i},r.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&Gn[this.bytes.peek()];)this.bytes.next()},r.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===Cb||e===bb)return;this.bytes.next()}},r.prototype.skipComment=function(){if(this.bytes.peek()!==F.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===Cb||e===bb)return!0;this.bytes.next()}return!0},r.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},r.prototype.matchKeyword=function(e){for(var t=this.bytes.offset(),i=0,s=e.length;i<s;i++)if(this.bytes.done()||this.bytes.next()!==e[i])return this.bytes.moveTo(t),!1;return!0},r}(),lg=function(){function r(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return r.prototype.moveTo=function(e){this.idx=e},r.prototype.next=function(){var e=this.bytes[this.idx++];return e===F.Newline?(this.line+=1,this.column=0):this.column+=1,e},r.prototype.assertNext=function(e){if(this.peek()!==e)throw new RP(this.position(),e,this.peek());return this.next()},r.prototype.peek=function(){return this.bytes[this.idx]},r.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},r.prototype.peekAt=function(e){return this.bytes[e]},r.prototype.done=function(){return this.idx>=this.length},r.prototype.offset=function(){return this.idx},r.prototype.slice=function(e,t){return this.bytes.slice(e,t)},r.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},r.of=function(e){return new r(e)},r.fromPDFRawStream=function(e){return r.of(T2(e).decode())},r}(),w7=F.Space,yh=F.CarriageReturn,Ch=F.Newline,bh=[F.s,F.t,F.r,F.e,F.a,F.m],_c=[F.e,F.n,F.d,F.s,F.t,F.r,F.e,F.a,F.m],yi={header:[F.Percent,F.P,F.D,F.F,F.Dash],eof:[F.Percent,F.Percent,F.E,F.O,F.F],obj:[F.o,F.b,F.j],endobj:[F.e,F.n,F.d,F.o,F.b,F.j],xref:[F.x,F.r,F.e,F.f],trailer:[F.t,F.r,F.a,F.i,F.l,F.e,F.r],startxref:[F.s,F.t,F.a,F.r,F.t,F.x,F.r,F.e,F.f],true:[F.t,F.r,F.u,F.e],false:[F.f,F.a,F.l,F.s,F.e],null:[F.n,F.u,F.l,F.l],stream:bh,streamEOF1:_t(bh,[w7,yh,Ch]),streamEOF2:_t(bh,[yh,Ch]),streamEOF3:_t(bh,[yh]),streamEOF4:_t(bh,[Ch]),endstream:_c,EOF1endstream:_t([yh,Ch],_c),EOF2endstream:_t([yh],_c),EOF3endstream:_t([Ch],_c)},M2=function(r){Oe(e,r);function e(t,i,s){s===void 0&&(s=!1);var n=r.call(this,t,s)||this;return n.context=i,n}return e.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(yi.true))return zh.True;if(this.matchKeyword(yi.false))return zh.False;if(this.matchKeyword(yi.null))return Ws;var t=this.bytes.peek();if(t===F.LessThan&&this.bytes.peekAhead(1)===F.LessThan)return this.parseDictOrStream();if(t===F.LessThan)return this.parseHexString();if(t===F.LeftParen)return this.parseString();if(t===F.ForwardSlash)return this.parseName();if(t===F.LeftSquareBracket)return this.parseArray();if(Gv[t])return this.parseNumberOrRef();throw new PP(this.bytes.position(),t)},e.prototype.parseNumberOrRef=function(){var t=this.parseRawNumber();this.skipWhitespaceAndComments();var i=this.bytes.offset();if(Ls[this.bytes.peek()]){var s=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===F.R)return this.bytes.assertNext(F.R),ri.of(t,s)}return this.bytes.moveTo(i),mt.of(t)},e.prototype.parseHexString=function(){var t="";for(this.bytes.assertNext(F.LessThan);!this.bytes.done()&&this.bytes.peek()!==F.GreaterThan;)t+=Bn(this.bytes.next());return this.bytes.assertNext(F.GreaterThan),ct.of(t)},e.prototype.parseString=function(){for(var t=0,i=!1,s="";!this.bytes.done();){var n=this.bytes.next();if(s+=Bn(n),i||(n===F.LeftParen&&(t+=1),n===F.RightParen&&(t-=1)),n===F.BackSlash?i=!i:i&&(i=!1),t===0)return si.of(s.substring(1,s.length-1))}throw new DP(this.bytes.position())},e.prototype.parseName=function(){this.bytes.assertNext(F.ForwardSlash);for(var t="";!this.bytes.done();){var i=this.bytes.peek();if(Gn[i]||Or[i])break;t+=Bn(i),this.bytes.next()}return q.of(t)},e.prototype.parseArray=function(){this.bytes.assertNext(F.LeftSquareBracket),this.skipWhitespaceAndComments();for(var t=Yt.withContext(this.context);this.bytes.peek()!==F.RightSquareBracket;){var i=this.parseObject();t.push(i),this.skipWhitespaceAndComments()}return this.bytes.assertNext(F.RightSquareBracket),t},e.prototype.parseDict=function(){this.bytes.assertNext(F.LessThan),this.bytes.assertNext(F.LessThan),this.skipWhitespaceAndComments();for(var t=new Map;!this.bytes.done()&&this.bytes.peek()!==F.GreaterThan&&this.bytes.peekAhead(1)!==F.GreaterThan;){var i=this.parseName(),s=this.parseObject();t.set(i,s),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(F.GreaterThan),this.bytes.assertNext(F.GreaterThan);var n=t.get(q.of("Type"));return n===q.of("Catalog")?L2.fromMapWithContext(t,this.context):n===q.of("Pages")?O2.fromMapWithContext(t,this.context):n===q.of("Page")?Hn.fromMapWithContext(t,this.context):xt.fromMapWithContext(t,this.context)},e.prototype.parseDictOrStream=function(){var t=this.bytes.position(),i=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(yi.streamEOF1)&&!this.matchKeyword(yi.streamEOF2)&&!this.matchKeyword(yi.streamEOF3)&&!this.matchKeyword(yi.streamEOF4)&&!this.matchKeyword(yi.stream))return i;var s=this.bytes.offset(),n,o=i.get(q.of("Length"));o instanceof mt?(n=s+o.asNumber(),this.bytes.moveTo(n),this.skipWhitespaceAndComments(),this.matchKeyword(yi.endstream)||(this.bytes.moveTo(s),n=this.findEndOfStreamFallback(t))):n=this.findEndOfStreamFallback(t);var h=this.bytes.slice(s,n);return Hh.of(i,h)},e.prototype.findEndOfStreamFallback=function(t){for(var i=1,s=this.bytes.offset();!this.bytes.done()&&(s=this.bytes.offset(),this.matchKeyword(yi.stream)?i+=1:this.matchKeyword(yi.EOF1endstream)||this.matchKeyword(yi.EOF2endstream)||this.matchKeyword(yi.EOF3endstream)||this.matchKeyword(yi.endstream)?i-=1:this.bytes.next(),i!==0););if(i!==0)throw new AP(t);return s},e.forBytes=function(t,i,s){return new e(lg.of(t),i,s)},e.forByteStream=function(t,i,s){return s===void 0&&(s=!1),new e(t,i,s)},e}(b7),x7=function(r){Oe(e,r);function e(t,i){var s=r.call(this,lg.fromPDFRawStream(t),t.dict.context)||this,n=t.dict;return s.alreadyParsed=!1,s.shouldWaitForTick=i||function(){return!1},s.firstOffset=n.lookup(q.of("First"),mt).asNumber(),s.objectCount=n.lookup(q.of("N"),mt).asNumber(),s}return e.prototype.parseIntoContext=function(){return Et(this,void 0,void 0,function(){var t,i,s,n,o,h,d,f;return Tt(this,function(p){switch(p.label){case 0:if(this.alreadyParsed)throw new qv("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,t=this.parseOffsetsAndObjectNumbers(),i=0,s=t.length,p.label=1;case 1:return i<s?(n=t[i],o=n.objectNumber,h=n.offset,this.bytes.moveTo(this.firstOffset+h),d=this.parseObject(),f=ri.of(o,0),this.context.assign(f,d),this.shouldWaitForTick()?[4,Bl()]:[3,3]):[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.parseOffsetsAndObjectNumbers=function(){for(var t=[],i=0,s=this.objectCount;i<s;i++){this.skipWhitespaceAndComments();var n=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.parseRawInt();t.push({objectNumber:n,offset:o})}return t},e.forStream=function(t,i){return new e(t,i)},e}(M2),V7=function(){function r(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=lg.fromPDFRawStream(e),this.context=this.dict.context;var t=this.dict.lookup(q.of("Size"),mt),i=this.dict.lookup(q.of("Index"));if(i instanceof Yt){this.subsections=[];for(var s=0,n=i.size();s<n;s+=2){var o=i.lookup(s+0,mt).asNumber(),h=i.lookup(s+1,mt).asNumber();this.subsections.push({firstObjectNumber:o,length:h})}}else this.subsections=[{firstObjectNumber:0,length:t.asNumber()}];var d=this.dict.lookup(q.of("W"),Yt);this.byteWidths=[-1,-1,-1];for(var s=0,n=d.size();s<n;s++)this.byteWidths[s]=d.lookup(s,mt).asNumber()}return r.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new qv("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(q.of("Root")),Encrypt:this.dict.get(q.of("Encrypt")),Info:this.dict.get(q.of("Info")),ID:this.dict.get(q.of("ID"))};var e=this.parseEntries();return e},r.prototype.parseEntries=function(){for(var e=[],t=this.byteWidths,i=t[0],s=t[1],n=t[2],o=0,h=this.subsections.length;o<h;o++)for(var d=this.subsections[o],f=d.firstObjectNumber,p=d.length,y=0;y<p;y++){for(var b=0,w=0,T=i;w<T;w++)b=b<<8|this.bytes.next();for(var P=0,w=0,T=s;w<T;w++)P=P<<8|this.bytes.next();for(var D=0,w=0,T=n;w<T;w++)D=D<<8|this.bytes.next();i===0&&(b=1);var L=f+y,W={ref:ri.of(L,D),offset:P,deleted:b===0,inObjectStream:b===2};e.push(W)}return e},r.forStream=function(e){return new r(e)},r}(),S7=function(r){Oe(e,r);function e(t,i,s,n){i===void 0&&(i=1/0),s===void 0&&(s=!1),n===void 0&&(n=!1);var o=r.call(this,lg.of(t),Xm.create(),n)||this;return o.alreadyParsed=!1,o.parsedObjects=0,o.shouldWaitForTick=function(){return o.parsedObjects+=1,o.parsedObjects%o.objectsPerTick===0},o.objectsPerTick=i,o.throwOnInvalidObject=s,o}return e.prototype.parseDocument=function(){return Et(this,void 0,void 0,function(){var t,i;return Tt(this,function(s){switch(s.label){case 0:if(this.alreadyParsed)throw new qv("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),s.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(s.sent(),i=this.bytes.offset(),i===t)throw new LP(this.bytes.position());return t=i,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(ri.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(ri.of(0))),[2,this.context]}})})},e.prototype.maybeRecoverRoot=function(){var t=function(p){return p instanceof xt&&p.lookup(q.of("Type"))===q.of("Catalog")},i=this.context.lookup(this.context.trailerInfo.Root);if(!t(i))for(var s=this.context.enumerateIndirectObjects(),n=0,o=s.length;n<o;n++){var h=s[n],d=h[0],f=h[1];t(f)&&(this.context.trailerInfo.Root=d)}},e.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(yi.header)){var t=this.parseRawInt();this.bytes.assertNext(F.Period);var i=this.parseRawInt(),s=eg.forVersion(t,i);return this.skipBinaryHeaderComment(),s}this.bytes.next()}throw new OP(this.bytes.position())},e.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var t=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(yi.obj))throw new MP(this.bytes.position(),yi.obj);return ri.of(t,i)},e.prototype.matchIndirectObjectHeader=function(){var t=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(t),!1}},e.prototype.parseIndirectObject=function(){return Et(this,void 0,void 0,function(){var t,i;return Tt(this,function(s){switch(s.label){case 0:return t=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),i=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(yi.endobj),i instanceof Hh&&i.dict.lookup(q.of("Type"))===q.of("ObjStm")?[4,x7.forStream(i,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return s.sent(),[3,3];case 2:i instanceof Hh&&i.dict.lookup(q.of("Type"))===q.of("XRef")?V7.forStream(i).parseIntoContext():this.context.assign(t,i),s.label=3;case 3:return[2,t]}})})},e.prototype.tryToParseInvalidIndirectObject=function(){var t=this.bytes.position(),i="Trying to parse invalid object: "+JSON.stringify(t)+")";if(this.throwOnInvalidObject)throw new Error(i);console.warn(i);var s=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+s),this.skipWhitespaceAndComments();for(var n=this.bytes.offset(),o=!0;!this.bytes.done()&&(this.matchKeyword(yi.endobj)&&(o=!1),!!o);)this.bytes.next();if(o)throw new IP(t);var h=this.bytes.offset()-yi.endobj.length,d=x2.of(this.bytes.slice(n,h));return this.context.assign(s,d),s},e.prototype.parseIndirectObjects=function(){return Et(this,void 0,void 0,function(){var t;return Tt(this,function(i){switch(i.label){case 0:this.skipWhitespaceAndComments(),i.label=1;case 1:if(!(!this.bytes.done()&&Ls[this.bytes.peek()]))return[3,8];t=this.bytes.offset(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return i.sent(),[3,5];case 4:return i.sent(),this.bytes.moveTo(t),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,Bl()]:[3,7];case 6:i.sent(),i.label=7;case 7:return[3,1];case 8:return[2]}})})},e.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(yi.xref)){this.skipWhitespaceAndComments();for(var t=-1,i=C2.createEmpty();!this.bytes.done()&&Ls[this.bytes.peek()];){var s=this.parseRawInt();this.skipWhitespaceAndComments();var n=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.bytes.peek();if(o===F.n||o===F.f){var h=ri.of(t,n);this.bytes.next()===F.n?i.addEntry(h,s):i.addDeletedEntry(h,s),t+=1}else t=s;this.skipWhitespaceAndComments()}return i}},e.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(yi.trailer)){this.skipWhitespaceAndComments();var t=this.parseDict(),i=this.context;i.trailerInfo={Root:t.get(q.of("Root"))||i.trailerInfo.Root,Encrypt:t.get(q.of("Encrypt"))||i.trailerInfo.Encrypt,Info:t.get(q.of("Info"))||i.trailerInfo.Info,ID:t.get(q.of("ID"))||i.trailerInfo.ID}}},e.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(yi.startxref)){this.skipWhitespaceAndComments();var t=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(yi.eof),this.skipWhitespaceAndComments(),this.matchKeyword(yi.eof),this.skipWhitespaceAndComments(),Hv.forLastCrossRefSectionOffset(t)}},e.prototype.parseDocumentSection=function(){return Et(this,void 0,void 0,function(){return Tt(this,function(t){switch(t.label){case 0:return[4,this.parseIndirectObjects()];case 1:return t.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},e.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var t=this.bytes.offset(),i=this.bytes.peek(),s=i>=F.Space&&i<=F.Tilde;if(s&&(this.matchKeyword(yi.xref)||this.matchKeyword(yi.trailer)||this.matchKeyword(yi.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(t);break}this.bytes.next()}},e.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var t=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(t)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},e.forBytesWithOptions=function(t,i,s,n){return new e(t,i,s,n)},e}(M2),nn=function(r){return 1<<r},Lh;(function(r){r[r.Invisible=nn(0)]="Invisible",r[r.Hidden=nn(1)]="Hidden",r[r.Print=nn(2)]="Print",r[r.NoZoom=nn(3)]="NoZoom",r[r.NoRotate=nn(4)]="NoRotate",r[r.NoView=nn(5)]="NoView",r[r.ReadOnly=nn(6)]="ReadOnly",r[r.Locked=nn(7)]="Locked",r[r.ToggleNoView=nn(8)]="ToggleNoView",r[r.LockedContents=nn(9)]="LockedContents"})(Lh||(Lh={}));var ug=function(r){return r instanceof q?r:q.of(r)},vt=function(r){return r instanceof mt?r:mt.of(r)},Rt=function(r){return r instanceof mt?r.asNumber():r},Qh;(function(r){r.Degrees="degrees",r.Radians="radians"})(Qh||(Qh={}));var gt=function(r){return te(r,"degreeAngle",["number"]),{type:Qh.Degrees,angle:r}},N2=Qh.Radians,k2=Qh.Degrees,q2=function(r){return r*Math.PI/180},E7=function(r){return r*180/Math.PI},Vs=function(r){return r.type===N2?r.angle:r.type===k2?q2(r.angle):id("Invalid rotation: "+JSON.stringify(r))},F2=function(r){return r.type===N2?E7(r.angle):r.type===k2?r.angle:id("Invalid rotation: "+JSON.stringify(r))},Zn=function(r){r===void 0&&(r=0);var e=r/90%4;return e===0?0:e===1?90:e===2?180:e===3?270:0},Po=function(r,e){e===void 0&&(e=0);var t=Zn(e);return t===90||t===270?{width:r.height,height:r.width}:{width:r.width,height:r.height}},T7=function(r,e,t){e===void 0&&(e=0),t===void 0&&(t=0);var i=r.x,s=r.y,n=r.width,o=r.height,h=Zn(t),d=e/2;return h===0?{x:i-d,y:s-d,width:n,height:o}:h===90?{x:i-o+d,y:s-d,width:o,height:n}:h===180?{x:i-n+d,y:s-o+d,width:n,height:o}:h===270?{x:i-d,y:s-n+d,width:o,height:n}:{x:i-d,y:s-d,width:n,height:o}},B2=function(){return Qt.of(Wt.ClipNonZero)},Vf=Math.cos,Sf=Math.sin,Ef=Math.tan,hg=function(r,e,t,i,s,n){return Qt.of(Wt.ConcatTransformationMatrix,[vt(r),vt(e),vt(t),vt(i),vt(s),vt(n)])},Pr=function(r,e){return hg(1,0,0,1,r,e)},Uh=function(r,e){return hg(r,0,0,e,0,0)},Zl=function(r){return hg(Vf(Rt(r)),Sf(Rt(r)),-Sf(Rt(r)),Vf(Rt(r)),0,0)},Wc=function(r){return Zl(q2(Rt(r)))},Zv=function(r,e){return hg(1,Ef(Rt(r)),Ef(Rt(e)),1,0,0)},dg=function(r,e){return Qt.of(Wt.SetLineDashPattern,["["+r.map(vt).join(" ")+"]",vt(e)])},Il;(function(r){r[r.Butt=0]="Butt",r[r.Round=1]="Round",r[r.Projecting=2]="Projecting"})(Il||(Il={}));var cg=function(r){return Qt.of(Wt.SetLineCapStyle,[vt(r)])},wb;(function(r){r[r.Miter=0]="Miter",r[r.Round=1]="Round",r[r.Bevel=2]="Bevel"})(wb||(wb={}));var Io=function(r){return Qt.of(Wt.SetGraphicsStateParams,[ug(r)])},rs=function(){return Qt.of(Wt.PushGraphicsState)},ns=function(){return Qt.of(Wt.PopGraphicsState)},rd=function(r){return Qt.of(Wt.SetLineWidth,[vt(r)])},rr=function(r,e,t,i,s,n){return Qt.of(Wt.AppendBezierCurve,[vt(r),vt(e),vt(t),vt(i),vt(s),vt(n)])},jc=function(r,e,t,i){return Qt.of(Wt.CurveToReplicateInitialPoint,[vt(r),vt(e),vt(t),vt(i)])},Na=function(){return Qt.of(Wt.ClosePath)},fn=function(r,e){return Qt.of(Wt.MoveTo,[vt(r),vt(e)])},gs=function(r,e){return Qt.of(Wt.LineTo,[vt(r),vt(e)])},nd=function(){return Qt.of(Wt.StrokePath)},Kv=function(){return Qt.of(Wt.FillNonZero)},Xv=function(){return Qt.of(Wt.FillNonZeroAndStroke)},z2=function(){return Qt.of(Wt.EndPath)},R7=function(){return Qt.of(Wt.NextLine)},H2=function(r){return Qt.of(Wt.ShowText,[r])},Q2=function(){return Qt.of(Wt.BeginText)},U2=function(){return Qt.of(Wt.EndText)},Yv=function(r,e){return Qt.of(Wt.SetFontAndSize,[ug(r),vt(e)])},P7=function(r){return Qt.of(Wt.SetTextLineHeight,[vt(r)])},xb;(function(r){r[r.Fill=0]="Fill",r[r.Outline=1]="Outline",r[r.FillAndOutline=2]="FillAndOutline",r[r.Invisible=3]="Invisible",r[r.FillAndClip=4]="FillAndClip",r[r.OutlineAndClip=5]="OutlineAndClip",r[r.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",r[r.Clip=7]="Clip"})(xb||(xb={}));var I7=function(r,e,t,i,s,n){return Qt.of(Wt.SetTextMatrix,[vt(r),vt(e),vt(t),vt(i),vt(s),vt(n)])},_2=function(r,e,t,i,s){return I7(Vf(Rt(r)),Sf(Rt(r))+Ef(Rt(e)),-Sf(Rt(r))+Ef(Rt(t)),Vf(Rt(r)),i,s)},Jv=function(r){return Qt.of(Wt.DrawObject,[ug(r)])},A7=function(r){return Qt.of(Wt.NonStrokingColorGray,[vt(r)])},D7=function(r){return Qt.of(Wt.StrokingColorGray,[vt(r)])},L7=function(r,e,t){return Qt.of(Wt.NonStrokingColorRgb,[vt(r),vt(e),vt(t)])},O7=function(r,e,t){return Qt.of(Wt.StrokingColorRgb,[vt(r),vt(e),vt(t)])},M7=function(r,e,t,i){return Qt.of(Wt.NonStrokingColorCmyk,[vt(r),vt(e),vt(t),vt(i)])},N7=function(r,e,t,i){return Qt.of(Wt.StrokingColorCmyk,[vt(r),vt(e),vt(t),vt(i)])},W2=function(r){return Qt.of(Wt.BeginMarkedContent,[ug(r)])},j2=function(){return Qt.of(Wt.EndMarkedContent)},ka;(function(r){r.Grayscale="Grayscale",r.RGB="RGB",r.CMYK="CMYK"})(ka||(ka={}));var G2=function(r){return sr(r,"gray",0,1),{type:ka.Grayscale,gray:r}},ni=function(r,e,t){return sr(r,"red",0,1),sr(e,"green",0,1),sr(t,"blue",0,1),{type:ka.RGB,red:r,green:e,blue:t}},Z2=function(r,e,t,i){return sr(r,"cyan",0,1),sr(e,"magenta",0,1),sr(t,"yellow",0,1),sr(i,"key",0,1),{type:ka.CMYK,cyan:r,magenta:e,yellow:t,key:i}},$v=ka.Grayscale,ey=ka.RGB,ty=ka.CMYK,Ao=function(r){return r.type===$v?A7(r.gray):r.type===ey?L7(r.red,r.green,r.blue):r.type===ty?M7(r.cyan,r.magenta,r.yellow,r.key):id("Invalid color: "+JSON.stringify(r))},ad=function(r){return r.type===$v?D7(r.gray):r.type===ey?O7(r.red,r.green,r.blue):r.type===ty?N7(r.cyan,r.magenta,r.yellow,r.key):id("Invalid color: "+JSON.stringify(r))},zs=function(r,e){return e===void 0&&(e=1),r?.length===1?G2(r[0]*e):r?.length===3?ni(r[0]*e,r[1]*e,r[2]*e):r?.length===4?Z2(r[0]*e,r[1]*e,r[2]*e,r[3]*e):void 0},Vb=function(r){return r.type===$v?[r.gray]:r.type===ey?[r.red,r.green,r.blue]:r.type===ty?[r.cyan,r.magenta,r.yellow,r.key]:id("Invalid color: "+JSON.stringify(r))},st=0,rt=0,zt=0,Ht=0,Vh=0,Sh=0,Sb=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),k7=function(r){for(var e,t=[],i=[],s="",n=!1,o=0,h=0,d=r;h<d.length;h++){var f=d[h];if(Sb.has(f))o=Sb.get(f),e&&(s.length>0&&(i[i.length]=+s),t[t.length]={cmd:e,args:i},i=[],s="",n=!1),e=f;else if([" ",","].includes(f)||f==="-"&&s.length>0&&s[s.length-1]!=="e"||f==="."&&n){if(s.length===0)continue;i.length===o?(t[t.length]={cmd:e,args:i},i=[+s],e==="M"&&(e="L"),e==="m"&&(e="l")):i[i.length]=+s,n=f===".",s=["-","."].includes(f)?f:""}else s+=f,f==="."&&(n=!0)}return s.length>0&&(i.length===o?(t[t.length]={cmd:e,args:i},i=[+s],e==="M"&&(e="L"),e==="m"&&(e="l")):i[i.length]=+s),t[t.length]={cmd:e,args:i},t},q7=function(r){st=rt=zt=Ht=Vh=Sh=0;for(var e=[],t=0;t<r.length;t++){var i=r[t];if(i.cmd&&typeof Eb[i.cmd]=="function"){var s=Eb[i.cmd](i.args);Array.isArray(s)?e=e.concat(s):e.push(s)}}return e},Eb={M:function(r){return st=r[0],rt=r[1],zt=Ht=null,Vh=st,Sh=rt,fn(st,rt)},m:function(r){return st+=r[0],rt+=r[1],zt=Ht=null,Vh=st,Sh=rt,fn(st,rt)},C:function(r){return st=r[4],rt=r[5],zt=r[2],Ht=r[3],rr(r[0],r[1],r[2],r[3],r[4],r[5])},c:function(r){var e=rr(r[0]+st,r[1]+rt,r[2]+st,r[3]+rt,r[4]+st,r[5]+rt);return zt=st+r[2],Ht=rt+r[3],st+=r[4],rt+=r[5],e},S:function(r){(zt===null||Ht===null)&&(zt=st,Ht=rt);var e=rr(st-(zt-st),rt-(Ht-rt),r[0],r[1],r[2],r[3]);return zt=r[0],Ht=r[1],st=r[2],rt=r[3],e},s:function(r){(zt===null||Ht===null)&&(zt=st,Ht=rt);var e=rr(st-(zt-st),rt-(Ht-rt),st+r[0],rt+r[1],st+r[2],rt+r[3]);return zt=st+r[0],Ht=rt+r[1],st+=r[2],rt+=r[3],e},Q:function(r){return zt=r[0],Ht=r[1],st=r[2],rt=r[3],jc(r[0],r[1],st,rt)},q:function(r){var e=jc(r[0]+st,r[1]+rt,r[2]+st,r[3]+rt);return zt=st+r[0],Ht=rt+r[1],st+=r[2],rt+=r[3],e},T:function(r){zt===null||Ht===null?(zt=st,Ht=rt):(zt=st-(zt-st),Ht=rt-(Ht-rt));var e=jc(zt,Ht,r[0],r[1]);return zt=st-(zt-st),Ht=rt-(Ht-rt),st=r[0],rt=r[1],e},t:function(r){zt===null||Ht===null?(zt=st,Ht=rt):(zt=st-(zt-st),Ht=rt-(Ht-rt));var e=jc(zt,Ht,st+r[0],rt+r[1]);return st+=r[0],rt+=r[1],e},A:function(r){var e=Tb(st,rt,r);return st=r[5],rt=r[6],e},a:function(r){r[5]+=st,r[6]+=rt;var e=Tb(st,rt,r);return st=r[5],rt=r[6],e},L:function(r){return st=r[0],rt=r[1],zt=Ht=null,gs(st,rt)},l:function(r){return st+=r[0],rt+=r[1],zt=Ht=null,gs(st,rt)},H:function(r){return st=r[0],zt=Ht=null,gs(st,rt)},h:function(r){return st+=r[0],zt=Ht=null,gs(st,rt)},V:function(r){return rt=r[0],zt=Ht=null,gs(st,rt)},v:function(r){return rt+=r[0],zt=Ht=null,gs(st,rt)},Z:function(){var r=Na();return st=Vh,rt=Sh,r},z:function(){var r=Na();return st=Vh,rt=Sh,r}},Tb=function(r,e,t){for(var i=t[0],s=t[1],n=t[2],o=t[3],h=t[4],d=t[5],f=t[6],p=F7(d,f,i,s,o,h,n,r,e),y=[],b=0,w=p;b<w.length;b++){var T=w[b],P=B7.apply(void 0,T);y.push(rr.apply(void 0,P))}return y},F7=function(r,e,t,i,s,n,o,h,d){var f=o*(Math.PI/180),p=Math.sin(f),y=Math.cos(f);t=Math.abs(t),i=Math.abs(i),zt=y*(h-r)*.5+p*(d-e)*.5,Ht=y*(d-e)*.5-p*(h-r)*.5;var b=zt*zt/(t*t)+Ht*Ht/(i*i);b>1&&(b=Math.sqrt(b),t*=b,i*=b);var w=y/t,T=p/t,P=-p/i,D=y/i,L=w*h+T*d,W=P*h+D*d,H=w*r+T*e,ee=P*r+D*e,Y=(H-L)*(H-L)+(ee-W)*(ee-W),Z=1/Y-.25;Z<0&&(Z=0);var K=Math.sqrt(Z);n===s&&(K=-K);var pe=.5*(L+H)-K*(ee-W),Ce=.5*(W+ee)+K*(H-L),we=Math.atan2(W-Ce,L-pe),xe=Math.atan2(ee-Ce,H-pe),Re=xe-we;Re<0&&n===1?Re+=2*Math.PI:Re>0&&n===0&&(Re-=2*Math.PI);for(var ce=Math.ceil(Math.abs(Re/(Math.PI*.5+.001))),ke=[],Ne=0;Ne<ce;Ne++){var _=we+Ne*Re/ce,ae=we+(Ne+1)*Re/ce;ke[Ne]=[pe,Ce,_,ae,t,i,p,y]}return ke},B7=function(r,e,t,i,s,n,o,h){var d=h*s,f=-o*n,p=o*s,y=h*n,b=.5*(i-t),w=8/3*Math.sin(b*.5)*Math.sin(b*.5)/Math.sin(b),T=r+Math.cos(t)-w*Math.sin(t),P=e+Math.sin(t)+w*Math.cos(t),D=r+Math.cos(i),L=e+Math.sin(i),W=D+w*Math.sin(i),H=L-w*Math.cos(i),ee=[d*T+f*P,p*T+y*P,d*W+f*H,p*W+y*H,d*D+f*L,p*D+y*L];return ee},z7=function(r){return q7(k7(r))},H7=function(r,e){for(var t=[rs(),e.graphicsState&&Io(e.graphicsState),Q2(),Ao(e.color),Yv(e.font,e.size),P7(e.lineHeight),_2(Vs(e.rotate),Vs(e.xSkew),Vs(e.ySkew),e.x,e.y)].filter(Boolean),i=0,s=r.length;i<s;i++)t.push(H2(r[i]),R7());return t.push(U2(),ns()),t},K2=function(r,e){return[rs(),e.graphicsState&&Io(e.graphicsState),Pr(e.x,e.y),Zl(Vs(e.rotate)),Uh(e.width,e.height),Zv(Vs(e.xSkew),Vs(e.ySkew)),Jv(r),ns()].filter(Boolean)},Q7=function(r,e){return[rs(),e.graphicsState&&Io(e.graphicsState),Pr(e.x,e.y),Zl(Vs(e.rotate)),Uh(e.xScale,e.yScale),Zv(Vs(e.xSkew),Vs(e.ySkew)),Jv(r),ns()].filter(Boolean)},U7=function(r){var e,t;return[rs(),r.graphicsState&&Io(r.graphicsState),r.color&&ad(r.color),rd(r.thickness),dg((e=r.dashArray)!==null&&e!==void 0?e:[],(t=r.dashPhase)!==null&&t!==void 0?t:0),fn(r.start.x,r.start.y),r.lineCap&&cg(r.lineCap),fn(r.start.x,r.start.y),gs(r.end.x,r.end.y),nd(),ns()].filter(Boolean)},zl=function(r){var e,t;return[rs(),r.graphicsState&&Io(r.graphicsState),r.color&&Ao(r.color),r.borderColor&&ad(r.borderColor),rd(r.borderWidth),r.borderLineCap&&cg(r.borderLineCap),dg((e=r.borderDashArray)!==null&&e!==void 0?e:[],(t=r.borderDashPhase)!==null&&t!==void 0?t:0),Pr(r.x,r.y),Zl(Vs(r.rotate)),Zv(Vs(r.xSkew),Vs(r.ySkew)),fn(0,0),gs(0,r.height),gs(r.width,r.height),gs(r.width,0),Na(),r.color&&r.borderWidth?Xv():r.color?Kv():r.borderColor?nd():Na(),ns()].filter(Boolean)},Tf=4*((Math.sqrt(2)-1)/3),_7=function(r){var e=Rt(r.x),t=Rt(r.y),i=Rt(r.xScale),s=Rt(r.yScale);e-=i,t-=s;var n=i*Tf,o=s*Tf,h=e+i*2,d=t+s*2,f=e+i,p=t+s;return[rs(),fn(e,p),rr(e,p-o,f-n,t,f,t),rr(f+n,t,h,p-o,h,p),rr(h,p+o,f+n,d,f,d),rr(f-n,d,e,p+o,e,p),ns()]},W7=function(r){var e=Rt(r.x),t=Rt(r.y),i=Rt(r.xScale),s=Rt(r.yScale),n=-i,o=-s,h=i*Tf,d=s*Tf,f=n+i*2,p=o+s*2,y=n+i,b=o+s;return[Pr(e,t),Zl(Vs(r.rotate)),fn(n,b),rr(n,b-d,y-h,o,y,o),rr(y+h,o,f,b-d,f,b),rr(f,b+d,y+h,p,y,p),rr(y-h,p,n,b+d,n,b)]},ev=function(r){var e,t,i;return _t([rs(),r.graphicsState&&Io(r.graphicsState),r.color&&Ao(r.color),r.borderColor&&ad(r.borderColor),rd(r.borderWidth),r.borderLineCap&&cg(r.borderLineCap),dg((e=r.borderDashArray)!==null&&e!==void 0?e:[],(t=r.borderDashPhase)!==null&&t!==void 0?t:0)],r.rotate===void 0?_7({x:r.x,y:r.y,xScale:r.xScale,yScale:r.yScale}):W7({x:r.x,y:r.y,xScale:r.xScale,yScale:r.yScale,rotate:(i=r.rotate)!==null&&i!==void 0?i:gt(0)}),[r.color&&r.borderWidth?Xv():r.color?Kv():r.borderColor?nd():Na(),ns()]).filter(Boolean)},j7=function(r,e){var t,i,s;return _t([rs(),e.graphicsState&&Io(e.graphicsState),Pr(e.x,e.y),Zl(Vs((t=e.rotate)!==null&&t!==void 0?t:gt(0))),e.scale?Uh(e.scale,-e.scale):Uh(1,-1),e.color&&Ao(e.color),e.borderColor&&ad(e.borderColor),e.borderWidth&&rd(e.borderWidth),e.borderLineCap&&cg(e.borderLineCap),dg((i=e.borderDashArray)!==null&&i!==void 0?i:[],(s=e.borderDashPhase)!==null&&s!==void 0?s:0)],z7(r),[e.color&&e.borderWidth?Xv():e.color?Kv():e.borderColor?nd():Na(),ns()]).filter(Boolean)},G7=function(r){var e=Rt(r.size),t=-1+.75,i=-1+.51,s=1-.525,n=1-.31,o=-1+.325,h=.3995/(s-i)+i;return[rs(),r.color&&ad(r.color),rd(r.thickness),Pr(r.x,r.y),fn(o*e,h*e),gs(t*e,i*e),gs(n*e,s*e),nd(),ns()].filter(Boolean)},_a=function(r){return r.rotation===0?[Pr(0,0),Wc(0)]:r.rotation===90?[Pr(r.width,0),Wc(90)]:r.rotation===180?[Pr(r.width,r.height),Wc(180)]:r.rotation===270?[Pr(0,r.height),Wc(270)]:[]},Gc=function(r){var e=zl({x:r.x,y:r.y,width:r.width,height:r.height,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:gt(0),xSkew:gt(0),ySkew:gt(0)});if(!r.filled)return e;var t=Rt(r.width),i=Rt(r.height),s=Math.min(t,i)/2,n=G7({x:t/2,y:i/2,size:s,thickness:r.thickness,color:r.markColor});return _t([rs()],e,n,[ns()])},Zc=function(r){var e=Rt(r.width),t=Rt(r.height),i=Math.min(e,t)/2,s=ev({x:r.x,y:r.y,xScale:i,yScale:i,color:r.color,borderColor:r.borderColor,borderWidth:r.borderWidth});if(!r.filled)return s;var n=ev({x:r.x,y:r.y,xScale:i*.45,yScale:i*.45,color:r.dotColor,borderColor:void 0,borderWidth:0});return _t([rs()],s,n,[ns()])},Rb=function(r){var e=Rt(r.x),t=Rt(r.y),i=Rt(r.width),s=Rt(r.height),n=zl({x:e,y:t,width:i,height:s,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:gt(0),xSkew:gt(0),ySkew:gt(0)}),o=iy(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:gt(0),xSkew:gt(0),ySkew:gt(0)});return _t([rs()],n,o,[ns()])},iy=function(r,e){for(var t=[Q2(),Ao(e.color),Yv(e.font,e.size)],i=0,s=r.length;i<s;i++){var n=r[i],o=n.encoded,h=n.x,d=n.y;t.push(_2(Vs(e.rotate),Vs(e.xSkew),Vs(e.ySkew),h,d),H2(o))}return t.push(U2()),t},X2=function(r){var e=Rt(r.x),t=Rt(r.y),i=Rt(r.width),s=Rt(r.height),n=Rt(r.borderWidth),o=Rt(r.padding),h=e+n/2+o,d=t+n/2+o,f=i-(n/2+o)*2,p=s-(n/2+o)*2,y=[fn(h,d),gs(h,d+p),gs(h+f,d+p),gs(h+f,d),Na(),B2(),z2()],b=zl({x:e,y:t,width:i,height:s,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:gt(0),xSkew:gt(0),ySkew:gt(0)}),w=iy(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:gt(0),xSkew:gt(0),ySkew:gt(0)}),T=_t([W2("Tx"),rs()],w,[ns(),j2()]);return _t([rs()],b,y,T,[ns()])},Z7=function(r){for(var e=Rt(r.x),t=Rt(r.y),i=Rt(r.width),s=Rt(r.height),n=Rt(r.lineHeight),o=Rt(r.borderWidth),h=Rt(r.padding),d=e+o/2+h,f=t+o/2+h,p=i-(o/2+h)*2,y=s-(o/2+h)*2,b=[fn(d,f),gs(d,f+y),gs(d+p,f+y),gs(d+p,f),Na(),B2(),z2()],w=zl({x:e,y:t,width:i,height:s,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:gt(0),xSkew:gt(0),ySkew:gt(0)}),T=[],P=0,D=r.selectedLines.length;P<D;P++){var L=r.textLines[r.selectedLines[P]];T.push.apply(T,zl({x:L.x-h,y:L.y-(n-L.height)/2,width:i-o,height:L.height+(n-L.height)/2,borderWidth:0,color:r.selectedColor,borderColor:void 0,rotate:gt(0),xSkew:gt(0),ySkew:gt(0)}))}var W=iy(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:gt(0),xSkew:gt(0),ySkew:gt(0)}),H=_t([W2("Tx"),rs()],W,[ns(),j2()]);return _t([rs()],w,T,b,H,[ns()])},K7=function(r){Oe(e,r);function e(){var t=this,i="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return t=r.call(this,i)||this,t}return e}(Error),X7=function(r){Oe(e,r);function e(){var t=this,i="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return t=r.call(this,i)||this,t}return e}(Error),Y7=function(r){Oe(e,r);function e(){var t=this,i="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return t=r.call(this,i)||this,t}return e}(Error),J7=function(r){Oe(e,r);function e(){var t=this,i="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return t=r.call(this,i)||this,t}return e}(Error),$7=function(r){Oe(e,r);function e(t){var i=this,s='PDFDocument has no form field with the name "'+t+'"';return i=r.call(this,s)||this,i}return e}(Error),wo=function(r){Oe(e,r);function e(t,i,s){var n,o,h=this,d=i?.name,f=(o=(n=s?.constructor)===null||n===void 0?void 0:n.name)!==null&&o!==void 0?o:s,p='Expected field "'+t+'" to be of type '+d+", "+("but it is actually of type "+f);return h=r.call(this,p)||this,h}return e}(Error);(function(r){Oe(e,r);function e(t){var i=this,s='Failed to select check box due to missing onValue: "'+t+'"';return i=r.call(this,s)||this,i}return e})(Error);var Y2=function(r){Oe(e,r);function e(t){var i=this,s='A field already exists with the specified name: "'+t+'"';return i=r.call(this,s)||this,i}return e}(Error),eI=function(r){Oe(e,r);function e(t){var i=this,s='Field name contains invalid component: "'+t+'"';return i=r.call(this,s)||this,i}return e}(Error);(function(r){Oe(e,r);function e(t){var i=this,s='A non-terminal field already exists with the specified name: "'+t+'"';return i=r.call(this,s)||this,i}return e})(Error);var tI=function(r){Oe(e,r);function e(t){var i=this,s="Reading rich text fields is not supported: Attempted to read rich text field: "+t;return i=r.call(this,s)||this,i}return e}(Error),iI=function(r){Oe(e,r);function e(t,i){var s=this,n="Failed to layout combed text as lineLength="+t+" is greater than cellCount="+i;return s=r.call(this,n)||this,s}return e}(Error),sI=function(r){Oe(e,r);function e(t,i,s){var n=this,o="Attempted to set text with length="+t+" for TextField with maxLength="+i+" and name="+s;return n=r.call(this,o)||this,n}return e}(Error),rI=function(r){Oe(e,r);function e(t,i,s){var n=this,o="Attempted to set maxLength="+i+", which is less than "+t+", the length of this field's current value (name="+s+")";return n=r.call(this,o)||this,n}return e}(Error),ss;(function(r){r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right"})(ss||(ss={}));var J2=4,$2=500,ex=function(r,e,t,i){i===void 0&&(i=!1);for(var s=J2;s<$2;){for(var n=0,o=0,h=r.length;o<h;o++){n+=1;for(var d=r[o],f=d.split(" "),p=t.width,y=0,b=f.length;y<b;y++){var w=y===b-1,T=w?f[y]:f[y]+" ",P=e.widthOfTextAtSize(T,s);p-=P,p<=0&&(n+=1,p=t.width-P)}}if(!i&&n>r.length)return s-1;var D=e.heightAtSize(s),L=D+D*.2,W=L*n;if(W>Math.abs(t.height))return s-1;s+=1}return s},nI=function(r,e,t,i){for(var s=t.width/i,n=t.height,o=J2,h=mR(r);o<$2;){for(var d=0,f=h.length;d<f;d++){var p=h[d],y=e.widthOfTextAtSize(p,o)>s*.75;if(y)return o-1}var b=e.heightAtSize(o,{descender:!1});if(b>n)return o-1;o+=1}return o},aI=function(r){for(var e=r.length;e>0;e--)if(/\s/.test(r[e]))return e},oI=function(r,e,t,i){for(var s,n=r.length;n>0;){var o=r.substring(0,n),h=t.encodeText(o),d=t.widthOfTextAtSize(o,i);if(d<e){var f=r.substring(n)||void 0;return{line:o,encoded:h,width:d,remainder:f}}n=(s=aI(o))!==null&&s!==void 0?s:0}return{line:r,encoded:t.encodeText(r),width:t.widthOfTextAtSize(r,i),remainder:void 0}},tx=function(r,e){var t=e.alignment,i=e.fontSize,s=e.font,n=e.bounds,o=Jw(td(r));(i===void 0||i===0)&&(i=ex(o,s,n,!0));for(var h=s.heightAtSize(i),d=h+h*.2,f=[],p=n.x,y=n.y,b=n.x+n.width,w=n.y+n.height,T=n.y+n.height,P=0,D=o.length;P<D;P++)for(var L=o[P];L!==void 0;){var W=oI(L,n.width,s,i),H=W.line,ee=W.encoded,Y=W.width,Z=W.remainder,K=t===ss.Left?n.x:t===ss.Center?n.x+n.width/2-Y/2:t===ss.Right?n.x+n.width-Y:n.x;T-=d,K<p&&(p=K),T<y&&(y=T),K+Y>b&&(b=K+Y),T+h>w&&(w=T+h),f.push({text:H,encoded:ee,width:Y,height:h,x:K,y:T}),L=Z?.trim()}return{fontSize:i,lineHeight:d,lines:f,bounds:{x:p,y,width:b-p,height:w-y}}},lI=function(r,e){var t=e.fontSize,i=e.font,s=e.bounds,n=e.cellCount,o=$w(td(r));if(o.length>n)throw new iI(o.length,n);(t===void 0||t===0)&&(t=nI(o,i,s,n));for(var h=s.width/n,d=i.heightAtSize(t,{descender:!1}),f=s.y+(s.height/2-d/2),p=[],y=s.x,b=s.y,w=s.x+s.width,T=s.y+s.height,P=0,D=0;P<n;){var L=e2(o,D),W=L[0],H=L[1],ee=i.encodeText(W),Y=i.widthOfTextAtSize(W,t),Z=s.x+(h*P+h/2),K=Z-Y/2;K<y&&(y=K),f<b&&(b=f),K+Y>w&&(w=K+Y),f+d>T&&(T=f+d),p.push({text:o,encoded:ee,width:Y,height:d,x:K,y:f}),P+=1,D+=H}return{fontSize:t,cells:p,bounds:{x:y,y:b,width:w-y,height:T-b}}},Rf=function(r,e){var t=e.alignment,i=e.fontSize,s=e.font,n=e.bounds,o=$w(td(r));(i===void 0||i===0)&&(i=ex([o],s,n));var h=s.encodeText(o),d=s.widthOfTextAtSize(o,i),f=s.heightAtSize(i,{descender:!1}),p=t===ss.Left?n.x:t===ss.Center?n.x+n.width/2-d/2:t===ss.Right?n.x+n.width-d:n.x,y=n.y+(n.height/2-f/2);return{fontSize:i,line:{text:o,encoded:h,width:d,height:f,x:p,y},bounds:{x:p,y,width:d,height:f}}},Kl=function(r){return"normal"in r?r:{normal:r}},uI=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,qa=function(r){var e,t,i=(e=r.getDefaultAppearance())!==null&&e!==void 0?e:"",s=(t=Mv(i,uI).match)!==null&&t!==void 0?t:[],n=Number(s[2]);return isFinite(n)?n:void 0},hI=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,Dr=function(r){var e,t=(e=r.getDefaultAppearance())!==null&&e!==void 0?e:"",i=Mv(t,hI).match,s=i??[],n=s[1],o=s[2],h=s[3],d=s[4],f=s[5];if(f==="g"&&n)return G2(Number(n));if(f==="rg"&&n&&o&&h)return ni(Number(n),Number(o),Number(h));if(f==="k"&&n&&o&&h&&d)return Z2(Number(n),Number(o),Number(h),Number(d))},Lr=function(r,e,t,i){var s;i===void 0&&(i=0);var n=[Ao(e).toString(),Yv((s=t?.name)!==null&&s!==void 0?s:"dummy__noop",i).toString()].join(`
`);r.setDefaultAppearance(n)},dI=function(r,e){var t,i,s,n=Dr(e),o=Dr(r.acroField),h=e.getRectangle(),d=e.getAppearanceCharacteristics(),f=e.getBorderStyle(),p=(t=f?.getWidth())!==null&&t!==void 0?t:0,y=Zn(d?.getRotation()),b=Po(h,y),w=b.width,T=b.height,P=_a(Ct(Ct({},h),{rotation:y})),D=ni(0,0,0),L=(i=zs(d?.getBorderColor()))!==null&&i!==void 0?i:D,W=zs(d?.getBackgroundColor()),H=zs(d?.getBackgroundColor(),.8),ee=(s=n??o)!==null&&s!==void 0?s:D;Lr(n?e:r.acroField,ee);var Y={x:0+p/2,y:0+p/2,width:w-p,height:T-p,thickness:1.5,borderWidth:p,borderColor:L,markColor:ee};return{normal:{on:_t(P,Gc(Ct(Ct({},Y),{color:W,filled:!0}))),off:_t(P,Gc(Ct(Ct({},Y),{color:W,filled:!1})))},down:{on:_t(P,Gc(Ct(Ct({},Y),{color:H,filled:!0}))),off:_t(P,Gc(Ct(Ct({},Y),{color:H,filled:!1})))}}},cI=function(r,e){var t,i,s,n=Dr(e),o=Dr(r.acroField),h=e.getRectangle(),d=e.getAppearanceCharacteristics(),f=e.getBorderStyle(),p=(t=f?.getWidth())!==null&&t!==void 0?t:0,y=Zn(d?.getRotation()),b=Po(h,y),w=b.width,T=b.height,P=_a(Ct(Ct({},h),{rotation:y})),D=ni(0,0,0),L=(i=zs(d?.getBorderColor()))!==null&&i!==void 0?i:D,W=zs(d?.getBackgroundColor()),H=zs(d?.getBackgroundColor(),.8),ee=(s=n??o)!==null&&s!==void 0?s:D;Lr(n?e:r.acroField,ee);var Y={x:w/2,y:T/2,width:w-p,height:T-p,borderWidth:p,borderColor:L,dotColor:ee};return{normal:{on:_t(P,Zc(Ct(Ct({},Y),{color:W,filled:!0}))),off:_t(P,Zc(Ct(Ct({},Y),{color:W,filled:!1})))},down:{on:_t(P,Zc(Ct(Ct({},Y),{color:H,filled:!0}))),off:_t(P,Zc(Ct(Ct({},Y),{color:H,filled:!1})))}}},fI=function(r,e,t){var i,s,n,o,h,d=Dr(e),f=Dr(r.acroField),p=qa(e),y=qa(r.acroField),b=e.getRectangle(),w=e.getAppearanceCharacteristics(),T=e.getBorderStyle(),P=w?.getCaptions(),D=(i=P?.normal)!==null&&i!==void 0?i:"",L=(n=(s=P?.down)!==null&&s!==void 0?s:D)!==null&&n!==void 0?n:"",W=(o=T?.getWidth())!==null&&o!==void 0?o:0,H=Zn(w?.getRotation()),ee=Po(b,H),Y=ee.width,Z=ee.height,K=_a(Ct(Ct({},b),{rotation:H})),pe=ni(0,0,0),Ce=zs(w?.getBorderColor()),we=zs(w?.getBackgroundColor()),xe=zs(w?.getBackgroundColor(),.8),Re={x:W,y:W,width:Y-W*2,height:Z-W*2},ce=Rf(D,{alignment:ss.Center,fontSize:p??y,font:t,bounds:Re}),ke=Rf(L,{alignment:ss.Center,fontSize:p??y,font:t,bounds:Re}),Ne=Math.min(ce.fontSize,ke.fontSize),_=(h=d??f)!==null&&h!==void 0?h:pe;Lr(d||p!==void 0?e:r.acroField,_,t,Ne);var ae={x:0+W/2,y:0+W/2,width:Y-W,height:Z-W,borderWidth:W,borderColor:Ce,textColor:_,font:t.name,fontSize:Ne};return{normal:_t(K,Rb(Ct(Ct({},ae),{color:we,textLines:[ce.line]}))),down:_t(K,Rb(Ct(Ct({},ae),{color:xe,textLines:[ke.line]})))}},gI=function(r,e,t){var i,s,n,o,h=Dr(e),d=Dr(r.acroField),f=qa(e),p=qa(r.acroField),y=e.getRectangle(),b=e.getAppearanceCharacteristics(),w=e.getBorderStyle(),T=(i=r.getText())!==null&&i!==void 0?i:"",P=(s=w?.getWidth())!==null&&s!==void 0?s:0,D=Zn(b?.getRotation()),L=Po(y,D),W=L.width,H=L.height,ee=_a(Ct(Ct({},y),{rotation:D})),Y=ni(0,0,0),Z=zs(b?.getBorderColor()),K=zs(b?.getBackgroundColor()),pe,Ce,we=r.isCombed()?0:1,xe={x:P+we,y:P+we,width:W-(P+we)*2,height:H-(P+we)*2};if(r.isMultiline()){var Re=tx(T,{alignment:r.getAlignment(),fontSize:f??p,font:t,bounds:xe});pe=Re.lines,Ce=Re.fontSize}else if(r.isCombed()){var Re=lI(T,{fontSize:f??p,font:t,bounds:xe,cellCount:(n=r.getMaxLength())!==null&&n!==void 0?n:0});pe=Re.cells,Ce=Re.fontSize}else{var Re=Rf(T,{alignment:r.getAlignment(),fontSize:f??p,font:t,bounds:xe});pe=[Re.line],Ce=Re.fontSize}var ce=(o=h??d)!==null&&o!==void 0?o:Y;Lr(h||f!==void 0?e:r.acroField,ce,t,Ce);var ke={x:0+P/2,y:0+P/2,width:W-P,height:H-P,borderWidth:P??0,borderColor:Z,textColor:ce,font:t.name,fontSize:Ce,color:K,textLines:pe,padding:we};return _t(ee,X2(ke))},pI=function(r,e,t){var i,s,n,o=Dr(e),h=Dr(r.acroField),d=qa(e),f=qa(r.acroField),p=e.getRectangle(),y=e.getAppearanceCharacteristics(),b=e.getBorderStyle(),w=(i=r.getSelected()[0])!==null&&i!==void 0?i:"",T=(s=b?.getWidth())!==null&&s!==void 0?s:0,P=Zn(y?.getRotation()),D=Po(p,P),L=D.width,W=D.height,H=_a(Ct(Ct({},p),{rotation:P})),ee=ni(0,0,0),Y=zs(y?.getBorderColor()),Z=zs(y?.getBackgroundColor()),K=1,pe={x:T+K,y:T+K,width:L-(T+K)*2,height:W-(T+K)*2},Ce=Rf(w,{alignment:ss.Left,fontSize:d??f,font:t,bounds:pe}),we=Ce.line,xe=Ce.fontSize,Re=(n=o??h)!==null&&n!==void 0?n:ee;Lr(o||d!==void 0?e:r.acroField,Re,t,xe);var ce={x:0+T/2,y:0+T/2,width:L-T,height:W-T,borderWidth:T??0,borderColor:Y,textColor:Re,font:t.name,fontSize:xe,color:Z,textLines:[we],padding:K};return _t(H,X2(ce))},mI=function(r,e,t){var i,s,n=Dr(e),o=Dr(r.acroField),h=qa(e),d=qa(r.acroField),f=e.getRectangle(),p=e.getAppearanceCharacteristics(),y=e.getBorderStyle(),b=(i=y?.getWidth())!==null&&i!==void 0?i:0,w=Zn(p?.getRotation()),T=Po(f,w),P=T.width,D=T.height,L=_a(Ct(Ct({},f),{rotation:w})),W=ni(0,0,0),H=zs(p?.getBorderColor()),ee=zs(p?.getBackgroundColor()),Y=r.getOptions(),Z=r.getSelected();r.isSorted()&&Y.sort();for(var K="",pe=0,Ce=Y.length;pe<Ce;pe++)K+=Y[pe],pe<Ce-1&&(K+=`
`);for(var we=1,xe={x:b+we,y:b+we,width:P-(b+we)*2,height:D-(b+we)*2},Re=tx(K,{alignment:ss.Left,fontSize:h??d,font:t,bounds:xe}),ce=Re.lines,ke=Re.fontSize,Ne=Re.lineHeight,_=[],pe=0,Ce=ce.length;pe<Ce;pe++){var ae=ce[pe];Z.includes(ae.text)&&_.push(pe)}var Me=ni(153/255,193/255,218/255),Ke=(s=n??o)!==null&&s!==void 0?s:W;return Lr(n||h!==void 0?e:r.acroField,Ke,t,ke),_t(L,Z7({x:0+b/2,y:0+b/2,width:P-b,height:D-b,borderWidth:b??0,borderColor:H,textColor:Ke,font:t.name,fontSize:ke,color:ee,textLines:ce,lineHeight:Ne,selectedColor:Me,selectedLines:_,padding:we}))},ix=function(){function r(e,t,i){this.alreadyEmbedded=!1,te(e,"ref",[[ri,"PDFRef"]]),te(t,"doc",[[_n,"PDFDocument"]]),te(i,"embedder",[[R2,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=i.width,this.height=i.height,this.embedder=i}return r.prototype.scale=function(e){return te(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},r.prototype.size=function(){return this.scale(1)},r.prototype.embed=function(){return Et(this,void 0,void 0,function(){return Tt(this,function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},r.of=function(e,t,i){return new r(e,t,i)},r}(),lr=function(){function r(e,t,i){this.modified=!0,te(e,"ref",[[ri,"PDFRef"]]),te(t,"doc",[[_n,"PDFDocument"]]),te(i,"embedder",[[Qv,"CustomFontEmbedder"],[Cf,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=i.fontName,this.embedder=i}return r.prototype.encodeText=function(e){return te(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},r.prototype.widthOfTextAtSize=function(e,t){return te(e,"text",["string"]),te(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},r.prototype.heightAtSize=function(e,t){var i;return te(e,"size",["number"]),Le(t?.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:(i=t?.descender)!==null&&i!==void 0?i:!0})},r.prototype.sizeAtHeight=function(e){return te(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},r.prototype.getCharacterSet=function(){return this.embedder instanceof Cf?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},r.prototype.embed=function(){return Et(this,void 0,void 0,function(){return Tt(this,function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},r.of=function(e,t,i){return new r(e,t,i)},r}(),tv=function(){function r(e,t,i){te(e,"ref",[[ri,"PDFRef"]]),te(t,"doc",[[_n,"PDFDocument"]]),te(i,"embedder",[[V2,"JpegEmbedder"],[S2,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=i.width,this.height=i.height,this.embedder=i}return r.prototype.scale=function(e){return te(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},r.prototype.scaleToFit=function(e,t){te(e,"width",["number"]),te(t,"height",["number"]);var i=e/this.width,s=t/this.height,n=Math.min(i,s);return this.scale(n)},r.prototype.size=function(){return this.scale(1)},r.prototype.embed=function(){return Et(this,void 0,void 0,function(){var e,t,i;return Tt(this,function(s){switch(s.label){case 0:return this.embedder?(this.embedTask||(e=this,t=e.doc,i=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,i)),[4,this.embedTask]):[2];case 1:return s.sent(),this.embedder=void 0,[2]}})})},r.of=function(e,t,i){return new r(e,t,i)},r}(),Oa;(function(r){r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right"})(Oa||(Oa={}));var Xl=function(r){Le(r?.x,"options.x",["number"]),Le(r?.y,"options.y",["number"]),Le(r?.width,"options.width",["number"]),Le(r?.height,"options.height",["number"]),Le(r?.textColor,"options.textColor",[[Object,"Color"]]),Le(r?.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),Le(r?.borderColor,"options.borderColor",[[Object,"Color"]]),Le(r?.borderWidth,"options.borderWidth",["number"]),Le(r?.rotate,"options.rotate",[[Object,"Rotation"]])},Do=function(){function r(e,t,i){te(e,"acroField",[[Gl,"PDFAcroTerminal"]]),te(t,"ref",[[ri,"PDFRef"]]),te(i,"doc",[[_n,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=i}return r.prototype.getName=function(){var e;return(e=this.acroField.getFullyQualifiedName())!==null&&e!==void 0?e:""},r.prototype.isReadOnly=function(){return this.acroField.hasFlag(_r.ReadOnly)},r.prototype.enableReadOnly=function(){this.acroField.setFlagTo(_r.ReadOnly,!0)},r.prototype.disableReadOnly=function(){this.acroField.setFlagTo(_r.ReadOnly,!1)},r.prototype.isRequired=function(){return this.acroField.hasFlag(_r.Required)},r.prototype.enableRequired=function(){this.acroField.setFlagTo(_r.Required,!0)},r.prototype.disableRequired=function(){this.acroField.setFlagTo(_r.Required,!1)},r.prototype.isExported=function(){return!this.acroField.hasFlag(_r.NoExport)},r.prototype.enableExporting=function(){this.acroField.setFlagTo(_r.NoExport,!1)},r.prototype.disableExporting=function(){this.acroField.setFlagTo(_r.NoExport,!0)},r.prototype.needsAppearancesUpdate=function(){throw new Rr(this.constructor.name,"needsAppearancesUpdate")},r.prototype.defaultUpdateAppearances=function(e){throw new Rr(this.constructor.name,"defaultUpdateAppearances")},r.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},r.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},r.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},r.prototype.createWidget=function(e){var t,i=e.textColor,s=e.backgroundColor,n=e.borderColor,o=e.borderWidth,h=F2(e.rotate),d=e.caption,f=e.x,p=e.y,y=e.width+o,b=e.height+o,w=!!e.hidden,T=e.page;m2(h,"degreesAngle",90);var P=Jm.create(this.doc.context,this.ref),D=T7({x:f,y:p,width:y,height:b},o,h);P.setRectangle(D),T&&P.setP(T);var L=P.getOrCreateAppearanceCharacteristics();s&&L.setBackgroundColor(Vb(s)),L.setRotation(h),d&&L.setCaptions({normal:d}),n&&L.setBorderColor(Vb(n));var W=P.getOrCreateBorderStyle();if(o!==void 0&&W.setWidth(o),P.setFlagTo(Lh.Print,!0),P.setFlagTo(Lh.Hidden,w),P.setFlagTo(Lh.Invisible,!1),i){var H=(t=this.acroField.getDefaultAppearance())!==null&&t!==void 0?t:"",ee=H+`
`+Ao(i).toString();this.acroField.setDefaultAppearance(ee)}return P},r.prototype.updateWidgetAppearanceWithFont=function(e,t,i){var s=i.normal,n=i.rollover,o=i.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,s,t),rollover:n&&this.createAppearanceStream(e,n,t),down:o&&this.createAppearanceStream(e,o,t)})},r.prototype.updateOnOffWidgetAppearance=function(e,t,i){var s=i.normal,n=i.rollover,o=i.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,s,t),rollover:n&&this.createAppearanceDict(e,n,t),down:o&&this.createAppearanceDict(e,o,t)})},r.prototype.updateWidgetAppearances=function(e,t){var i=t.normal,s=t.rollover,n=t.down;e.setNormalAppearance(i),s?e.setRolloverAppearance(s):e.removeRolloverAppearance(),n?e.setDownAppearance(n):e.removeDownAppearance()},r.prototype.createAppearanceStream=function(e,t,i){var s,n=this.acroField.dict.context,o=e.getRectangle(),h=o.width,d=o.height,f=i&&{Font:(s={},s[i.name]=i.ref,s)},p=n.formXObject(t,{Resources:f,BBox:n.obj([0,0,h,d]),Matrix:n.obj([1,0,0,1,0,0])}),y=n.register(p);return y},r.prototype.createImageAppearanceStream=function(e,t,i){var s,n,o=this.acroField.dict.context,h=e.getRectangle(),d=e.getAppearanceCharacteristics(),f=e.getBorderStyle(),p=(n=f?.getWidth())!==null&&n!==void 0?n:0,y=Zn(d?.getRotation()),b=_a(Ct(Ct({},h),{rotation:y})),w=Po(h,y),T=t.scaleToFit(w.width-p*2,w.height-p*2),P={x:p,y:p,width:T.width,height:T.height,rotate:gt(0),xSkew:gt(0),ySkew:gt(0)};i===Oa.Center?(P.x+=(w.width-p*2)/2-T.width/2,P.y+=(w.height-p*2)/2-T.height/2):i===Oa.Right&&(P.x=w.width-p-T.width,P.y=w.height-p-T.height);var D=this.doc.context.addRandomSuffix("Image",10),L=_t(b,K2(D,P)),W={XObject:(s={},s[D]=t.ref,s)},H=o.formXObject(L,{Resources:W,BBox:o.obj([0,0,h.width,h.height]),Matrix:o.obj([1,0,0,1,0,0])});return o.register(H)},r.prototype.createAppearanceDict=function(e,t,i){var s=this.acroField.dict.context,n=this.createAppearanceStream(e,t.on),o=this.createAppearanceStream(e,t.off),h=s.obj({});return h.set(i,n),h.set(q.of("Off"),o),h},r}(),Eh=function(r){Oe(e,r);function e(t,i,s){var n=r.call(this,t,i,s)||this;return te(t,"acroCheckBox",[[tg,"PDFAcroCheckBox"]]),n.acroField=t,n}return e.prototype.check=function(){var t,i=(t=this.acroField.getOnValue())!==null&&t!==void 0?t:q.of("Yes");this.markAsDirty(),this.acroField.setValue(i)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(q.of("Off"))},e.prototype.isChecked=function(){var t=this.acroField.getOnValue();return!!t&&t===this.acroField.getValue()},e.prototype.addToPage=function(t,i){var s,n,o,h,d,f;te(t,"page",[[Sr,"PDFPage"]]),Xl(i),i||(i={}),"textColor"in i||(i.textColor=ni(0,0,0)),"backgroundColor"in i||(i.backgroundColor=ni(1,1,1)),"borderColor"in i||(i.borderColor=ni(0,0,0)),"borderWidth"in i||(i.borderWidth=1);var p=this.createWidget({x:(s=i.x)!==null&&s!==void 0?s:0,y:(n=i.y)!==null&&n!==void 0?n:0,width:(o=i.width)!==null&&o!==void 0?o:50,height:(h=i.height)!==null&&h!==void 0?h:50,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:(d=i.borderWidth)!==null&&d!==void 0?d:0,rotate:(f=i.rotate)!==null&&f!==void 0?f:gt(0),hidden:i.hidden,page:t.ref}),y=this.doc.context.register(p.dict);this.acroField.addWidget(y),p.setAppearanceState(q.of("Off")),this.updateWidgetAppearance(p,q.of("Yes")),t.node.addAnnot(y)},e.prototype.needsAppearancesUpdate=function(){for(var t,i=this.acroField.getWidgets(),s=0,n=i.length;s<n;s++){var o=i[s],h=o.getAppearanceState(),d=(t=o.getAppearances())===null||t===void 0?void 0:t.normal;if(!(d instanceof xt)||h&&!d.has(h))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){var i;Le(t,"provider",[Function]);for(var s=this.acroField.getWidgets(),n=0,o=s.length;n<o;n++){var h=s[n],d=(i=h.getOnValue())!==null&&i!==void 0?i:q.of("Yes");d&&this.updateWidgetAppearance(h,d,t)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,i,s){var n=s??dI,o=Kl(n(this,t));this.updateOnOffWidgetAppearance(t,i,o)},e.of=function(t,i,s){return new e(t,i,s)},e}(Do),tf=function(r){Oe(e,r);function e(t,i,s){var n=r.call(this,t,i,s)||this;return te(t,"acroComboBox",[[ig,"PDFAcroComboBox"]]),n.acroField=t,n}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),i=new Array(t.length),s=0,n=i.length;s<n;s++){var o=t[s],h=o.display,d=o.value;i[s]=(h??d).decodeText()}return i},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),i=new Array(t.length),s=0,n=t.length;s<n;s++)i[s]=t[s].decodeText();return i},e.prototype.setOptions=function(t){te(t,"options",[Array]);for(var i=new Array(t.length),s=0,n=t.length;s<n;s++)i[s]={value:ct.fromText(t[s])};this.acroField.setOptions(i)},e.prototype.addOptions=function(t){te(t,"options",["string",Array]);for(var i=Array.isArray(t)?t:[t],s=this.acroField.getOptions(),n=new Array(i.length),o=0,h=i.length;o<h;o++)n[o]={value:ct.fromText(i[o])};this.acroField.setOptions(s.concat(n))},e.prototype.select=function(t,i){i===void 0&&(i=!1),te(t,"options",["string",Array]),te(i,"merge",["boolean"]);var s=Array.isArray(t)?t:[t],n=this.getOptions(),o=s.find(function(y){return!n.includes(y)});o&&this.enableEditing(),this.markAsDirty(),(s.length>1||s.length===1&&i)&&this.enableMultiselect();for(var h=new Array(s.length),d=0,f=s.length;d<f;d++)h[d]=ct.fromText(s[d]);if(i){var p=this.acroField.getValues();this.acroField.setValues(p.concat(h))}else this.acroField.setValues(h)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){$f(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(ti.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(ti.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(ti.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(ti.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(ti.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(ti.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(ti.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ti.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ti.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(ti.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(ti.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(ti.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ti.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ti.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ti.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,i){var s,n,o,h,d,f,p;te(t,"page",[[Sr,"PDFPage"]]),Xl(i),i||(i={}),"textColor"in i||(i.textColor=ni(0,0,0)),"backgroundColor"in i||(i.backgroundColor=ni(1,1,1)),"borderColor"in i||(i.borderColor=ni(0,0,0)),"borderWidth"in i||(i.borderWidth=1);var y=this.createWidget({x:(s=i.x)!==null&&s!==void 0?s:0,y:(n=i.y)!==null&&n!==void 0?n:0,width:(o=i.width)!==null&&o!==void 0?o:200,height:(h=i.height)!==null&&h!==void 0?h:50,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:(d=i.borderWidth)!==null&&d!==void 0?d:0,rotate:(f=i.rotate)!==null&&f!==void 0?f:gt(0),hidden:i.hidden,page:t.ref}),b=this.doc.context.register(y.dict);this.acroField.addWidget(b);var w=(p=i.font)!==null&&p!==void 0?p:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(y,w),t.node.addAnnot(b)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var i=this.acroField.getWidgets(),s=0,n=i.length;s<n;s++){var o=i[s],h=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof nr;if(!h)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){te(t,"font",[[lr,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,i){te(t,"font",[[lr,"PDFFont"]]),Le(i,"provider",[Function]);for(var s=this.acroField.getWidgets(),n=0,o=s.length;n<o;n++){var h=s[n];this.updateWidgetAppearance(h,t,i)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,i,s){var n=s??pI,o=Kl(n(this,t,i));this.updateWidgetAppearanceWithFont(t,i,o)},e.of=function(t,i,s){return new e(t,i,s)},e}(Do),sf=function(r){Oe(e,r);function e(t,i,s){var n=r.call(this,t,i,s)||this;return te(t,"acroListBox",[[ag,"PDFAcroListBox"]]),n.acroField=t,n}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),i=new Array(t.length),s=0,n=i.length;s<n;s++){var o=t[s],h=o.display,d=o.value;i[s]=(h??d).decodeText()}return i},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),i=new Array(t.length),s=0,n=t.length;s<n;s++)i[s]=t[s].decodeText();return i},e.prototype.setOptions=function(t){te(t,"options",[Array]),this.markAsDirty();for(var i=new Array(t.length),s=0,n=t.length;s<n;s++)i[s]={value:ct.fromText(t[s])};this.acroField.setOptions(i)},e.prototype.addOptions=function(t){te(t,"options",["string",Array]),this.markAsDirty();for(var i=Array.isArray(t)?t:[t],s=this.acroField.getOptions(),n=new Array(i.length),o=0,h=i.length;o<h;o++)n[o]={value:ct.fromText(i[o])};this.acroField.setOptions(s.concat(n))},e.prototype.select=function(t,i){i===void 0&&(i=!1),te(t,"options",["string",Array]),te(i,"merge",["boolean"]);var s=Array.isArray(t)?t:[t],n=this.getOptions();gP(s,"option",n),this.markAsDirty(),(s.length>1||s.length===1&&i)&&this.enableMultiselect();for(var o=new Array(s.length),h=0,d=s.length;h<d;h++)o[h]=ct.fromText(s[h]);if(i){var f=this.acroField.getValues();this.acroField.setValues(f.concat(o))}else this.acroField.setValues(o)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){$f(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(ti.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(ti.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(ti.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(ti.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ti.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ti.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ti.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ti.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ti.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,i){var s,n,o,h,d,f,p;te(t,"page",[[Sr,"PDFPage"]]),Xl(i),i||(i={}),"textColor"in i||(i.textColor=ni(0,0,0)),"backgroundColor"in i||(i.backgroundColor=ni(1,1,1)),"borderColor"in i||(i.borderColor=ni(0,0,0)),"borderWidth"in i||(i.borderWidth=1);var y=this.createWidget({x:(s=i.x)!==null&&s!==void 0?s:0,y:(n=i.y)!==null&&n!==void 0?n:0,width:(o=i.width)!==null&&o!==void 0?o:200,height:(h=i.height)!==null&&h!==void 0?h:100,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:(d=i.borderWidth)!==null&&d!==void 0?d:0,rotate:(f=i.rotate)!==null&&f!==void 0?f:gt(0),hidden:i.hidden,page:t.ref}),b=this.doc.context.register(y.dict);this.acroField.addWidget(b);var w=(p=i.font)!==null&&p!==void 0?p:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(y,w),t.node.addAnnot(b)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var i=this.acroField.getWidgets(),s=0,n=i.length;s<n;s++){var o=i[s],h=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof nr;if(!h)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){te(t,"font",[[lr,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,i){te(t,"font",[[lr,"PDFFont"]]),Le(i,"provider",[Function]);for(var s=this.acroField.getWidgets(),n=0,o=s.length;n<o;n++){var h=s[n];this.updateWidgetAppearance(h,t,i)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,i,s){var n=s??mI,o=Kl(n(this,t,i));this.updateWidgetAppearanceWithFont(t,i,o)},e.of=function(t,i,s){return new e(t,i,s)},e}(Do),Th=function(r){Oe(e,r);function e(t,i,s){var n=r.call(this,t,i,s)||this;return te(t,"acroRadioButton",[[ng,"PDFAcroRadioButton"]]),n.acroField=t,n}return e.prototype.getOptions=function(){var t=this.acroField.getExportValues();if(t){for(var i=new Array(t.length),s=0,n=t.length;s<n;s++)i[s]=t[s].decodeText();return i}for(var o=this.acroField.getOnValues(),h=new Array(o.length),s=0,n=h.length;s<n;s++)h[s]=o[s].decodeText();return h},e.prototype.getSelected=function(){var t=this.acroField.getValue();if(t!==q.of("Off")){var i=this.acroField.getExportValues();if(i){for(var s=this.acroField.getOnValues(),n=0,o=s.length;n<o;n++)if(s[n]===t)return i[n].decodeText()}return t.decodeText()}},e.prototype.select=function(t){te(t,"option",["string"]);var i=this.getOptions();Da(t,"option",i),this.markAsDirty();var s=this.acroField.getOnValues(),n=this.acroField.getExportValues();if(n)for(var o=0,h=n.length;o<h;o++)n[o].decodeText()===t&&this.acroField.setValue(s[o]);else for(var o=0,h=s.length;o<h;o++){var d=s[o];d.decodeText()===t&&this.acroField.setValue(d)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(q.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(Vr.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(Vr.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(Vr.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(Vr.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(Vr.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(Vr.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(t,i,s){var n,o,h,d,f,p,y,b,w;te(t,"option",["string"]),te(i,"page",[[Sr,"PDFPage"]]),Xl(s);var T=this.createWidget({x:(n=s?.x)!==null&&n!==void 0?n:0,y:(o=s?.y)!==null&&o!==void 0?o:0,width:(h=s?.width)!==null&&h!==void 0?h:50,height:(d=s?.height)!==null&&d!==void 0?d:50,textColor:(f=s?.textColor)!==null&&f!==void 0?f:ni(0,0,0),backgroundColor:(p=s?.backgroundColor)!==null&&p!==void 0?p:ni(1,1,1),borderColor:(y=s?.borderColor)!==null&&y!==void 0?y:ni(0,0,0),borderWidth:(b=s?.borderWidth)!==null&&b!==void 0?b:1,rotate:(w=s?.rotate)!==null&&w!==void 0?w:gt(0),hidden:s?.hidden,page:i.ref}),P=this.doc.context.register(T.dict),D=this.acroField.addWidgetWithOpt(P,ct.fromText(t),!this.isMutuallyExclusive());T.setAppearanceState(q.of("Off")),this.updateWidgetAppearance(T,D),i.node.addAnnot(P)},e.prototype.needsAppearancesUpdate=function(){for(var t,i=this.acroField.getWidgets(),s=0,n=i.length;s<n;s++){var o=i[s],h=o.getAppearanceState(),d=(t=o.getAppearances())===null||t===void 0?void 0:t.normal;if(!(d instanceof xt)||h&&!d.has(h))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){Le(t,"provider",[Function]);for(var i=this.acroField.getWidgets(),s=0,n=i.length;s<n;s++){var o=i[s],h=o.getOnValue();h&&this.updateWidgetAppearance(o,h,t)}},e.prototype.updateWidgetAppearance=function(t,i,s){var n=s??cI,o=Kl(n(this,t));this.updateOnOffWidgetAppearance(t,i,o)},e.of=function(t,i,s){return new e(t,i,s)},e}(Do),iv=function(r){Oe(e,r);function e(t,i,s){var n=r.call(this,t,i,s)||this;return te(t,"acroSignature",[[_v,"PDFAcroSignature"]]),n.acroField=t,n}return e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(t,i,s){return new e(t,i,s)},e}(Do),rf=function(r){Oe(e,r);function e(t,i,s){var n=r.call(this,t,i,s)||this;return te(t,"acroText",[[sg,"PDFAcroText"]]),n.acroField=t,n}return e.prototype.getText=function(){var t=this.acroField.getValue();if(!t&&this.isRichFormatted())throw new tI(this.getName());return t?.decodeText()},e.prototype.setText=function(t){Le(t,"text",["string"]);var i=this.getMaxLength();if(i!==void 0&&t&&t.length>i)throw new sI(t.length,i,this.getName());this.markAsDirty(),this.disableRichFormatting(),t?this.acroField.setValue(ct.fromText(t)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var t=this.acroField.getQuadding();return t===0?ss.Left:t===1?ss.Center:t===2?ss.Right:ss.Left},e.prototype.setAlignment=function(t){Da(t,"alignment",ss),this.markAsDirty(),this.acroField.setQuadding(t)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(t){if(Ur(t,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),t===void 0)this.acroField.removeMaxLength();else{var i=this.getText();if(i&&i.length>t)throw new rI(i.length,t,this.getName());this.acroField.setMaxLength(t)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(t){for(var i=this.getAlignment(),s=i===ss.Center?Oa.Center:i===ss.Right?Oa.Right:Oa.Left,n=this.acroField.getWidgets(),o=0,h=n.length;o<h;o++){var d=n[o],f=this.createImageAppearanceStream(d,t,s);this.updateWidgetAppearances(d,{normal:f})}this.markAsClean()},e.prototype.setFontSize=function(t){$f(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag(ki.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(ki.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(ki.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag(ki.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo(ki.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo(ki.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag(ki.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo(ki.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo(ki.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(ki.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(ki.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(ki.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag(ki.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo(ki.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo(ki.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag(ki.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},e.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var t="PDFTextFields must have a max length in order to be combed";console.warn(t)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(ki.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(ki.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag(ki.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(ki.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(ki.RichText,!1)},e.prototype.addToPage=function(t,i){var s,n,o,h,d,f,p;te(t,"page",[[Sr,"PDFPage"]]),Xl(i),i||(i={}),"textColor"in i||(i.textColor=ni(0,0,0)),"backgroundColor"in i||(i.backgroundColor=ni(1,1,1)),"borderColor"in i||(i.borderColor=ni(0,0,0)),"borderWidth"in i||(i.borderWidth=1);var y=this.createWidget({x:(s=i.x)!==null&&s!==void 0?s:0,y:(n=i.y)!==null&&n!==void 0?n:0,width:(o=i.width)!==null&&o!==void 0?o:200,height:(h=i.height)!==null&&h!==void 0?h:50,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:(d=i.borderWidth)!==null&&d!==void 0?d:0,rotate:(f=i.rotate)!==null&&f!==void 0?f:gt(0),hidden:i.hidden,page:t.ref}),b=this.doc.context.register(y.dict);this.acroField.addWidget(b);var w=(p=i.font)!==null&&p!==void 0?p:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(y,w),t.node.addAnnot(b)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var i=this.acroField.getWidgets(),s=0,n=i.length;s<n;s++){var o=i[s],h=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof nr;if(!h)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){te(t,"font",[[lr,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,i){te(t,"font",[[lr,"PDFFont"]]),Le(i,"provider",[Function]);for(var s=this.acroField.getWidgets(),n=0,o=s.length;n<o;n++){var h=s[n];this.updateWidgetAppearance(h,t,i)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,i,s){var n=s??gI,o=Kl(n(this,t,i));this.updateWidgetAppearanceWithFont(t,i,o)},e.of=function(t,i,s){return new e(t,i,s)},e}(Do),Pf;(function(r){r.Courier="Courier",r.CourierBold="Courier-Bold",r.CourierOblique="Courier-Oblique",r.CourierBoldOblique="Courier-BoldOblique",r.Helvetica="Helvetica",r.HelveticaBold="Helvetica-Bold",r.HelveticaOblique="Helvetica-Oblique",r.HelveticaBoldOblique="Helvetica-BoldOblique",r.TimesRoman="Times-Roman",r.TimesRomanBold="Times-Bold",r.TimesRomanItalic="Times-Italic",r.TimesRomanBoldItalic="Times-BoldItalic",r.Symbol="Symbol",r.ZapfDingbats="ZapfDingbats"})(Pf||(Pf={}));var vI=function(){function r(e,t){var i=this;this.embedDefaultFont=function(){return i.doc.embedStandardFont(Pf.Helvetica)},te(e,"acroForm",[[xf,"PDFAcroForm"]]),te(t,"doc",[[_n,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=zn.populatedBy(this.embedDefaultFont)}return r.prototype.hasXFA=function(){return this.acroForm.dict.has(q.of("XFA"))},r.prototype.deleteXFA=function(){this.acroForm.dict.delete(q.of("XFA"))},r.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],i=0,s=e.length;i<s;i++){var n=e[i],o=n[0],h=n[1],d=yI(o,h,this.doc);d&&t.push(d)}return t},r.prototype.getFieldMaybe=function(e){te(e,"name",["string"]);for(var t=this.getFields(),i=0,s=t.length;i<s;i++){var n=t[i];if(n.getName()===e)return n}},r.prototype.getField=function(e){te(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new $7(e)},r.prototype.getButton=function(e){te(e,"name",["string"]);var t=this.getField(e);if(t instanceof nf)return t;throw new wo(e,nf,t)},r.prototype.getCheckBox=function(e){te(e,"name",["string"]);var t=this.getField(e);if(t instanceof Eh)return t;throw new wo(e,Eh,t)},r.prototype.getDropdown=function(e){te(e,"name",["string"]);var t=this.getField(e);if(t instanceof tf)return t;throw new wo(e,tf,t)},r.prototype.getOptionList=function(e){te(e,"name",["string"]);var t=this.getField(e);if(t instanceof sf)return t;throw new wo(e,sf,t)},r.prototype.getRadioGroup=function(e){te(e,"name",["string"]);var t=this.getField(e);if(t instanceof Th)return t;throw new wo(e,Th,t)},r.prototype.getSignature=function(e){te(e,"name",["string"]);var t=this.getField(e);if(t instanceof iv)return t;throw new wo(e,iv,t)},r.prototype.getTextField=function(e){te(e,"name",["string"]);var t=this.getField(e);if(t instanceof rf)return t;throw new wo(e,rf,t)},r.prototype.createButton=function(e){te(e,"name",["string"]);var t=Tl(e),i=this.findOrCreateNonTerminals(t.nonTerminal),s=rg.create(this.doc.context);return s.setPartialName(t.terminal),Rl(i,[s,s.ref],t.terminal),nf.of(s,s.ref,this.doc)},r.prototype.createCheckBox=function(e){te(e,"name",["string"]);var t=Tl(e),i=this.findOrCreateNonTerminals(t.nonTerminal),s=tg.create(this.doc.context);return s.setPartialName(t.terminal),Rl(i,[s,s.ref],t.terminal),Eh.of(s,s.ref,this.doc)},r.prototype.createDropdown=function(e){te(e,"name",["string"]);var t=Tl(e),i=this.findOrCreateNonTerminals(t.nonTerminal),s=ig.create(this.doc.context);return s.setPartialName(t.terminal),Rl(i,[s,s.ref],t.terminal),tf.of(s,s.ref,this.doc)},r.prototype.createOptionList=function(e){te(e,"name",["string"]);var t=Tl(e),i=this.findOrCreateNonTerminals(t.nonTerminal),s=ag.create(this.doc.context);return s.setPartialName(t.terminal),Rl(i,[s,s.ref],t.terminal),sf.of(s,s.ref,this.doc)},r.prototype.createRadioGroup=function(e){te(e,"name",["string"]);var t=Tl(e),i=this.findOrCreateNonTerminals(t.nonTerminal),s=ng.create(this.doc.context);return s.setPartialName(t.terminal),Rl(i,[s,s.ref],t.terminal),Th.of(s,s.ref,this.doc)},r.prototype.createTextField=function(e){te(e,"name",["string"]);var t=Tl(e),i=this.findOrCreateNonTerminals(t.nonTerminal),s=sg.create(this.doc.context);return s.setPartialName(t.terminal),Rl(i,[s,s.ref],t.terminal),rf.of(s,s.ref,this.doc)},r.prototype.flatten=function(e){e===void 0&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),i=0,s=t.length;i<s;i++){for(var n=t[i],o=n.acroField.getWidgets(),h=0,d=o.length;h<d;h++){var f=o[h],p=this.findWidgetPage(f),y=this.findWidgetAppearanceRef(n,f),b=p.node.newXObject("FlatWidget",y),w=f.getRectangle(),T=_t([rs(),Pr(w.x,w.y)],_a(Ct(Ct({},w),{rotation:0})),[Jv(b),ns()]).filter(Boolean);p.pushOperators.apply(p,T)}this.removeField(n)}},r.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),i=new Set,s=0,n=t.length;s<n;s++){var o=t[s],h=this.findWidgetAppearanceRef(e,o),d=this.findWidgetPage(o);i.add(d),d.node.removeAnnot(h)}i.forEach(function(w){return w.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var f=e.acroField.normalizedEntries().Kids,p=f.size(),y=0;y<p;y++){var b=f.get(y);b instanceof ri&&this.doc.context.delete(b)}this.doc.context.delete(e.ref)},r.prototype.updateFieldAppearances=function(e){Le(e,"font",[[lr,"PDFFont"]]),e=e??this.getDefaultFont();for(var t=this.getFields(),i=0,s=t.length;i<s;i++){var n=t[i];n.needsAppearancesUpdate()&&n.defaultUpdateAppearances(e)}},r.prototype.markFieldAsDirty=function(e){Le(e,"fieldRef",[[ri,"PDFRef"]]),this.dirtyFields.add(e)},r.prototype.markFieldAsClean=function(e){Le(e,"fieldRef",[[ri,"PDFRef"]]),this.dirtyFields.delete(e)},r.prototype.fieldIsDirty=function(e){return Le(e,"fieldRef",[[ri,"PDFRef"]]),this.dirtyFields.has(e)},r.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},r.prototype.findWidgetPage=function(e){var t=e.P(),i=this.doc.getPages().find(function(n){return n.ref===t});if(i===void 0){var s=this.doc.context.getObjectRef(e.dict);if(s===void 0)throw new Error("Could not find PDFRef for PDFObject");if(i=this.doc.findPageForAnnotationRef(s),i===void 0)throw new Error("Could not find page for PDFRef "+s)}return i},r.prototype.findWidgetAppearanceRef=function(e,t){var i,s=t.getNormalAppearance();if(s instanceof xt&&(e instanceof Eh||e instanceof Th)){var n=e.acroField.getValue(),o=(i=s.get(n))!==null&&i!==void 0?i:s.get(q.of("Off"));o instanceof ri&&(s=o)}if(!(s instanceof ri)){var h=e.getName();throw new Error("Failed to extract appearance ref for: "+h)}return s},r.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],i=0,s=e.length;i<s;i++){var n=e[i];if(!n)throw new eI(n);var o=t[0],h=t[1],d=this.findNonTerminal(n,o);if(d)t=d;else{var f=wf.create(this.doc.context);f.setPartialName(n),f.setParent(h);var p=this.doc.context.register(f.dict);o.addField(p),t=[f,p]}}return t},r.prototype.findNonTerminal=function(e,t){for(var i=t instanceof xf?this.acroForm.getFields():Wv(t.Kids()),s=0,n=i.length;s<n;s++){var o=i[s],h=o[0],d=o[1];if(h.getPartialName()===e){if(h instanceof wf)return[h,d];throw new Y2(e)}}},r.of=function(e,t){return new r(e,t)},r}(),yI=function(r,e,t){if(r instanceof rg)return nf.of(r,e,t);if(r instanceof tg)return Eh.of(r,e,t);if(r instanceof ig)return tf.of(r,e,t);if(r instanceof ag)return sf.of(r,e,t);if(r instanceof sg)return rf.of(r,e,t);if(r instanceof ng)return Th.of(r,e,t);if(r instanceof _v)return iv.of(r,e,t)},Tl=function(r){if(r.length===0)throw new Error("PDF field names must not be empty strings");for(var e=r.split("."),t=0,i=e.length;t<i;t++)if(e[t]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+r+'"');return e.length===1?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},Rl=function(r,e,t){for(var i=r[0],s=r[1],n=e[0],o=e[1],h=i.normalizedEntries(),d=Wv("Kids"in h?h.Kids:h.Fields),f=0,p=d.length;f<p;f++)if(d[f][0].getPartialName()===t)throw new Y2(t);i.addField(o),n.setParent(s)},CI={A4:[595.28,841.89]},sv;(function(r){r[r.Fastest=1/0]="Fastest",r[r.Fast=1500]="Fast",r[r.Medium=500]="Medium",r[r.Slow=100]="Slow"})(sv||(sv={}));var bI=function(){function r(e,t,i){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=i}return r.prototype.embed=function(){return Et(this,void 0,void 0,function(){var e,t,i,s,n;return Tt(this,function(o){switch(o.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=o.sent(),this.doc.catalog.has(q.of("Names"))||this.doc.catalog.set(q.of("Names"),this.doc.context.obj({})),t=this.doc.catalog.lookup(q.of("Names"),xt),t.has(q.of("EmbeddedFiles"))||t.set(q.of("EmbeddedFiles"),this.doc.context.obj({})),i=t.lookup(q.of("EmbeddedFiles"),xt),i.has(q.of("Names"))||i.set(q.of("Names"),this.doc.context.obj([])),s=i.lookup(q.of("Names"),Yt),s.push(ct.fromText(this.embedder.fileName)),s.push(e),this.doc.catalog.has(q.of("AF"))||this.doc.catalog.set(q.of("AF"),this.doc.context.obj([])),n=this.doc.catalog.lookup(q.of("AF"),Yt),n.push(e),this.alreadyEmbedded=!0,o.label=2;case 2:return[2]}})})},r.of=function(e,t,i){return new r(e,t,i)},r}(),wI=function(){function r(e,t,i){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=i}return r.prototype.embed=function(){return Et(this,void 0,void 0,function(){var e,t,i,s,n,o,h;return Tt(this,function(d){switch(d.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,t=e.catalog,i=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:s=d.sent(),t.has(q.of("Names"))||t.set(q.of("Names"),i.obj({})),n=t.lookup(q.of("Names"),xt),n.has(q.of("JavaScript"))||n.set(q.of("JavaScript"),i.obj({})),o=n.lookup(q.of("JavaScript"),xt),o.has(q.of("Names"))||o.set(q.of("Names"),i.obj([])),h=o.lookup(q.of("Names"),Yt),h.push(ct.fromText(this.embedder.scriptName)),h.push(s),this.alreadyEmbedded=!0,d.label=2;case 2:return[2]}})})},r.of=function(e,t,i){return new r(e,t,i)},r}(),xI=function(){function r(e,t){this.script=e,this.scriptName=t}return r.for=function(e,t){return new r(e,t)},r.prototype.embedIntoContext=function(e,t){return Et(this,void 0,void 0,function(){var i;return Tt(this,function(s){return i=e.obj({Type:"Action",S:"JavaScript",JS:ct.fromText(this.script)}),t?(e.assign(t,i),[2,t]):[2,e.register(i)]})})},r}(),_n=function(){function r(e,t,i){var s=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var n=[];return s.catalog.Pages().traverse(function(o,h){if(o instanceof Hn){var d=s.pageMap.get(o);d||(d=Sr.of(o,h,s),s.pageMap.set(o,d)),n.push(d)}}),n},this.getOrCreateForm=function(){var n=s.catalog.getOrCreateAcroForm();return vI.of(n,s)},te(e,"context",[[Xm,"PDFContext"]]),te(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=zn.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=zn.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new K7;i&&this.updateInfoDict()}return r.load=function(e,t){return t===void 0&&(t={}),Et(this,void 0,void 0,function(){var i,s,n,o,h,d,f,p,y,b,w,T;return Tt(this,function(P){switch(P.label){case 0:return i=t.ignoreEncryption,s=i===void 0?!1:i,n=t.parseSpeed,o=n===void 0?sv.Slow:n,h=t.throwOnInvalidObject,d=h===void 0?!1:h,f=t.updateMetadata,p=f===void 0?!0:f,y=t.capNumbers,b=y===void 0?!1:y,te(e,"pdf",["string",Uint8Array,ArrayBuffer]),te(s,"ignoreEncryption",["boolean"]),te(o,"parseSpeed",["number"]),te(d,"throwOnInvalidObject",["boolean"]),w=gh(e),[4,S7.forBytesWithOptions(w,o,d,b).parseDocument()];case 1:return T=P.sent(),[2,new r(T,s,p)]}})})},r.create=function(e){return e===void 0&&(e={}),Et(this,void 0,void 0,function(){var t,i,s,n,o,h;return Tt(this,function(d){return t=e.updateMetadata,i=t===void 0?!0:t,s=Xm.create(),n=O2.withContext(s),o=s.register(n),h=L2.withContextAndPages(s,o),s.trailerInfo.Root=s.register(h),[2,new r(s,!1,i)]})})},r.prototype.registerFontkit=function(e){this.fontkit=e},r.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},r.prototype.getTitle=function(){var e=this.getInfoDict().lookup(q.Title);if(e)return Ta(e),e.decodeText()},r.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(q.Author);if(e)return Ta(e),e.decodeText()},r.prototype.getSubject=function(){var e=this.getInfoDict().lookup(q.Subject);if(e)return Ta(e),e.decodeText()},r.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(q.Keywords);if(e)return Ta(e),e.decodeText()},r.prototype.getCreator=function(){var e=this.getInfoDict().lookup(q.Creator);if(e)return Ta(e),e.decodeText()},r.prototype.getProducer=function(){var e=this.getInfoDict().lookup(q.Producer);if(e)return Ta(e),e.decodeText()},r.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(q.CreationDate);if(e)return Ta(e),e.decodeDate()},r.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(q.ModDate);if(e)return Ta(e),e.decodeDate()},r.prototype.setTitle=function(e,t){te(e,"title",["string"]);var i=q.of("Title");if(this.getInfoDict().set(i,ct.fromText(e)),t?.showInWindowTitleBar){var s=this.catalog.getOrCreateViewerPreferences();s.setDisplayDocTitle(!0)}},r.prototype.setAuthor=function(e){te(e,"author",["string"]);var t=q.of("Author");this.getInfoDict().set(t,ct.fromText(e))},r.prototype.setSubject=function(e){te(e,"author",["string"]);var t=q.of("Subject");this.getInfoDict().set(t,ct.fromText(e))},r.prototype.setKeywords=function(e){te(e,"keywords",[Array]);var t=q.of("Keywords");this.getInfoDict().set(t,ct.fromText(e.join(" ")))},r.prototype.setCreator=function(e){te(e,"creator",["string"]);var t=q.of("Creator");this.getInfoDict().set(t,ct.fromText(e))},r.prototype.setProducer=function(e){te(e,"creator",["string"]);var t=q.of("Producer");this.getInfoDict().set(t,ct.fromText(e))},r.prototype.setLanguage=function(e){te(e,"language",["string"]);var t=q.of("Lang");this.catalog.set(t,si.of(e))},r.prototype.setCreationDate=function(e){te(e,"creationDate",[[Date,"Date"]]);var t=q.of("CreationDate");this.getInfoDict().set(t,si.fromDate(e))},r.prototype.setModificationDate=function(e){te(e,"modificationDate",[[Date,"Date"]]);var t=q.of("ModDate");this.getInfoDict().set(t,si.fromDate(e))},r.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},r.prototype.getPages=function(){return this.pageCache.access()},r.prototype.getPage=function(e){var t=this.getPages();return sr(e,"index",0,t.length-1),t[e]},r.prototype.getPageIndices=function(){return ER(0,this.getPageCount())},r.prototype.removePage=function(e){var t=this.getPageCount();if(this.pageCount===0)throw new J7;sr(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},r.prototype.addPage=function(e){return te(e,"page",["undefined",[Sr,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},r.prototype.insertPage=function(e,t){var i=this.getPageCount();if(sr(e,"index",0,i),te(t,"page",["undefined",[Sr,"PDFPage"],Array]),!t||Array.isArray(t)){var s=Array.isArray(t)?t:CI.A4;t=Sr.create(this),t.setSize.apply(t,s)}else if(t.doc!==this)throw new Y7;var n=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(n),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=i+1,t},r.prototype.copyPages=function(e,t){return Et(this,void 0,void 0,function(){var i,s,n,o,h,d,f,p;return Tt(this,function(y){switch(y.label){case 0:return te(e,"srcDoc",[[r,"PDFDocument"]]),te(t,"indices",[Array]),[4,e.flush()];case 1:for(y.sent(),i=cb.for(e.context,this.context),s=e.getPages(),n=new Array(t.length),o=0,h=t.length;o<h;o++)d=s[t[o]],f=i.copy(d.node),p=this.context.register(f),n[o]=Sr.of(f,p,this);return[2,n]}})})},r.prototype.copy=function(){return Et(this,void 0,void 0,function(){var e,t,i,s;return Tt(this,function(n){switch(n.label){case 0:return[4,r.create()];case 1:return e=n.sent(),[4,e.copyPages(this,this.getPageIndices())];case 2:for(t=n.sent(),i=0,s=t.length;i<s;i++)e.addPage(t[i]);return this.getAuthor()!==void 0&&e.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&e.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&e.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&e.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&e.setProducer(this.getProducer()),this.getSubject()!==void 0&&e.setSubject(this.getSubject()),this.getTitle()!==void 0&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}})})},r.prototype.addJavaScript=function(e,t){te(e,"name",["string"]),te(t,"script",["string"]);var i=xI.for(t,e),s=this.context.nextRef(),n=wI.of(s,this,i);this.javaScripts.push(n)},r.prototype.attach=function(e,t,i){return i===void 0&&(i={}),Et(this,void 0,void 0,function(){var s,n,o,h;return Tt(this,function(d){return te(e,"attachment",["string",Uint8Array,ArrayBuffer]),te(t,"name",["string"]),Le(i.mimeType,"mimeType",["string"]),Le(i.description,"description",["string"]),Le(i.creationDate,"options.creationDate",[Date]),Le(i.modificationDate,"options.modificationDate",[Date]),br(i.afRelationship,"options.afRelationship",Ym),s=gh(e),n=XP.for(s,t,i),o=this.context.nextRef(),h=bI.of(o,this,n),this.embeddedFiles.push(h),[2]})})},r.prototype.embedFont=function(e,t){return t===void 0&&(t={}),Et(this,void 0,void 0,function(){var i,s,n,o,h,d,f,p,y,b;return Tt(this,function(w){switch(w.label){case 0:return i=t.subset,s=i===void 0?!1:i,n=t.customName,o=t.features,te(e,"font",["string",Uint8Array,ArrayBuffer]),te(s,"subset",["boolean"]),sb(e)?(h=Cf.for(e,n),[3,7]):[3,1];case 1:return RR(e)?(d=gh(e),f=this.assertFontkit(),s?[4,KP.for(f,d,n,o)]:[3,3]):[3,6];case 2:return p=w.sent(),[3,5];case 3:return[4,Qv.for(f,d,n,o)];case 4:p=w.sent(),w.label=5;case 5:return h=p,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return y=this.context.nextRef(),b=lr.of(y,this,h),this.fonts.push(b),[2,b]}})})},r.prototype.embedStandardFont=function(e,t){if(te(e,"font",["string"]),!sb(e))throw new TypeError("`font` must be one of type `StandardFonts`");var i=Cf.for(e,t),s=this.context.nextRef(),n=lr.of(s,this,i);return this.fonts.push(n),n},r.prototype.embedJpg=function(e){return Et(this,void 0,void 0,function(){var t,i,s,n;return Tt(this,function(o){switch(o.label){case 0:return te(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=gh(e),[4,V2.for(t)];case 1:return i=o.sent(),s=this.context.nextRef(),n=tv.of(s,this,i),this.images.push(n),[2,n]}})})},r.prototype.embedPng=function(e){return Et(this,void 0,void 0,function(){var t,i,s,n;return Tt(this,function(o){switch(o.label){case 0:return te(e,"png",["string",Uint8Array,ArrayBuffer]),t=gh(e),[4,S2.for(t)];case 1:return i=o.sent(),s=this.context.nextRef(),n=tv.of(s,this,i),this.images.push(n),[2,n]}})})},r.prototype.embedPdf=function(e,t){return t===void 0&&(t=[0]),Et(this,void 0,void 0,function(){var i,s,n;return Tt(this,function(o){switch(o.label){case 0:return te(e,"pdf",["string",Uint8Array,ArrayBuffer,[r,"PDFDocument"]]),te(t,"indices",[Array]),e instanceof r?(s=e,[3,3]):[3,1];case 1:return[4,r.load(e)];case 2:s=o.sent(),o.label=3;case 3:return i=s,n=TR(i.getPages(),t),[2,this.embedPages(n)]}})})},r.prototype.embedPage=function(e,t,i){return Et(this,void 0,void 0,function(){var s;return Tt(this,function(n){switch(n.label){case 0:return te(e,"page",[[Sr,"PDFPage"]]),[4,this.embedPages([e],[t],[i])];case 1:return s=n.sent()[0],[2,s]}})})},r.prototype.embedPages=function(e,t,i){return t===void 0&&(t=[]),i===void 0&&(i=[]),Et(this,void 0,void 0,function(){var f,p,s,n,o,h,d,f,p,y,b,w,T,P,D;return Tt(this,function(L){switch(L.label){case 0:if(e.length===0)return[2,[]];for(f=0,p=e.length-1;f<p;f++)if(s=e[f],n=e[f+1],s.node.context!==n.node.context)throw new xP;o=e[0].node.context,h=o===this.context?function(W){return W}:cb.for(o,this.context).copy,d=new Array(e.length),f=0,p=e.length,L.label=1;case 1:return f<p?(y=h(e[f].node),b=t[f],w=i[f],[4,R2.for(y,b,w)]):[3,4];case 2:T=L.sent(),P=this.context.nextRef(),d[f]=ix.of(P,this,T),L.label=3;case 3:return f++,[3,1];case 4:return(D=this.embeddedPages).push.apply(D,d),[2,d]}})})},r.prototype.flush=function(){return Et(this,void 0,void 0,function(){return Tt(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},r.prototype.save=function(e){return e===void 0&&(e={}),Et(this,void 0,void 0,function(){var t,i,s,n,o,h,d,f,p,y;return Tt(this,function(b){switch(b.label){case 0:return t=e.useObjectStreams,i=t===void 0?!0:t,s=e.addDefaultPage,n=s===void 0?!0:s,o=e.objectsPerTick,h=o===void 0?50:o,d=e.updateFieldAppearances,f=d===void 0?!0:d,te(i,"useObjectStreams",["boolean"]),te(n,"addDefaultPage",["boolean"]),te(h,"objectsPerTick",["number"]),te(f,"updateFieldAppearances",["boolean"]),n&&this.getPageCount()===0&&this.addPage(),f&&(p=this.formCache.getValue(),p&&p.updateFieldAppearances()),[4,this.flush()];case 1:return b.sent(),y=i?UP:w2,[2,y.forContext(this.context,h).serializeToBuffer()]}})})},r.prototype.saveAsBase64=function(e){return e===void 0&&(e={}),Et(this,void 0,void 0,function(){var t,i,s,n,o;return Tt(this,function(h){switch(h.label){case 0:return t=e.dataUri,i=t===void 0?!1:t,s=lR(e,["dataUri"]),te(i,"dataUri",["boolean"]),[4,this.save(s)];case 1:return n=h.sent(),o=uR(n),[2,i?"data:application/pdf;base64,"+o:o]}})})},r.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),i=0,s=t.length;i<s;i++){var n=t[i],o=n.node.Annots();if(o?.indexOf(e)!==void 0)return n}},r.prototype.embedAll=function(e){return Et(this,void 0,void 0,function(){var t,i;return Tt(this,function(s){switch(s.label){case 0:t=0,i=e.length,s.label=1;case 1:return t<i?[4,e[t].embed()]:[3,4];case 2:s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},r.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,i=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),i.get(q.of("Creator"))||this.setCreator(e),i.get(q.of("CreationDate"))||this.setCreationDate(t)},r.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof xt)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},r.prototype.assertFontkit=function(){if(!this.fontkit)throw new X7;return this.fontkit},r}();function Ta(r){if(!(r instanceof ct)&&!(r instanceof si))throw new vf([ct,si],r)}var qn;(function(r){r.Normal="Normal",r.Multiply="Multiply",r.Screen="Screen",r.Overlay="Overlay",r.Darken="Darken",r.Lighten="Lighten",r.ColorDodge="ColorDodge",r.ColorBurn="ColorBurn",r.HardLight="HardLight",r.SoftLight="SoftLight",r.Difference="Difference",r.Exclusion="Exclusion"})(qn||(qn={}));var Sr=function(){function r(e,t,i){this.fontSize=24,this.fontColor=ni(0,0,0),this.lineHeight=24,this.x=0,this.y=0,te(e,"leafNode",[[Hn,"PDFPageLeaf"]]),te(t,"ref",[[ri,"PDFRef"]]),te(i,"doc",[[_n,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=i}return r.prototype.setRotation=function(e){var t=F2(e);m2(t,"degreesAngle",90),this.node.set(q.of("Rotate"),this.doc.context.obj(t))},r.prototype.getRotation=function(){var e=this.node.Rotate();return gt(e?e.asNumber():0)},r.prototype.setSize=function(e,t){te(e,"width",["number"]),te(t,"height",["number"]);var i=this.getMediaBox();this.setMediaBox(i.x,i.y,e,t);var s=this.getCropBox(),n=this.getBleedBox(),o=this.getTrimBox(),h=this.getArtBox(),d=this.node.CropBox(),f=this.node.BleedBox(),p=this.node.TrimBox(),y=this.node.ArtBox();d&&Hc(s,i)&&this.setCropBox(i.x,i.y,e,t),f&&Hc(n,i)&&this.setBleedBox(i.x,i.y,e,t),p&&Hc(o,i)&&this.setTrimBox(i.x,i.y,e,t),y&&Hc(h,i)&&this.setArtBox(i.x,i.y,e,t)},r.prototype.setWidth=function(e){te(e,"width",["number"]),this.setSize(e,this.getSize().height)},r.prototype.setHeight=function(e){te(e,"height",["number"]),this.setSize(this.getSize().width,e)},r.prototype.setMediaBox=function(e,t,i,s){te(e,"x",["number"]),te(t,"y",["number"]),te(i,"width",["number"]),te(s,"height",["number"]);var n=this.doc.context.obj([e,t,e+i,t+s]);this.node.set(q.MediaBox,n)},r.prototype.setCropBox=function(e,t,i,s){te(e,"x",["number"]),te(t,"y",["number"]),te(i,"width",["number"]),te(s,"height",["number"]);var n=this.doc.context.obj([e,t,e+i,t+s]);this.node.set(q.CropBox,n)},r.prototype.setBleedBox=function(e,t,i,s){te(e,"x",["number"]),te(t,"y",["number"]),te(i,"width",["number"]),te(s,"height",["number"]);var n=this.doc.context.obj([e,t,e+i,t+s]);this.node.set(q.BleedBox,n)},r.prototype.setTrimBox=function(e,t,i,s){te(e,"x",["number"]),te(t,"y",["number"]),te(i,"width",["number"]),te(s,"height",["number"]);var n=this.doc.context.obj([e,t,e+i,t+s]);this.node.set(q.TrimBox,n)},r.prototype.setArtBox=function(e,t,i,s){te(e,"x",["number"]),te(t,"y",["number"]),te(i,"width",["number"]),te(s,"height",["number"]);var n=this.doc.context.obj([e,t,e+i,t+s]);this.node.set(q.ArtBox,n)},r.prototype.getSize=function(){var e=this.getMediaBox(),t=e.width,i=e.height;return{width:t,height:i}},r.prototype.getWidth=function(){return this.getSize().width},r.prototype.getHeight=function(){return this.getSize().height},r.prototype.getMediaBox=function(){var e=this.node.MediaBox();return e.asRectangle()},r.prototype.getCropBox=function(){var e,t=this.node.CropBox();return(e=t?.asRectangle())!==null&&e!==void 0?e:this.getMediaBox()},r.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return(e=t?.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},r.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return(e=t?.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},r.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return(e=t?.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},r.prototype.translateContent=function(e,t){te(e,"x",["number"]),te(t,"y",["number"]),this.node.normalize(),this.getContentStream();var i=this.createContentStream(rs(),Pr(e,t)),s=this.doc.context.register(i),n=this.createContentStream(ns()),o=this.doc.context.register(n);this.node.wrapContentStreams(s,o)},r.prototype.scale=function(e,t){te(e,"x",["number"]),te(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},r.prototype.scaleContent=function(e,t){te(e,"x",["number"]),te(t,"y",["number"]),this.node.normalize(),this.getContentStream();var i=this.createContentStream(rs(),Uh(e,t)),s=this.doc.context.register(i),n=this.createContentStream(ns()),o=this.doc.context.register(n);this.node.wrapContentStreams(s,o)},r.prototype.scaleAnnotations=function(e,t){te(e,"x",["number"]),te(t,"y",["number"]);var i=this.node.Annots();if(i)for(var s=0;s<i.size();s++){var n=i.lookup(s);n instanceof xt&&this.scaleAnnot(n,e,t)}},r.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},r.prototype.setFont=function(e){te(e,"font",[[lr,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},r.prototype.setFontSize=function(e){te(e,"fontSize",["number"]),this.fontSize=e},r.prototype.setFontColor=function(e){te(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},r.prototype.setLineHeight=function(e){te(e,"lineHeight",["number"]),this.lineHeight=e},r.prototype.getPosition=function(){return{x:this.x,y:this.y}},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.moveTo=function(e,t){te(e,"x",["number"]),te(t,"y",["number"]),this.x=e,this.y=t},r.prototype.moveDown=function(e){te(e,"yDecrease",["number"]),this.y-=e},r.prototype.moveUp=function(e){te(e,"yIncrease",["number"]),this.y+=e},r.prototype.moveLeft=function(e){te(e,"xDecrease",["number"]),this.x-=e},r.prototype.moveRight=function(e){te(e,"xIncrease",["number"]),this.x+=e},r.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];p2(e,"operator",[[Qt,"PDFOperator"]]);var i=this.getContentStream();i.push.apply(i,e)},r.prototype.drawText=function(e,t){var i,s,n,o,h,d,f;t===void 0&&(t={}),te(e,"text",["string"]),Le(t.color,"options.color",[[Object,"Color"]]),Ur(t.opacity,"opacity.opacity",0,1),Le(t.font,"options.font",[[lr,"PDFFont"]]),Le(t.size,"options.size",["number"]),Le(t.rotate,"options.rotate",[[Object,"Rotation"]]),Le(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Le(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Le(t.x,"options.x",["number"]),Le(t.y,"options.y",["number"]),Le(t.lineHeight,"options.lineHeight",["number"]),Le(t.maxWidth,"options.maxWidth",["number"]),Le(t.wordBreaks,"options.wordBreaks",[Array]),br(t.blendMode,"options.blendMode",qn);for(var p=this.setOrEmbedFont(t.font),y=p.oldFont,b=p.newFont,w=p.newFontKey,T=t.size||this.fontSize,P=t.wordBreaks||this.doc.defaultWordBreaks,D=function(K){return b.widthOfTextAtSize(K,T)},L=t.maxWidth===void 0?Jw(td(e)):yR(e,P,t.maxWidth,D),W=new Array(L.length),H=0,ee=L.length;H<ee;H++)W[H]=b.encodeText(L[H]);var Y=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),Z=this.getContentStream();Z.push.apply(Z,H7(W,{color:(i=t.color)!==null&&i!==void 0?i:this.fontColor,font:w,size:T,rotate:(s=t.rotate)!==null&&s!==void 0?s:gt(0),xSkew:(n=t.xSkew)!==null&&n!==void 0?n:gt(0),ySkew:(o=t.ySkew)!==null&&o!==void 0?o:gt(0),x:(h=t.x)!==null&&h!==void 0?h:this.x,y:(d=t.y)!==null&&d!==void 0?d:this.y,lineHeight:(f=t.lineHeight)!==null&&f!==void 0?f:this.lineHeight,graphicsState:Y})),t.font&&(y?this.setFont(y):this.resetFont())},r.prototype.drawImage=function(e,t){var i,s,n,o,h,d,f;t===void 0&&(t={}),te(e,"image",[[tv,"PDFImage"]]),Le(t.x,"options.x",["number"]),Le(t.y,"options.y",["number"]),Le(t.width,"options.width",["number"]),Le(t.height,"options.height",["number"]),Le(t.rotate,"options.rotate",[[Object,"Rotation"]]),Le(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Le(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Ur(t.opacity,"opacity.opacity",0,1),br(t.blendMode,"options.blendMode",qn);var p=this.node.newXObject("Image",e.ref),y=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),b=this.getContentStream();b.push.apply(b,K2(p,{x:(i=t.x)!==null&&i!==void 0?i:this.x,y:(s=t.y)!==null&&s!==void 0?s:this.y,width:(n=t.width)!==null&&n!==void 0?n:e.size().width,height:(o=t.height)!==null&&o!==void 0?o:e.size().height,rotate:(h=t.rotate)!==null&&h!==void 0?h:gt(0),xSkew:(d=t.xSkew)!==null&&d!==void 0?d:gt(0),ySkew:(f=t.ySkew)!==null&&f!==void 0?f:gt(0),graphicsState:y}))},r.prototype.drawPage=function(e,t){var i,s,n,o,h;t===void 0&&(t={}),te(e,"embeddedPage",[[ix,"PDFEmbeddedPage"]]),Le(t.x,"options.x",["number"]),Le(t.y,"options.y",["number"]),Le(t.xScale,"options.xScale",["number"]),Le(t.yScale,"options.yScale",["number"]),Le(t.width,"options.width",["number"]),Le(t.height,"options.height",["number"]),Le(t.rotate,"options.rotate",[[Object,"Rotation"]]),Le(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Le(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Ur(t.opacity,"opacity.opacity",0,1),br(t.blendMode,"options.blendMode",qn);var d=this.node.newXObject("EmbeddedPdfPage",e.ref),f=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),p=t.width!==void 0?t.width/e.width:t.xScale!==void 0?t.xScale:1,y=t.height!==void 0?t.height/e.height:t.yScale!==void 0?t.yScale:1,b=this.getContentStream();b.push.apply(b,Q7(d,{x:(i=t.x)!==null&&i!==void 0?i:this.x,y:(s=t.y)!==null&&s!==void 0?s:this.y,xScale:p,yScale:y,rotate:(n=t.rotate)!==null&&n!==void 0?n:gt(0),xSkew:(o=t.xSkew)!==null&&o!==void 0?o:gt(0),ySkew:(h=t.ySkew)!==null&&h!==void 0?h:gt(0),graphicsState:f}))},r.prototype.drawSvgPath=function(e,t){var i,s,n,o,h,d,f,p,y;t===void 0&&(t={}),te(e,"path",["string"]),Le(t.x,"options.x",["number"]),Le(t.y,"options.y",["number"]),Le(t.scale,"options.scale",["number"]),Le(t.rotate,"options.rotate",[[Object,"Rotation"]]),Le(t.borderWidth,"options.borderWidth",["number"]),Le(t.color,"options.color",[[Object,"Color"]]),Ur(t.opacity,"opacity.opacity",0,1),Le(t.borderColor,"options.borderColor",[[Object,"Color"]]),Le(t.borderDashArray,"options.borderDashArray",[Array]),Le(t.borderDashPhase,"options.borderDashPhase",["number"]),br(t.borderLineCap,"options.borderLineCap",Il),Ur(t.borderOpacity,"options.borderOpacity",0,1),br(t.blendMode,"options.blendMode",qn);var b=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.borderColor=ni(0,0,0));var w=this.getContentStream();w.push.apply(w,j7(e,{x:(i=t.x)!==null&&i!==void 0?i:this.x,y:(s=t.y)!==null&&s!==void 0?s:this.y,scale:t.scale,rotate:(n=t.rotate)!==null&&n!==void 0?n:gt(0),color:(o=t.color)!==null&&o!==void 0?o:void 0,borderColor:(h=t.borderColor)!==null&&h!==void 0?h:void 0,borderWidth:(d=t.borderWidth)!==null&&d!==void 0?d:0,borderDashArray:(f=t.borderDashArray)!==null&&f!==void 0?f:void 0,borderDashPhase:(p=t.borderDashPhase)!==null&&p!==void 0?p:void 0,borderLineCap:(y=t.borderLineCap)!==null&&y!==void 0?y:void 0,graphicsState:b}))},r.prototype.drawLine=function(e){var t,i,s,n,o;te(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),te(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),te(e.start.x,"options.start.x",["number"]),te(e.start.y,"options.start.y",["number"]),te(e.end.x,"options.end.x",["number"]),te(e.end.y,"options.end.y",["number"]),Le(e.thickness,"options.thickness",["number"]),Le(e.color,"options.color",[[Object,"Color"]]),Le(e.dashArray,"options.dashArray",[Array]),Le(e.dashPhase,"options.dashPhase",["number"]),br(e.lineCap,"options.lineCap",Il),Ur(e.opacity,"opacity.opacity",0,1),br(e.blendMode,"options.blendMode",qn);var h=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=ni(0,0,0));var d=this.getContentStream();d.push.apply(d,U7({start:e.start,end:e.end,thickness:(t=e.thickness)!==null&&t!==void 0?t:1,color:(i=e.color)!==null&&i!==void 0?i:void 0,dashArray:(s=e.dashArray)!==null&&s!==void 0?s:void 0,dashPhase:(n=e.dashPhase)!==null&&n!==void 0?n:void 0,lineCap:(o=e.lineCap)!==null&&o!==void 0?o:void 0,graphicsState:h}))},r.prototype.drawRectangle=function(e){var t,i,s,n,o,h,d,f,p,y,b,w,T;e===void 0&&(e={}),Le(e.x,"options.x",["number"]),Le(e.y,"options.y",["number"]),Le(e.width,"options.width",["number"]),Le(e.height,"options.height",["number"]),Le(e.rotate,"options.rotate",[[Object,"Rotation"]]),Le(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),Le(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Le(e.borderWidth,"options.borderWidth",["number"]),Le(e.color,"options.color",[[Object,"Color"]]),Ur(e.opacity,"opacity.opacity",0,1),Le(e.borderColor,"options.borderColor",[[Object,"Color"]]),Le(e.borderDashArray,"options.borderDashArray",[Array]),Le(e.borderDashPhase,"options.borderDashPhase",["number"]),br(e.borderLineCap,"options.borderLineCap",Il),Ur(e.borderOpacity,"options.borderOpacity",0,1),br(e.blendMode,"options.blendMode",qn);var P=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=ni(0,0,0));var D=this.getContentStream();D.push.apply(D,zl({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(i=e.y)!==null&&i!==void 0?i:this.y,width:(s=e.width)!==null&&s!==void 0?s:150,height:(n=e.height)!==null&&n!==void 0?n:100,rotate:(o=e.rotate)!==null&&o!==void 0?o:gt(0),xSkew:(h=e.xSkew)!==null&&h!==void 0?h:gt(0),ySkew:(d=e.ySkew)!==null&&d!==void 0?d:gt(0),borderWidth:(f=e.borderWidth)!==null&&f!==void 0?f:0,color:(p=e.color)!==null&&p!==void 0?p:void 0,borderColor:(y=e.borderColor)!==null&&y!==void 0?y:void 0,borderDashArray:(b=e.borderDashArray)!==null&&b!==void 0?b:void 0,borderDashPhase:(w=e.borderDashPhase)!==null&&w!==void 0?w:void 0,graphicsState:P,borderLineCap:(T=e.borderLineCap)!==null&&T!==void 0?T:void 0}))},r.prototype.drawSquare=function(e){e===void 0&&(e={});var t=e.size;Le(t,"size",["number"]),this.drawRectangle(Ct(Ct({},e),{width:t,height:t}))},r.prototype.drawEllipse=function(e){var t,i,s,n,o,h,d,f,p,y,b;e===void 0&&(e={}),Le(e.x,"options.x",["number"]),Le(e.y,"options.y",["number"]),Le(e.xScale,"options.xScale",["number"]),Le(e.yScale,"options.yScale",["number"]),Le(e.rotate,"options.rotate",[[Object,"Rotation"]]),Le(e.color,"options.color",[[Object,"Color"]]),Ur(e.opacity,"opacity.opacity",0,1),Le(e.borderColor,"options.borderColor",[[Object,"Color"]]),Ur(e.borderOpacity,"options.borderOpacity",0,1),Le(e.borderWidth,"options.borderWidth",["number"]),Le(e.borderDashArray,"options.borderDashArray",[Array]),Le(e.borderDashPhase,"options.borderDashPhase",["number"]),br(e.borderLineCap,"options.borderLineCap",Il),br(e.blendMode,"options.blendMode",qn);var w=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=ni(0,0,0));var T=this.getContentStream();T.push.apply(T,ev({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(i=e.y)!==null&&i!==void 0?i:this.y,xScale:(s=e.xScale)!==null&&s!==void 0?s:100,yScale:(n=e.yScale)!==null&&n!==void 0?n:100,rotate:(o=e.rotate)!==null&&o!==void 0?o:void 0,color:(h=e.color)!==null&&h!==void 0?h:void 0,borderColor:(d=e.borderColor)!==null&&d!==void 0?d:void 0,borderWidth:(f=e.borderWidth)!==null&&f!==void 0?f:0,borderDashArray:(p=e.borderDashArray)!==null&&p!==void 0?p:void 0,borderDashPhase:(y=e.borderDashPhase)!==null&&y!==void 0?y:void 0,borderLineCap:(b=e.borderLineCap)!==null&&b!==void 0?b:void 0,graphicsState:w}))},r.prototype.drawCircle=function(e){e===void 0&&(e={});var t=e.size,i=t===void 0?100:t;Le(i,"size",["number"]),this.drawEllipse(Ct(Ct({},e),{xScale:i,yScale:i}))},r.prototype.setOrEmbedFont=function(e){var t=this.font,i=this.fontKey;e?this.setFont(e):this.getFont();var s=this.font,n=this.fontKey;return{oldFont:t,oldFontKey:i,newFont:s,newFontKey:n}},r.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(Pf.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},r.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},r.prototype.getContentStream=function(e){return e===void 0&&(e=!0),e&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},r.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.doc.context.obj({}),s=Ph.of(i,e);return s},r.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,i=e.borderOpacity,s=e.blendMode;if(!(t===void 0&&i===void 0&&s===void 0)){var n=this.doc.context.obj({Type:"ExtGState",ca:t,CA:i,BM:s}),o=this.node.newExtGState("GS",n);return o}},r.prototype.scaleAnnot=function(e,t,i){for(var s=["RD","CL","Vertices","QuadPoints","L","Rect"],n=0,o=s.length;n<o;n++){var h=e.lookup(q.of(s[n]));h instanceof Yt&&h.scalePDFNumbers(t,i)}var d=e.lookup(q.of("InkList"));if(d instanceof Yt)for(var n=0,o=d.size();n<o;n++){var f=d.lookup(n);f instanceof Yt&&f.scalePDFNumbers(t,i)}},r.of=function(e,t,i){return new r(e,t,i)},r.create=function(e){te(e,"doc",[[_n,"PDFDocument"]]);var t=ri.of(-1),i=Hn.withContextAndParent(e.context,t),s=e.context.register(i);return new r(i,s,e)},r}(),nf=function(r){Oe(e,r);function e(t,i,s){var n=r.call(this,t,i,s)||this;return te(t,"acroButton",[[rg,"PDFAcroPushButton"]]),n.acroField=t,n}return e.prototype.setImage=function(t,i){i===void 0&&(i=Oa.Center);for(var s=this.acroField.getWidgets(),n=0,o=s.length;n<o;n++){var h=s[n],d=this.createImageAppearanceStream(h,t,i);this.updateWidgetAppearances(h,{normal:d})}this.markAsClean()},e.prototype.setFontSize=function(t){$f(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.addToPage=function(t,i,s){var n,o,h,d,f,p,y,b,w,T,P;Le(t,"text",["string"]),Le(i,"page",[[Sr,"PDFPage"]]),Xl(s);var D=this.createWidget({x:((n=s?.x)!==null&&n!==void 0?n:0)-((o=s?.borderWidth)!==null&&o!==void 0?o:0)/2,y:((h=s?.y)!==null&&h!==void 0?h:0)-((d=s?.borderWidth)!==null&&d!==void 0?d:0)/2,width:(f=s?.width)!==null&&f!==void 0?f:100,height:(p=s?.height)!==null&&p!==void 0?p:50,textColor:(y=s?.textColor)!==null&&y!==void 0?y:ni(0,0,0),backgroundColor:(b=s?.backgroundColor)!==null&&b!==void 0?b:ni(.75,.75,.75),borderColor:s?.borderColor,borderWidth:(w=s?.borderWidth)!==null&&w!==void 0?w:0,rotate:(T=s?.rotate)!==null&&T!==void 0?T:gt(0),caption:t,hidden:s?.hidden,page:i.ref}),L=this.doc.context.register(D.dict);this.acroField.addWidget(L);var W=(P=s?.font)!==null&&P!==void 0?P:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(D,W),i.node.addAnnot(L)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var i=this.acroField.getWidgets(),s=0,n=i.length;s<n;s++){var o=i[s],h=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof nr;if(!h)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){te(t,"font",[[lr,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,i){te(t,"font",[[lr,"PDFFont"]]),Le(i,"provider",[Function]);for(var s=this.acroField.getWidgets(),n=0,o=s.length;n<o;n++){var h=s[n];this.updateWidgetAppearance(h,t,i)}},e.prototype.updateWidgetAppearance=function(t,i,s){var n=s??fI,o=Kl(n(this,t,i));this.updateWidgetAppearanceWithFont(t,i,o)},e.of=function(t,i,s){return new e(t,i,s)},e}(Do);async function VI(r){const e=await fetch("../../public/assets/KerenHasiyuaBenefits.pdf").then(h=>h.arrayBuffer()),t=await _n.load(e),i=await _n.create();for(const h of r){const[d]=await i.copyPages(t,[h]);i.addPage(d)}const s=await i.save(),n=new Blob([s],{type:"application/pdf"}),o=URL.createObjectURL(n);window.open(o,"_blank")}le.addProperty("question",{name:"benefits",type:"object",default:null});const SI={elements:[{name:"howManyDays",title:"כמה ימי מילואים ביצעת בשנה האחרונה בצו 8?",type:"rating",autoGenerate:!1,rateCount:4,rateValues:[{value:1,text:"מתחת ל-30 ימים"},{value:2,text:"30-45 ימים"},{value:3,text:"45-50 ימים"},{value:4,text:"מעל ל-50 ימים"}],benefits:{1:[],2:["emotionalSupport"],3:["professionalDevelopment","emotionalSupport"],4:["professionalDevelopment","emotionalSupport"]}},{name:"moreThan45DaysInRow",title:"האם ביצעת מעל 45 ימי מילואים *ברצף* בשנה האחרונה?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{howManyDays} = 3 or {howManyDays} = 4"},{name:"isStudent",title:"האם את.ה סטודנט?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{howManyDays} != 4",benefits:{כן:["privateLessons"],לא:[]}},{name:"isStudent50",title:"האם את.ה סטודנט?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{howManyDays} = 4",benefits:{כן:["tuitionRefund"],לא:[]}},{name:"needReCourse",title:"האם את.ה זקוק.ה לקורס חוזר עקב שירותך במילואים?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{isStudent} = 'כן' or {isStudent50} = 'כן'",benefits:{כן:["reCourse"],לא:[]}},{name:"unemployed",title:"האם את.ה מובטל.ת?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{moreThan45DaysInRow} = 'כן'",benefits:{כן:["unemployedDamages"],לא:[]}},{name:"selfEmployed",title:"האם את.ה עובד.ת עצמאי.ת?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{unemployed} != 'כן'",benefits:{כן:["selfEmployed"],לא:[]}},{name:"hasPartner",title:"האם יש לך בן.בת זוג?",type:"radiogroup",choices:["כן","לא"]},{name:"unemployedPartner",title:"האם בן.בת הזוג שלך מובטל.ת?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{hasPartner} = 'כן'",benefits:{כן:["unemployedPartner"],לא:[]}},{name:"isDevorced",title:"האם את.ה גרוש.ה?",type:"radiogroup",choices:["כן","לא"]},{name:"didTheExDamaged",title:"האם בן.ת זוגך לשעבר נפגע בעקבות שירותך הפעיל במילואים?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{isDevorced} = 'כן'",benefits:{כן:["exDamages"],לא:[]}},{name:"pregnantPartner",title:"האם בת זוגך הייתה בהריון ולא חזרה לעבודתה בעקבות הארכת חופשת הלידה מעבר לתקופה המזכה בתשלום דמי לידה?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{moreThan45DaysInRow} = 'כן' and {hasPartner} = 'כן'"},{name:"pregnantPartnerWhileMil",title:"האם חופשת הלידה של בת זוגך חפפה למשך 21 ימים לפחות עם שירותך במילואים או ל-30 הימים שאחריה?",description:"ובנוסף, בת זוגך לא קיבלה פיצוי בגין אובדן הכנסה מקרן הסיוע",type:"radiogroup",choices:["כן","לא"],visibleIf:"{pregnantPartner} = 'כן'",benefits:{כן:["parentalLeave"],לא:[]}},{name:"hasCholdren",title:"האם יש לך ילדים?",type:"radiogroup",choices:["כן","לא"],benefits:{כן:["babysitter","summerCamp"],לא:[]}},{name:"household",title:"האם מימשת בעבר פיצוי בגין מענה שוטף לכלכלת הבית?",type:"radiogroup",choices:["כן","לא","לא בטוח.ה"],benefits:{כן:[],לא:["household"],"לא בטוח.ה":["household"]}},{name:"dogOwner",title:"האם יש לך כלב?",type:"radiogroup",choices:["כן","לא"],benefits:{כן:[],לא:["dogPension"]}},{name:"livingAbroad",title:'האם את.ה חי.ה בחו"ל ואינך מבוטח.ת בביטוח לאומי?',type:"radiogroup",choices:["כן","לא"],benefits:{כן:["livingAbroad"],לא:[]}},{name:"daysFromOctober7",title:"האם ביצעת מעל ל-120 ימי מילואים בצו 8 במערך הלוחם מאז 7.10.23?",type:"radiogroup",choices:["כן","לא"],benefits:{כן:["additionalEmotionalSupport"],לא:[]}},{name:"moving",title:"האם עברת דירה במהלך תקופתך בצו 8?",type:"radiogroup",choices:["כן","לא"],visibleIf:"{daysFromOctober7} = 'כן'",benefits:{כן:["movingRefund"],לא:[]}},{name:"damagedWhileAmKelavi",title:"האם ביתך נפגע או שפונית מביתך עקב מבצע 'עם כלביא' במהלך שירותך בצו 8?",type:"radiogroup",choices:["כן","לא"],benefits:{כן:["damagedWhileAmKelavi"],לא:[]}}]};function EI(){const r=new wt(SI);r.clearInvisibleValues="onHidden",r.applyTheme(aR),r.showCompletedPage=!1,r.completeText="חישוב הטבות";const e=v.useCallback(t=>{const i=["personaEquipmentExpenses","other","sixRoad","vacationCancelation","vacationVouchers","bonusesExplanations"];return t.getAllQuestions().forEach(s=>{const n=t.data[s.name],o=s.benefits;o&&o[n]&&i.push(...o[n])}),i},[]);return r.onComplete.add(t=>{document.getElementById("root").innerHTML=`
        <h1>קובץ ההטבות שלך בדרך...</h1>
        <p id="showFullPDF">לחץ כאן על מנת לקרוא גם על כל שאר ההטבות</p>
    `,document.getElementById("showFullPDF")?.addEventListener("click",async()=>{const n=await fetch("../../public/assets/KerenHasiyuaBenefits.pdf").then(d=>d.arrayBuffer()),o=new Blob([n],{type:"application/pdf"}),h=URL.createObjectURL(o);window.open(h,"_blank")});const i=e(t),s=[];i.forEach(n=>{oR[n].forEach(h=>{const d=h-1;s.includes(d)||s.push(d)})}),s.sort((n,o)=>n-o),VI(s)}),an.jsx(Fw,{model:r})}function TI(){return an.jsxs(an.Fragment,{children:[an.jsxs("div",{className:"header",children:[an.jsx("img",{src:"/public/assets/99_Division.png"}),an.jsx("h1",{children:"הטבות קרן הסיוע למילואים - 2025"})]}),an.jsx("p",{children:"ענו על על השאלות מטה וקבלו את רשימת ההטבות אליהן אתם זכאים!"}),an.jsx(EI,{})]})}AV.createRoot(document.getElementById("root")).render(an.jsx(v.StrictMode,{children:an.jsx(TI,{})}));
